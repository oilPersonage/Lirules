/*! For license information please see 313.a681a871a7bfc01ac623.js.LICENSE.txt */
(self.webpackChunkLirules_front=self.webpackChunkLirules_front||[]).push([[313],{9307:(t,e,n)=>{"use strict";n.d(e,{Z:()=>N});var o=n(7294);function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=void 0!==n.g&&"[object global]"==={}.toString.call(n.g);function a(t,e){return 0===t.indexOf(e.toLowerCase())?t:"".concat(e.toLowerCase()).concat(t.substr(0,1).toUpperCase()).concat(t.substr(1))}function l(t){return Boolean(t&&1===t.nodeType&&"nodeName"in t&&t.ownerDocument&&t.ownerDocument.defaultView)}function u(t){return!isNaN(parseFloat(t))&&isFinite(t)&&Math.floor(t)==t}function c(t){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(t)}function d(t){return/^https:\/\/player\.vimeo\.com\/video\/\d+/.test(t)}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,n=t.url,o=e||n;if(!o)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(u(o))return"https://vimeo.com/".concat(o);if(c(o))return o.replace("http:","https:");if(e)throw new TypeError("“".concat(e,"” is not a valid video id."));throw new TypeError("“".concat(o,"” is not a vimeo.com url."))}var p=void 0!==Array.prototype.indexOf,f="undefined"!=typeof window&&void 0!==window.postMessage;if(!(s||p&&f))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var m="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};!function(t){if(!t.WeakMap){var e=Object.prototype.hasOwnProperty,n=Object.defineProperty&&function(){try{return 1===Object.defineProperty({},"x",{value:1}).x}catch(t){}}(),o=function(t,e,o){n?Object.defineProperty(t,e,{configurable:!0,writable:!0,value:o}):t[e]=o};t.WeakMap=function(){function t(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(o(this,"_id",i("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}function n(t,n){if(!r(t)||!e.call(t,"_id"))throw new TypeError(n+" method called on incompatible receiver "+typeof t)}function i(t){return t+"_"+s()+"."+s()}function s(){return Math.random().toString().substring(2)}return o(t.prototype,"delete",(function(t){if(n(this,"delete"),!r(t))return!1;var e=t[this._id];return!(!e||e[0]!==t||(delete t[this._id],0))})),o(t.prototype,"get",(function(t){if(n(this,"get"),r(t)){var e=t[this._id];return e&&e[0]===t?e[1]:void 0}})),o(t.prototype,"has",(function(t){if(n(this,"has"),!r(t))return!1;var e=t[this._id];return!(!e||e[0]!==t)})),o(t.prototype,"set",(function(t,e){if(n(this,"set"),!r(t))throw new TypeError("Invalid value used as weak map key");var i=t[this._id];return i&&i[0]===t?(i[1]=e,this):(o(t,this._id,[t,e]),this)})),o(t,"_polyfill",!0),t}()}function r(t){return Object(t)===t}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:m);var v,g,y=(v=function(t){var e,n,o;o=function(){var t,e,n,o=Object.prototype.toString,r="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},"x",{}),t=function(t,e,n,o){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:!1!==o})}}catch(e){t=function(t,e,n){return t[e]=n,t}}function i(t,o){n.add(t,o),e||(e=r(n.drain))}function s(t){var e,n=typeof t;return null==t||"object"!=n&&"function"!=n||(e=t.then),"function"==typeof e&&e}function a(){for(var t=0;t<this.chain.length;t++)l(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function l(t,e,n){var o,r;try{!1===e?n.reject(t.msg):(o=!0===e?t.msg:e.call(void 0,t.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(r=s(o))?r.call(o,n.resolve,n.reject):n.resolve(o)}catch(t){n.reject(t)}}function u(t){var e,n=this;if(!n.triggered){n.triggered=!0,n.def&&(n=n.def);try{(e=s(t))?i((function(){var o=new h(n);try{e.call(t,(function(){u.apply(o,arguments)}),(function(){c.apply(o,arguments)}))}catch(t){c.call(o,t)}})):(n.msg=t,n.state=1,n.chain.length>0&&i(a,n))}catch(t){c.call(new h(n),t)}}}function c(t){var e=this;e.triggered||(e.triggered=!0,e.def&&(e=e.def),e.msg=t,e.state=2,e.chain.length>0&&i(a,e))}function d(t,e,n,o){for(var r=0;r<e.length;r++)!function(r){t.resolve(e[r]).then((function(t){n(r,t)}),o)}(r)}function h(t){this.def=t,this.triggered=!1}function p(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function f(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var e=new p(this);this.then=function(t,n){var o={success:"function"!=typeof t||t,failure:"function"==typeof n&&n};return o.promise=new this.constructor((function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");o.resolve=t,o.reject=e})),e.chain.push(o),0!==e.state&&i(a,e),o.promise},this.catch=function(t){return this.then(void 0,t)};try{t.call(void 0,(function(t){u.call(e,t)}),(function(t){c.call(e,t)}))}catch(t){c.call(e,t)}}n=function(){var t,n,o;function r(t,e){this.fn=t,this.self=e,this.next=void 0}return{add:function(e,i){o=new r(e,i),n?n.next=o:t=o,n=o,o=void 0},drain:function(){var o=t;for(t=n=e=void 0;o;)o.fn.call(o.self),o=o.next}}}();var m=t({},"constructor",f,!1);return f.prototype=m,t(m,"__NPO__",0,!1),t(f,"resolve",(function(t){return t&&"object"==typeof t&&1===t.__NPO__?t:new this((function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");e(t)}))})),t(f,"reject",(function(t){return new this((function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");n(t)}))})),t(f,"all",(function(t){var e=this;return"[object Array]"!=o.call(t)?e.reject(TypeError("Not an array")):0===t.length?e.resolve([]):new e((function(n,o){if("function"!=typeof n||"function"!=typeof o)throw TypeError("Not a function");var r=t.length,i=Array(r),s=0;d(e,t,(function(t,e){i[t]=e,++s===r&&n(i)}),o)}))})),t(f,"race",(function(t){var e=this;return"[object Array]"!=o.call(t)?e.reject(TypeError("Not an array")):new e((function(n,o){if("function"!=typeof n||"function"!=typeof o)throw TypeError("Not a function");d(e,t,(function(t,e){n(e)}),o)}))})),f},(n=m)[e="Promise"]=n[e]||o(),t.exports&&(t.exports=n[e])},v(g={exports:{}}),g.exports),x=new WeakMap;function w(t,e,n){var o=x.get(t.element)||{};e in o||(o[e]=[]),o[e].push(n),x.set(t.element,o)}function b(t,e){return(x.get(t.element)||{})[e]||[]}function E(t,e,n){var o=x.get(t.element)||{};if(!o[e])return!0;if(!n)return o[e]=[],x.set(t.element,o),!0;var r=o[e].indexOf(n);return-1!==r&&o[e].splice(r,1),x.set(t.element,o),o[e]&&0===o[e].length}function P(t,e){var n=x.get(t);x.set(e,n),x.delete(t)}function T(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){return console.warn(t),{}}return t}function S(t,e,n){if(t.element.contentWindow&&t.element.contentWindow.postMessage){var o={method:e};void 0!==n&&(o.value=n);var r=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));r>=8&&r<10&&(o=JSON.stringify(o)),t.element.contentWindow.postMessage(o,t.origin)}}function k(t,e){var n,o=[];if((e=T(e)).event)"error"===e.event&&b(t,e.data.method).forEach((function(n){var o=new Error(e.data.message);o.name=e.data.name,n.reject(o),E(t,e.data.method,n)})),o=b(t,"event:".concat(e.event)),n=e.data;else if(e.method){var r=function(t,e){var n=b(t,e);if(n.length<1)return!1;var o=n.shift();return E(t,e,o),o}(t,e.method);r&&(o.push(r),n=e.value)}o.forEach((function(e){try{if("function"==typeof e)return void e.call(t,n);e.resolve(n)}catch(t){}}))}var A=["autopause","autoplay","background","byline","color","controls","dnt","height","id","interactive_params","keyboard","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function C(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return A.reduce((function(e,n){var o=t.getAttribute("data-vimeo-".concat(n));return(o||""===o)&&(e[n]=""===o?1:o),e}),e)}function V(t,e){var n=t.html;if(!e)throw new TypeError("An element must be provided");if(null!==e.getAttribute("data-vimeo-initialized"))return e.querySelector("iframe");var o=document.createElement("div");return o.innerHTML=n,e.appendChild(o.firstChild),e.setAttribute("data-vimeo-initialized","true"),e.querySelector("iframe")}function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(o,r){if(!c(t))throw new TypeError("“".concat(t,"” is not a vimeo.com url."));var i="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(t));for(var s in e)e.hasOwnProperty(s)&&(i+="&".concat(s,"=").concat(encodeURIComponent(e[s])));var a="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;a.open("GET",i,!0),a.onload=function(){if(404!==a.status)if(403!==a.status)try{var e=JSON.parse(a.responseText);if(403===e.domain_status_code)return V(e,n),void r(new Error("“".concat(t,"” is not embeddable.")));o(e)}catch(t){r(t)}else r(new Error("“".concat(t,"” is not embeddable.")));else r(new Error("“".concat(t,"” was not found.")))},a.onerror=function(){var t=a.status?" (".concat(a.status,")"):"";r(new Error("There was an error fetching the embed code from Vimeo".concat(t,".")))},a.send()}))}var R=new WeakMap,j=new WeakMap,O={},L=function(){function t(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r(this,t),window.jQuery&&e instanceof jQuery&&(e.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),e=e[0]),"undefined"!=typeof document&&"string"==typeof e&&(e=document.getElementById(e)),!l(e))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==e.nodeName){var i=e.querySelector("iframe");i&&(e=i)}if("IFRAME"===e.nodeName&&!c(e.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(R.has(e))return R.get(e);this._window=e.ownerDocument.defaultView,this.element=e,this.origin="*";var s=new y((function(t,r){if(n._onMessage=function(e){if(c(e.origin)&&n.element.contentWindow===e.source){"*"===n.origin&&(n.origin=e.origin);var o=T(e.data);if(o&&"error"===o.event&&o.data&&"ready"===o.data.method){var i=new Error(o.data.message);return i.name=o.data.name,void r(i)}var s=o&&"ready"===o.event,a=o&&"ping"===o.method;if(s||a)return n.element.setAttribute("data-ready","true"),void t();k(n,o)}},n._window.addEventListener("message",n._onMessage),"IFRAME"!==n.element.nodeName){var i=C(e,o);M(h(i),i,e).then((function(t){var o=V(t,e);return n.element=o,n._originalElement=e,P(e,o),R.set(n.element,n),t})).catch(r)}}));if(j.set(this,s),R.set(this.element,this),"IFRAME"===this.element.nodeName&&S(this,"ping"),O.isEnabled){var a=function(){return O.exit()};this.fullscreenchangeHandler=function(){O.isFullscreen?w(n,"event:exitFullscreen",a):E(n,"event:exitFullscreen",a),n.ready().then((function(){S(n,"fullscreenchange",O.isFullscreen)}))},O.on("fullscreenchange",this.fullscreenchangeHandler)}return this}var e,n;return e=t,n=[{key:"callMethod",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new y((function(o,r){return e.ready().then((function(){w(e,t,{resolve:o,reject:r}),S(e,t,n)})).catch(r)}))}},{key:"get",value:function(t){var e=this;return new y((function(n,o){return t=a(t,"get"),e.ready().then((function(){w(e,t,{resolve:n,reject:o}),S(e,t)})).catch(o)}))}},{key:"set",value:function(t,e){var n=this;return new y((function(o,r){if(t=a(t,"set"),null==e)throw new TypeError("There must be a value to set.");return n.ready().then((function(){w(n,t,{resolve:o,reject:r}),S(n,t,e)})).catch(r)}))}},{key:"on",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(!e)throw new TypeError("You must pass a callback function.");if("function"!=typeof e)throw new TypeError("The callback must be a function.");0===b(this,"event:".concat(t)).length&&this.callMethod("addEventListener",t).catch((function(){})),w(this,"event:".concat(t),e)}},{key:"off",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(e&&"function"!=typeof e)throw new TypeError("The callback must be a function.");E(this,"event:".concat(t),e)&&this.callMethod("removeEventListener",t).catch((function(t){}))}},{key:"loadVideo",value:function(t){return this.callMethod("loadVideo",t)}},{key:"ready",value:function(){var t=j.get(this)||new y((function(t,e){e(new Error("Unknown player. Probably unloaded."))}));return y.resolve(t)}},{key:"addCuePoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:t,data:e})}},{key:"removeCuePoint",value:function(t){return this.callMethod("removeCuePoint",t)}},{key:"enableTextTrack",value:function(t,e){if(!t)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:t,kind:e})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return O.isEnabled?O.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return O.isEnabled?O.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return O.isEnabled?y.resolve(O.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var t=this;return new y((function(e){if(j.delete(t),R.delete(t.element),t._originalElement&&(R.delete(t._originalElement),t._originalElement.removeAttribute("data-vimeo-initialized")),t.element&&"IFRAME"===t.element.nodeName&&t.element.parentNode&&(t.element.parentNode.parentNode&&t._originalElement&&t._originalElement!==t.element.parentNode?t.element.parentNode.parentNode.removeChild(t.element.parentNode):t.element.parentNode.removeChild(t.element)),t.element&&"DIV"===t.element.nodeName&&t.element.parentNode){t.element.removeAttribute("data-vimeo-initialized");var n=t.element.querySelector("iframe");n&&n.parentNode&&(n.parentNode.parentNode&&t._originalElement&&t._originalElement!==n.parentNode?n.parentNode.parentNode.removeChild(n.parentNode):n.parentNode.removeChild(n))}t._window.removeEventListener("message",t._onMessage),O.isEnabled&&O.off("fullscreenchange",t.fullscreenchangeHandler),e()}))}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(t){return this.set("autopause",t)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(t){return this.set("cameraProps",t)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(t){return this.set("color",t)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(t){return this.set("currentTime",t)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(t){return this.set("loop",t)}},{key:"setMuted",value:function(t){return this.set("muted",t)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(t){return this.set("playbackRate",t)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(t){return this.set("quality",t)}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(t){return this.set("volume",t)}}],n&&i(e.prototype,n),t}();s||(O=function(){var t=function(){for(var t,e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,o=e.length,r={};n<o;n++)if((t=e[n])&&t[1]in document){for(n=0;n<t.length;n++)r[e[0][n]]=t[n];return r}return!1}(),e={fullscreenchange:t.fullscreenchange,fullscreenerror:t.fullscreenerror},n={request:function(e){return new Promise((function(o,r){var i=function t(){n.off("fullscreenchange",t),o()};n.on("fullscreenchange",i);var s=(e=e||document.documentElement)[t.requestFullscreen]();s instanceof Promise&&s.then(i).catch(r)}))},exit:function(){return new Promise((function(e,o){if(n.isFullscreen){var r=function t(){n.off("fullscreenchange",t),e()};n.on("fullscreenchange",r);var i=document[t.exitFullscreen]();i instanceof Promise&&i.then(r).catch(o)}else e()}))},on:function(t,n){var o=e[t];o&&document.addEventListener(o,n)},off:function(t,n){var o=e[t];o&&document.removeEventListener(o,n)}};return Object.defineProperties(n,{isFullscreen:{get:function(){return Boolean(document[t.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[t.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[t.fullscreenEnabled])}}}),n}(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=[].slice.call(t.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),n=function(t){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(t))};e.forEach((function(t){try{if(null!==t.getAttribute("data-vimeo-defer"))return;var e=C(t);M(h(e),e,t).then((function(e){return V(e,t)})).catch(n)}catch(t){n(t)}}))}(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var e=function(e){if(c(e.origin)&&e.data&&"spacechange"===e.data.event)for(var n=t.querySelectorAll("iframe"),o=0;o<n.length;o++)if(n[o].contentWindow===e.source){n[o].parentElement.style.paddingBottom="".concat(e.data.data[0].bottom,"px");break}};window.addEventListener("message",e)}}(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoSeoMetadataAppended){window.VimeoSeoMetadataAppended=!0;var e=function(e){if(c(e.origin)){var n=T(e.data);if(n&&"ready"===n.event)for(var o=t.querySelectorAll("iframe"),r=0;r<o.length;r++){var i=o[r],s=i.contentWindow===e.source;d(i.src)&&s&&new L(i).callMethod("appendVideoMetadata",window.location.href)}}};window.addEventListener("message",e)}}());const F=L;function D(t,e){return D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},D(t,e)}var I={play:"onPlay",pause:"onPause",ended:"onEnd",timeupdate:"onTimeUpdate",progress:"onProgress",seeked:"onSeeked",texttrackchange:"onTextTrackChange",cuechange:"onCueChange",cuepoint:"onCuePoint",volumechange:"onVolumeChange",playbackratechange:"onPlaybackRateChange",error:"onError",loaded:"onLoaded"},N=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).refContainer=n.refContainer.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,D(e,n);var i=r.prototype;return i.componentDidMount=function(){this.createPlayer()},i.componentDidUpdate=function(t){var e=this,n=Object.keys(this.props).filter((function(n){return e.props[n]!==t[n]}));this.updateProps(n)},i.componentWillUnmount=function(){this.player.destroy()},i.getInitialOptions=function(){return{id:this.props.video,width:this.props.width,height:this.props.height,autopause:this.props.autopause,autoplay:this.props.autoplay,byline:this.props.showByline,color:this.props.color,controls:this.props.controls,loop:this.props.loop,portrait:this.props.showPortrait,title:this.props.showTitle,muted:this.props.muted,background:this.props.background,responsive:this.props.responsive,dnt:this.props.dnt,speed:this.props.speed,keyboard:this.props.keyboard,pip:this.props.pip,playsinline:this.props.playsInline,quality:this.props.quality,texttrack:this.props.textTrack,transparent:this.props.transparent}},i.updateProps=function(t){var e=this,n=this.player;t.forEach((function(t){var o=e.props[t];switch(t){case"autopause":n.setAutopause(o);break;case"color":n.setColor(o);break;case"loop":n.setLoop(o);break;case"volume":n.setVolume(o);break;case"paused":n.getPaused().then((function(t){return o&&!t?n.pause():!o&&t?n.play():null}));break;case"width":case"height":n.element[t]=o;break;case"video":if(o){var r=e.props.start,i=n.loadVideo(o);"number"==typeof r&&i.then((function(){n.setCurrentTime(r)}))}else n.unload()}}))},i.createPlayer=function(){var t=this,e=this.props,n=e.start,o=e.volume;this.player=new F(this.container,this.getInitialOptions()),Object.keys(I).forEach((function(e){var n=I[e];t.player.on(e,(function(e){var o=t.props[n];o&&o(e)}))}));var r=this.props,i=r.onError,s=r.onReady;this.player.ready().then((function(){s&&s(t.player)}),(function(t){if(!i)throw t;i(t)})),"number"==typeof n&&this.player.setCurrentTime(n),"number"==typeof o&&this.updateProps(["volume"])},i.refContainer=function(t){this.container=t},i.render=function(){var t=this.props,e=t.id,n=t.className,r=t.style;return o.createElement("div",{id:e,className:n,style:r,ref:this.refContainer})},r}(o.Component);N.defaultProps={autopause:!0,autoplay:!1,showByline:!0,controls:!0,loop:!1,showPortrait:!0,showTitle:!0,muted:!1,background:!1,responsive:!1,dnt:!1,speed:!1,keyboard:!0,pip:!1,playsInline:!0,transparent:!0}},4184:(t,e)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var i=typeof n;if("string"===i||"number"===i)t.push(n);else if(Array.isArray(n)){if(n.length){var s=r.apply(null,n);s&&t.push(s)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var a in n)o.call(n,a)&&n[a]&&t.push(a);else t.push(n.toString())}}return t.join(" ")}t.exports?(r.default=r,t.exports=r):void 0===(n=function(){return r}.apply(e,[]))||(t.exports=n)}()},1667:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},2705:(t,e,n)=>{var o=n(5639).Symbol;t.exports=o},4239:(t,e,n)=>{var o=n(2705),r=n(9607),i=n(2333),s=o?o.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?r(t):i(t)}},7561:(t,e,n)=>{var o=n(7990),r=/^\s+/;t.exports=function(t){return t?t.slice(0,o(t)+1).replace(r,""):t}},1957:(t,e,n)=>{var o="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=o},9607:(t,e,n)=>{var o=n(2705),r=Object.prototype,i=r.hasOwnProperty,s=r.toString,a=o?o.toStringTag:void 0;t.exports=function(t){var e=i.call(t,a),n=t[a];try{t[a]=void 0;var o=!0}catch(t){}var r=s.call(t);return o&&(e?t[a]=n:delete t[a]),r}},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5639:(t,e,n)=>{var o=n(1957),r="object"==typeof self&&self&&self.Object===Object&&self,i=o||r||Function("return this")();t.exports=i},7990:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},3279:(t,e,n)=>{var o=n(3218),r=n(7771),i=n(4841),s=Math.max,a=Math.min;t.exports=function(t,e,n){var l,u,c,d,h,p,f=0,m=!1,v=!1,g=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=l,o=u;return l=u=void 0,f=e,d=t.apply(o,n)}function x(t){return f=t,h=setTimeout(b,e),m?y(t):d}function w(t){var n=t-p;return void 0===p||n>=e||n<0||v&&t-f>=c}function b(){var t=r();if(w(t))return E(t);h=setTimeout(b,function(t){var n=e-(t-p);return v?a(n,c-(t-f)):n}(t))}function E(t){return h=void 0,g&&l?y(t):(l=u=void 0,d)}function P(){var t=r(),n=w(t);if(l=arguments,u=this,p=t,n){if(void 0===h)return x(p);if(v)return clearTimeout(h),h=setTimeout(b,e),y(p)}return void 0===h&&(h=setTimeout(b,e)),d}return e=i(e)||0,o(n)&&(m=!!n.leading,c=(v="maxWait"in n)?s(i(n.maxWait)||0,e):c,g="trailing"in n?!!n.trailing:g),P.cancel=function(){void 0!==h&&clearTimeout(h),f=0,l=p=u=h=void 0},P.flush=function(){return void 0===h?d:E(r())},P}},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},3448:(t,e,n)=>{var o=n(4239),r=n(7005);t.exports=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==o(t)}},7771:(t,e,n)=>{var o=n(5639);t.exports=function(){return o.Date.now()}},3493:(t,e,n)=>{var o=n(3279),r=n(3218);t.exports=function(t,e,n){var i=!0,s=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return r(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),o(t,e,{leading:i,maxWait:e,trailing:s})}},4841:(t,e,n)=>{var o=n(7561),r=n(3218),i=n(3448),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=o(t);var n=a.test(t);return n||l.test(t)?u(t.slice(2),n?2:8):s.test(t)?NaN:+t}},9520:(t,e,n)=>{"use strict";n.d(e,{M:()=>y});var o=n(7294),r=n(9304),i=n(2396),s=n(8868);function a(){const t=(0,o.useRef)(!1);return(0,s.L)((()=>(t.current=!0,()=>{t.current=!1})),[]),t}var l=n(240),u=n(6681);class c extends o.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const t=this.props.sizeRef.current;t.height=e.offsetHeight||0,t.width=e.offsetWidth||0,t.top=e.offsetTop,t.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:t,isPresent:e}){const n=(0,o.useId)(),r=(0,o.useRef)(null),i=(0,o.useRef)({width:0,height:0,top:0,left:0});return(0,o.useInsertionEffect)((()=>{const{width:t,height:o,top:s,left:a}=i.current;if(e||!r.current||!t||!o)return;r.current.dataset.motionPopId=n;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`\n          [data-motion-pop-id="${n}"] {\n            position: absolute !important;\n            width: ${t}px !important;\n            height: ${o}px !important;\n            top: ${s}px !important;\n            left: ${a}px !important;\n          }\n        `),()=>{document.head.removeChild(l)}}),[e]),o.createElement(c,{isPresent:e,childRef:r,sizeRef:i},o.cloneElement(t,{ref:r}))}const h=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a})=>{const c=(0,u.h)(p),h=(0,o.useId)(),f=(0,o.useMemo)((()=>({id:h,initial:e,isPresent:n,custom:i,onExitComplete:t=>{c.set(t,!0);for(const t of c.values())if(!t)return;r&&r()},register:t=>(c.set(t,!1),()=>c.delete(t))})),s?void 0:[n]);return(0,o.useMemo)((()=>{c.forEach(((t,e)=>c.set(e,!1)))}),[n]),o.useEffect((()=>{!n&&!c.size&&r&&r()}),[n]),"popLayout"===a&&(t=o.createElement(d,{isPresent:n},t)),o.createElement(l.O.Provider,{value:f},t)};function p(){return new Map}var f=n(5364),m=n(5411),v=n(6034);const g=t=>t.key||"",y=({children:t,custom:e,initial:n=!0,onExitComplete:l,exitBeforeEnter:u,presenceAffectsLayout:c=!0,mode:d="sync"})=>{u&&(d="wait",(0,v.O)(!1,"Replace exitBeforeEnter with mode='wait'"));let[p]=function(){const t=a(),[e,n]=(0,o.useState)(0),r=(0,o.useCallback)((()=>{t.current&&n(e+1)}),[e]);return[(0,o.useCallback)((()=>i.ZP.postRender(r)),[r]),e]}();const y=(0,o.useContext)(f.p).forceRender;y&&(p=y);const x=a(),w=function(t){const e=[];return o.Children.forEach(t,(t=>{(0,o.isValidElement)(t)&&e.push(t)})),e}(t);let b=w;const E=new Set,P=(0,o.useRef)(b),T=(0,o.useRef)(new Map).current,S=(0,o.useRef)(!0);if((0,s.L)((()=>{S.current=!1,function(t,e){t.forEach((t=>{const n=g(t);e.set(n,t)}))}(w,T),P.current=b})),(0,m.z)((()=>{S.current=!0,T.clear(),E.clear()})),S.current)return o.createElement(o.Fragment,null,b.map((t=>o.createElement(h,{key:g(t),isPresent:!0,initial:!!n&&void 0,presenceAffectsLayout:c,mode:d},t))));b=[...b];const k=P.current.map(g),A=w.map(g),C=k.length;for(let t=0;t<C;t++){const e=k[t];-1===A.indexOf(e)&&E.add(e)}return"wait"===d&&E.size&&(b=[]),E.forEach((t=>{if(-1!==A.indexOf(t))return;const n=T.get(t);if(!n)return;const r=k.indexOf(t);b.splice(r,0,o.createElement(h,{key:g(n),isPresent:!1,onExitComplete:()=>{T.delete(t),E.delete(t);const e=P.current.findIndex((e=>e.key===t));if(P.current.splice(e,1),!E.size){if(P.current=w,!1===x.current)return;p(),l&&l()}},custom:e,presenceAffectsLayout:c,mode:d},n))})),b=b.map((t=>{const e=t.key;return E.has(e)?t:o.createElement(h,{key:g(t),isPresent:!0,presenceAffectsLayout:c,mode:d},t)})),"production"!==r.O&&"wait"===d&&b.length>1&&console.warn('You\'re attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.'),o.createElement(o.Fragment,null,E.size?b:b.map((t=>(0,o.cloneElement)(t))))}},5364:(t,e,n)=>{"use strict";n.d(e,{p:()=>o});const o=(0,n(7294).createContext)({})},240:(t,e,n)=>{"use strict";n.d(e,{O:()=>o});const o=(0,n(7294).createContext)(null)},4104:(t,e,n)=>{"use strict";n.d(e,{E:()=>Wi});var o=n(7294);const r=(0,o.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),i=(0,o.createContext)({});var s=n(240),a=n(8868);const l=(0,o.createContext)({strict:!1});function u(t){return"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function c(t){return"string"==typeof t||Array.isArray(t)}function d(t){return"object"==typeof t&&"function"==typeof t.start}const h=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function p(t){return d(t.animate)||h.some((e=>c(t[e])))}function f(t){return Boolean(p(t)||t.variants)}function m(t){return Array.isArray(t)?t.join(" "):t}const v=t=>({isEnabled:e=>t.some((t=>!!e[t]))}),g={measureLayout:v(["layout","layoutId","drag"]),animation:v(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:v(["exit"]),drag:v(["drag","dragControls"]),focus:v(["whileFocus"]),hover:v(["whileHover","onHoverStart","onHoverEnd"]),tap:v(["whileTap","onTap","onTapStart","onTapCancel"]),pan:v(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:v(["whileInView","onViewportEnter","onViewportLeave"])};var y=n(1741),x=n(6681);const w={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let b=1;var E=n(5364);class P extends o.Component{getSnapshotBeforeUpdate(){const{visualElement:t,props:e}=this.props;return t&&t.setProps(e),null}componentDidUpdate(){}render(){return this.props.children}}const T=(0,o.createContext)({}),S=Symbol.for("motionComponentSymbol");function k({preloadedFeatures:t,createVisualElement:e,projectionNodeConstructor:n,useRender:d,useVisualState:h,Component:f}){t&&function(t){for(const e in t)"projectionNodeConstructor"===e?g.projectionNodeConstructor=t[e]:g[e].Component=t[e]}(t);const v=(0,o.forwardRef)((function(v,E){const S={...(0,o.useContext)(r),...v,layoutId:A(v)},{isStatic:k}=S;let C=null;const V=function(t){const{initial:e,animate:n}=function(t,e){if(p(t)){const{initial:e,animate:n}=t;return{initial:!1===e||c(e)?e:void 0,animate:c(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,(0,o.useContext)(i));return(0,o.useMemo)((()=>({initial:e,animate:n})),[m(e),m(n)])}(v),M=k?void 0:(0,x.h)((()=>{if(w.hasEverUpdated)return b++})),R=h(v,k);if(!k&&y.j){V.visualElement=function(t,e,n,u){const c=(0,o.useContext)(i).visualElement,d=(0,o.useContext)(l),h=(0,o.useContext)(s.O),p=(0,o.useContext)(r).reducedMotion,f=(0,o.useRef)(void 0);u=u||d.renderer,!f.current&&u&&(f.current=u(t,{visualState:e,parent:c,props:n,presenceId:h?h.id:void 0,blockInitialAnimation:!!h&&!1===h.initial,reducedMotionConfig:p}));const m=f.current;return(0,a.L)((()=>{m&&m.syncRender()})),(0,o.useEffect)((()=>{m&&m.animationState&&m.animationState.animateChanges()})),(0,a.L)((()=>()=>m&&m.notifyUnmount()),[]),m}(f,R,S,e);const u=(0,o.useContext)(l).strict,c=(0,o.useContext)(T);V.visualElement&&(C=V.visualElement.loadFeatures(v,u,t,M,n||g.projectionNodeConstructor,c))}return o.createElement(P,{visualElement:V.visualElement,props:S},C,o.createElement(i.Provider,{value:V},d(f,v,M,function(t,e,n){return(0,o.useCallback)((o=>{o&&t.mount&&t.mount(o),e&&(o?e.mount(o):e.unmount()),n&&("function"==typeof n?n(o):u(n)&&(n.current=o))}),[e])}(R,V.visualElement,E),R,k,V.visualElement)))}));return v[S]=f,v}function A({layoutId:t}){const e=(0,o.useContext)(E.p).id;return e&&void 0!==t?e+"-"+t:t}function C(t){function e(e,n={}){return k(t(e,n))}if("undefined"==typeof Proxy)return e;const n=new Map;return new Proxy(e,{get:(t,o)=>(n.has(o)||n.set(o,e(o)),n.get(o))})}const V=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function M(t){return"string"==typeof t&&!t.includes("-")&&!!(V.indexOf(t)>-1||/[A-Z]/.test(t))}const R={},j=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],O=new Set(j);function L(t,{layout:e,layoutId:n}){return O.has(t)||t.startsWith("origin")||(e||void 0!==n)&&(!!R[t]||"opacity"===t)}const F=t=>void 0!==t&&!!t.getVelocity,D={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},I=(t,e)=>j.indexOf(t)-j.indexOf(e);function N(t){return t.startsWith("--")}const B=(t,e)=>e&&"number"==typeof t?e.transform(t):t,U=(t,e)=>n=>Math.max(Math.min(n,e),t),z=t=>t%1?Number(t.toFixed(5)):t,_=/(-)?([\d]*\.?[\d])+/g,W=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,$=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function q(t){return"string"==typeof t}const H=t=>({test:e=>q(e)&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),Y=H("deg"),X=H("%"),Z=H("px"),G=H("vh"),K=H("vw"),Q=Object.assign(Object.assign({},X),{parse:t=>X.parse(t)/100,transform:t=>X.transform(100*t)}),J={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},tt=Object.assign(Object.assign({},J),{transform:U(0,1)}),et=Object.assign(Object.assign({},J),{default:1}),nt={...J,transform:Math.round},ot={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,size:Z,top:Z,right:Z,bottom:Z,left:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,rotate:Y,rotateX:Y,rotateY:Y,rotateZ:Y,scale:et,scaleX:et,scaleY:et,scaleZ:et,skew:Y,skewX:Y,skewY:Y,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:tt,originX:Q,originY:Q,originZ:Z,zIndex:nt,fillOpacity:tt,strokeOpacity:tt,numOctaves:nt};function rt(t,e,n,o){const{style:r,vars:i,transform:s,transformKeys:a,transformOrigin:l}=t;a.length=0;let u=!1,c=!1,d=!0;for(const t in e){const n=e[t];if(N(t)){i[t]=n;continue}const o=ot[t],h=B(n,o);if(O.has(t)){if(u=!0,s[t]=h,a.push(t),!d)continue;n!==(o.default||0)&&(d=!1)}else t.startsWith("origin")?(c=!0,l[t]=h):r[t]=h}if(u||o?r.transform=function({transform:t,transformKeys:e},{enableHardwareAcceleration:n=!0,allowTransformNone:o=!0},r,i){let s="";e.sort(I);for(const n of e)s+=`${D[n]||n}(${t[n]}) `;return n&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):o&&r&&(s="none"),s}(t,n,d,o):!e.transform&&r.transform&&(r.transform="none"),c){const{originX:t="50%",originY:e="50%",originZ:n=0}=l;r.transformOrigin=`${t} ${e} ${n}`}}function it(t,e,n){for(const o in e)F(e[o])||L(o,n)||(t[o]=e[o])}function st(t,e,n){const r={},i=function(t,e,n){const r={};return it(r,t.style||{},t),Object.assign(r,function({transformTemplate:t},e,n){return(0,o.useMemo)((()=>{const o={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};return rt(o,e,{enableHardwareAcceleration:!n},t),Object.assign({},o.vars,o.style)}),[e])}(t,e,n)),t.transformValues?t.transformValues(r):r}(t,e,n);return t.drag&&!1!==t.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),r.style=i,r}const at=new Set(["initial","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll","whileInView","onViewportEnter","onViewportLeave","viewport","whileTap","onTap","onTapStart","onTapCancel","animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView","onPan","onPanStart","onPanSessionStart","onPanEnd"]);function lt(t){return at.has(t)}let ut=t=>!lt(t);try{(ct=require("@emotion/is-prop-valid").default)&&(ut=t=>t.startsWith("on")?!lt(t):ct(t))}catch(t){}var ct;function dt(t,e,n){return"string"==typeof t?t:Z.transform(e+n*t)}const ht={offset:"stroke-dashoffset",array:"stroke-dasharray"},pt={offset:"strokeDashoffset",array:"strokeDasharray"};function ft(t,{attrX:e,attrY:n,originX:o,originY:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},u,c){rt(t,l,u,c),t.attrs=t.style,t.style={};const{attrs:d,style:h,dimensions:p}=t;d.transform&&(p&&(h.transform=d.transform),delete d.transform),p&&(void 0!==o||void 0!==r||h.transform)&&(h.transformOrigin=function(t,e,n){return`${dt(e,t.x,t.width)} ${dt(n,t.y,t.height)}`}(p,void 0!==o?o:.5,void 0!==r?r:.5)),void 0!==e&&(d.x=e),void 0!==n&&(d.y=n),void 0!==i&&function(t,e,n=1,o=0,r=!0){t.pathLength=1;const i=r?ht:pt;t[i.offset]=Z.transform(-o);const s=Z.transform(e),a=Z.transform(n);t[i.array]=`${s} ${a}`}(d,i,s,a,!1)}function mt(t,e){const n=(0,o.useMemo)((()=>{const n={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{},attrs:{}};return ft(n,e,{enableHardwareAcceleration:!1},t.transformTemplate),{...n.attrs,style:{...n.style}}}),[e]);if(t.style){const e={};it(e,t.style,t),n.style={...e,...n.style}}return n}function vt(t=!1){return(e,n,r,i,{latestValues:s},a)=>{const l=(M(e)?mt:st)(n,s,a),u=function(t,e,n){const o={};for(const r in t)(ut(r)||!0===n&&lt(r)||!e&&!lt(r)||t.draggable&&r.startsWith("onDrag"))&&(o[r]=t[r]);return o}(n,"string"==typeof e,t),c={...u,...l,ref:i};return r&&(c["data-projection-id"]=r),(0,o.createElement)(e,c)}}const gt=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function yt(t,{style:e,vars:n},o,r){Object.assign(t.style,e,r&&r.getProjectionStyles(o));for(const e in n)t.style.setProperty(e,n[e])}const xt=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function wt(t,e,n,o){yt(t,e,void 0,o);for(const n in e.attrs)t.setAttribute(xt.has(n)?n:gt(n),e.attrs[n])}function bt(t){const{style:e}=t,n={};for(const o in e)(F(e[o])||L(o,t))&&(n[o]=e[o]);return n}function Et(t){const e=bt(t);for(const n in t)F(t[n])&&(e["x"===n||"y"===n?"attr"+n.toUpperCase():n]=t[n]);return e}function Pt(t,e,n,o={},r={}){return"function"==typeof e&&(e=e(void 0!==n?n:t.custom,o,r)),"string"==typeof e&&(e=t.variants&&t.variants[e]),"function"==typeof e&&(e=e(void 0!==n?n:t.custom,o,r)),e}const Tt=t=>Array.isArray(t),St=t=>Tt(t)?t[t.length-1]||0:t;function kt(t){const e=F(t)?t.get():t;return n=e,Boolean(n&&"object"==typeof n&&n.mix&&n.toValue)?e.toValue():e;var n}const At=t=>(e,n)=>{const r=(0,o.useContext)(i),a=(0,o.useContext)(s.O),l=()=>function({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},o,r,i){const s={latestValues:Ct(o,r,i,t),renderState:e()};return n&&(s.mount=t=>n(o,t,s)),s}(t,e,r,a);return n?l():(0,x.h)(l)};function Ct(t,e,n,o){const r={},i=o(t);for(const t in i)r[t]=kt(i[t]);let{initial:s,animate:a}=t;const l=p(t),u=f(t);e&&u&&!l&&!1!==t.inherit&&(void 0===s&&(s=e.initial),void 0===a&&(a=e.animate));let c=!!n&&!1===n.initial;c=c||!1===s;const h=c?a:s;return h&&"boolean"!=typeof h&&!d(h)&&(Array.isArray(h)?h:[h]).forEach((e=>{const n=Pt(t,e);if(!n)return;const{transitionEnd:o,transition:i,...s}=n;for(const t in s){let e=s[t];Array.isArray(e)&&(e=e[c?e.length-1:0]),null!==e&&(r[t]=e)}for(const t in o)r[t]=o[t]})),r}const Vt={useVisualState:At({scrapeMotionValuesFromProps:Et,createRenderState:()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{},attrs:{}}),onMount:(t,e,{renderState:n,latestValues:o})=>{try{n.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(t){n.dimensions={x:0,y:0,width:0,height:0}}ft(n,o,{enableHardwareAcceleration:!1},t.transformTemplate),wt(e,n)}})},Mt={useVisualState:At({scrapeMotionValuesFromProps:bt,createRenderState:()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}})})};var Rt;function jt(t,e,n,o={passive:!0}){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n)}function Ot(t,e,n,r){(0,o.useEffect)((()=>{const o=t.current;if(n&&o)return jt(o,e,n,r)}),[t,e,n,r])}function Lt(t){return"undefined"!=typeof PointerEvent&&t instanceof PointerEvent?!("mouse"!==t.pointerType):t instanceof MouseEvent}function Ft(t){return!!t.touches}!function(t){t.Animate="animate",t.Hover="whileHover",t.Tap="whileTap",t.Drag="whileDrag",t.Focus="whileFocus",t.InView="whileInView",t.Exit="exit"}(Rt||(Rt={}));const Dt={pageX:0,pageY:0};function It(t,e="page"){const n=t.touches[0]||t.changedTouches[0]||Dt;return{x:n[e+"X"],y:n[e+"Y"]}}function Nt(t,e="page"){return{x:t[e+"X"],y:t[e+"Y"]}}function Bt(t,e="page"){return{point:Ft(t)?It(t,e):Nt(t,e)}}const Ut=(t,e=!1)=>{const n=e=>t(e,Bt(e));return e?(o=n,t=>{const e=t instanceof MouseEvent;(!e||e&&0===t.button)&&o(t)}):n;var o},zt={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},_t={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Wt(t){return y.j&&null===window.onpointerdown?t:y.j&&null===window.ontouchstart?_t[t]:y.j&&null===window.onmousedown?zt[t]:t}function $t(t,e,n,o){return jt(t,Wt(e),Ut(n,"pointerdown"===e),o)}function qt(t,e,n,o){return Ot(t,Wt(e),n&&Ut(n,"pointerdown"===e),o)}function Ht(t){let e=null;return()=>null===e&&(e=t,()=>{e=null})}const Yt=Ht("dragHorizontal"),Xt=Ht("dragVertical");function Zt(t){let e=!1;if("y"===t)e=Xt();else if("x"===t)e=Yt();else{const t=Yt(),n=Xt();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function Gt(){const t=Zt(!0);return!t||(t(),!1)}function Kt(t,e,n){return(o,r)=>{Lt(o)&&!Gt()&&(t.animationState&&t.animationState.setActive(Rt.Hover,e),n&&n(o,r))}}const Qt=(t,e)=>!!e&&(t===e||Qt(t,e.parentElement));var Jt=n(5411);const te=(t,e)=>n=>e(t(n)),ee=(...t)=>t.reduce(te);var ne=n(9304),oe=n(6034);const re=new WeakMap,ie=new WeakMap,se=t=>{const e=re.get(t.target);e&&e(t)},ae=t=>{t.forEach(se)};const le={some:0,all:1};function ue(t,e,n,{root:r,margin:i,amount:s="some",once:a}){(0,o.useEffect)((()=>{if(!t)return;const o={root:null==r?void 0:r.current,rootMargin:i,threshold:"number"==typeof s?s:le[s]};return function(t,e,n){const o=function({root:t,...e}){const n=t||document;ie.has(n)||ie.set(n,{});const o=ie.get(n),r=JSON.stringify(e);return o[r]||(o[r]=new IntersectionObserver(ae,{root:t,...e})),o[r]}(e);return re.set(t,n),o.observe(t),()=>{re.delete(t),o.unobserve(t)}}(n.getInstance(),o,(t=>{const{isIntersecting:o}=t;if(e.isInView===o)return;if(e.isInView=o,a&&!o&&e.hasEnteredView)return;o&&(e.hasEnteredView=!0),n.animationState&&n.animationState.setActive(Rt.InView,o);const r=n.getProps(),i=o?r.onViewportEnter:r.onViewportLeave;i&&i(t)}))}),[t,r,i,s])}function ce(t,e,n,{fallback:r=!0}){(0,o.useEffect)((()=>{t&&r&&("production"!==ne.O&&(0,oe.O)(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame((()=>{e.hasEnteredView=!0;const{onViewportEnter:t}=n.getProps();t&&t(null),n.animationState&&n.animationState.setActive(Rt.InView,!0)})))}),[t])}const de=t=>e=>(t(e),null),he={inView:de((function({visualElement:t,whileInView:e,onViewportEnter:n,onViewportLeave:r,viewport:i={}}){const s=(0,o.useRef)({hasEnteredView:!1,isInView:!1});let a=Boolean(e||n||r);i.once&&s.current.hasEnteredView&&(a=!1),("undefined"==typeof IntersectionObserver?ce:ue)(a,s.current,t,i)})),tap:de((function({onTap:t,onTapStart:e,onTapCancel:n,whileTap:r,visualElement:i}){const s=t||e||n||r,a=(0,o.useRef)(!1),l=(0,o.useRef)(null),u={passive:!(e||t||n||f)};function c(){l.current&&l.current(),l.current=null}function d(){return c(),a.current=!1,i.animationState&&i.animationState.setActive(Rt.Tap,!1),!Gt()}function h(e,o){d()&&(Qt(i.getInstance(),e.target)?t&&t(e,o):n&&n(e,o))}function p(t,e){d()&&n&&n(t,e)}function f(t,n){c(),a.current||(a.current=!0,l.current=ee($t(window,"pointerup",h,u),$t(window,"pointercancel",p,u)),i.animationState&&i.animationState.setActive(Rt.Tap,!0),e&&e(t,n))}qt(i,"pointerdown",s?f:void 0,u),(0,Jt.z)(c)})),focus:de((function({whileFocus:t,visualElement:e}){const{animationState:n}=e;Ot(e,"focus",t?()=>{n&&n.setActive(Rt.Focus,!0)}:void 0),Ot(e,"blur",t?()=>{n&&n.setActive(Rt.Focus,!1)}:void 0)})),hover:de((function({onHoverStart:t,onHoverEnd:e,whileHover:n,visualElement:o}){qt(o,"pointerenter",t||n?Kt(o,!0,t):void 0,{passive:!t}),qt(o,"pointerleave",e||n?Kt(o,!1,e):void 0,{passive:!e})}))};function pe(){const t=(0,o.useContext)(s.O);if(null===t)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=(0,o.useId)();return(0,o.useEffect)((()=>r(i)),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function fe(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let o=0;o<n;o++)if(e[o]!==t[o])return!1;return!0}function me(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}Object.create,Object.create;const ve=(t,e,n)=>Math.min(Math.max(n,t),e);function ge(t,e){return t*Math.sqrt(1-e*e)}const ye=["duration","bounce"],xe=["stiffness","damping","mass"];function we(t,e){return e.some((e=>void 0!==t[e]))}function be(t){var{from:e=0,to:n=1,restSpeed:o=2,restDelta:r}=t,i=me(t,["from","to","restSpeed","restDelta"]);const s={done:!1,value:e};let{stiffness:a,damping:l,mass:u,velocity:c,duration:d,isResolvedFromDuration:h}=function(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!we(t,xe)&&we(t,ye)){const n=function({duration:t=800,bounce:e=.25,velocity:n=0,mass:o=1}){let r,i,s=1-e;s=ve(.05,1,s),t=ve(.01,10,t/1e3),s<1?(r=e=>{const o=e*s,r=o*t;return.001-(o-n)/ge(e,s)*Math.exp(-r)},i=e=>{const o=e*s*t,i=o*n+n,a=Math.pow(s,2)*Math.pow(e,2)*t,l=Math.exp(-o),u=ge(Math.pow(e,2),s);return(.001-r(e)>0?-1:1)*((i-a)*l)/u}):(r=e=>Math.exp(-e*t)*((e-n)*t+1)-.001,i=e=>Math.exp(-e*t)*(t*t*(n-e)));const a=function(t,e,n){let o=n;for(let n=1;n<12;n++)o-=t(o)/e(o);return o}(r,i,5/t);if(t*=1e3,isNaN(a))return{stiffness:100,damping:10,duration:t};{const e=Math.pow(a,2)*o;return{stiffness:e,damping:2*s*Math.sqrt(o*e),duration:t}}}(t);e=Object.assign(Object.assign(Object.assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}(i),p=Ee,f=Ee;function m(){const t=c?-c/1e3:0,o=n-e,i=l/(2*Math.sqrt(a*u)),s=Math.sqrt(a/u)/1e3;if(void 0===r&&(r=Math.min(Math.abs(n-e)/100,.4)),i<1){const e=ge(s,i);p=r=>{const a=Math.exp(-i*s*r);return n-a*((t+i*s*o)/e*Math.sin(e*r)+o*Math.cos(e*r))},f=n=>{const r=Math.exp(-i*s*n);return i*s*r*(Math.sin(e*n)*(t+i*s*o)/e+o*Math.cos(e*n))-r*(Math.cos(e*n)*(t+i*s*o)-e*o*Math.sin(e*n))}}else if(1===i)p=e=>n-Math.exp(-s*e)*(o+(t+s*o)*e);else{const e=s*Math.sqrt(i*i-1);p=r=>{const a=Math.exp(-i*s*r),l=Math.min(e*r,300);return n-a*((t+i*s*o)*Math.sinh(l)+e*o*Math.cosh(l))/e}}}return m(),{next:t=>{const e=p(t);if(h)s.done=t>=d;else{const i=1e3*f(t),a=Math.abs(i)<=o,l=Math.abs(n-e)<=r;s.done=a&&l}return s.value=s.done?n:e,s},flipTarget:()=>{c=-c,[e,n]=[n,e],m()}}}be.needsInterpolation=(t,e)=>"string"==typeof t||"string"==typeof e;const Ee=t=>0,Pe=(t,e,n)=>{const o=e-t;return 0===o?1:(n-t)/o},Te=(t,e,n)=>-n*t+n*e+t,Se=(t,e)=>n=>Boolean(q(n)&&$.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),ke=(t,e,n)=>o=>{if(!q(o))return o;const[r,i,s,a]=o.match(_);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},Ae=U(0,255),Ce=Object.assign(Object.assign({},J),{transform:t=>Math.round(Ae(t))}),Ve={test:Se("rgb","red"),parse:ke("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:o=1})=>"rgba("+Ce.transform(t)+", "+Ce.transform(e)+", "+Ce.transform(n)+", "+z(tt.transform(o))+")"},Me={test:Se("#"),parse:function(t){let e="",n="",o="",r="";return t.length>5?(e=t.substr(1,2),n=t.substr(3,2),o=t.substr(5,2),r=t.substr(7,2)):(e=t.substr(1,1),n=t.substr(2,1),o=t.substr(3,1),r=t.substr(4,1),e+=e,n+=n,o+=o,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(o,16),alpha:r?parseInt(r,16)/255:1}},transform:Ve.transform},Re={test:Se("hsl","hue"),parse:ke("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:o=1})=>"hsla("+Math.round(t)+", "+X.transform(z(e))+", "+X.transform(z(n))+", "+z(tt.transform(o))+")"};function je(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Oe({hue:t,saturation:e,lightness:n,alpha:o}){t/=360,n/=100;let r=0,i=0,s=0;if(e/=100){const o=n<.5?n*(1+e):n+e-n*e,a=2*n-o;r=je(a,o,t+1/3),i=je(a,o,t),s=je(a,o,t-1/3)}else r=i=s=n;return{red:Math.round(255*r),green:Math.round(255*i),blue:Math.round(255*s),alpha:o}}const Le=(t,e,n)=>{const o=t*t,r=e*e;return Math.sqrt(Math.max(0,n*(r-o)+o))},Fe=[Me,Ve,Re],De=t=>Fe.find((e=>e.test(t))),Ie=t=>`'${t}' is not an animatable color. Use the equivalent color code instead.`,Ne=(t,e)=>{let n=De(t),o=De(e);Ie(t),Ie(e);let r=n.parse(t),i=o.parse(e);n===Re&&(r=Oe(r),n=Ve),o===Re&&(i=Oe(i),o=Ve);const s=Object.assign({},r);return t=>{for(const e in s)"alpha"!==e&&(s[e]=Le(r[e],i[e],t));return s.alpha=Te(r.alpha,i.alpha,t),n.transform(s)}},Be={test:t=>Ve.test(t)||Me.test(t)||Re.test(t),parse:t=>Ve.test(t)?Ve.parse(t):Re.test(t)?Re.parse(t):Me.parse(t),transform:t=>q(t)?t:t.hasOwnProperty("red")?Ve.transform(t):Re.transform(t)},Ue="${c}",ze="${n}";function _e(t){"number"==typeof t&&(t=`${t}`);const e=[];let n=0;const o=t.match(W);o&&(n=o.length,t=t.replace(W,Ue),e.push(...o.map(Be.parse)));const r=t.match(_);return r&&(t=t.replace(_,ze),e.push(...r.map(J.parse))),{values:e,numColors:n,tokenised:t}}function We(t){return _e(t).values}function $e(t){const{values:e,numColors:n,tokenised:o}=_e(t),r=e.length;return t=>{let e=o;for(let o=0;o<r;o++)e=e.replace(o<n?Ue:ze,o<n?Be.transform(t[o]):z(t[o]));return e}}const qe=t=>"number"==typeof t?0:t,He={test:function(t){var e,n,o,r;return isNaN(t)&&q(t)&&(null!==(n=null===(e=t.match(_))||void 0===e?void 0:e.length)&&void 0!==n?n:0)+(null!==(r=null===(o=t.match(W))||void 0===o?void 0:o.length)&&void 0!==r?r:0)>0},parse:We,createTransformer:$e,getAnimatableNone:function(t){const e=We(t);return $e(t)(e.map(qe))}},Ye=t=>"number"==typeof t;function Xe(t,e){return Ye(t)?n=>Te(t,e,n):Be.test(t)?Ne(t,e):Qe(t,e)}const Ze=(t,e)=>{const n=[...t],o=n.length,r=t.map(((t,n)=>Xe(t,e[n])));return t=>{for(let e=0;e<o;e++)n[e]=r[e](t);return n}},Ge=(t,e)=>{const n=Object.assign(Object.assign({},t),e),o={};for(const r in n)void 0!==t[r]&&void 0!==e[r]&&(o[r]=Xe(t[r],e[r]));return t=>{for(const e in o)n[e]=o[e](t);return n}};function Ke(t){const e=He.parse(t),n=e.length;let o=0,r=0,i=0;for(let t=0;t<n;t++)o||"number"==typeof e[t]?o++:void 0!==e[t].hue?i++:r++;return{parsed:e,numNumbers:o,numRGB:r,numHSL:i}}const Qe=(t,e)=>{const n=He.createTransformer(e),o=Ke(t),r=Ke(e);return o.numHSL===r.numHSL&&o.numRGB===r.numRGB&&o.numNumbers>=r.numNumbers?ee(Ze(o.parsed,r.parsed),n):n=>`${n>0?e:t}`},Je=(t,e)=>n=>Te(t,e,n);function tn(t,e,{clamp:n=!0,ease:o,mixer:r}={}){const i=t.length;e.length,!o||!Array.isArray(o)||o.length,t[0]>t[i-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const s=function(t,e,n){const o=[],r=n||("number"==typeof(i=t[0])?Je:"string"==typeof i?Be.test(i)?Ne:Qe:Array.isArray(i)?Ze:"object"==typeof i?Ge:void 0);var i;const s=t.length-1;for(let n=0;n<s;n++){let i=r(t[n],t[n+1]);if(e){const t=Array.isArray(e)?e[n]:e;i=ee(t,i)}o.push(i)}return o}(e,o,r),a=2===i?function([t,e],[n]){return o=>n(Pe(t,e,o))}(t,s):function(t,e){const n=t.length,o=n-1;return r=>{let i=0,s=!1;if(r<=t[0]?s=!0:r>=t[o]&&(i=o-1,s=!0),!s){let e=1;for(;e<n&&!(t[e]>r||e===o);e++);i=e-1}const a=Pe(t[i],t[i+1],r);return e[i](a)}}(t,s);return n?e=>a(ve(t[0],t[i-1],e)):a}const en=t=>e=>1-t(1-e),nn=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,on=t=>e=>e*e*((t+1)*e-t),rn=t=>t,sn=(2,t=>Math.pow(t,2));const an=en(sn),ln=nn(sn),un=t=>1-Math.sin(Math.acos(t)),cn=en(un),dn=nn(cn),hn=on(1.525),pn=en(hn),fn=nn(hn),mn=(t=>{const e=on(1.525);return t=>(t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))})(),vn=t=>{if(1===t||0===t)return t;const e=t*t;return t<.36363636363636365?7.5625*e:t<.7272727272727273?9.075*e-9.9*t+3.4:t<.9?12.066481994459833*e-19.63545706371191*t+8.898060941828255:10.8*t*t-20.52*t+10.72},gn=en(vn);function yn(t,e){return t.map((()=>e||ln)).splice(0,t.length-1)}function xn({from:t=0,to:e=1,ease:n,offset:o,duration:r=300}){const i={done:!1,value:t},s=Array.isArray(e)?e:[t,e],a=function(t,e){return t.map((t=>t*e))}(o&&o.length===s.length?o:function(t){const e=t.length;return t.map(((t,n)=>0!==n?n/(e-1):0))}(s),r);function l(){return tn(a,s,{ease:Array.isArray(n)?n:yn(s,n)})}let u=l();return{next:t=>(i.value=u(t),i.done=t>=r,i),flipTarget:()=>{s.reverse(),u=l()}}}const wn={keyframes:xn,spring:be,decay:function({velocity:t=0,from:e=0,power:n=.8,timeConstant:o=350,restDelta:r=.5,modifyTarget:i}){const s={done:!1,value:e};let a=n*t;const l=e+a,u=void 0===i?l:i(l);return u!==l&&(a=u-e),{next:t=>{const e=-a*Math.exp(-t/o);return s.done=!(e>r||e<-r),s.value=s.done?u:u+e,s},flipTarget:()=>{}}}};var bn=n(2396);function En(t,e,n=0){return t-e-n}const Pn=t=>{const e=({delta:e})=>t(e);return{start:()=>bn.ZP.update(e,!0),stop:()=>bn.qY.update(e)}};function Tn(t){var e,n,{from:o,autoplay:r=!0,driver:i=Pn,elapsed:s=0,repeat:a=0,repeatType:l="loop",repeatDelay:u=0,onPlay:c,onStop:d,onComplete:h,onRepeat:p,onUpdate:f}=t,m=me(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let v,g,y,{to:x}=m,w=0,b=m.duration,E=!1,P=!0;const T=function(t){if(Array.isArray(t.to))return xn;if(wn[t.type])return wn[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?xn:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?be:xn}(m);(null===(n=(e=T).needsInterpolation)||void 0===n?void 0:n.call(e,o,x))&&(y=tn([0,100],[o,x],{clamp:!1}),o=0,x=100);const S=T(Object.assign(Object.assign({},m),{from:o,to:x}));return r&&(null==c||c(),v=i((function(t){if(P||(t=-t),s+=t,!E){const t=S.next(Math.max(0,s));g=t.value,y&&(g=y(g)),E=P?t.done:s<=0}null==f||f(g),E&&(0===w&&(null!=b||(b=s)),w<a?function(t,e,n,o){return o?t>=e+n:t<=-n}(s,b,u,P)&&(w++,"reverse"===l?(P=w%2==0,s=function(t,e,n=0,o=!0){return o?En(e+-t,e,n):e-(t-e)+n}(s,b,u,P)):(s=En(s,b,u),"mirror"===l&&S.flipTarget()),E=!1,p&&p()):(v.stop(),h&&h()))})),v.start()),{stop:()=>{null==d||d(),v.stop()}}}function Sn(t,e){return e?t*(1e3/e):0}const kn=t=>1e3*t,An=(t,e)=>1-3*e+3*t,Cn=(t,e)=>3*e-6*t,Vn=t=>3*t,Mn=(t,e,n)=>((An(e,n)*t+Cn(e,n))*t+Vn(e))*t,Rn=(t,e,n)=>3*An(e,n)*t*t+2*Cn(e,n)*t+Vn(e),jn=.1;function On(t,e,n,o){if(t===e&&n===o)return rn;const r=new Float32Array(11);for(let e=0;e<11;++e)r[e]=Mn(e*jn,t,n);return i=>0===i||1===i?i:Mn(function(e){let o=0,i=1;for(;10!==i&&r[i]<=e;++i)o+=jn;--i;const s=o+(e-r[i])/(r[i+1]-r[i])*jn,a=Rn(s,t,n);return a>=.001?function(t,e,n,o){for(let r=0;r<8;++r){const r=Rn(e,n,o);if(0===r)return e;e-=(Mn(e,n,o)-t)/r}return e}(e,s,t,n):0===a?s:function(t,e,n,o,r){let i,s,a=0;do{s=e+(n-e)/2,i=Mn(s,o,r)-t,i>0?n=s:e=s}while(Math.abs(i)>1e-7&&++a<10);return s}(e,o,o+jn,t,n)}(i),e,o)}const Ln={linear:rn,easeIn:sn,easeInOut:ln,easeOut:an,circIn:un,circInOut:dn,circOut:cn,backIn:hn,backInOut:fn,backOut:pn,anticipate:mn,bounceIn:gn,bounceInOut:t=>t<.5?.5*(1-vn(1-2*t)):.5*vn(2*t-1)+.5,bounceOut:vn},Fn=t=>{if(Array.isArray(t)){t.length;const[e,n,o,r]=t;return On(e,n,o,r)}return"string"==typeof t?Ln[t]:t},Dn=(t,e)=>!("zIndex"===t||"number"!=typeof e&&!Array.isArray(e)&&("string"!=typeof e||!He.test(e)||e.startsWith("url("))),In=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),Nn=t=>({type:"spring",stiffness:550,damping:0===t?2*Math.sqrt(550):30,restSpeed:10}),Bn=()=>({type:"keyframes",ease:"linear",duration:.3}),Un=t=>({type:"keyframes",duration:.8,values:t}),zn={x:In,y:In,z:In,rotate:In,rotateX:In,rotateY:In,rotateZ:In,scaleX:Nn,scaleY:Nn,scale:Nn,opacity:Bn,backgroundColor:Bn,color:Bn,default:Nn},_n=(t,e)=>{let n;return n=Tt(e)?Un:zn[t]||zn.default,{to:e,...n(e)}},Wn=new Set(["brightness","contrast","saturate","opacity"]);function $n(t){let[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;const[o]=n.match(_)||[];if(!o)return t;const r=n.replace(o,"");let i=Wn.has(e)?1:0;return o!==n&&(i*=100),e+"("+i+r+")"}const qn=/([a-z-]*)\(.*?\)/g,Hn=Object.assign(Object.assign({},He),{getAnimatableNone:t=>{const e=t.match(qn);return e?e.map($n).join(" "):t}}),Yn={...ot,color:Be,backgroundColor:Be,outlineColor:Be,fill:Be,stroke:Be,borderColor:Be,borderTopColor:Be,borderRightColor:Be,borderBottomColor:Be,borderLeftColor:Be,filter:Hn,WebkitFilter:Hn},Xn=t=>Yn[t];function Zn(t,e){var n;let o=Xn(t);return o!==Hn&&(o=He),null===(n=o.getAnimatableNone)||void 0===n?void 0:n.call(o,e)}let Gn=!1;function Kn({ease:t,times:e,yoyo:n,flip:o,loop:r,...i}){const s={...i};return e&&(s.offset=e),i.duration&&(s.duration=kn(i.duration)),i.repeatDelay&&(s.repeatDelay=kn(i.repeatDelay)),t&&(s.ease=(t=>Array.isArray(t)&&"number"!=typeof t[0])(t)?t.map(Fn):Fn(t)),"tween"===i.type&&(s.type="keyframes"),(n||r||o)&&(Gn=!0,n?s.repeatType="reverse":r?s.repeatType="loop":o&&(s.repeatType="mirror"),s.repeat=r||n||o||i.repeat),"spring"!==i.type&&(s.type="keyframes"),s}function Qn(t,e,n){return Array.isArray(e.to)&&void 0===t.duration&&(t.duration=.8),function(t){Array.isArray(t.to)&&null===t.to[0]&&(t.to=[...t.to],t.to[0]=t.from)}(e),function({when:t,delay:e,delayChildren:n,staggerChildren:o,staggerDirection:r,repeat:i,repeatType:s,repeatDelay:a,from:l,...u}){return!!Object.keys(u).length}(t)||(t={...t,..._n(n,e.to)}),{...e,...Kn(t)}}function Jn(t){return 0===t||"string"==typeof t&&0===parseFloat(t)&&-1===t.indexOf(" ")}function to(t){return"number"==typeof t?0:Zn("",t)}function eo(t,e){return t[e]||t.default||t}function no(t,e,n,o={}){return e.start((r=>{let i,s;const a=function(t,e,n,o,r){const i=eo(o,t)||{};let s=void 0!==i.from?i.from:e.get();const a=Dn(t,n);return"none"===s&&a&&"string"==typeof n?s=Zn(t,n):Jn(s)&&"string"==typeof n?s=to(n):!Array.isArray(n)&&Jn(n)&&"string"==typeof s&&(n=to(s)),Dn(t,s)&&a&&!1!==i.type?function(){const o={from:s,to:n,velocity:e.getVelocity(),onComplete:r,onUpdate:t=>e.set(t)};return"inertia"===i.type||"decay"===i.type?function({from:t=0,velocity:e=0,min:n,max:o,power:r=.8,timeConstant:i=750,bounceStiffness:s=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:u,driver:c,onUpdate:d,onComplete:h,onStop:p}){let f;function m(t){return void 0!==n&&t<n||void 0!==o&&t>o}function v(t){return void 0===n?o:void 0===o||Math.abs(n-t)<Math.abs(o-t)?n:o}function g(t){null==f||f.stop(),f=Tn(Object.assign(Object.assign({},t),{driver:c,onUpdate:e=>{var n;null==d||d(e),null===(n=t.onUpdate)||void 0===n||n.call(t,e)},onComplete:h,onStop:p}))}function y(t){g(Object.assign({type:"spring",stiffness:s,damping:a,restDelta:l},t))}if(m(t))y({from:t,velocity:e,to:v(t)});else{let o=r*e+t;void 0!==u&&(o=u(o));const s=v(o),a=s===n?-1:1;let c,d;const h=t=>{c=d,d=t,e=Sn(t-c,(0,bn.$B)().delta),(1===a&&t>s||-1===a&&t<s)&&y({from:t,to:s,velocity:e})};g({type:"decay",from:t,velocity:e,timeConstant:i,power:r,restDelta:l,modifyTarget:u,onUpdate:m(o)?h:void 0})}return{stop:()=>null==f?void 0:f.stop()}}({...o,...i}):Tn({...Qn(i,o,t),onUpdate:t=>{o.onUpdate(t),i.onUpdate&&i.onUpdate(t)},onComplete:()=>{o.onComplete(),i.onComplete&&i.onComplete()}})}:function(){const t=St(n);return e.set(t),r(),i.onUpdate&&i.onUpdate(t),i.onComplete&&i.onComplete(),{stop:()=>{}}}}(t,e,n,o,r),l=function(t,e){var n,o;return null!==(o=null!==(n=(eo(t,e)||{}).delay)&&void 0!==n?n:t.delay)&&void 0!==o?o:0}(o,t),u=()=>s=a();return l?i=window.setTimeout(u,kn(l)):u(),()=>{clearTimeout(i),s&&s.stop()}}))}function oo(t,e){-1===t.indexOf(e)&&t.push(e)}function ro(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class io{constructor(){this.subscriptions=[]}add(t){return oo(this.subscriptions,t),()=>ro(this.subscriptions,t)}notify(t,e,n){const o=this.subscriptions.length;if(o)if(1===o)this.subscriptions[0](t,e,n);else for(let r=0;r<o;r++){const o=this.subscriptions[r];o&&o(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}class so{constructor(t){var e;this.version="7.3.2",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new io,this.velocityUpdateSubscribers=new io,this.renderSubscribers=new io,this.canTrackVelocity=!1,this.updateAndNotify=(t,e=!0)=>{this.prev=this.current,this.current=t;const{delta:n,timestamp:o}=(0,bn.$B)();this.lastUpdated!==o&&(this.timeDelta=n,this.lastUpdated=o,bn.ZP.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.updateSubscribers.notify(this.current),this.velocityUpdateSubscribers.getSize()&&this.velocityUpdateSubscribers.notify(this.getVelocity()),e&&this.renderSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>bn.ZP.postRender(this.velocityCheck),this.velocityCheck=({timestamp:t})=>{t!==this.lastUpdated&&(this.prev=this.current,this.velocityUpdateSubscribers.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=(e=this.current,!isNaN(parseFloat(e)))}onChange(t){return this.updateSubscribers.add(t)}clearListeners(){this.updateSubscribers.clear()}onRenderRequest(t){return t(this.get()),this.renderSubscribers.add(t)}attach(t){this.passiveEffect=t}set(t,e=!0){e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Sn(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise((e=>{this.hasAnimated=!0,this.stopAnimation=t(e)})).then((()=>this.clearAnimation()))}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}function ao(t){return new so(t)}const lo=t=>e=>e.test(t),uo=[J,Z,X,Y,K,G,{test:t=>"auto"===t,parse:t=>t}],co=t=>uo.find(lo(t)),ho=[...uo,Be,He],po=t=>ho.find(lo(t));function fo(t,e,n){const o=t.getProps();return Pt(o,e,void 0!==n?n:o.custom,function(t){const e={};return t.forEachValue(((t,n)=>e[n]=t.get())),e}(t),function(t){const e={};return t.forEachValue(((t,n)=>e[n]=t.getVelocity())),e}(t))}function mo(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ao(n))}function vo(t,e){if(e)return(e[t]||e.default||e).from}function go(t){return Boolean(F(t)&&t.add)}function yo(t,e,n={}){var o;const r=fo(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>xo(t,r,n):()=>Promise.resolve(),a=(null===(o=t.variantChildren)||void 0===o?void 0:o.size)?(o=0)=>{const{delayChildren:r=0,staggerChildren:s,staggerDirection:a}=i;return function(t,e,n=0,o=0,r=1,i){const s=[],a=(t.variantChildren.size-1)*o,l=1===r?(t=0)=>t*o:(t=0)=>a-t*o;return Array.from(t.variantChildren).sort(wo).forEach(((t,o)=>{s.push(yo(t,e,{...i,delay:n+l(o)}).then((()=>t.notifyAnimationComplete(e))))})),Promise.all(s)}(t,e,r+o,s,a,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[t,e]="beforeChildren"===l?[s,a]:[a,s];return t().then(e)}return Promise.all([s(),a(n.delay)])}function xo(t,e,{delay:n=0,transitionOverride:o,type:r}={}){var i;let{transition:s=t.getDefaultTransition(),transitionEnd:a,...l}=t.makeTargetAnimatable(e);const u=t.getValue("willChange");o&&(s=o);const c=[],d=r&&(null===(i=t.animationState)||void 0===i?void 0:i.getState()[r]);for(const e in l){const o=t.getValue(e),r=l[e];if(!o||void 0===r||d&&bo(d,e))continue;let i={delay:n,...s};t.shouldReduceMotion&&O.has(e)&&(i={...i,type:!1,delay:0});let a=no(e,o,r,i);go(u)&&(u.add(e),a=a.then((()=>u.remove(e)))),c.push(a)}return Promise.all(c).then((()=>{a&&function(t,e){const n=fo(t,e);let{transitionEnd:o={},transition:r={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...o};for(const e in i)mo(t,e,St(i[e]))}(t,a)}))}function wo(t,e){return t.sortNodePosition(e)}function bo({protectedKeys:t,needsAnimating:e},n){const o=t.hasOwnProperty(n)&&!0!==e[n];return e[n]=!1,o}const Eo=[Rt.Animate,Rt.InView,Rt.Focus,Rt.Hover,Rt.Tap,Rt.Drag,Rt.Exit],Po=[...Eo].reverse(),To=Eo.length;function So(t){let e=function(t){return e=>Promise.all(e.map((({animation:e,options:n})=>function(t,e,n={}){let o;if(t.notifyAnimationStart(e),Array.isArray(e)){const r=e.map((e=>yo(t,e,n)));o=Promise.all(r)}else if("string"==typeof e)o=yo(t,e,n);else{const r="function"==typeof e?fo(t,e,n.custom):e;o=xo(t,r,n)}return o.then((()=>t.notifyAnimationComplete(e)))}(t,e,n))))}(t);const n={[Rt.Animate]:ko(!0),[Rt.InView]:ko(),[Rt.Hover]:ko(),[Rt.Tap]:ko(),[Rt.Drag]:ko(),[Rt.Focus]:ko(),[Rt.Exit]:ko()};let o=!0;const r=(e,n)=>{const o=fo(t,n);if(o){const{transition:t,transitionEnd:n,...r}=o;e={...e,...r,...n}}return e};function i(i,s){var a;const l=t.getProps(),u=t.getVariantContext(!0)||{},h=[],p=new Set;let f={},m=1/0;for(let e=0;e<To;e++){const y=Po[e],x=n[y],w=null!==(a=l[y])&&void 0!==a?a:u[y],b=c(w),E=y===s?x.isActive:null;!1===E&&(m=e);let P=w===u[y]&&w!==l[y]&&b;if(P&&o&&t.manuallyAnimateOnMount&&(P=!1),x.protectedKeys={...f},!x.isActive&&null===E||!w&&!x.prevProp||d(w)||"boolean"==typeof w)continue;const T=(v=x.prevProp,"string"==typeof(g=w)?g!==v:!!Array.isArray(g)&&!fe(g,v));let S=T||y===s&&x.isActive&&!P&&b||e>m&&b;const k=Array.isArray(w)?w:[w];let A=k.reduce(r,{});!1===E&&(A={});const{prevResolvedValues:C={}}=x,V={...C,...A},M=t=>{S=!0,p.delete(t),x.needsAnimating[t]=!0};for(const t in V){const e=A[t],n=C[t];f.hasOwnProperty(t)||(e!==n?Tt(e)&&Tt(n)?!fe(e,n)||T?M(t):x.protectedKeys[t]=!0:void 0!==e?M(t):p.add(t):void 0!==e&&p.has(t)?M(t):x.protectedKeys[t]=!0)}x.prevProp=w,x.prevResolvedValues=A,x.isActive&&(f={...f,...A}),o&&t.blockInitialAnimation&&(S=!1),S&&!P&&h.push(...k.map((t=>({animation:t,options:{type:y,...i}}))))}var v,g;if(p.size){const e={};p.forEach((n=>{const o=t.getBaseTarget(n);void 0!==o&&(e[n]=o)})),h.push({animation:e})}let y=Boolean(h.length);return o&&!1===l.initial&&!t.manuallyAnimateOnMount&&(y=!1),o=!1,y?e(h):Promise.resolve()}return{animateChanges:i,setActive:function(e,o,r){var s;if(n[e].isActive===o)return Promise.resolve();null===(s=t.variantChildren)||void 0===s||s.forEach((t=>{var n;return null===(n=t.animationState)||void 0===n?void 0:n.setActive(e,o)})),n[e].isActive=o;const a=i(r,e);for(const t in n)n[t].protectedKeys={};return a},setAnimateFunction:function(n){e=n(t)},getState:()=>n}}function ko(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}const Ao={animation:de((({visualElement:t,animate:e})=>{t.animationState||(t.animationState=So(t)),d(e)&&(0,o.useEffect)((()=>e.subscribe(t)),[e])})),exit:de((t=>{const{custom:e,visualElement:n}=t,[r,i]=pe(),a=(0,o.useContext)(s.O);(0,o.useEffect)((()=>{n.isPresent=r;const t=n.animationState&&n.animationState.setActive(Rt.Exit,!r,{custom:a&&a.custom||e});t&&!r&&t.then(i)}),[r])}))},Co=t=>t.hasOwnProperty("x")&&t.hasOwnProperty("y"),Vo=t=>Co(t)&&t.hasOwnProperty("z"),Mo=(t,e)=>Math.abs(t-e);function Ro(t,e){if(Ye(t)&&Ye(e))return Mo(t,e);if(Co(t)&&Co(e)){const n=Mo(t.x,e.x),o=Mo(t.y,e.y),r=Vo(t)&&Vo(e)?Mo(t.z,e.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(o,2)+Math.pow(r,2))}}class jo{constructor(t,e,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const t=Fo(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,n=Ro(t.offset,{x:0,y:0})>=3;if(!e&&!n)return;const{point:o}=t,{timestamp:r}=(0,bn.$B)();this.history.push({...o,timestamp:r});const{onStart:i,onMove:s}=this.handlers;e||(i&&i(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=Oo(e,this.transformPagePoint),Lt(t)&&0===t.buttons?this.handlePointerUp(t,e):bn.ZP.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();const{onEnd:n,onSessionEnd:o}=this.handlers,r=Fo(Oo(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,r),o&&o(t,r)},Ft(t)&&t.touches.length>1)return;this.handlers=e,this.transformPagePoint=n;const o=Oo(Bt(t),this.transformPagePoint),{point:r}=o,{timestamp:i}=(0,bn.$B)();this.history=[{...r,timestamp:i}];const{onSessionStart:s}=e;s&&s(t,Fo(o,this.history)),this.removeListeners=ee($t(window,"pointermove",this.handlePointerMove),$t(window,"pointerup",this.handlePointerUp),$t(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),bn.qY.update(this.updatePoint)}}function Oo(t,e){return e?{point:e(t.point)}:t}function Lo(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Fo({point:t},e){return{point:t,delta:Lo(t,Io(e)),offset:Lo(t,Do(e)),velocity:No(e,.1)}}function Do(t){return t[0]}function Io(t){return t[t.length-1]}function No(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,o=null;const r=Io(t);for(;n>=0&&(o=t[n],!(r.timestamp-o.timestamp>kn(e)));)n--;if(!o)return{x:0,y:0};const i=(r.timestamp-o.timestamp)/1e3;if(0===i)return{x:0,y:0};const s={x:(r.x-o.x)/i,y:(r.y-o.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Bo(t){return t.max-t.min}function Uo(t,e=0,n=.01){return Ro(t,e)<n}function zo(t,e,n,o=.5){t.origin=o,t.originPoint=Te(e.min,e.max,t.origin),t.scale=Bo(n)/Bo(e),(Uo(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Te(n.min,n.max,t.origin)-t.originPoint,(Uo(t.translate)||isNaN(t.translate))&&(t.translate=0)}function _o(t,e,n,o){zo(t.x,e.x,n.x,null==o?void 0:o.originX),zo(t.y,e.y,n.y,null==o?void 0:o.originY)}function Wo(t,e,n){t.min=n.min+e.min,t.max=t.min+Bo(e)}function $o(t,e,n){t.min=e.min-n.min,t.max=t.min+Bo(e)}function qo(t,e,n){$o(t.x,e.x,n.x),$o(t.y,e.y,n.y)}function Ho(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function Yo(t,e){let n=e.min-t.min,o=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,o]=[o,n]),{min:n,max:o}}const Xo=.35;function Zo(t,e,n){return{min:Go(t,e),max:Go(t,n)}}function Go(t,e){var n;return"number"==typeof t?t:null!==(n=t[e])&&void 0!==n?n:0}function Ko(t){return[t("x"),t("y")]}function Qo({top:t,left:e,right:n,bottom:o}){return{x:{min:e,max:n},y:{min:t,max:o}}}function Jo(t){return void 0===t||1===t}function tr({scale:t,scaleX:e,scaleY:n}){return!Jo(t)||!Jo(e)||!Jo(n)}function er(t){return tr(t)||nr(t.x)||nr(t.y)||t.z||t.rotate||t.rotateX||t.rotateY}function nr(t){return t&&"0%"!==t}function or(t,e,n){return n+e*(t-n)}function rr(t,e,n,o,r){return void 0!==r&&(t=or(t,r,o)),or(t,n,o)+e}function ir(t,e=0,n=1,o,r){t.min=rr(t.min,e,n,o,r),t.max=rr(t.max,e,n,o,r)}function sr(t,{x:e,y:n}){ir(t.x,e.translate,e.scale,e.originPoint),ir(t.y,n.translate,n.scale,n.originPoint)}function ar(t,e){t.min=t.min+e,t.max=t.max+e}function lr(t,e,[n,o,r]){const i=void 0!==e[r]?e[r]:.5,s=Te(t.min,t.max,i);ir(t,e[n],e[o],s,e.scale)}const ur=["x","scaleX","originX"],cr=["y","scaleY","originY"];function dr(t,e){lr(t.x,e,ur),lr(t.y,e,cr)}function hr(t,e){return Qo(function(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),o=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:o.y,right:o.x}}(t.getBoundingClientRect(),e))}const pr=new WeakMap;class fr{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=t}start(t,{snapToCursor:e=!1}={}){!1!==this.visualElement.isPresent&&(this.panSession=new jo(t,{onSessionStart:t=>{this.stopAnimation(),e&&this.snapToCursor(Bt(t,"page").point)},onStart:(t,e)=>{var n;const{drag:o,dragPropagation:r,onDragStart:i}=this.getProps();(!o||r||(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Zt(o),this.openGlobalLock))&&(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ko((t=>{var e,n;let o=this.getAxisMotionValue(t).get()||0;if(X.test(o)){const r=null===(n=null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout)||void 0===n?void 0:n.actual[t];r&&(o=Bo(r)*(parseFloat(o)/100))}this.originPoint[t]=o})),null==i||i(t,e),null===(n=this.visualElement.animationState)||void 0===n||n.setActive(Rt.Drag,!0))},onMove:(t,e)=>{const{dragPropagation:n,dragDirectionLock:o,onDirectionLock:r,onDrag:i}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:s}=e;if(o&&null===this.currentDirection)return this.currentDirection=function(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}(s),void(null!==this.currentDirection&&(null==r||r(this.currentDirection)));this.updateAxis("x",e.point,s),this.updateAxis("y",e.point,s),this.visualElement.syncRender(),null==i||i(t,e)},onSessionEnd:(t,e)=>this.stop(t,e)},{transformPagePoint:this.visualElement.getTransformPagePoint()}))}stop(t,e){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:o}=e;this.startAnimation(o);const{onDragEnd:r}=this.getProps();null==r||r(t,e)}cancel(){var t,e;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(t=this.panSession)||void 0===t||t.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(e=this.visualElement.animationState)||void 0===e||e.setActive(Rt.Drag,!1)}updateAxis(t,e,n){const{drag:o}=this.getProps();if(!n||!mr(t,o,this.currentDirection))return;const r=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=function(t,{min:e,max:n},o){return void 0!==e&&t<e?t=o?Te(e,t,o.min):Math.max(t,e):void 0!==n&&t>n&&(t=o?Te(n,t,o.max):Math.min(t,n)),t}(i,this.constraints[t],this.elastic[t])),r.set(i)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),{layout:n}=this.visualElement.projection||{},o=this.constraints;t&&u(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!n)&&function(t,{top:e,left:n,bottom:o,right:r}){return{x:Ho(t.x,n,r),y:Ho(t.y,e,o)}}(n.actual,t),this.elastic=function(t=Xo){return!1===t?t=0:!0===t&&(t=Xo),{x:Zo(t,"left","right"),y:Zo(t,"top","bottom")}}(e),o!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ko((t=>{this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){const n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(n.actual[t],this.constraints[t]))}))}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!u(t))return!1;const n=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const r=function(t,e,n){const o=hr(t,n),{scroll:r}=e;return r&&(ar(o.x,r.x),ar(o.y,r.y)),o}(n,o.root,this.visualElement.getTransformPagePoint());let i=function(t,e){return{x:Yo(t.x,e.x),y:Yo(t.y,e.y)}}(o.layout.actual,r);if(e){const t=e(function({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}(i));this.hasMutatedConstraints=!!t,t&&(i=Qo(t))}return i}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:o,dragTransition:r,dragSnapToOrigin:i,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{},l=Ko((s=>{var l;if(!mr(s,e,this.currentDirection))return;let u=null!==(l=null==a?void 0:a[s])&&void 0!==l?l:{};i&&(u={min:0,max:0});const c=o?200:1e6,d=o?40:1e7,h={type:"inertia",velocity:n?t[s]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...r,...u};return this.startAxisValueAnimation(s,h)}));return Promise.all(l).then(s)}startAxisValueAnimation(t,e){return no(t,this.getAxisMotionValue(t),0,e)}stopAnimation(){Ko((t=>this.getAxisMotionValue(t).stop()))}getAxisMotionValue(t){var e,n;const o="_drag"+t.toUpperCase();return this.visualElement.getProps()[o]||this.visualElement.getValue(t,null!==(n=null===(e=this.visualElement.getProps().initial)||void 0===e?void 0:e[t])&&void 0!==n?n:0)}snapToCursor(t){Ko((e=>{const{drag:n}=this.getProps();if(!mr(e,n,this.currentDirection))return;const{projection:o}=this.visualElement,r=this.getAxisMotionValue(e);if(o&&o.layout){const{min:n,max:i}=o.layout.actual[e];r.set(t[e]-Te(n,i,.5))}}))}scalePositionWithinConstraints(){var t;const{drag:e,dragConstraints:n}=this.getProps(),{projection:o}=this.visualElement;if(!u(n)||!o||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ko((t=>{const e=this.getAxisMotionValue(t);if(e){const n=e.get();r[t]=function(t,e){let n=.5;const o=Bo(t),r=Bo(e);return r>o?n=Pe(e.min,e.max-o,t.min):o>r&&(n=Pe(t.min,t.max-r,e.min)),ve(0,1,n)}({min:n,max:n},this.constraints[t])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.getInstance().style.transform=i?i({},""):"none",null===(t=o.root)||void 0===t||t.updateScroll(),o.updateLayout(),this.resolveConstraints(),Ko((t=>{if(!mr(t,e,null))return;const n=this.getAxisMotionValue(t),{min:o,max:i}=this.constraints[t];n.set(Te(o,i,r[t]))}))}addListeners(){var t;pr.set(this.visualElement,this);const e=$t(this.visualElement.getInstance(),"pointerdown",(t=>{const{drag:e,dragListener:n=!0}=this.getProps();e&&n&&this.start(t)})),n=()=>{const{dragConstraints:t}=this.getProps();u(t)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,r=o.addEventListener("measure",n);o&&!o.layout&&(null===(t=o.root)||void 0===t||t.updateScroll(),o.updateLayout()),n();const i=jt(window,"resize",(()=>this.scalePositionWithinConstraints())),s=o.addEventListener("didUpdate",(({delta:t,hasLayoutChanged:e})=>{this.isDragging&&e&&(Ko((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.syncRender())}));return()=>{i(),e(),r(),null==s||s()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:o=!1,dragConstraints:r=!1,dragElastic:i=Xo,dragMomentum:s=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:o,dragConstraints:r,dragElastic:i,dragMomentum:s}}}function mr(t,e,n){return!(!0!==e&&e!==t||null!==n&&n!==t)}const vr={pan:de((function({onPan:t,onPanStart:e,onPanEnd:n,onPanSessionStart:i,visualElement:s}){const a=t||e||n||i,l=(0,o.useRef)(null),{transformPagePoint:u}=(0,o.useContext)(r),c={onSessionStart:i,onStart:e,onMove:t,onEnd:(t,e)=>{l.current=null,n&&n(t,e)}};(0,o.useEffect)((()=>{null!==l.current&&l.current.updateHandlers(c)})),qt(s,"pointerdown",a&&function(t){l.current=new jo(t,c,{transformPagePoint:u})}),(0,Jt.z)((()=>l.current&&l.current.end()))})),drag:de((function(t){const{dragControls:e,visualElement:n}=t,r=(0,x.h)((()=>new fr(n)));(0,o.useEffect)((()=>e&&e.subscribe(r)),[r,e]),(0,o.useEffect)((()=>r.addListeners()),[r])}))},gr={current:null},yr={current:!1},xr=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"],wr=Object.keys(g),br=wr.length,Er=({treeType:t="",build:e,getBaseTarget:n,makeTargetAnimatable:r,measureViewportBox:i,render:s,readValueFromInstance:a,removeValueFromRenderState:l,sortNodePosition:d,scrapeMotionValuesFromProps:h})=>({parent:m,props:v,presenceId:x,blockInitialAnimation:w,visualState:b,reducedMotionConfig:E},P={})=>{let T=!1;const{latestValues:S,renderState:k}=b;let A;const C=function(){const t=xr.map((()=>new io)),e={},n={clearAllListeners:()=>t.forEach((t=>t.clear())),updatePropListeners:t=>{xr.forEach((o=>{var r;const i="on"+o,s=t[i];null===(r=e[o])||void 0===r||r.call(e),s&&(e[o]=n[i](s))}))}};return t.forEach(((t,e)=>{n["on"+xr[e]]=e=>t.add(e),n["notify"+xr[e]]=(...e)=>t.notify(...e)})),n}(),V=new Map,M=new Map;let R={};const j={...S};let O;function L(){A&&T&&(D(),s(A,k,v.style,W.projection))}function D(){e(W,k,S,P,v)}function I(){C.notifyUpdate(S)}function N(t,e){const n=e.onChange((e=>{S[t]=e,v.onUpdate&&bn.ZP.update(I,!1,!0)})),o=e.onRenderRequest(W.scheduleRender);M.set(t,(()=>{n(),o()}))}const{willChange:B,...U}=h(v);for(const t in U){const e=U[t];void 0!==S[t]&&F(e)&&(e.set(S[t],!1),go(B)&&B.add(t))}const z=p(v),_=f(v),W={treeType:t,current:null,depth:m?m.depth+1:0,parent:m,children:new Set,presenceId:x,shouldReduceMotion:null,variantChildren:_?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null==m?void 0:m.isMounted()),blockInitialAnimation:w,isMounted:()=>Boolean(A),mount(t){T=!0,A=W.current=t,W.projection&&W.projection.mount(t),_&&m&&!z&&(O=null==m?void 0:m.addVariantChild(W)),V.forEach(((t,e)=>N(e,t))),yr.current||function(){if(yr.current=!0,y.j)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>gr.current=t.matches;t.addListener(e),e()}else gr.current=!1}(),W.shouldReduceMotion="never"!==E&&("always"===E||gr.current),null==m||m.children.add(W),W.setProps(v)},unmount(){var t;null===(t=W.projection)||void 0===t||t.unmount(),bn.qY.update(I),bn.qY.render(L),M.forEach((t=>t())),null==O||O(),null==m||m.children.delete(W),C.clearAllListeners(),A=void 0,T=!1},loadFeatures(t,e,n,r,i,s){const a=[];ne.O;for(let e=0;e<br;e++){const n=wr[e],{isEnabled:r,Component:i}=g[n];r(v)&&i&&a.push((0,o.createElement)(i,{key:n,...t,visualElement:W}))}if(!W.projection&&i){W.projection=new i(r,W.getLatestValues(),m&&m.projection);const{layoutId:e,layout:n,drag:o,dragConstraints:a,layoutScroll:l}=t;W.projection.setOptions({layoutId:e,layout:n,alwaysMeasureLayout:Boolean(o)||a&&u(a),visualElement:W,scheduleRender:()=>W.scheduleRender(),animationType:"string"==typeof n?n:"both",initialPromotionConfig:s,layoutScroll:l})}return a},addVariantChild(t){var e;const n=W.getClosestVariantNode();if(n)return null===(e=n.variantChildren)||void 0===e||e.add(t),()=>n.variantChildren.delete(t)},sortNodePosition:e=>d&&t===e.treeType?d(W.getInstance(),e.getInstance()):0,getClosestVariantNode:()=>_?W:null==m?void 0:m.getClosestVariantNode(),getLayoutId:()=>v.layoutId,getInstance:()=>A,getStaticValue:t=>S[t],setStaticValue:(t,e)=>S[t]=e,getLatestValues:()=>S,setVisibility(t){W.isVisible!==t&&(W.isVisible=t,W.scheduleRender())},makeTargetAnimatable:(t,e=!0)=>r(W,t,v,e),measureViewportBox:()=>i(A,v),addValue(t,e){W.hasValue(t)&&W.removeValue(t),V.set(t,e),S[t]=e.get(),N(t,e)},removeValue(t){var e;V.delete(t),null===(e=M.get(t))||void 0===e||e(),M.delete(t),delete S[t],l(t,k)},hasValue:t=>V.has(t),getValue(t,e){let n=V.get(t);return void 0===n&&void 0!==e&&(n=ao(e),W.addValue(t,n)),n},forEachValue:t=>V.forEach(t),readValue:t=>void 0!==S[t]?S[t]:a(A,t,P),setBaseTarget(t,e){j[t]=e},getBaseTarget(t){if(n){const e=n(v,t);if(void 0!==e&&!F(e))return e}return j[t]},...C,build:()=>(D(),k),scheduleRender(){bn.ZP.render(L,!1,!0)},syncRender:L,setProps(t){(t.transformTemplate||v.transformTemplate)&&W.scheduleRender(),v=t,C.updatePropListeners(t),R=function(t,e,n){const{willChange:o}=e;for(const r in e){const i=e[r],s=n[r];if(F(i))t.addValue(r,i),go(o)&&o.add(r);else if(F(s))t.addValue(r,ao(i)),go(o)&&o.remove(r);else if(s!==i)if(t.hasValue(r)){const e=t.getValue(r);!e.hasAnimated&&e.set(i)}else{const e=t.getStaticValue(r);t.addValue(r,ao(void 0!==e?e:i))}}for(const o in n)void 0===e[o]&&t.removeValue(o);return e}(W,h(v),R)},getProps:()=>v,getVariant:t=>{var e;return null===(e=v.variants)||void 0===e?void 0:e[t]},getDefaultTransition:()=>v.transition,getTransformPagePoint:()=>v.transformPagePoint,getVariantContext(t=!1){if(t)return null==m?void 0:m.getVariantContext();if(!z){const t=(null==m?void 0:m.getVariantContext())||{};return void 0!==v.initial&&(t.initial=v.initial),t}const e={};for(let t=0;t<Tr;t++){const n=Pr[t],o=v[n];(c(o)||!1===o)&&(e[n]=o)}return e}};return W},Pr=["initial",...Eo],Tr=Pr.length;function Sr(t){return"string"==typeof t&&t.startsWith("var(--")}const kr=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Ar(t,e,n=1){const[o,r]=function(t){const e=kr.exec(t);if(!e)return[,];const[,n,o]=e;return[n,o]}(t);if(!o)return;const i=window.getComputedStyle(e).getPropertyValue(o);return i?i.trim():Sr(r)?Ar(r,e,n+1):r}const Cr=new Set(["width","height","top","left","right","bottom","x","y"]),Vr=t=>Cr.has(t),Mr=(t,e)=>{t.set(e,!1),t.set(e)},Rr=t=>t===J||t===Z;var jr;!function(t){t.width="width",t.height="height",t.left="left",t.right="right",t.top="top",t.bottom="bottom"}(jr||(jr={}));const Or=(t,e)=>parseFloat(t.split(", ")[e]),Lr=(t,e)=>(n,{transform:o})=>{if("none"===o||!o)return 0;const r=o.match(/^matrix3d\((.+)\)$/);if(r)return Or(r[1],e);{const e=o.match(/^matrix\((.+)\)$/);return e?Or(e[1],t):0}},Fr=new Set(["x","y","z"]),Dr=j.filter((t=>!Fr.has(t))),Ir={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Lr(4,13),y:Lr(5,14)};function Nr(t,e,n,o){return(t=>Object.keys(t).some(Vr))(e)?((t,e,n={},o={})=>{e={...e},o={...o};const r=Object.keys(e).filter(Vr);let i=[],s=!1;const a=[];if(r.forEach((r=>{const l=t.getValue(r);if(!t.hasValue(r))return;let u=n[r],c=co(u);const d=e[r];let h;if(Tt(d)){const t=d.length,e=null===d[0]?1:0;u=d[e],c=co(u);for(let n=e;n<t;n++)h?co(d[n]):(h=co(d[n]),h===c||Rr(c)&&Rr(h))}else h=co(d);if(c!==h)if(Rr(c)&&Rr(h)){const t=l.get();"string"==typeof t&&l.set(parseFloat(t)),"string"==typeof d?e[r]=parseFloat(d):Array.isArray(d)&&h===Z&&(e[r]=d.map(parseFloat))}else(null==c?void 0:c.transform)&&(null==h?void 0:h.transform)&&(0===u||0===d)?0===u?l.set(h.transform(u)):e[r]=c.transform(d):(s||(i=function(t){const e=[];return Dr.forEach((n=>{const o=t.getValue(n);void 0!==o&&(e.push([n,o.get()]),o.set(n.startsWith("scale")?1:0))})),e.length&&t.syncRender(),e}(t),s=!0),a.push(r),o[r]=void 0!==o[r]?o[r]:e[r],Mr(l,d))})),a.length){const n=a.indexOf("height")>=0?window.pageYOffset:null,r=((t,e,n)=>{const o=e.measureViewportBox(),r=e.getInstance(),i=getComputedStyle(r),{display:s}=i,a={};"none"===s&&e.setStaticValue("display",t.display||"block"),n.forEach((t=>{a[t]=Ir[t](o,i)})),e.syncRender();const l=e.measureViewportBox();return n.forEach((n=>{const o=e.getValue(n);Mr(o,a[n]),t[n]=Ir[n](l,i)})),t})(e,t,a);return i.length&&i.forEach((([e,n])=>{t.getValue(e).set(n)})),t.syncRender(),y.j&&null!==n&&window.scrollTo({top:n}),{target:r,transitionEnd:o}}return{target:e,transitionEnd:o}})(t,e,n,o):{target:e,transitionEnd:o}}const Br={treeType:"dom",readValueFromInstance(t,e){if(O.has(e)){const t=Xn(e);return t&&t.default||0}{const o=(n=t,window.getComputedStyle(n)),r=(N(e)?o.getPropertyValue(e):o[e])||0;return"string"==typeof r?r.trim():r}var n},sortNodePosition:(t,e)=>2&t.compareDocumentPosition(e)?1:-1,getBaseTarget(t,e){var n;return null===(n=t.style)||void 0===n?void 0:n[e]},measureViewportBox:(t,{transformPagePoint:e})=>hr(t,e),resetTransform(t,e,n){const{transformTemplate:o}=n;e.style.transform=o?o({},""):"none",t.scheduleRender()},restoreTransform(t,e){t.style.transform=e.style.transform},removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]},makeTargetAnimatable(t,{transition:e,transitionEnd:n,...o},{transformValues:r},i=!0){let s=function(t,e,n){var o;const r={};for(const i in t){const t=vo(i,e);r[i]=void 0!==t?t:null===(o=n.getValue(i))||void 0===o?void 0:o.get()}return r}(o,e||{},t);if(r&&(n&&(n=r(n)),o&&(o=r(o)),s&&(s=r(s))),i){!function(t,e,n){var o,r;const i=Object.keys(e).filter((e=>!t.hasValue(e))),s=i.length;if(s)for(let a=0;a<s;a++){const s=i[a],l=e[s];let u=null;Array.isArray(l)&&(u=l[0]),null===u&&(u=null!==(r=null!==(o=n[s])&&void 0!==o?o:t.readValue(s))&&void 0!==r?r:e[s]),null!=u&&("string"==typeof u&&(/^\-?\d*\.?\d+$/.test(u)||/^0[^.\s]+$/.test(u))?u=parseFloat(u):!po(u)&&He.test(l)&&(u=Zn(s,l)),t.addValue(s,ao(u)),void 0===n[s]&&(n[s]=u),t.setBaseTarget(s,u))}}(t,o,s);const e=((t,e,n,o)=>{const r=function(t,{...e},n){const o=t.getInstance();if(!(o instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.forEachValue((t=>{const e=t.get();if(!Sr(e))return;const n=Ar(e,o);n&&t.set(n)}));for(const t in e){const r=e[t];if(!Sr(r))continue;const i=Ar(r,o);i&&(e[t]=i,n&&void 0===n[t]&&(n[t]=r))}return{target:e,transitionEnd:n}}(t,e,o);return Nr(t,e=r.target,n,o=r.transitionEnd)})(t,o,s,n);n=e.transitionEnd,o=e.target}return{transition:e,transitionEnd:n,...o}},scrapeMotionValuesFromProps:bt,build(t,e,n,o,r){void 0!==t.isVisible&&(e.style.visibility=t.isVisible?"visible":"hidden"),rt(e,n,o,r.transformTemplate)},render:yt},Ur=Er(Br),zr=Er({...Br,getBaseTarget:(t,e)=>t[e],readValueFromInstance(t,e){var n;return O.has(e)?(null===(n=Xn(e))||void 0===n?void 0:n.default)||0:(e=xt.has(e)?e:gt(e),t.getAttribute(e))},scrapeMotionValuesFromProps:Et,build(t,e,n,o,r){ft(e,n,o,r.transformTemplate)},render:wt}),_r=(t,e)=>M(t)?zr(e,{enableHardwareAcceleration:!1}):Ur(e,{enableHardwareAcceleration:!0});function Wr(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $r={correct:(t,e)=>{if(!e.target)return t;if("string"==typeof t){if(!Z.test(t))return t;t=parseFloat(t)}return`${Wr(t,e.target.x)}% ${Wr(t,e.target.y)}%`}},qr="_$css",Hr={correct:(t,{treeScale:e,projectionDelta:n})=>{const o=t,r=t.includes("var("),i=[];r&&(t=t.replace(kr,(t=>(i.push(t),qr))));const s=He.parse(t);if(s.length>5)return o;const a=He.createTransformer(t),l="number"!=typeof s[0]?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=c;const d=Te(u,c,.5);"number"==typeof s[2+l]&&(s[2+l]/=d),"number"==typeof s[3+l]&&(s[3+l]/=d);let h=a(s);if(r){let t=0;h=h.replace(qr,(()=>{const e=i[t];return t++,e}))}return h}};class Yr extends o.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:o}=this.props,{projection:r}=t;var i;i=Xr,Object.assign(R,i),r&&(e.group&&e.group.add(r),n&&n.register&&o&&n.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",(()=>{this.safeToRemove()})),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),w.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:o,isPresent:r}=this.props,i=n.projection;return i?(i.isPresent=r,o||t.layoutDependency!==e||void 0===e?i.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?i.promote():i.relegate()||bn.ZP.postRender((()=>{var t;(null===(t=i.getStack())||void 0===t?void 0:t.members.length)||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),(null==e?void 0:e.group)&&e.group.remove(o),(null==n?void 0:n.deregister)&&n.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;null==t||t()}render(){return null}}const Xr={borderRadius:{...$r,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$r,borderTopRightRadius:$r,borderBottomLeftRadius:$r,borderBottomRightRadius:$r,boxShadow:Hr},Zr={measureLayout:function(t){const[e,n]=pe(),r=(0,o.useContext)(E.p);return o.createElement(Yr,{...t,layoutGroup:r,switchLayoutGroup:(0,o.useContext)(T),isPresent:e,safeToRemove:n})}},Gr=["TopLeft","TopRight","BottomLeft","BottomRight"],Kr=Gr.length,Qr=t=>"string"==typeof t?parseFloat(t):t,Jr=t=>"number"==typeof t||Z.test(t);function ti(t,e){var n;return null!==(n=t[e])&&void 0!==n?n:t.borderRadius}const ei=oi(0,.5,cn),ni=oi(.5,.95,rn);function oi(t,e,n){return o=>o<t?0:o>e?1:n(Pe(t,e,o))}function ri(t,e){t.min=e.min,t.max=e.max}function ii(t,e){ri(t.x,e.x),ri(t.y,e.y)}function si(t,e,n,o,r){return t=or(t-=e,1/n,o),void 0!==r&&(t=or(t,1/r,o)),t}function ai(t,e,[n,o,r],i,s){!function(t,e=0,n=1,o=.5,r,i=t,s=t){if(X.test(e)&&(e=parseFloat(e),e=Te(s.min,s.max,e/100)-s.min),"number"!=typeof e)return;let a=Te(i.min,i.max,o);t===i&&(a-=e),t.min=si(t.min,e,n,a,r),t.max=si(t.max,e,n,a,r)}(t,e[n],e[o],e[r],e.scale,i,s)}const li=["x","scaleX","originX"],ui=["y","scaleY","originY"];function ci(t,e,n,o){ai(t.x,e,li,null==n?void 0:n.x,null==o?void 0:o.x),ai(t.y,e,ui,null==n?void 0:n.y,null==o?void 0:o.y)}function di(t){return 0===t.translate&&1===t.scale}function hi(t){return di(t.x)&&di(t.y)}function pi(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function fi(t){return Bo(t.x)/Bo(t.y)}class mi{constructor(){this.members=[]}add(t){oo(this.members,t),t.scheduleRender()}remove(t){if(ro(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){const e=this.members.findIndex((e=>t===e));if(0===e)return!1;let n;for(let t=e;t>=0;t--){const e=this.members[t];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(t,e){var n;const o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender(),t.resumeFrom=o,e&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues,t.snapshot.isShared=!0),(null===(n=t.root)||void 0===n?void 0:n.isUpdating)&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;!1===r&&o.hide()}}exitAnimationComplete(){this.members.forEach((t=>{var e,n,o,r,i;null===(n=(e=t.options).onExitComplete)||void 0===n||n.call(e),null===(i=null===(o=t.resumingFrom)||void 0===o?void 0:(r=o.options).onExitComplete)||void 0===i||i.call(r)}))}scheduleRender(){this.members.forEach((t=>{t.instance&&t.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vi(t,e,n){let o=`translate3d(${t.x.translate/e.x}px, ${t.y.translate/e.y}px, 0) `;if(o+=`scale(${1/e.x}, ${1/e.y}) `,n){const{rotate:t,rotateX:e,rotateY:r}=n;t&&(o+=`rotate(${t}deg) `),e&&(o+=`rotateX(${e}deg) `),r&&(o+=`rotateY(${r}deg) `)}return o+=`scale(${t.x.scale*e.x}, ${t.y.scale*e.y})`,"translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)"===o?"none":o}const gi=(t,e)=>t.depth-e.depth;class yi{constructor(){this.children=[],this.isDirty=!1}add(t){oo(this.children,t),this.isDirty=!0}remove(t){ro(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(gi),this.isDirty=!1,this.children.forEach(t)}}const xi=["","X","Y","Z"];function wi({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:o,resetTransform:r}){return class{constructor(t,n={},o=(null==e?void 0:e())){this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(Ai),this.nodes.forEach(Ci)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=t,this.latestValues=n,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0,t&&this.root.registerPotentialNode(t,this);for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new yi)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new io),this.eventHandlers.get(t).add(e)}notifyListeners(t,...e){const n=this.eventHandlers.get(t);null==n||n.notify(...e)}hasListeners(t){return this.eventHandlers.has(t)}registerPotentialNode(t,e){this.potentialNodes.set(t,e)}mount(e,n=!1){var o;if(this.instance)return;this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;const{layoutId:r,layout:i,visualElement:s}=this.options;if(s&&!s.getInstance()&&s.mount(e),this.root.nodes.add(this),null===(o=this.parent)||void 0===o||o.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),n&&(i||r)&&(this.isLayoutDirty=!0),t){let n;const o=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,clearTimeout(n),n=window.setTimeout(o,250),w.hasAnimatedSinceResize&&(w.hasAnimatedSinceResize=!1,this.nodes.forEach(ki))}))}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&s&&(r||i)&&this.addEventListener("didUpdate",(({delta:t,hasLayoutChanged:e,hasRelativeTargetChanged:n,layout:o})=>{var r,i,a,l,u;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const c=null!==(i=null!==(r=this.options.transition)&&void 0!==r?r:s.getDefaultTransition())&&void 0!==i?i:Li,{onLayoutAnimationStart:d,onLayoutAnimationComplete:h}=s.getProps(),p=!this.targetLayout||!pi(this.targetLayout,o)||n,f=!e&&n;if((null===(a=this.resumeFrom)||void 0===a?void 0:a.instance)||f||e&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,f);const e={...eo(c,"layout"),onPlay:d,onComplete:h};s.shouldReduceMotion&&(e.delay=0,e.type=!1),this.startAnimation(e)}else e||0!==this.animationProgress||this.finishAnimation(),this.isLead()&&(null===(u=(l=this.options).onExitComplete)||void 0===u||u.call(l));this.targetLayout=o}))}unmount(){var t,e;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(t=this.getStack())||void 0===t||t.remove(this),null===(e=this.parent)||void 0===e||e.children.delete(this),this.instance=void 0,bn.qY.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var t;return this.isAnimationBlocked||(null===(t=this.parent)||void 0===t?void 0:t.isTreeAnimationBlocked())||!1}startUpdate(){var t;this.isUpdateBlocked()||(this.isUpdating=!0,null===(t=this.nodes)||void 0===t||t.forEach(Vi))}willUpdate(t=!0){var e,n,o;if(this.root.isUpdateBlocked())return void(null===(n=(e=this.options).onExitComplete)||void 0===n||n.call(e));if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let t=0;t<this.path.length;t++){const e=this.path[t];e.shouldResetTransform=!0,e.updateScroll()}const{layoutId:r,layout:i}=this.options;if(void 0===r&&!i)return;const s=null===(o=this.options.visualElement)||void 0===o?void 0:o.getProps().transformTemplate;this.prevTransformTemplateValue=null==s?void 0:s(this.latestValues,""),this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Ti);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Fi),this.potentialNodes.clear()),this.nodes.forEach(Si),this.nodes.forEach(bi),this.nodes.forEach(Ei),this.clearAllSnapshots(),bn.iW.update(),bn.iW.preRender(),bn.iW.render())}clearAllSnapshots(){this.nodes.forEach(Pi),this.sharedNodes.forEach(Mi)}scheduleUpdateProjection(){bn.ZP.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){bn.ZP.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){if(this.snapshot||!this.instance)return;const t=this.measure(),e=this.removeTransform(this.removeElementScroll(t));Ii(e),this.snapshot={measured:t,layout:e,latestValues:{}}}updateLayout(){var t;if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let t=0;t<this.path.length;t++)this.path[t].updateScroll();const e=this.measure();Ii(e);const n=this.layout;this.layout={measured:e,actual:this.removeElementScroll(e)},this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(t=this.options.visualElement)||void 0===t||t.notifyLayoutMeasure(this.layout.actual,null==n?void 0:n.actual)}updateScroll(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=o(this.instance),this.scroll=n(this.instance))}resetTransform(){var t;if(!r)return;const e=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!hi(this.projectionDelta),o=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate,i=null==o?void 0:o(this.latestValues,""),s=i!==this.prevTransformTemplateValue;e&&(n||er(this.latestValues)||s)&&(r(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(){const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const e=t.measureViewportBox(),{scroll:n}=this.root;return n&&(ar(e.x,n.x),ar(e.y,n.y)),e}removeElementScroll(t){const e={x:{min:0,max:0},y:{min:0,max:0}};ii(e,t);for(let n=0;n<this.path.length;n++){const o=this.path[n],{scroll:r,options:i,isScrollRoot:s}=o;if(o!==this.root&&r&&i.layoutScroll){if(s){ii(e,t);const{scroll:n}=this.root;n&&(ar(e.x,-n.x),ar(e.y,-n.y))}ar(e.x,r.x),ar(e.y,r.y)}}return e}applyTransform(t,e=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};ii(n,t);for(let t=0;t<this.path.length;t++){const o=this.path[t];!e&&o.options.layoutScroll&&o.scroll&&o!==o.root&&dr(n,{x:-o.scroll.x,y:-o.scroll.y}),er(o.latestValues)&&dr(n,o.latestValues)}return er(this.latestValues)&&dr(n,this.latestValues),n}removeTransform(t){var e;const n={x:{min:0,max:0},y:{min:0,max:0}};ii(n,t);for(let t=0;t<this.path.length;t++){const o=this.path[t];if(!o.instance)continue;if(!er(o.latestValues))continue;tr(o.latestValues)&&o.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};ii(r,o.measure()),ci(n,o.latestValues,null===(e=o.snapshot)||void 0===e?void 0:e.layout,r)}return er(this.latestValues)&&ci(n,this.latestValues),n}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection()}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var t;const{layout:e,layoutId:n}=this.options;var o,r,i;this.layout&&(e||n)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},qo(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),ii(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(t=this.relativeParent)||void 0===t?void 0:t.target)?(o=this.target,r=this.relativeTarget,i=this.relativeParent.target,Wo(o.x,r.x,i.x),Wo(o.y,r.y,i.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):ii(this.target,this.layout.actual),sr(this.target,this.targetDelta)):ii(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},qo(this.relativeTargetOrigin,this.target,this.relativeParent.target),ii(this.relativeTarget,this.relativeTargetOrigin)))))}getClosestProjectingParent(){if(this.parent&&!er(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var t;const{layout:e,layoutId:n}=this.options;if(this.isTreeAnimating=Boolean((null===(t=this.parent)||void 0===t?void 0:t.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!e&&!n)return;const o=this.getLead();ii(this.layoutCorrected,this.layout.actual),function(t,e,n,o=!1){var r,i;const s=n.length;if(!s)return;let a,l;e.x=e.y=1;for(let u=0;u<s;u++)a=n[u],l=a.projectionDelta,"contents"!==(null===(i=null===(r=a.instance)||void 0===r?void 0:r.style)||void 0===i?void 0:i.display)&&(o&&a.options.layoutScroll&&a.scroll&&a!==a.root&&dr(t,{x:-a.scroll.x,y:-a.scroll.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,sr(t,l)),o&&er(a.latestValues)&&dr(t,a.latestValues))}(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==o);const{target:r}=o;if(!r)return;this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const i=this.treeScale.x,s=this.treeScale.y,a=this.projectionTransform;_o(this.projectionDelta,this.layoutCorrected,r,this.latestValues),this.projectionTransform=vi(this.projectionDelta,this.treeScale),this.projectionTransform===a&&this.treeScale.x===i&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",r))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(t=!0){var e,n,o;null===(n=(e=this.options).scheduleRender)||void 0===n||n.call(e),t&&(null===(o=this.getStack())||void 0===o||o.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(t,e=!1){var n;const o=this.snapshot,r=(null==o?void 0:o.latestValues)||{},i={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!e;const a={x:{min:0,max:0},y:{min:0,max:0}},l=null==o?void 0:o.isShared,u=((null===(n=this.getStack())||void 0===n?void 0:n.members.length)||0)<=1,c=Boolean(l&&!u&&!0===this.options.crossfade&&!this.path.some(Oi));this.animationProgress=0,this.mixTargetDelta=e=>{var n;const o=e/1e3;var d,h,p,f;Ri(s.x,t.x,o),Ri(s.y,t.y,o),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(null===(n=this.relativeParent)||void 0===n?void 0:n.layout)&&(qo(a,this.layout.actual,this.relativeParent.layout.actual),d=this.relativeTarget,h=this.relativeTargetOrigin,p=a,f=o,ji(d.x,h.x,p.x,f),ji(d.y,h.y,p.y,f)),l&&(this.animationValues=i,function(t,e,n,o,r,i){var s,a,l,u;r?(t.opacity=Te(0,null!==(s=n.opacity)&&void 0!==s?s:1,ei(o)),t.opacityExit=Te(null!==(a=e.opacity)&&void 0!==a?a:1,0,ni(o))):i&&(t.opacity=Te(null!==(l=e.opacity)&&void 0!==l?l:1,null!==(u=n.opacity)&&void 0!==u?u:1,o));for(let r=0;r<Kr;r++){const i=`border${Gr[r]}Radius`;let s=ti(e,i),a=ti(n,i);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||Jr(s)===Jr(a)?(t[i]=Math.max(Te(Qr(s),Qr(a),o),0),(X.test(a)||X.test(s))&&(t[i]+="%")):t[i]=a)}(e.rotate||n.rotate)&&(t.rotate=Te(e.rotate||0,n.rotate||0,o))}(i,r,this.latestValues,o,c,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=o},this.mixTargetDelta(0)}startAnimation(t){var e,n;this.notifyListeners("animationStart"),null===(e=this.currentAnimation)||void 0===e||e.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(bn.qY.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bn.ZP.update((()=>{w.hasAnimatedSinceResize=!0,this.currentAnimation=function(t,e,n={}){const o=F(t)?t:ao(t);return no("",o,e,n),{stop:()=>o.stop(),isAnimating:()=>o.isAnimating()}}(0,1e3,{...t,onUpdate:e=>{var n;this.mixTargetDelta(e),null===(n=t.onUpdate)||void 0===n||n.call(t,e)},onComplete:()=>{var e;null===(e=t.onComplete)||void 0===e||e.call(t),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){var t;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(t=this.getStack())||void 0===t||t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var t;this.currentAnimation&&(null===(t=this.mixTargetDelta)||void 0===t||t.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const t=this.getLead();let{targetWithTransforms:e,target:n,layout:o,latestValues:r}=t;if(e&&n&&o){if(this!==t&&this.layout&&o&&Ni(this.options.animationType,this.layout.actual,o.actual)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const e=Bo(this.layout.actual.x);n.x.min=t.target.x.min,n.x.max=n.x.min+e;const o=Bo(this.layout.actual.y);n.y.min=t.target.y.min,n.y.max=n.y.min+o}ii(e,n),dr(e,r),_o(this.projectionDeltaWithTransform,this.layoutCorrected,e,r)}}registerSharedNode(t,e){var n,o,r;this.sharedNodes.has(t)||this.sharedNodes.set(t,new mi),this.sharedNodes.get(t).add(e),e.promote({transition:null===(n=e.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(r=null===(o=e.options.initialPromotionConfig)||void 0===o?void 0:o.shouldPreserveFollowOpacity)||void 0===r?void 0:r.call(o,e)})}isLead(){const t=this.getStack();return!t||t.lead===this}getLead(){var t;const{layoutId:e}=this.options;return e&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;const{layoutId:e}=this.options;return e?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){const{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote({needsReset:t,transition:e,preserveFollowOpacity:n}={}){const o=this.getStack();o&&o.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){const t=this.getStack();return!!t&&t.relegate(this)}resetRotation(){const{visualElement:t}=this.options;if(!t)return;let e=!1;const n={};for(let o=0;o<xi.length;o++){const r="rotate"+xi[o];t.getStaticValue(r)&&(e=!0,n[r]=t.getStaticValue(r),t.setStaticValue(r,0))}if(e){null==t||t.syncRender();for(const e in n)t.setStaticValue(e,n[e]);t.scheduleRender()}}getProjectionStyles(t={}){var e,n,o;const r={};if(!this.instance||this.isSVG)return r;if(!this.isVisible)return{visibility:"hidden"};r.visibility="";const i=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=kt(t.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=kt(t.pointerEvents)||""),this.hasProjected&&!er(this.latestValues)&&(e.transform=i?i({},""):"none",this.hasProjected=!1),e}const a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=vi(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:l,y:u}=this.projectionDelta;r.transformOrigin=`${100*l.origin}% ${100*u.origin}% 0`,s.animationValues?r.opacity=s===this?null!==(o=null!==(n=a.opacity)&&void 0!==n?n:this.latestValues.opacity)&&void 0!==o?o:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const t in R){if(void 0===a[t])continue;const{correct:e,applyTo:n}=R[t],o=e(a[t],s);if(n){const t=n.length;for(let e=0;e<t;e++)r[n[e]]=o}else r[t]=o}return this.options.layoutId&&(r.pointerEvents=s===this?kt(t.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((t=>{var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()})),this.root.nodes.forEach(Ti),this.root.sharedNodes.clear()}}}function bi(t){t.updateLayout()}function Ei(t){var e,n,o;const r=(null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{actual:e,measured:n}=t.layout,{animationType:o}=t.options;"size"===o?Ko((t=>{const n=r.isShared?r.measured[t]:r.layout[t],o=Bo(n);n.min=e[t].min,n.max=n.min+o})):Ni(o,r.layout,e)&&Ko((t=>{const n=r.isShared?r.measured[t]:r.layout[t],o=Bo(e[t]);n.max=n.min+o}));const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};_o(i,e,r.layout);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};r.isShared?_o(s,t.applyTransform(n,!0),r.measured):_o(s,e,r.layout);const a=!hi(i);let l=!1;if(!t.resumeFrom&&(t.relativeParent=t.getClosestProjectingParent(),t.relativeParent&&!t.relativeParent.resumeFrom)){const{snapshot:n,layout:o}=t.relativeParent;if(n&&o){const t={x:{min:0,max:0},y:{min:0,max:0}};qo(t,r.layout,n.layout);const i={x:{min:0,max:0},y:{min:0,max:0}};qo(i,e,o.actual),pi(t,i)||(l=!0)}}t.notifyListeners("didUpdate",{layout:e,snapshot:r,delta:s,layoutDelta:i,hasLayoutChanged:a,hasRelativeTargetChanged:l})}else t.isLead()&&(null===(o=(n=t.options).onExitComplete)||void 0===o||o.call(n));t.options.transition=void 0}function Pi(t){t.clearSnapshot()}function Ti(t){t.clearMeasurements()}function Si(t){const{visualElement:e}=t.options;(null==e?void 0:e.getProps().onBeforeLayoutMeasure)&&e.notifyBeforeLayoutMeasure(),t.resetTransform()}function ki(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function Ai(t){t.resolveTargetDelta()}function Ci(t){t.calcProjection()}function Vi(t){t.resetRotation()}function Mi(t){t.removeLeadSnapshot()}function Ri(t,e,n){t.translate=Te(e.translate,0,n),t.scale=Te(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ji(t,e,n,o){t.min=Te(e.min,n.min,o),t.max=Te(e.max,n.max,o)}function Oi(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}const Li={duration:.45,ease:[.4,0,.1,1]};function Fi(t,e){let n=t.root;for(let e=t.path.length-1;e>=0;e--)if(Boolean(t.path[e].instance)){n=t.path[e];break}const o=(n&&n!==t.root?n.instance:document).querySelector(`[data-projection-id="${e}"]`);o&&t.mount(o,!0)}function Di(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function Ii(t){Di(t.x),Di(t.y)}function Ni(t,e,n){return"position"===t||"preserve-aspect"===t&&!function(t,e,n=.01){return Ro(t,e)<=n}(fi(e),fi(n))}const Bi=wi({attachResizeListener:(t,e)=>jt(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ui={current:void 0},zi=wi({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ui.current){const t=new Bi(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),Ui.current=t}return Ui.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>Boolean("fixed"===window.getComputedStyle(t).position)}),_i={...Ao,...he,...vr,...Zr},Wi=C(((t,e)=>function(t,{forwardMotionProps:e=!1},n,o,r){return{...M(t)?Vt:Mt,preloadedFeatures:n,useRender:vt(e),createVisualElement:o,projectionNodeConstructor:r,Component:t}}(t,e,_i,_r,zi)))},1741:(t,e,n)=>{"use strict";n.d(e,{j:()=>o});const o="undefined"!=typeof document},9304:(t,e,n)=>{"use strict";n.d(e,{O:()=>o});const o=("undefined"==typeof process||process.env,"production")},6681:(t,e,n)=>{"use strict";n.d(e,{h:()=>r});var o=n(7294);function r(t){const e=(0,o.useRef)(null);return null===e.current&&(e.current=t()),e.current}},8868:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});var o=n(7294);const r=n(1741).j?o.useLayoutEffect:o.useEffect},5411:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});var o=n(7294);function r(t){return(0,o.useEffect)((()=>()=>t()),[])}},6034:(t,e,n)=>{"use strict";n.d(e,{O:()=>r});const o=new Set;function r(t,e,n){t||o.has(e)||(console.warn(e),n&&console.warn(n),o.add(e))}},2396:(t,e,n)=>{"use strict";n.d(e,{qY:()=>p,ZP:()=>x,iW:()=>f,$B:()=>y});const o=1/60*1e3,r="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),i="undefined"!=typeof window?t=>window.requestAnimationFrame(t):t=>setTimeout((()=>t(r())),o);let s=!0,a=!1,l=!1;const u={delta:0,timestamp:0},c=["read","update","preRender","render","postRender"],d=c.reduce(((t,e)=>(t[e]=function(t){let e=[],n=[],o=0,r=!1,i=!1;const s=new WeakSet,a={schedule:(t,i=!1,a=!1)=>{const l=a&&r,u=l?e:n;return i&&s.add(t),-1===u.indexOf(t)&&(u.push(t),l&&r&&(o=e.length)),t},cancel:t=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1),s.delete(t)},process:l=>{if(r)i=!0;else{if(r=!0,[e,n]=[n,e],n.length=0,o=e.length,o)for(let n=0;n<o;n++){const o=e[n];o(l),s.has(o)&&(a.schedule(o),t())}r=!1,i&&(i=!1,a.process(l))}}};return a}((()=>a=!0)),t)),{}),h=c.reduce(((t,e)=>{const n=d[e];return t[e]=(t,e=!1,o=!1)=>(a||g(),n.schedule(t,e,o)),t}),{}),p=c.reduce(((t,e)=>(t[e]=d[e].cancel,t)),{}),f=c.reduce(((t,e)=>(t[e]=()=>d[e].process(u),t)),{}),m=t=>d[t].process(u),v=t=>{a=!1,u.delta=s?o:Math.max(Math.min(t-u.timestamp,40),1),u.timestamp=t,l=!0,c.forEach(m),l=!1,a&&(s=!1,i(v))},g=()=>{a=!0,s=!0,l||i(v)},y=()=>u,x=h}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUEsRUFDbEJpb0IsR0FBZSxFQUNmQyxFQUFXcnJELFFBQVF3c0QsR0FDbkJwQixHQUFlLEVBQ1hELElBQ0FELEdBQW9CLEVBQ3BCRCxFQUFZeUIsR0FDaEIsRUFFRUwsRUFBWSxLQUNkbEIsR0FBZSxFQUNmRCxHQUFvQixFQUNmRSxHQUNESCxFQUFZeUIsRUFBYSxFQUUzQkMsRUFBZSxJQUFNLEVBRTNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9AdmltZW8vcGxheWVyL2Rpc3QvcGxheWVyLmVzLmpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvQHUtd2F2ZS9yZWFjdC12aW1lby9kaXN0L3JlYWN0LXZpbWVvLmVzLmpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fU3ltYm9sLmpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlR2V0VGFnLmpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlVHJpbS5qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZnJlZUdsb2JhbC5qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0UmF3VGFnLmpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19vYmplY3RUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fcm9vdC5qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fdHJpbW1lZEVuZEluZGV4LmpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvbG9kYXNoL2RlYm91bmNlLmpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0LmpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0TGlrZS5qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc1N5bWJvbC5qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2xvZGFzaC9ub3cuanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvdGhyb3R0bGUuanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvdG9OdW1iZXIuanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvdXNlLWlzLW1vdW50ZWQubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2NvbXBvbmVudHMvQW5pbWF0ZVByZXNlbmNlL1BvcENoaWxkLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb21wb25lbnRzL0FuaW1hdGVQcmVzZW5jZS9QcmVzZW5jZUNoaWxkLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb21wb25lbnRzL0FuaW1hdGVQcmVzZW5jZS9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvdXNlLWZvcmNlLXVwZGF0ZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvY29udGV4dC9MYXlvdXRHcm91cENvbnRleHQubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2NvbnRleHQvUHJlc2VuY2VDb250ZXh0Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb250ZXh0L01vdGlvbkNvbmZpZ0NvbnRleHQubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2NvbnRleHQvTW90aW9uQ29udGV4dC9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvY29udGV4dC9MYXp5Q29udGV4dC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvaXMtcmVmLW9iamVjdC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3V0aWxzL2lzLXZhcmlhbnQtbGFiZWwubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi91dGlscy9pcy1hbmltYXRpb24tY29udHJvbHMubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci91dGlscy9pcy1jb250cm9sbGluZy12YXJpYW50cy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvY29udGV4dC9Nb3Rpb25Db250ZXh0L2NyZWF0ZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL2ZlYXR1cmVzL2RlZmluaXRpb25zLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL25vZGUvc3RhdGUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vbm9kZS9pZC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL3V0aWxzL1Zpc3VhbEVsZW1lbnRIYW5kbGVyLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb250ZXh0L1N3aXRjaExheW91dEdyb3VwQ29udGV4dC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL3V0aWxzL3N5bWJvbC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vZmVhdHVyZXMvbG9hZC1mZWF0dXJlcy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvY29udGV4dC9Nb3Rpb25Db250ZXh0L3V0aWxzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vdXRpbHMvdXNlLXZpc3VhbC1lbGVtZW50Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vdXRpbHMvdXNlLW1vdGlvbi1yZWYubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vbW90aW9uLXByb3h5Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvc3ZnL2xvd2VyY2FzZS1lbGVtZW50cy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS91dGlscy9pcy1zdmctY29tcG9uZW50Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL3N0eWxlcy9zY2FsZS1jb3JyZWN0aW9uLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvaHRtbC91dGlscy90cmFuc2Zvcm0ubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL21vdGlvbi91dGlscy9pcy1mb3JjZWQtbW90aW9uLXZhbHVlLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy92YWx1ZS91dGlscy9pcy1tb3Rpb24tdmFsdWUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9odG1sL3V0aWxzL2J1aWxkLXRyYW5zZm9ybS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS91dGlscy9pcy1jc3MtdmFyaWFibGUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vdmFsdWUtdHlwZXMvZ2V0LWFzLXR5cGUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvc3R5bGUtdmFsdWUtdHlwZXMvZGlzdC9lcy91dGlscy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9zdHlsZS12YWx1ZS10eXBlcy9kaXN0L2VzL251bWJlcnMvdW5pdHMubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvc3R5bGUtdmFsdWUtdHlwZXMvZGlzdC9lcy9udW1iZXJzL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3ZhbHVlLXR5cGVzL3R5cGUtaW50Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3ZhbHVlLXR5cGVzL251bWJlci5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2h0bWwvdXRpbHMvYnVpbGQtc3R5bGVzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvaHRtbC91c2UtcHJvcHMubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9odG1sL3V0aWxzL2NyZWF0ZS1yZW5kZXItc3RhdGUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL21vdGlvbi91dGlscy92YWxpZC1wcm9wLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3V0aWxzL2ZpbHRlci1wcm9wcy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3N2Zy91dGlscy90cmFuc2Zvcm0tb3JpZ2luLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvc3ZnL3V0aWxzL3BhdGgubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9zdmcvdXRpbHMvYnVpbGQtYXR0cnMubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9zdmcvdXNlLXByb3BzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvc3ZnL3V0aWxzL2NyZWF0ZS1yZW5kZXItc3RhdGUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vdXNlLXJlbmRlci5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS91dGlscy9jYW1lbC10by1kYXNoLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvaHRtbC91dGlscy9yZW5kZXIubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9zdmcvdXRpbHMvY2FtZWwtY2FzZS1hdHRycy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3N2Zy91dGlscy9yZW5kZXIubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9odG1sL3V0aWxzL3NjcmFwZS1tb3Rpb24tdmFsdWVzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvc3ZnL3V0aWxzL3NjcmFwZS1tb3Rpb24tdmFsdWVzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvdXRpbHMvcmVzb2x2ZS12YXJpYW50cy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9uL3V0aWxzL2lzLWtleWZyYW1lcy10YXJnZXQubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3Jlc29sdmUtdmFsdWUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3ZhbHVlL3V0aWxzL3Jlc29sdmUtbW90aW9uLXZhbHVlLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vdXRpbHMvdXNlLXZpc3VhbC1zdGF0ZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3N2Zy9jb25maWctbW90aW9uLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvaHRtbC9jb25maWctbW90aW9uLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvdXRpbHMvdHlwZXMubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2V2ZW50cy91c2UtZG9tLWV2ZW50Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9nZXN0dXJlcy91dGlscy9ldmVudC10eXBlLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9ldmVudHMvZXZlbnQtaW5mby5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZXZlbnRzL3VzZS1wb2ludGVyLWV2ZW50Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9ldmVudHMvdXRpbHMubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2dlc3R1cmVzL2RyYWcvdXRpbHMvbG9jay5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZ2VzdHVyZXMvdXNlLWhvdmVyLWdlc3R1cmUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2dlc3R1cmVzL3V0aWxzL2lzLW5vZGUtb3ItY2hpbGQubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvcG9wbW90aW9uL2Rpc3QvZXMvdXRpbHMvcGlwZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL2ZlYXR1cmVzL3ZpZXdwb3J0L29ic2VydmVycy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL2ZlYXR1cmVzL3ZpZXdwb3J0L3VzZS12aWV3cG9ydC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL3V0aWxzL21ha2UtcmVuZGVybGVzcy1jb21wb25lbnQubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL21vdGlvbi9mZWF0dXJlcy9nZXN0dXJlcy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZ2VzdHVyZXMvdXNlLXRhcC1nZXN0dXJlLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9nZXN0dXJlcy91c2UtZm9jdXMtZ2VzdHVyZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvY29tcG9uZW50cy9BbmltYXRlUHJlc2VuY2UvdXNlLXByZXNlbmNlLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy9zaGFsbG93LWNvbXBhcmUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvcG9wbW90aW9uL2Rpc3QvZXMvdXRpbHMvY2xhbXAubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvcG9wbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9ucy91dGlscy9maW5kLXNwcmluZy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9wb3Btb3Rpb24vZGlzdC9lcy9hbmltYXRpb25zL2dlbmVyYXRvcnMvc3ByaW5nLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL3BvcG1vdGlvbi9kaXN0L2VzL3V0aWxzL3Byb2dyZXNzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL3BvcG1vdGlvbi9kaXN0L2VzL3V0aWxzL21peC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9zdHlsZS12YWx1ZS10eXBlcy9kaXN0L2VzL2NvbG9yL3V0aWxzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLXZhbHVlLXR5cGVzL2Rpc3QvZXMvY29sb3IvcmdiYS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9zdHlsZS12YWx1ZS10eXBlcy9kaXN0L2VzL2NvbG9yL2hleC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9zdHlsZS12YWx1ZS10eXBlcy9kaXN0L2VzL2NvbG9yL2hzbGEubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvcG9wbW90aW9uL2Rpc3QvZXMvdXRpbHMvaHNsYS10by1yZ2JhLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL3BvcG1vdGlvbi9kaXN0L2VzL3V0aWxzL21peC1jb2xvci5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9zdHlsZS12YWx1ZS10eXBlcy9kaXN0L2VzL2NvbG9yL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLXZhbHVlLXR5cGVzL2Rpc3QvZXMvY29tcGxleC9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9wb3Btb3Rpb24vZGlzdC9lcy91dGlscy9pbmMubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvcG9wbW90aW9uL2Rpc3QvZXMvdXRpbHMvbWl4LWNvbXBsZXgubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvcG9wbW90aW9uL2Rpc3QvZXMvdXRpbHMvaW50ZXJwb2xhdGUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvcG9wbW90aW9uL2Rpc3QvZXMvZWFzaW5nL3V0aWxzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL3BvcG1vdGlvbi9kaXN0L2VzL2Vhc2luZy9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9wb3Btb3Rpb24vZGlzdC9lcy9hbmltYXRpb25zL2dlbmVyYXRvcnMva2V5ZnJhbWVzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL3BvcG1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbnMvdXRpbHMvZGV0ZWN0LWFuaW1hdGlvbi1mcm9tLW9wdGlvbnMubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvcG9wbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9ucy9nZW5lcmF0b3JzL2RlY2F5Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL3BvcG1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbnMvdXRpbHMvZWxhcHNlZC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9wb3Btb3Rpb24vZGlzdC9lcy9hbmltYXRpb25zL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL3BvcG1vdGlvbi9kaXN0L2VzL3V0aWxzL3ZlbG9jaXR5LXBlci1zZWNvbmQubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3RpbWUtY29udmVyc2lvbi5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9wb3Btb3Rpb24vZGlzdC9lcy9lYXNpbmcvY3ViaWMtYmV6aWVyLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vdXRpbHMvZWFzaW5nLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vdXRpbHMvaXMtYW5pbWF0YWJsZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9uL3V0aWxzL2RlZmF1bHQtdHJhbnNpdGlvbnMubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvc3R5bGUtdmFsdWUtdHlwZXMvZGlzdC9lcy9jb21wbGV4L2ZpbHRlci5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS92YWx1ZS10eXBlcy9kZWZhdWx0cy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS92YWx1ZS10eXBlcy9hbmltYXRhYmxlLW5vbmUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi91dGlscy90cmFuc2l0aW9ucy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9wb3Btb3Rpb24vZGlzdC9lcy9hbmltYXRpb25zL2luZXJ0aWEubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL2FycmF5Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy9zdWJzY3JpcHRpb24tbWFuYWdlci5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdmFsdWUvaW5kZXgubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vdmFsdWUtdHlwZXMvdGVzdC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS92YWx1ZS10eXBlcy9kaW1lbnNpb25zLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3ZhbHVlLXR5cGVzL3R5cGUtYXV0by5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS92YWx1ZS10eXBlcy9maW5kLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvdXRpbHMvcmVzb2x2ZS1keW5hbWljLXZhcmlhbnRzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvdXRpbHMvc2V0dGVycy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdmFsdWUvdXNlLXdpbGwtY2hhbmdlL2lzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvdXRpbHMvYW5pbWF0aW9uLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvdXRpbHMvYW5pbWF0aW9uLXN0YXRlLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vZmVhdHVyZXMvYW5pbWF0aW9ucy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9wb3Btb3Rpb24vZGlzdC9lcy91dGlscy9pcy1wb2ludC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9wb3Btb3Rpb24vZGlzdC9lcy91dGlscy9pcy1wb2ludC0zZC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9wb3Btb3Rpb24vZGlzdC9lcy91dGlscy9kaXN0YW5jZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZ2VzdHVyZXMvUGFuU2Vzc2lvbi5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcHJvamVjdGlvbi9nZW9tZXRyeS9kZWx0YS1jYWxjLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9nZXN0dXJlcy9kcmFnL3V0aWxzL2NvbnN0cmFpbnRzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL3V0aWxzL2VhY2gtYXhpcy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcHJvamVjdGlvbi9nZW9tZXRyeS9jb252ZXJzaW9uLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL3V0aWxzL2hhcy10cmFuc2Zvcm0ubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vZ2VvbWV0cnkvZGVsdGEtYXBwbHkubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vdXRpbHMvbWVhc3VyZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZ2VzdHVyZXMvZHJhZy9WaXN1YWxFbGVtZW50RHJhZ0NvbnRyb2xzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL2dlb21ldHJ5L21vZGVscy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL2ZlYXR1cmVzL2RyYWcubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2dlc3R1cmVzL3VzZS1wYW4tZ2VzdHVyZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZ2VzdHVyZXMvZHJhZy91c2UtZHJhZy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvcmVkdWNlZC1tb3Rpb24vc3RhdGUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci91dGlscy9saWZlY3ljbGVzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvaW5kZXgubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3JlZHVjZWQtbW90aW9uL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvdXRpbHMvbW90aW9uLXZhbHVlcy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS91dGlscy9jc3MtdmFyaWFibGVzLWNvbnZlcnNpb24ubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vdXRpbHMvdW5pdC1jb252ZXJzaW9uLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3V0aWxzL3BhcnNlLWRvbS12YXJpYW50Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvaHRtbC92aXN1YWwtZWxlbWVudC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvaXMtbnVtZXJpY2FsLXN0cmluZy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvaXMtemVyby12YWx1ZS1zdHJpbmcubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9zdmcvdmlzdWFsLWVsZW1lbnQubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vY3JlYXRlLXZpc3VhbC1lbGVtZW50Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL3N0eWxlcy9zY2FsZS1ib3JkZXItcmFkaXVzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL3N0eWxlcy9zY2FsZS1ib3gtc2hhZG93Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vZmVhdHVyZXMvbGF5b3V0L01lYXN1cmVMYXlvdXQubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL21vdGlvbi9mZWF0dXJlcy9sYXlvdXQvaW5kZXgubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vYW5pbWF0aW9uL21peC12YWx1ZXMubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vZ2VvbWV0cnkvY29weS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcHJvamVjdGlvbi9nZW9tZXRyeS9kZWx0YS1yZW1vdmUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vZ2VvbWV0cnkvdXRpbHMubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vc2hhcmVkL3N0YWNrLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL3N0eWxlcy90cmFuc2Zvcm0ubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci91dGlscy9jb21wYXJlLWJ5LWRlcHRoLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvdXRpbHMvZmxhdC10cmVlLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL25vZGUvY3JlYXRlLXByb2plY3Rpb24tbm9kZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9uL2FuaW1hdGUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vbm9kZS9Eb2N1bWVudFByb2plY3Rpb25Ob2RlLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL25vZGUvSFRNTFByb2plY3Rpb25Ob2RlLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL21vdGlvbi5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS91dGlscy9jcmVhdGUtY29uZmlnLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy9pcy1icm93c2VyLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy9wcm9jZXNzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy91c2UtY29uc3RhbnQubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3VzZS1pc29tb3JwaGljLWVmZmVjdC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvdXNlLXVubW91bnQtZWZmZWN0Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy93YXJuLW9uY2UubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVzeW5jL2Rpc3QvZXMvb24tbmV4dC1mcmFtZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXN5bmMvZGlzdC9lcy9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXN5bmMvZGlzdC9lcy9jcmVhdGUtcmVuZGVyLXN0ZXAubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAdmltZW8vcGxheWVyIHYyLjE3LjEgfCAoYykgMjAyMiBWaW1lbyB8IE1JVCBMaWNlbnNlIHwgaHR0cHM6Ly9naXRodWIuY29tL3ZpbWVvL3BsYXllci5qcyAqL1xuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuXG4vKipcbiAqIEBtb2R1bGUgbGliL2Z1bmN0aW9uc1xuICovXG5cbi8qKlxuICogQ2hlY2sgdG8gc2VlIHRoaXMgaXMgYSBub2RlIGVudmlyb25tZW50LlxuICogQHR5cGUge0Jvb2xlYW59XG4gKi9cblxuLyogZ2xvYmFsIGdsb2JhbCAqL1xudmFyIGlzTm9kZSA9IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnICYmIHt9LnRvU3RyaW5nLmNhbGwoZ2xvYmFsKSA9PT0gJ1tvYmplY3QgZ2xvYmFsXSc7XG4vKipcbiAqIEdldCB0aGUgbmFtZSBvZiB0aGUgbWV0aG9kIGZvciBhIGdpdmVuIGdldHRlciBvciBzZXR0ZXIuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHByb3AgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5LlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRWl0aGVyIOKAnGdldOKAnSBvciDigJxzZXTigJ0uXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cblxuZnVuY3Rpb24gZ2V0TWV0aG9kTmFtZShwcm9wLCB0eXBlKSB7XG4gIGlmIChwcm9wLmluZGV4T2YodHlwZS50b0xvd2VyQ2FzZSgpKSA9PT0gMCkge1xuICAgIHJldHVybiBwcm9wO1xuICB9XG5cbiAgcmV0dXJuIFwiXCIuY29uY2F0KHR5cGUudG9Mb3dlckNhc2UoKSkuY29uY2F0KHByb3Auc3Vic3RyKDAsIDEpLnRvVXBwZXJDYXNlKCkpLmNvbmNhdChwcm9wLnN1YnN0cigxKSk7XG59XG4vKipcbiAqIENoZWNrIHRvIHNlZSBpZiB0aGUgb2JqZWN0IGlzIGEgRE9NIEVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHsqfSBlbGVtZW50IFRoZSBvYmplY3QgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5cbmZ1bmN0aW9uIGlzRG9tRWxlbWVudChlbGVtZW50KSB7XG4gIHJldHVybiBCb29sZWFuKGVsZW1lbnQgJiYgZWxlbWVudC5ub2RlVHlwZSA9PT0gMSAmJiAnbm9kZU5hbWUnIGluIGVsZW1lbnQgJiYgZWxlbWVudC5vd25lckRvY3VtZW50ICYmIGVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldyk7XG59XG4vKipcbiAqIENoZWNrIHRvIHNlZSB3aGV0aGVyIHRoZSB2YWx1ZSBpcyBhIG51bWJlci5cbiAqXG4gKiBAc2VlIGh0dHA6Ly9kbC5kcm9wYm94dXNlcmNvbnRlbnQuY29tL3UvMzUxNDYvanMvdGVzdHMvaXNOdW1iZXIuaHRtbFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGludGVnZXIgQ2hlY2sgaWYgdGhlIHZhbHVlIGlzIGFuIGludGVnZXIuXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5cbmZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdCh2YWx1ZSkpICYmIGlzRmluaXRlKHZhbHVlKSAmJiBNYXRoLmZsb29yKHZhbHVlKSA9PSB2YWx1ZTtcbn1cbi8qKlxuICogQ2hlY2sgdG8gc2VlIGlmIHRoZSBVUkwgaXMgYSBWaW1lbyB1cmwuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgdXJsIHN0cmluZy5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cblxuZnVuY3Rpb24gaXNWaW1lb1VybCh1cmwpIHtcbiAgcmV0dXJuIC9eKGh0dHBzPzopP1xcL1xcLygocGxheWVyfHd3dylcXC4pP3ZpbWVvXFwuY29tKD89JHxcXC8pLy50ZXN0KHVybCk7XG59XG4vKipcbiAqIENoZWNrIHRvIHNlZSBpZiB0aGUgVVJMIGlzIGZvciBhIFZpbWVvIGVtYmVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIHVybCBzdHJpbmcuXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5cbmZ1bmN0aW9uIGlzVmltZW9FbWJlZCh1cmwpIHtcbiAgdmFyIGV4cHIgPSAvXmh0dHBzOlxcL1xcL3BsYXllclxcLnZpbWVvXFwuY29tXFwvdmlkZW9cXC9cXGQrLztcbiAgcmV0dXJuIGV4cHIudGVzdCh1cmwpO1xufVxuLyoqXG4gKiBHZXQgdGhlIFZpbWVvIFVSTCBmcm9tIGFuIGVsZW1lbnQuXG4gKiBUaGUgZWxlbWVudCBtdXN0IGhhdmUgZWl0aGVyIGEgZGF0YS12aW1lby1pZCBvciBkYXRhLXZpbWVvLXVybCBhdHRyaWJ1dGUuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9FbWJlZFBhcmFtZXRlcnMgVGhlIG9FbWJlZCBwYXJhbWV0ZXJzLlxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5cbmZ1bmN0aW9uIGdldFZpbWVvVXJsKCkge1xuICB2YXIgb0VtYmVkUGFyYW1ldGVycyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gIHZhciBpZCA9IG9FbWJlZFBhcmFtZXRlcnMuaWQ7XG4gIHZhciB1cmwgPSBvRW1iZWRQYXJhbWV0ZXJzLnVybDtcbiAgdmFyIGlkT3JVcmwgPSBpZCB8fCB1cmw7XG5cbiAgaWYgKCFpZE9yVXJsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBbiBpZCBvciB1cmwgbXVzdCBiZSBwYXNzZWQsIGVpdGhlciBpbiBhbiBvcHRpb25zIG9iamVjdCBvciBhcyBhIGRhdGEtdmltZW8taWQgb3IgZGF0YS12aW1lby11cmwgYXR0cmlidXRlLicpO1xuICB9XG5cbiAgaWYgKGlzSW50ZWdlcihpZE9yVXJsKSkge1xuICAgIHJldHVybiBcImh0dHBzOi8vdmltZW8uY29tL1wiLmNvbmNhdChpZE9yVXJsKTtcbiAgfVxuXG4gIGlmIChpc1ZpbWVvVXJsKGlkT3JVcmwpKSB7XG4gICAgcmV0dXJuIGlkT3JVcmwucmVwbGFjZSgnaHR0cDonLCAnaHR0cHM6Jyk7XG4gIH1cblxuICBpZiAoaWQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiXFx1MjAxQ1wiLmNvbmNhdChpZCwgXCJcXHUyMDFEIGlzIG5vdCBhIHZhbGlkIHZpZGVvIGlkLlwiKSk7XG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiXFx1MjAxQ1wiLmNvbmNhdChpZE9yVXJsLCBcIlxcdTIwMUQgaXMgbm90IGEgdmltZW8uY29tIHVybC5cIikpO1xufVxuXG52YXIgYXJyYXlJbmRleE9mU3VwcG9ydCA9IHR5cGVvZiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgcG9zdE1lc3NhZ2VTdXBwb3J0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5wb3N0TWVzc2FnZSAhPT0gJ3VuZGVmaW5lZCc7XG5cbmlmICghaXNOb2RlICYmICghYXJyYXlJbmRleE9mU3VwcG9ydCB8fCAhcG9zdE1lc3NhZ2VTdXBwb3J0KSkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ1NvcnJ5LCB0aGUgVmltZW8gUGxheWVyIEFQSSBpcyBub3QgYXZhaWxhYmxlIGluIHRoaXMgYnJvd3Nlci4nKTtcbn1cblxudmFyIGNvbW1vbmpzR2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge307XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZuLCBtb2R1bGUpIHtcblx0cmV0dXJuIG1vZHVsZSA9IHsgZXhwb3J0czoge30gfSwgZm4obW9kdWxlLCBtb2R1bGUuZXhwb3J0cyksIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vKiFcbiAqIHdlYWttYXAtcG9seWZpbGwgdjIuMC40IC0gRUNNQVNjcmlwdDYgV2Vha01hcCBwb2x5ZmlsbFxuICogaHR0cHM6Ly9naXRodWIuY29tL3BvbHlnb25wbGFuZXQvd2Vha21hcC1wb2x5ZmlsbFxuICogQ29weXJpZ2h0IChjKSAyMDE1LTIwMjEgcG9seWdvbnBsYW5ldCA8cG9seWdvbi5wbGFuZXQuYXF1YUBnbWFpbC5jb20+XG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuKGZ1bmN0aW9uIChzZWxmKSB7XG5cbiAgaWYgKHNlbGYuV2Vha01hcCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbiAgdmFyIGhhc0RlZmluZSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEF2b2lkIElFOCdzIGJyb2tlbiBPYmplY3QuZGVmaW5lUHJvcGVydHlcbiAgICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICd4Jywge1xuICAgICAgICB2YWx1ZTogMVxuICAgICAgfSkueCA9PT0gMTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9KCk7XG5cbiAgdmFyIGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZSwgdmFsdWUpIHtcbiAgICBpZiAoaGFzRGVmaW5lKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBuYW1lLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iamVjdFtuYW1lXSA9IHZhbHVlO1xuICAgIH1cbiAgfTtcblxuICBzZWxmLldlYWtNYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gRUNNQS0yNjIgMjMuMyBXZWFrTWFwIE9iamVjdHNcbiAgICBmdW5jdGlvbiBXZWFrTWFwKCkge1xuICAgICAgaWYgKHRoaXMgPT09IHZvaWQgMCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ29uc3RydWN0b3IgV2Vha01hcCByZXF1aXJlcyAnbmV3J1wiKTtcbiAgICAgIH1cblxuICAgICAgZGVmaW5lUHJvcGVydHkodGhpcywgJ19pZCcsIGdlbklkKCdfV2Vha01hcCcpKTsgLy8gRUNNQS0yNjIgMjMuMy4xLjEgV2Vha01hcChbaXRlcmFibGVdKVxuXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gQ3VycmVudGx5LCBXZWFrTWFwIGBpdGVyYWJsZWAgYXJndW1lbnQgaXMgbm90IHN1cHBvcnRlZFxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdXZWFrTWFwIGl0ZXJhYmxlIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICAgIH1cbiAgICB9IC8vIEVDTUEtMjYyIDIzLjMuMy4yIFdlYWtNYXAucHJvdG90eXBlLmRlbGV0ZShrZXkpXG5cblxuICAgIGRlZmluZVByb3BlcnR5KFdlYWtNYXAucHJvdG90eXBlLCAnZGVsZXRlJywgZnVuY3Rpb24gKGtleSkge1xuICAgICAgY2hlY2tJbnN0YW5jZSh0aGlzLCAnZGVsZXRlJyk7XG5cbiAgICAgIGlmICghaXNPYmplY3Qoa2V5KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbnRyeSA9IGtleVt0aGlzLl9pZF07XG5cbiAgICAgIGlmIChlbnRyeSAmJiBlbnRyeVswXSA9PT0ga2V5KSB7XG4gICAgICAgIGRlbGV0ZSBrZXlbdGhpcy5faWRdO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pOyAvLyBFQ01BLTI2MiAyMy4zLjMuMyBXZWFrTWFwLnByb3RvdHlwZS5nZXQoa2V5KVxuXG4gICAgZGVmaW5lUHJvcGVydHkoV2Vha01hcC5wcm90b3R5cGUsICdnZXQnLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBjaGVja0luc3RhbmNlKHRoaXMsICdnZXQnKTtcblxuICAgICAgaWYgKCFpc09iamVjdChrZXkpKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbnRyeSA9IGtleVt0aGlzLl9pZF07XG5cbiAgICAgIGlmIChlbnRyeSAmJiBlbnRyeVswXSA9PT0ga2V5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeVsxXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9KTsgLy8gRUNNQS0yNjIgMjMuMy4zLjQgV2Vha01hcC5wcm90b3R5cGUuaGFzKGtleSlcblxuICAgIGRlZmluZVByb3BlcnR5KFdlYWtNYXAucHJvdG90eXBlLCAnaGFzJywgZnVuY3Rpb24gKGtleSkge1xuICAgICAgY2hlY2tJbnN0YW5jZSh0aGlzLCAnaGFzJyk7XG5cbiAgICAgIGlmICghaXNPYmplY3Qoa2V5KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbnRyeSA9IGtleVt0aGlzLl9pZF07XG5cbiAgICAgIGlmIChlbnRyeSAmJiBlbnRyeVswXSA9PT0ga2V5KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7IC8vIEVDTUEtMjYyIDIzLjMuMy41IFdlYWtNYXAucHJvdG90eXBlLnNldChrZXksIHZhbHVlKVxuXG4gICAgZGVmaW5lUHJvcGVydHkoV2Vha01hcC5wcm90b3R5cGUsICdzZXQnLCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgY2hlY2tJbnN0YW5jZSh0aGlzLCAnc2V0Jyk7XG5cbiAgICAgIGlmICghaXNPYmplY3Qoa2V5KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIHZhbHVlIHVzZWQgYXMgd2VhayBtYXAga2V5Jyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbnRyeSA9IGtleVt0aGlzLl9pZF07XG5cbiAgICAgIGlmIChlbnRyeSAmJiBlbnRyeVswXSA9PT0ga2V5KSB7XG4gICAgICAgIGVudHJ5WzFdID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBkZWZpbmVQcm9wZXJ0eShrZXksIHRoaXMuX2lkLCBba2V5LCB2YWx1ZV0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBjaGVja0luc3RhbmNlKHgsIG1ldGhvZE5hbWUpIHtcbiAgICAgIGlmICghaXNPYmplY3QoeCkgfHwgIWhhc093blByb3BlcnR5LmNhbGwoeCwgJ19pZCcpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IobWV0aG9kTmFtZSArICcgbWV0aG9kIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgcmVjZWl2ZXIgJyArIHR5cGVvZiB4KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZW5JZChwcmVmaXgpIHtcbiAgICAgIHJldHVybiBwcmVmaXggKyAnXycgKyByYW5kKCkgKyAnLicgKyByYW5kKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmFuZCgpIHtcbiAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpO1xuICAgIH1cblxuICAgIGRlZmluZVByb3BlcnR5KFdlYWtNYXAsICdfcG9seWZpbGwnLCB0cnVlKTtcbiAgICByZXR1cm4gV2Vha01hcDtcbiAgfSgpO1xuXG4gIGZ1bmN0aW9uIGlzT2JqZWN0KHgpIHtcbiAgICByZXR1cm4gT2JqZWN0KHgpID09PSB4O1xuICB9XG59KSh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGNvbW1vbmpzR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGNvbW1vbmpzR2xvYmFsIDogY29tbW9uanNHbG9iYWwpO1xuXG52YXIgbnBvX3NyYyA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHtcbi8qISBOYXRpdmUgUHJvbWlzZSBPbmx5XG4gICAgdjAuOC4xIChjKSBLeWxlIFNpbXBzb25cbiAgICBNSVQgTGljZW5zZTogaHR0cDovL2dldGlmeS5taXQtbGljZW5zZS5vcmdcbiovXG4oZnVuY3Rpb24gVU1EKG5hbWUsIGNvbnRleHQsIGRlZmluaXRpb24pIHtcbiAgLy8gc3BlY2lhbCBmb3JtIG9mIFVNRCBmb3IgcG9seWZpbGxpbmcgYWNyb3NzIGV2aXJvbm1lbnRzXG4gIGNvbnRleHRbbmFtZV0gPSBjb250ZXh0W25hbWVdIHx8IGRlZmluaXRpb24oKTtcblxuICBpZiAoIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBjb250ZXh0W25hbWVdO1xuICB9XG59KShcIlByb21pc2VcIiwgdHlwZW9mIGNvbW1vbmpzR2xvYmFsICE9IFwidW5kZWZpbmVkXCIgPyBjb21tb25qc0dsb2JhbCA6IGNvbW1vbmpzR2xvYmFsLCBmdW5jdGlvbiBERUYoKSB7XG5cbiAgdmFyIGJ1aWx0SW5Qcm9wLFxuICAgICAgY3ljbGUsXG4gICAgICBzY2hlZHVsaW5nX3F1ZXVlLFxuICAgICAgVG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLFxuICAgICAgdGltZXIgPSB0eXBlb2Ygc2V0SW1tZWRpYXRlICE9IFwidW5kZWZpbmVkXCIgPyBmdW5jdGlvbiB0aW1lcihmbikge1xuICAgIHJldHVybiBzZXRJbW1lZGlhdGUoZm4pO1xuICB9IDogc2V0VGltZW91dDsgLy8gZGFtbWl0LCBJRTguXG5cbiAgdHJ5IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sIFwieFwiLCB7fSk7XG5cbiAgICBidWlsdEluUHJvcCA9IGZ1bmN0aW9uIGJ1aWx0SW5Qcm9wKG9iaiwgbmFtZSwgdmFsLCBjb25maWcpIHtcbiAgICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBuYW1lLCB7XG4gICAgICAgIHZhbHVlOiB2YWwsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IGNvbmZpZyAhPT0gZmFsc2VcbiAgICAgIH0pO1xuICAgIH07XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGJ1aWx0SW5Qcm9wID0gZnVuY3Rpb24gYnVpbHRJblByb3Aob2JqLCBuYW1lLCB2YWwpIHtcbiAgICAgIG9ialtuYW1lXSA9IHZhbDtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgfSAvLyBOb3RlOiB1c2luZyBhIHF1ZXVlIGluc3RlYWQgb2YgYXJyYXkgZm9yIGVmZmljaWVuY3lcblxuXG4gIHNjaGVkdWxpbmdfcXVldWUgPSBmdW5jdGlvbiBRdWV1ZSgpIHtcbiAgICB2YXIgZmlyc3QsIGxhc3QsIGl0ZW07XG5cbiAgICBmdW5jdGlvbiBJdGVtKGZuLCBzZWxmKSB7XG4gICAgICB0aGlzLmZuID0gZm47XG4gICAgICB0aGlzLnNlbGYgPSBzZWxmO1xuICAgICAgdGhpcy5uZXh0ID0gdm9pZCAwO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBhZGQ6IGZ1bmN0aW9uIGFkZChmbiwgc2VsZikge1xuICAgICAgICBpdGVtID0gbmV3IEl0ZW0oZm4sIHNlbGYpO1xuXG4gICAgICAgIGlmIChsYXN0KSB7XG4gICAgICAgICAgbGFzdC5uZXh0ID0gaXRlbTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmaXJzdCA9IGl0ZW07XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0ID0gaXRlbTtcbiAgICAgICAgaXRlbSA9IHZvaWQgMDtcbiAgICAgIH0sXG4gICAgICBkcmFpbjogZnVuY3Rpb24gZHJhaW4oKSB7XG4gICAgICAgIHZhciBmID0gZmlyc3Q7XG4gICAgICAgIGZpcnN0ID0gbGFzdCA9IGN5Y2xlID0gdm9pZCAwO1xuXG4gICAgICAgIHdoaWxlIChmKSB7XG4gICAgICAgICAgZi5mbi5jYWxsKGYuc2VsZik7XG4gICAgICAgICAgZiA9IGYubmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH0oKTtcblxuICBmdW5jdGlvbiBzY2hlZHVsZShmbiwgc2VsZikge1xuICAgIHNjaGVkdWxpbmdfcXVldWUuYWRkKGZuLCBzZWxmKTtcblxuICAgIGlmICghY3ljbGUpIHtcbiAgICAgIGN5Y2xlID0gdGltZXIoc2NoZWR1bGluZ19xdWV1ZS5kcmFpbik7XG4gICAgfVxuICB9IC8vIHByb21pc2UgZHVjayB0eXBpbmdcblxuXG4gIGZ1bmN0aW9uIGlzVGhlbmFibGUobykge1xuICAgIHZhciBfdGhlbixcbiAgICAgICAgb190eXBlID0gdHlwZW9mIG87XG5cbiAgICBpZiAobyAhPSBudWxsICYmIChvX3R5cGUgPT0gXCJvYmplY3RcIiB8fCBvX3R5cGUgPT0gXCJmdW5jdGlvblwiKSkge1xuICAgICAgX3RoZW4gPSBvLnRoZW47XG4gICAgfVxuXG4gICAgcmV0dXJuIHR5cGVvZiBfdGhlbiA9PSBcImZ1bmN0aW9uXCIgPyBfdGhlbiA6IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gbm90aWZ5KCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGFpbi5sZW5ndGg7IGkrKykge1xuICAgICAgbm90aWZ5SXNvbGF0ZWQodGhpcywgdGhpcy5zdGF0ZSA9PT0gMSA/IHRoaXMuY2hhaW5baV0uc3VjY2VzcyA6IHRoaXMuY2hhaW5baV0uZmFpbHVyZSwgdGhpcy5jaGFpbltpXSk7XG4gICAgfVxuXG4gICAgdGhpcy5jaGFpbi5sZW5ndGggPSAwO1xuICB9IC8vIE5PVEU6IFRoaXMgaXMgYSBzZXBhcmF0ZSBmdW5jdGlvbiB0byBpc29sYXRlXG4gIC8vIHRoZSBgdHJ5Li5jYXRjaGAgc28gdGhhdCBvdGhlciBjb2RlIGNhbiBiZVxuICAvLyBvcHRpbWl6ZWQgYmV0dGVyXG5cblxuICBmdW5jdGlvbiBub3RpZnlJc29sYXRlZChzZWxmLCBjYiwgY2hhaW4pIHtcbiAgICB2YXIgcmV0LCBfdGhlbjtcblxuICAgIHRyeSB7XG4gICAgICBpZiAoY2IgPT09IGZhbHNlKSB7XG4gICAgICAgIGNoYWluLnJlamVjdChzZWxmLm1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoY2IgPT09IHRydWUpIHtcbiAgICAgICAgICByZXQgPSBzZWxmLm1zZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXQgPSBjYi5jYWxsKHZvaWQgMCwgc2VsZi5tc2cpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJldCA9PT0gY2hhaW4ucHJvbWlzZSkge1xuICAgICAgICAgIGNoYWluLnJlamVjdChUeXBlRXJyb3IoXCJQcm9taXNlLWNoYWluIGN5Y2xlXCIpKTtcbiAgICAgICAgfSBlbHNlIGlmIChfdGhlbiA9IGlzVGhlbmFibGUocmV0KSkge1xuICAgICAgICAgIF90aGVuLmNhbGwocmV0LCBjaGFpbi5yZXNvbHZlLCBjaGFpbi5yZWplY3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoYWluLnJlc29sdmUocmV0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY2hhaW4ucmVqZWN0KGVycik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZShtc2cpIHtcbiAgICB2YXIgX3RoZW4sXG4gICAgICAgIHNlbGYgPSB0aGlzOyAvLyBhbHJlYWR5IHRyaWdnZXJlZD9cblxuXG4gICAgaWYgKHNlbGYudHJpZ2dlcmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2VsZi50cmlnZ2VyZWQgPSB0cnVlOyAvLyB1bndyYXBcblxuICAgIGlmIChzZWxmLmRlZikge1xuICAgICAgc2VsZiA9IHNlbGYuZGVmO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBpZiAoX3RoZW4gPSBpc1RoZW5hYmxlKG1zZykpIHtcbiAgICAgICAgc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBkZWZfd3JhcHBlciA9IG5ldyBNYWtlRGVmV3JhcHBlcihzZWxmKTtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBfdGhlbi5jYWxsKG1zZywgZnVuY3Rpb24gJHJlc29sdmUkKCkge1xuICAgICAgICAgICAgICByZXNvbHZlLmFwcGx5KGRlZl93cmFwcGVyLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gJHJlamVjdCQoKSB7XG4gICAgICAgICAgICAgIHJlamVjdC5hcHBseShkZWZfd3JhcHBlciwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmVqZWN0LmNhbGwoZGVmX3dyYXBwZXIsIGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYubXNnID0gbXNnO1xuICAgICAgICBzZWxmLnN0YXRlID0gMTtcblxuICAgICAgICBpZiAoc2VsZi5jaGFpbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgc2NoZWR1bGUobm90aWZ5LCBzZWxmKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVqZWN0LmNhbGwobmV3IE1ha2VEZWZXcmFwcGVyKHNlbGYpLCBlcnIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlamVjdChtc2cpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7IC8vIGFscmVhZHkgdHJpZ2dlcmVkP1xuXG4gICAgaWYgKHNlbGYudHJpZ2dlcmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2VsZi50cmlnZ2VyZWQgPSB0cnVlOyAvLyB1bndyYXBcblxuICAgIGlmIChzZWxmLmRlZikge1xuICAgICAgc2VsZiA9IHNlbGYuZGVmO1xuICAgIH1cblxuICAgIHNlbGYubXNnID0gbXNnO1xuICAgIHNlbGYuc3RhdGUgPSAyO1xuXG4gICAgaWYgKHNlbGYuY2hhaW4ubGVuZ3RoID4gMCkge1xuICAgICAgc2NoZWR1bGUobm90aWZ5LCBzZWxmKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpdGVyYXRlUHJvbWlzZXMoQ29uc3RydWN0b3IsIGFyciwgcmVzb2x2ZXIsIHJlamVjdGVyKSB7XG4gICAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgYXJyLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgIChmdW5jdGlvbiBJSUZFKGlkeCkge1xuICAgICAgICBDb25zdHJ1Y3Rvci5yZXNvbHZlKGFycltpZHhdKS50aGVuKGZ1bmN0aW9uICRyZXNvbHZlciQobXNnKSB7XG4gICAgICAgICAgcmVzb2x2ZXIoaWR4LCBtc2cpO1xuICAgICAgICB9LCByZWplY3Rlcik7XG4gICAgICB9KShpZHgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIE1ha2VEZWZXcmFwcGVyKHNlbGYpIHtcbiAgICB0aGlzLmRlZiA9IHNlbGY7XG4gICAgdGhpcy50cmlnZ2VyZWQgPSBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIE1ha2VEZWYoc2VsZikge1xuICAgIHRoaXMucHJvbWlzZSA9IHNlbGY7XG4gICAgdGhpcy5zdGF0ZSA9IDA7XG4gICAgdGhpcy50cmlnZ2VyZWQgPSBmYWxzZTtcbiAgICB0aGlzLmNoYWluID0gW107XG4gICAgdGhpcy5tc2cgPSB2b2lkIDA7XG4gIH1cblxuICBmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKSB7XG4gICAgaWYgKHR5cGVvZiBleGVjdXRvciAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRocm93IFR5cGVFcnJvcihcIk5vdCBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9fTlBPX18gIT09IDApIHtcbiAgICAgIHRocm93IFR5cGVFcnJvcihcIk5vdCBhIHByb21pc2VcIik7XG4gICAgfSAvLyBpbnN0YW5jZSBzaGFkb3dpbmcgdGhlIGluaGVyaXRlZCBcImJyYW5kXCJcbiAgICAvLyB0byBzaWduYWwgYW4gYWxyZWFkeSBcImluaXRpYWxpemVkXCIgcHJvbWlzZVxuXG5cbiAgICB0aGlzLl9fTlBPX18gPSAxO1xuICAgIHZhciBkZWYgPSBuZXcgTWFrZURlZih0aGlzKTtcblxuICAgIHRoaXNbXCJ0aGVuXCJdID0gZnVuY3Rpb24gdGhlbihzdWNjZXNzLCBmYWlsdXJlKSB7XG4gICAgICB2YXIgbyA9IHtcbiAgICAgICAgc3VjY2VzczogdHlwZW9mIHN1Y2Nlc3MgPT0gXCJmdW5jdGlvblwiID8gc3VjY2VzcyA6IHRydWUsXG4gICAgICAgIGZhaWx1cmU6IHR5cGVvZiBmYWlsdXJlID09IFwiZnVuY3Rpb25cIiA/IGZhaWx1cmUgOiBmYWxzZVxuICAgICAgfTsgLy8gTm90ZTogYHRoZW4oLi4pYCBpdHNlbGYgY2FuIGJlIGJvcnJvd2VkIHRvIGJlIHVzZWQgYWdhaW5zdFxuICAgICAgLy8gYSBkaWZmZXJlbnQgcHJvbWlzZSBjb25zdHJ1Y3RvciBmb3IgbWFraW5nIHRoZSBjaGFpbmVkIHByb21pc2UsXG4gICAgICAvLyBieSBzdWJzdGl0dXRpbmcgYSBkaWZmZXJlbnQgYHRoaXNgIGJpbmRpbmcuXG5cbiAgICAgIG8ucHJvbWlzZSA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGZ1bmN0aW9uIGV4dHJhY3RDaGFpbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgaWYgKHR5cGVvZiByZXNvbHZlICE9IFwiZnVuY3Rpb25cIiB8fCB0eXBlb2YgcmVqZWN0ICE9IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIk5vdCBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgby5yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgby5yZWplY3QgPSByZWplY3Q7XG4gICAgICB9KTtcbiAgICAgIGRlZi5jaGFpbi5wdXNoKG8pO1xuXG4gICAgICBpZiAoZGVmLnN0YXRlICE9PSAwKSB7XG4gICAgICAgIHNjaGVkdWxlKG5vdGlmeSwgZGVmKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG8ucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgdGhpc1tcImNhdGNoXCJdID0gZnVuY3Rpb24gJGNhdGNoJChmYWlsdXJlKSB7XG4gICAgICByZXR1cm4gdGhpcy50aGVuKHZvaWQgMCwgZmFpbHVyZSk7XG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICBleGVjdXRvci5jYWxsKHZvaWQgMCwgZnVuY3Rpb24gcHVibGljUmVzb2x2ZShtc2cpIHtcbiAgICAgICAgcmVzb2x2ZS5jYWxsKGRlZiwgbXNnKTtcbiAgICAgIH0sIGZ1bmN0aW9uIHB1YmxpY1JlamVjdChtc2cpIHtcbiAgICAgICAgcmVqZWN0LmNhbGwoZGVmLCBtc2cpO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZWplY3QuY2FsbChkZWYsIGVycik7XG4gICAgfVxuICB9XG5cbiAgdmFyIFByb21pc2VQcm90b3R5cGUgPSBidWlsdEluUHJvcCh7fSwgXCJjb25zdHJ1Y3RvclwiLCBQcm9taXNlLFxuICAvKmNvbmZpZ3VyYWJsZT0qL1xuICBmYWxzZSk7IC8vIE5vdGU6IEFuZHJvaWQgNCBjYW5ub3QgdXNlIGBPYmplY3QuZGVmaW5lUHJvcGVydHkoLi4pYCBoZXJlXG5cbiAgUHJvbWlzZS5wcm90b3R5cGUgPSBQcm9taXNlUHJvdG90eXBlOyAvLyBidWlsdC1pbiBcImJyYW5kXCIgdG8gc2lnbmFsIGFuIFwidW5pbml0aWFsaXplZFwiIHByb21pc2VcblxuICBidWlsdEluUHJvcChQcm9taXNlUHJvdG90eXBlLCBcIl9fTlBPX19cIiwgMCxcbiAgLypjb25maWd1cmFibGU9Ki9cbiAgZmFsc2UpO1xuICBidWlsdEluUHJvcChQcm9taXNlLCBcInJlc29sdmVcIiwgZnVuY3Rpb24gUHJvbWlzZSRyZXNvbHZlKG1zZykge1xuICAgIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7IC8vIHNwZWMgbWFuZGF0ZWQgY2hlY2tzXG4gICAgLy8gbm90ZTogYmVzdCBcImlzUHJvbWlzZVwiIGNoZWNrIHRoYXQncyBwcmFjdGljYWwgZm9yIG5vd1xuXG4gICAgaWYgKG1zZyAmJiB0eXBlb2YgbXNnID09IFwib2JqZWN0XCIgJiYgbXNnLl9fTlBPX18gPT09IDEpIHtcbiAgICAgIHJldHVybiBtc2c7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiBleGVjdXRvcihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVzb2x2ZSAhPSBcImZ1bmN0aW9uXCIgfHwgdHlwZW9mIHJlamVjdCAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiTm90IGEgZnVuY3Rpb25cIik7XG4gICAgICB9XG5cbiAgICAgIHJlc29sdmUobXNnKTtcbiAgICB9KTtcbiAgfSk7XG4gIGJ1aWx0SW5Qcm9wKFByb21pc2UsIFwicmVqZWN0XCIsIGZ1bmN0aW9uIFByb21pc2UkcmVqZWN0KG1zZykge1xuICAgIHJldHVybiBuZXcgdGhpcyhmdW5jdGlvbiBleGVjdXRvcihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVzb2x2ZSAhPSBcImZ1bmN0aW9uXCIgfHwgdHlwZW9mIHJlamVjdCAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiTm90IGEgZnVuY3Rpb25cIik7XG4gICAgICB9XG5cbiAgICAgIHJlamVjdChtc2cpO1xuICAgIH0pO1xuICB9KTtcbiAgYnVpbHRJblByb3AoUHJvbWlzZSwgXCJhbGxcIiwgZnVuY3Rpb24gUHJvbWlzZSRhbGwoYXJyKSB7XG4gICAgdmFyIENvbnN0cnVjdG9yID0gdGhpczsgLy8gc3BlYyBtYW5kYXRlZCBjaGVja3NcblxuICAgIGlmIChUb1N0cmluZy5jYWxsKGFycikgIT0gXCJbb2JqZWN0IEFycmF5XVwiKSB7XG4gICAgICByZXR1cm4gQ29uc3RydWN0b3IucmVqZWN0KFR5cGVFcnJvcihcIk5vdCBhbiBhcnJheVwiKSk7XG4gICAgfVxuXG4gICAgaWYgKGFyci5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBDb25zdHJ1Y3Rvci5yZXNvbHZlKFtdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKGZ1bmN0aW9uIGV4ZWN1dG9yKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgaWYgKHR5cGVvZiByZXNvbHZlICE9IFwiZnVuY3Rpb25cIiB8fCB0eXBlb2YgcmVqZWN0ICE9IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJOb3QgYSBmdW5jdGlvblwiKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGxlbiA9IGFyci5sZW5ndGgsXG4gICAgICAgICAgbXNncyA9IEFycmF5KGxlbiksXG4gICAgICAgICAgY291bnQgPSAwO1xuICAgICAgaXRlcmF0ZVByb21pc2VzKENvbnN0cnVjdG9yLCBhcnIsIGZ1bmN0aW9uIHJlc29sdmVyKGlkeCwgbXNnKSB7XG4gICAgICAgIG1zZ3NbaWR4XSA9IG1zZztcblxuICAgICAgICBpZiAoKytjb3VudCA9PT0gbGVuKSB7XG4gICAgICAgICAgcmVzb2x2ZShtc2dzKTtcbiAgICAgICAgfVxuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfSk7XG4gIGJ1aWx0SW5Qcm9wKFByb21pc2UsIFwicmFjZVwiLCBmdW5jdGlvbiBQcm9taXNlJHJhY2UoYXJyKSB7XG4gICAgdmFyIENvbnN0cnVjdG9yID0gdGhpczsgLy8gc3BlYyBtYW5kYXRlZCBjaGVja3NcblxuICAgIGlmIChUb1N0cmluZy5jYWxsKGFycikgIT0gXCJbb2JqZWN0IEFycmF5XVwiKSB7XG4gICAgICByZXR1cm4gQ29uc3RydWN0b3IucmVqZWN0KFR5cGVFcnJvcihcIk5vdCBhbiBhcnJheVwiKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiBleGVjdXRvcihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVzb2x2ZSAhPSBcImZ1bmN0aW9uXCIgfHwgdHlwZW9mIHJlamVjdCAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiTm90IGEgZnVuY3Rpb25cIik7XG4gICAgICB9XG5cbiAgICAgIGl0ZXJhdGVQcm9taXNlcyhDb25zdHJ1Y3RvciwgYXJyLCBmdW5jdGlvbiByZXNvbHZlcihpZHgsIG1zZykge1xuICAgICAgICByZXNvbHZlKG1zZyk7XG4gICAgICB9LCByZWplY3QpO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIFByb21pc2U7XG59KTtcbn0pO1xuXG4vKipcbiAqIEBtb2R1bGUgbGliL2NhbGxiYWNrc1xuICovXG52YXIgY2FsbGJhY2tNYXAgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBTdG9yZSBhIGNhbGxiYWNrIGZvciBhIG1ldGhvZCBvciBldmVudCBmb3IgYSBwbGF5ZXIuXG4gKlxuICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllciBUaGUgcGxheWVyIG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBtZXRob2Qgb3IgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7KGZ1bmN0aW9uKHRoaXM6UGxheWVyLCAqKTogdm9pZHx7cmVzb2x2ZTogZnVuY3Rpb24sIHJlamVjdDogZnVuY3Rpb259KX0gY2FsbGJhY2tcbiAqICAgICAgICBUaGUgY2FsbGJhY2sgdG8gY2FsbCBvciBhbiBvYmplY3Qgd2l0aCByZXNvbHZlIGFuZCByZWplY3QgZnVuY3Rpb25zIGZvciBhIHByb21pc2UuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5cbmZ1bmN0aW9uIHN0b3JlQ2FsbGJhY2socGxheWVyLCBuYW1lLCBjYWxsYmFjaykge1xuICB2YXIgcGxheWVyQ2FsbGJhY2tzID0gY2FsbGJhY2tNYXAuZ2V0KHBsYXllci5lbGVtZW50KSB8fCB7fTtcblxuICBpZiAoIShuYW1lIGluIHBsYXllckNhbGxiYWNrcykpIHtcbiAgICBwbGF5ZXJDYWxsYmFja3NbbmFtZV0gPSBbXTtcbiAgfVxuXG4gIHBsYXllckNhbGxiYWNrc1tuYW1lXS5wdXNoKGNhbGxiYWNrKTtcbiAgY2FsbGJhY2tNYXAuc2V0KHBsYXllci5lbGVtZW50LCBwbGF5ZXJDYWxsYmFja3MpO1xufVxuLyoqXG4gKiBHZXQgdGhlIGNhbGxiYWNrcyBmb3IgYSBwbGF5ZXIgYW5kIGV2ZW50IG9yIG1ldGhvZC5cbiAqXG4gKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyIFRoZSBwbGF5ZXIgb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG1ldGhvZCBvciBldmVudCBuYW1lXG4gKiBAcmV0dXJuIHtmdW5jdGlvbltdfVxuICovXG5cbmZ1bmN0aW9uIGdldENhbGxiYWNrcyhwbGF5ZXIsIG5hbWUpIHtcbiAgdmFyIHBsYXllckNhbGxiYWNrcyA9IGNhbGxiYWNrTWFwLmdldChwbGF5ZXIuZWxlbWVudCkgfHwge307XG4gIHJldHVybiBwbGF5ZXJDYWxsYmFja3NbbmFtZV0gfHwgW107XG59XG4vKipcbiAqIFJlbW92ZSBhIHN0b3JlZCBjYWxsYmFjayBmb3IgYSBtZXRob2Qgb3IgZXZlbnQgZm9yIGEgcGxheWVyLlxuICpcbiAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXIgVGhlIHBsYXllciBvYmplY3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbWV0aG9kIG9yIGV2ZW50IG5hbWVcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gVGhlIHNwZWNpZmljIGNhbGxiYWNrIHRvIHJlbW92ZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdhcyB0aGlzIHRoZSBsYXN0IGNhbGxiYWNrP1xuICovXG5cbmZ1bmN0aW9uIHJlbW92ZUNhbGxiYWNrKHBsYXllciwgbmFtZSwgY2FsbGJhY2spIHtcbiAgdmFyIHBsYXllckNhbGxiYWNrcyA9IGNhbGxiYWNrTWFwLmdldChwbGF5ZXIuZWxlbWVudCkgfHwge307XG5cbiAgaWYgKCFwbGF5ZXJDYWxsYmFja3NbbmFtZV0pIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBJZiBubyBjYWxsYmFjayBpcyBwYXNzZWQsIHJlbW92ZSBhbGwgY2FsbGJhY2tzIGZvciB0aGUgZXZlbnRcblxuXG4gIGlmICghY2FsbGJhY2spIHtcbiAgICBwbGF5ZXJDYWxsYmFja3NbbmFtZV0gPSBbXTtcbiAgICBjYWxsYmFja01hcC5zZXQocGxheWVyLmVsZW1lbnQsIHBsYXllckNhbGxiYWNrcyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB2YXIgaW5kZXggPSBwbGF5ZXJDYWxsYmFja3NbbmFtZV0uaW5kZXhPZihjYWxsYmFjayk7XG5cbiAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgIHBsYXllckNhbGxiYWNrc1tuYW1lXS5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG5cbiAgY2FsbGJhY2tNYXAuc2V0KHBsYXllci5lbGVtZW50LCBwbGF5ZXJDYWxsYmFja3MpO1xuICByZXR1cm4gcGxheWVyQ2FsbGJhY2tzW25hbWVdICYmIHBsYXllckNhbGxiYWNrc1tuYW1lXS5sZW5ndGggPT09IDA7XG59XG4vKipcbiAqIFJldHVybiB0aGUgZmlyc3Qgc3RvcmVkIGNhbGxiYWNrIGZvciBhIHBsYXllciBhbmQgZXZlbnQgb3IgbWV0aG9kLlxuICpcbiAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXIgVGhlIHBsYXllciBvYmplY3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbWV0aG9kIG9yIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIGNhbGxiYWNrLCBvciBmYWxzZSBpZiB0aGVyZSB3ZXJlIG5vbmVcbiAqL1xuXG5mdW5jdGlvbiBzaGlmdENhbGxiYWNrcyhwbGF5ZXIsIG5hbWUpIHtcbiAgdmFyIHBsYXllckNhbGxiYWNrcyA9IGdldENhbGxiYWNrcyhwbGF5ZXIsIG5hbWUpO1xuXG4gIGlmIChwbGF5ZXJDYWxsYmFja3MubGVuZ3RoIDwgMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBjYWxsYmFjayA9IHBsYXllckNhbGxiYWNrcy5zaGlmdCgpO1xuICByZW1vdmVDYWxsYmFjayhwbGF5ZXIsIG5hbWUsIGNhbGxiYWNrKTtcbiAgcmV0dXJuIGNhbGxiYWNrO1xufVxuLyoqXG4gKiBNb3ZlIGNhbGxiYWNrcyBhc3NvY2lhdGVkIHdpdGggYW4gZWxlbWVudCB0byBhbm90aGVyIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gb2xkRWxlbWVudCBUaGUgb2xkIGVsZW1lbnQuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBuZXdFbGVtZW50IFRoZSBuZXcgZWxlbWVudC5cbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cblxuZnVuY3Rpb24gc3dhcENhbGxiYWNrcyhvbGRFbGVtZW50LCBuZXdFbGVtZW50KSB7XG4gIHZhciBwbGF5ZXJDYWxsYmFja3MgPSBjYWxsYmFja01hcC5nZXQob2xkRWxlbWVudCk7XG4gIGNhbGxiYWNrTWFwLnNldChuZXdFbGVtZW50LCBwbGF5ZXJDYWxsYmFja3MpO1xuICBjYWxsYmFja01hcC5kZWxldGUob2xkRWxlbWVudCk7XG59XG5cbi8qKlxuICogQG1vZHVsZSBsaWIvcG9zdG1lc3NhZ2VcbiAqL1xuLyoqXG4gKiBQYXJzZSBhIG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSBwb3N0TWVzc2FnZS5cbiAqXG4gKiBAcGFyYW0geyp9IGRhdGEgVGhlIGRhdGEgcmVjZWl2ZWQgZnJvbSBwb3N0TWVzc2FnZS5cbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xuXG5mdW5jdGlvbiBwYXJzZU1lc3NhZ2VEYXRhKGRhdGEpIHtcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgIHRyeSB7XG4gICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gSWYgdGhlIG1lc3NhZ2UgY2Fubm90IGJlIHBhcnNlZCwgdGhyb3cgdGhlIGVycm9yIGFzIGEgd2FybmluZ1xuICAgICAgY29uc29sZS53YXJuKGVycm9yKTtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cbi8qKlxuICogUG9zdCBhIG1lc3NhZ2UgdG8gdGhlIHNwZWNpZmllZCB0YXJnZXQuXG4gKlxuICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllciBUaGUgcGxheWVyIG9iamVjdCB0byB1c2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIFRoZSBBUEkgbWV0aG9kIHRvIGNhbGwuXG4gKiBAcGFyYW0ge29iamVjdH0gcGFyYW1zIFRoZSBwYXJhbWV0ZXJzIHRvIHNlbmQgdG8gdGhlIHBsYXllci5cbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cblxuZnVuY3Rpb24gcG9zdE1lc3NhZ2UocGxheWVyLCBtZXRob2QsIHBhcmFtcykge1xuICBpZiAoIXBsYXllci5lbGVtZW50LmNvbnRlbnRXaW5kb3cgfHwgIXBsYXllci5lbGVtZW50LmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgbWVzc2FnZSA9IHtcbiAgICBtZXRob2Q6IG1ldGhvZFxuICB9O1xuXG4gIGlmIChwYXJhbXMgIT09IHVuZGVmaW5lZCkge1xuICAgIG1lc3NhZ2UudmFsdWUgPSBwYXJhbXM7XG4gIH0gLy8gSUUgOCBhbmQgOSBkbyBub3Qgc3VwcG9ydCBwYXNzaW5nIG1lc3NhZ2VzLCBzbyBzdHJpbmdpZnkgdGhlbVxuXG5cbiAgdmFyIGllVmVyc2lvbiA9IHBhcnNlRmxvYXQobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL14uKm1zaWUgKFxcZCspLiokLywgJyQxJykpO1xuXG4gIGlmIChpZVZlcnNpb24gPj0gOCAmJiBpZVZlcnNpb24gPCAxMCkge1xuICAgIG1lc3NhZ2UgPSBKU09OLnN0cmluZ2lmeShtZXNzYWdlKTtcbiAgfVxuXG4gIHBsYXllci5lbGVtZW50LmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UobWVzc2FnZSwgcGxheWVyLm9yaWdpbik7XG59XG4vKipcbiAqIFBhcnNlIHRoZSBkYXRhIHJlY2VpdmVkIGZyb20gYSBtZXNzYWdlIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXIgVGhlIHBsYXllciB0aGF0IHJlY2VpdmVkIHRoZSBtZXNzYWdlLlxuICogQHBhcmFtIHsoT2JqZWN0fHN0cmluZyl9IGRhdGEgVGhlIG1lc3NhZ2UgZGF0YS4gU3RyaW5ncyB3aWxsIGJlIHBhcnNlZCBpbnRvIEpTT04uXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5cbmZ1bmN0aW9uIHByb2Nlc3NEYXRhKHBsYXllciwgZGF0YSkge1xuICBkYXRhID0gcGFyc2VNZXNzYWdlRGF0YShkYXRhKTtcbiAgdmFyIGNhbGxiYWNrcyA9IFtdO1xuICB2YXIgcGFyYW07XG5cbiAgaWYgKGRhdGEuZXZlbnQpIHtcbiAgICBpZiAoZGF0YS5ldmVudCA9PT0gJ2Vycm9yJykge1xuICAgICAgdmFyIHByb21pc2VzID0gZ2V0Q2FsbGJhY2tzKHBsYXllciwgZGF0YS5kYXRhLm1ldGhvZCk7XG4gICAgICBwcm9taXNlcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihkYXRhLmRhdGEubWVzc2FnZSk7XG4gICAgICAgIGVycm9yLm5hbWUgPSBkYXRhLmRhdGEubmFtZTtcbiAgICAgICAgcHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICByZW1vdmVDYWxsYmFjayhwbGF5ZXIsIGRhdGEuZGF0YS5tZXRob2QsIHByb21pc2UpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY2FsbGJhY2tzID0gZ2V0Q2FsbGJhY2tzKHBsYXllciwgXCJldmVudDpcIi5jb25jYXQoZGF0YS5ldmVudCkpO1xuICAgIHBhcmFtID0gZGF0YS5kYXRhO1xuICB9IGVsc2UgaWYgKGRhdGEubWV0aG9kKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gc2hpZnRDYWxsYmFja3MocGxheWVyLCBkYXRhLm1ldGhvZCk7XG5cbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgIHBhcmFtID0gZGF0YS52YWx1ZTtcbiAgICB9XG4gIH1cblxuICBjYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYWxsYmFjay5jYWxsKHBsYXllciwgcGFyYW0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNhbGxiYWNrLnJlc29sdmUocGFyYW0pO1xuICAgIH0gY2F0Y2ggKGUpIHsvLyBlbXB0eVxuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogQG1vZHVsZSBsaWIvZW1iZWRcbiAqL1xudmFyIG9FbWJlZFBhcmFtZXRlcnMgPSBbJ2F1dG9wYXVzZScsICdhdXRvcGxheScsICdiYWNrZ3JvdW5kJywgJ2J5bGluZScsICdjb2xvcicsICdjb250cm9scycsICdkbnQnLCAnaGVpZ2h0JywgJ2lkJywgJ2ludGVyYWN0aXZlX3BhcmFtcycsICdrZXlib2FyZCcsICdsb29wJywgJ21heGhlaWdodCcsICdtYXh3aWR0aCcsICdtdXRlZCcsICdwbGF5c2lubGluZScsICdwb3J0cmFpdCcsICdyZXNwb25zaXZlJywgJ3NwZWVkJywgJ3RleHR0cmFjaycsICd0aXRsZScsICd0cmFuc3BhcmVudCcsICd1cmwnLCAnd2lkdGgnXTtcbi8qKlxuICogR2V0IHRoZSAnZGF0YS12aW1lbyctcHJlZml4ZWQgYXR0cmlidXRlcyBmcm9tIGFuIGVsZW1lbnQgYXMgYW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQuXG4gKiBAcGFyYW0ge09iamVjdH0gW2RlZmF1bHRzPXt9XSBUaGUgZGVmYXVsdCB2YWx1ZXMgdG8gdXNlLlxuICogQHJldHVybiB7T2JqZWN0PHN0cmluZywgc3RyaW5nPn1cbiAqL1xuXG5mdW5jdGlvbiBnZXRPRW1iZWRQYXJhbWV0ZXJzKGVsZW1lbnQpIHtcbiAgdmFyIGRlZmF1bHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgcmV0dXJuIG9FbWJlZFBhcmFtZXRlcnMucmVkdWNlKGZ1bmN0aW9uIChwYXJhbXMsIHBhcmFtKSB7XG4gICAgdmFyIHZhbHVlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXZpbWVvLVwiLmNvbmNhdChwYXJhbSkpO1xuXG4gICAgaWYgKHZhbHVlIHx8IHZhbHVlID09PSAnJykge1xuICAgICAgcGFyYW1zW3BhcmFtXSA9IHZhbHVlID09PSAnJyA/IDEgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyYW1zO1xuICB9LCBkZWZhdWx0cyk7XG59XG4vKipcbiAqIENyZWF0ZSBhbiBlbWJlZCBmcm9tIG9FbWJlZCBkYXRhIGluc2lkZSBhbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIFRoZSBvRW1iZWQgZGF0YS5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gcHV0IHRoZSBpZnJhbWUgaW4uXG4gKiBAcmV0dXJuIHtIVE1MSUZyYW1lRWxlbWVudH0gVGhlIGlmcmFtZSBlbWJlZC5cbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVFbWJlZChfcmVmLCBlbGVtZW50KSB7XG4gIHZhciBodG1sID0gX3JlZi5odG1sO1xuXG4gIGlmICghZWxlbWVudCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FuIGVsZW1lbnQgbXVzdCBiZSBwcm92aWRlZCcpO1xuICB9XG5cbiAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXZpbWVvLWluaXRpYWxpemVkJykgIT09IG51bGwpIHtcbiAgICByZXR1cm4gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpZnJhbWUnKTtcbiAgfVxuXG4gIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZGl2LmlubmVySFRNTCA9IGh0bWw7XG4gIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZGl2LmZpcnN0Q2hpbGQpO1xuICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS12aW1lby1pbml0aWFsaXplZCcsICd0cnVlJyk7XG4gIHJldHVybiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lmcmFtZScpO1xufVxuLyoqXG4gKiBNYWtlIGFuIG9FbWJlZCBjYWxsIGZvciB0aGUgc3BlY2lmaWVkIFVSTC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmlkZW9VcmwgVGhlIHZpbWVvLmNvbSB1cmwgZm9yIHRoZSB2aWRlby5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcGFyYW1zXSBQYXJhbWV0ZXJzIHRvIHBhc3MgdG8gb0VtYmVkLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudC5cbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKi9cblxuZnVuY3Rpb24gZ2V0T0VtYmVkRGF0YSh2aWRlb1VybCkge1xuICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgdmFyIGVsZW1lbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBpZiAoIWlzVmltZW9VcmwodmlkZW9VcmwpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiXFx1MjAxQ1wiLmNvbmNhdCh2aWRlb1VybCwgXCJcXHUyMDFEIGlzIG5vdCBhIHZpbWVvLmNvbSB1cmwuXCIpKTtcbiAgICB9XG5cbiAgICB2YXIgdXJsID0gXCJodHRwczovL3ZpbWVvLmNvbS9hcGkvb2VtYmVkLmpzb24/dXJsPVwiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQodmlkZW9VcmwpKTtcblxuICAgIGZvciAodmFyIHBhcmFtIGluIHBhcmFtcykge1xuICAgICAgaWYgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShwYXJhbSkpIHtcbiAgICAgICAgdXJsICs9IFwiJlwiLmNvbmNhdChwYXJhbSwgXCI9XCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQocGFyYW1zW3BhcmFtXSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB4aHIgPSAnWERvbWFpblJlcXVlc3QnIGluIHdpbmRvdyA/IG5ldyBYRG9tYWluUmVxdWVzdCgpIDogbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgeGhyLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XG5cbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICByZWplY3QobmV3IEVycm9yKFwiXFx1MjAxQ1wiLmNvbmNhdCh2aWRlb1VybCwgXCJcXHUyMDFEIHdhcyBub3QgZm91bmQuXCIpKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDQwMykge1xuICAgICAgICByZWplY3QobmV3IEVycm9yKFwiXFx1MjAxQ1wiLmNvbmNhdCh2aWRlb1VybCwgXCJcXHUyMDFEIGlzIG5vdCBlbWJlZGRhYmxlLlwiKSkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTsgLy8gQ2hlY2sgYXBpIHJlc3BvbnNlIGZvciA0MDMgb24gb2VtYmVkXG5cbiAgICAgICAgaWYgKGpzb24uZG9tYWluX3N0YXR1c19jb2RlID09PSA0MDMpIHtcbiAgICAgICAgICAvLyBXZSBzdGlsbCB3YW50IHRvIGNyZWF0ZSB0aGUgZW1iZWQgdG8gZ2l2ZSB1c2VycyB2aXN1YWwgZmVlZGJhY2tcbiAgICAgICAgICBjcmVhdGVFbWJlZChqc29uLCBlbGVtZW50KTtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiXFx1MjAxQ1wiLmNvbmNhdCh2aWRlb1VybCwgXCJcXHUyMDFEIGlzIG5vdCBlbWJlZGRhYmxlLlwiKSkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc29sdmUoanNvbik7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdGF0dXMgPSB4aHIuc3RhdHVzID8gXCIgKFwiLmNvbmNhdCh4aHIuc3RhdHVzLCBcIilcIikgOiAnJztcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJUaGVyZSB3YXMgYW4gZXJyb3IgZmV0Y2hpbmcgdGhlIGVtYmVkIGNvZGUgZnJvbSBWaW1lb1wiLmNvbmNhdChzdGF0dXMsIFwiLlwiKSkpO1xuICAgIH07XG5cbiAgICB4aHIuc2VuZCgpO1xuICB9KTtcbn1cbi8qKlxuICogSW5pdGlhbGl6ZSBhbGwgZW1iZWRzIHdpdGhpbiBhIHNwZWNpZmljIGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbcGFyZW50PWRvY3VtZW50XSBUaGUgcGFyZW50IGVsZW1lbnQuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5cbmZ1bmN0aW9uIGluaXRpYWxpemVFbWJlZHMoKSB7XG4gIHZhciBwYXJlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGRvY3VtZW50O1xuICB2YXIgZWxlbWVudHMgPSBbXS5zbGljZS5jYWxsKHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS12aW1lby1pZF0sIFtkYXRhLXZpbWVvLXVybF0nKSk7XG5cbiAgdmFyIGhhbmRsZUVycm9yID0gZnVuY3Rpb24gaGFuZGxlRXJyb3IoZXJyb3IpIHtcbiAgICBpZiAoJ2NvbnNvbGUnIGluIHdpbmRvdyAmJiBjb25zb2xlLmVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiVGhlcmUgd2FzIGFuIGVycm9yIGNyZWF0aW5nIGFuIGVtYmVkOiBcIi5jb25jYXQoZXJyb3IpKTtcbiAgICB9XG4gIH07XG5cbiAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBTa2lwIGFueSB0aGF0IGhhdmUgZGF0YS12aW1lby1kZWZlclxuICAgICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXZpbWVvLWRlZmVyJykgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGFyYW1zID0gZ2V0T0VtYmVkUGFyYW1ldGVycyhlbGVtZW50KTtcbiAgICAgIHZhciB1cmwgPSBnZXRWaW1lb1VybChwYXJhbXMpO1xuICAgICAgZ2V0T0VtYmVkRGF0YSh1cmwsIHBhcmFtcywgZWxlbWVudCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRW1iZWQoZGF0YSwgZWxlbWVudCk7XG4gICAgICB9KS5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGhhbmRsZUVycm9yKGVycm9yKTtcbiAgICB9XG4gIH0pO1xufVxuLyoqXG4gKiBSZXNpemUgZW1iZWRzIHdoZW4gbWVzc2FnZWQgYnkgdGhlIHBsYXllci5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbcGFyZW50PWRvY3VtZW50XSBUaGUgcGFyZW50IGVsZW1lbnQuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5cbmZ1bmN0aW9uIHJlc2l6ZUVtYmVkcygpIHtcbiAgdmFyIHBhcmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZG9jdW1lbnQ7XG5cbiAgLy8gUHJldmVudCBleGVjdXRpb24gaWYgdXNlcnMgaW5jbHVkZSB0aGUgcGxheWVyLmpzIHNjcmlwdCBtdWx0aXBsZSB0aW1lcy5cbiAgaWYgKHdpbmRvdy5WaW1lb1BsYXllclJlc2l6ZUVtYmVkc18pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB3aW5kb3cuVmltZW9QbGF5ZXJSZXNpemVFbWJlZHNfID0gdHJ1ZTtcblxuICB2YXIgb25NZXNzYWdlID0gZnVuY3Rpb24gb25NZXNzYWdlKGV2ZW50KSB7XG4gICAgaWYgKCFpc1ZpbWVvVXJsKGV2ZW50Lm9yaWdpbikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vICdzcGFjZWNoYW5nZScgaXMgZmlyZWQgb25seSBvbiBlbWJlZHMgd2l0aCBjYXJkc1xuXG5cbiAgICBpZiAoIWV2ZW50LmRhdGEgfHwgZXZlbnQuZGF0YS5ldmVudCAhPT0gJ3NwYWNlY2hhbmdlJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpZnJhbWVzID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lmcmFtZScpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpZnJhbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoaWZyYW1lc1tpXS5jb250ZW50V2luZG93ICE9PSBldmVudC5zb3VyY2UpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IC8vIENoYW5nZSBwYWRkaW5nLWJvdHRvbSBvZiB0aGUgZW5jbG9zaW5nIGRpdiB0byBhY2NvbW1vZGF0ZVxuICAgICAgLy8gY2FyZCBjYXJvdXNlbCB3aXRob3V0IGRpc3RvcnRpbmcgYXNwZWN0IHJhdGlvXG5cblxuICAgICAgdmFyIHNwYWNlID0gaWZyYW1lc1tpXS5wYXJlbnRFbGVtZW50O1xuICAgICAgc3BhY2Uuc3R5bGUucGFkZGluZ0JvdHRvbSA9IFwiXCIuY29uY2F0KGV2ZW50LmRhdGEuZGF0YVswXS5ib3R0b20sIFwicHhcIik7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH07XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBvbk1lc3NhZ2UpO1xufVxuLyoqXG4gKiBBZGQgY2hhcHRlcnMgdG8gZXhpc3RpbmcgbWV0YWRhdGEgZm9yIEdvb2dsZSBTRU9cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbcGFyZW50PWRvY3VtZW50XSBUaGUgcGFyZW50IGVsZW1lbnQuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5cbmZ1bmN0aW9uIGluaXRBcHBlbmRWaWRlb01ldGFkYXRhKCkge1xuICB2YXIgcGFyZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBkb2N1bWVudDtcblxuICAvLyAgUHJldmVudCBleGVjdXRpb24gaWYgdXNlcnMgaW5jbHVkZSB0aGUgcGxheWVyLmpzIHNjcmlwdCBtdWx0aXBsZSB0aW1lcy5cbiAgaWYgKHdpbmRvdy5WaW1lb1Nlb01ldGFkYXRhQXBwZW5kZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB3aW5kb3cuVmltZW9TZW9NZXRhZGF0YUFwcGVuZGVkID0gdHJ1ZTtcblxuICB2YXIgb25NZXNzYWdlID0gZnVuY3Rpb24gb25NZXNzYWdlKGV2ZW50KSB7XG4gICAgaWYgKCFpc1ZpbWVvVXJsKGV2ZW50Lm9yaWdpbikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZGF0YSA9IHBhcnNlTWVzc2FnZURhdGEoZXZlbnQuZGF0YSk7XG5cbiAgICBpZiAoIWRhdGEgfHwgZGF0YS5ldmVudCAhPT0gJ3JlYWR5Jykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpZnJhbWVzID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lmcmFtZScpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpZnJhbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWZyYW1lID0gaWZyYW1lc1tpXTsgLy8gSW5pdGlhdGUgYXBwZW5kVmlkZW9NZXRhZGF0YSBpZiBpZnJhbWUgaXMgYSBWaW1lbyBlbWJlZFxuXG4gICAgICB2YXIgaXNWYWxpZE1lc3NhZ2VTb3VyY2UgPSBpZnJhbWUuY29udGVudFdpbmRvdyA9PT0gZXZlbnQuc291cmNlO1xuXG4gICAgICBpZiAoaXNWaW1lb0VtYmVkKGlmcmFtZS5zcmMpICYmIGlzVmFsaWRNZXNzYWdlU291cmNlKSB7XG4gICAgICAgIHZhciBwbGF5ZXIgPSBuZXcgUGxheWVyKGlmcmFtZSk7XG4gICAgICAgIHBsYXllci5jYWxsTWV0aG9kKCdhcHBlbmRWaWRlb01ldGFkYXRhJywgd2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9uTWVzc2FnZSk7XG59XG5cbi8qIE1JVCBMaWNlbnNlXG5cbkNvcHlyaWdodCAoYykgU2luZHJlIFNvcmh1cyA8c2luZHJlc29yaHVzQGdtYWlsLmNvbT4gKHNpbmRyZXNvcmh1cy5jb20pXG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblRlcm1zICovXG5mdW5jdGlvbiBpbml0aWFsaXplU2NyZWVuZnVsbCgpIHtcbiAgdmFyIGZuID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB2YWw7XG4gICAgdmFyIGZuTWFwID0gW1sncmVxdWVzdEZ1bGxzY3JlZW4nLCAnZXhpdEZ1bGxzY3JlZW4nLCAnZnVsbHNjcmVlbkVsZW1lbnQnLCAnZnVsbHNjcmVlbkVuYWJsZWQnLCAnZnVsbHNjcmVlbmNoYW5nZScsICdmdWxsc2NyZWVuZXJyb3InXSwgLy8gTmV3IFdlYktpdFxuICAgIFsnd2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4nLCAnd2Via2l0RXhpdEZ1bGxzY3JlZW4nLCAnd2Via2l0RnVsbHNjcmVlbkVsZW1lbnQnLCAnd2Via2l0RnVsbHNjcmVlbkVuYWJsZWQnLCAnd2Via2l0ZnVsbHNjcmVlbmNoYW5nZScsICd3ZWJraXRmdWxsc2NyZWVuZXJyb3InXSwgLy8gT2xkIFdlYktpdFxuICAgIFsnd2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4nLCAnd2Via2l0Q2FuY2VsRnVsbFNjcmVlbicsICd3ZWJraXRDdXJyZW50RnVsbFNjcmVlbkVsZW1lbnQnLCAnd2Via2l0Q2FuY2VsRnVsbFNjcmVlbicsICd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJywgJ3dlYmtpdGZ1bGxzY3JlZW5lcnJvciddLCBbJ21velJlcXVlc3RGdWxsU2NyZWVuJywgJ21vekNhbmNlbEZ1bGxTY3JlZW4nLCAnbW96RnVsbFNjcmVlbkVsZW1lbnQnLCAnbW96RnVsbFNjcmVlbkVuYWJsZWQnLCAnbW96ZnVsbHNjcmVlbmNoYW5nZScsICdtb3pmdWxsc2NyZWVuZXJyb3InXSwgWydtc1JlcXVlc3RGdWxsc2NyZWVuJywgJ21zRXhpdEZ1bGxzY3JlZW4nLCAnbXNGdWxsc2NyZWVuRWxlbWVudCcsICdtc0Z1bGxzY3JlZW5FbmFibGVkJywgJ01TRnVsbHNjcmVlbkNoYW5nZScsICdNU0Z1bGxzY3JlZW5FcnJvciddXTtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGwgPSBmbk1hcC5sZW5ndGg7XG4gICAgdmFyIHJldCA9IHt9O1xuXG4gICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhbCA9IGZuTWFwW2ldO1xuXG4gICAgICBpZiAodmFsICYmIHZhbFsxXSBpbiBkb2N1bWVudCkge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdmFsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgcmV0W2ZuTWFwWzBdW2ldXSA9IHZhbFtpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KCk7XG5cbiAgdmFyIGV2ZW50TmFtZU1hcCA9IHtcbiAgICBmdWxsc2NyZWVuY2hhbmdlOiBmbi5mdWxsc2NyZWVuY2hhbmdlLFxuICAgIGZ1bGxzY3JlZW5lcnJvcjogZm4uZnVsbHNjcmVlbmVycm9yXG4gIH07XG4gIHZhciBzY3JlZW5mdWxsID0ge1xuICAgIHJlcXVlc3Q6IGZ1bmN0aW9uIHJlcXVlc3QoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdmFyIG9uRnVsbFNjcmVlbkVudGVyZWQgPSBmdW5jdGlvbiBvbkZ1bGxTY3JlZW5FbnRlcmVkKCkge1xuICAgICAgICAgIHNjcmVlbmZ1bGwub2ZmKCdmdWxsc2NyZWVuY2hhbmdlJywgb25GdWxsU2NyZWVuRW50ZXJlZCk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNjcmVlbmZ1bGwub24oJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBvbkZ1bGxTY3JlZW5FbnRlcmVkKTtcbiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICB2YXIgcmV0dXJuUHJvbWlzZSA9IGVsZW1lbnRbZm4ucmVxdWVzdEZ1bGxzY3JlZW5dKCk7XG5cbiAgICAgICAgaWYgKHJldHVyblByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgcmV0dXJuUHJvbWlzZS50aGVuKG9uRnVsbFNjcmVlbkVudGVyZWQpLmNhdGNoKHJlamVjdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZXhpdDogZnVuY3Rpb24gZXhpdCgpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGlmICghc2NyZWVuZnVsbC5pc0Z1bGxzY3JlZW4pIHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG9uRnVsbFNjcmVlbkV4aXQgPSBmdW5jdGlvbiBvbkZ1bGxTY3JlZW5FeGl0KCkge1xuICAgICAgICAgIHNjcmVlbmZ1bGwub2ZmKCdmdWxsc2NyZWVuY2hhbmdlJywgb25GdWxsU2NyZWVuRXhpdCk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNjcmVlbmZ1bGwub24oJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBvbkZ1bGxTY3JlZW5FeGl0KTtcbiAgICAgICAgdmFyIHJldHVyblByb21pc2UgPSBkb2N1bWVudFtmbi5leGl0RnVsbHNjcmVlbl0oKTtcblxuICAgICAgICBpZiAocmV0dXJuUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICByZXR1cm5Qcm9taXNlLnRoZW4ob25GdWxsU2NyZWVuRXhpdCkuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvbjogZnVuY3Rpb24gb24oZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgZXZlbnROYW1lID0gZXZlbnROYW1lTWFwW2V2ZW50XTtcblxuICAgICAgaWYgKGV2ZW50TmFtZSkge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH0sXG4gICAgb2ZmOiBmdW5jdGlvbiBvZmYoZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgZXZlbnROYW1lID0gZXZlbnROYW1lTWFwW2V2ZW50XTtcblxuICAgICAgaWYgKGV2ZW50TmFtZSkge1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc2NyZWVuZnVsbCwge1xuICAgIGlzRnVsbHNjcmVlbjoge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKGRvY3VtZW50W2ZuLmZ1bGxzY3JlZW5FbGVtZW50XSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBlbGVtZW50OiB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudFtmbi5mdWxsc2NyZWVuRWxlbWVudF07XG4gICAgICB9XG4gICAgfSxcbiAgICBpc0VuYWJsZWQ6IHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgLy8gQ29lcmNlIHRvIGJvb2xlYW4gaW4gY2FzZSBvZiBvbGQgV2ViS2l0XG4gICAgICAgIHJldHVybiBCb29sZWFuKGRvY3VtZW50W2ZuLmZ1bGxzY3JlZW5FbmFibGVkXSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHNjcmVlbmZ1bGw7XG59XG5cbnZhciBwbGF5ZXJNYXAgPSBuZXcgV2Vha01hcCgpO1xudmFyIHJlYWR5TWFwID0gbmV3IFdlYWtNYXAoKTtcbnZhciBzY3JlZW5mdWxsID0ge307XG5cbnZhciBQbGF5ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ3JlYXRlIGEgUGxheWVyLlxuICAgKlxuICAgKiBAcGFyYW0geyhIVE1MSUZyYW1lRWxlbWVudHxIVE1MRWxlbWVudHxzdHJpbmd8alF1ZXJ5KX0gZWxlbWVudCBBIHJlZmVyZW5jZSB0byB0aGUgVmltZW9cbiAgICogICAgICAgIHBsYXllciBpZnJhbWUsIGFuZCBpZCwgb3IgYSBqUXVlcnkgb2JqZWN0LlxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIG9FbWJlZCBwYXJhbWV0ZXJzIHRvIHVzZSB3aGVuIGNyZWF0aW5nIGFuIGVtYmVkIGluIHRoZSBlbGVtZW50LlxuICAgKiBAcmV0dXJuIHtQbGF5ZXJ9XG4gICAqL1xuICBmdW5jdGlvbiBQbGF5ZXIoZWxlbWVudCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGxheWVyKTtcblxuICAgIC8qIGdsb2JhbCBqUXVlcnkgKi9cbiAgICBpZiAod2luZG93LmpRdWVyeSAmJiBlbGVtZW50IGluc3RhbmNlb2YgalF1ZXJ5KSB7XG4gICAgICBpZiAoZWxlbWVudC5sZW5ndGggPiAxICYmIHdpbmRvdy5jb25zb2xlICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0EgalF1ZXJ5IG9iamVjdCB3aXRoIG11bHRpcGxlIGVsZW1lbnRzIHdhcyBwYXNzZWQsIHVzaW5nIHRoZSBmaXJzdCBlbGVtZW50LicpO1xuICAgICAgfVxuXG4gICAgICBlbGVtZW50ID0gZWxlbWVudFswXTtcbiAgICB9IC8vIEZpbmQgYW4gZWxlbWVudCBieSBJRFxuXG5cbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50KTtcbiAgICB9IC8vIE5vdCBhbiBlbGVtZW50IVxuXG5cbiAgICBpZiAoIWlzRG9tRWxlbWVudChlbGVtZW50KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBlaXRoZXIgYSB2YWxpZCBlbGVtZW50IG9yIGEgdmFsaWQgaWQuJyk7XG4gICAgfSAvLyBBbHJlYWR5IGluaXRpYWxpemVkIGFuIGVtYmVkIGluIHRoaXMgZGl2LCBzbyBncmFiIHRoZSBpZnJhbWVcblxuXG4gICAgaWYgKGVsZW1lbnQubm9kZU5hbWUgIT09ICdJRlJBTUUnKSB7XG4gICAgICB2YXIgaWZyYW1lID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpZnJhbWUnKTtcblxuICAgICAgaWYgKGlmcmFtZSkge1xuICAgICAgICBlbGVtZW50ID0gaWZyYW1lO1xuICAgICAgfVxuICAgIH0gLy8gaWZyYW1lIHVybCBpcyBub3QgYSBWaW1lbyB1cmxcblxuXG4gICAgaWYgKGVsZW1lbnQubm9kZU5hbWUgPT09ICdJRlJBTUUnICYmICFpc1ZpbWVvVXJsKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzcmMnKSB8fCAnJykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHBsYXllciBlbGVtZW50IHBhc3NlZCBpc27igJl0IGEgVmltZW8gZW1iZWQuJyk7XG4gICAgfSAvLyBJZiB0aGVyZSBpcyBhbHJlYWR5IGEgcGxheWVyIG9iamVjdCBpbiB0aGUgbWFwLCByZXR1cm4gdGhhdFxuXG5cbiAgICBpZiAocGxheWVyTWFwLmhhcyhlbGVtZW50KSkge1xuICAgICAgcmV0dXJuIHBsYXllck1hcC5nZXQoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgdGhpcy5fd2luZG93ID0gZWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5vcmlnaW4gPSAnKic7XG4gICAgdmFyIHJlYWR5UHJvbWlzZSA9IG5ldyBucG9fc3JjKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIF90aGlzLl9vbk1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKCFpc1ZpbWVvVXJsKGV2ZW50Lm9yaWdpbikgfHwgX3RoaXMuZWxlbWVudC5jb250ZW50V2luZG93ICE9PSBldmVudC5zb3VyY2UpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3RoaXMub3JpZ2luID09PSAnKicpIHtcbiAgICAgICAgICBfdGhpcy5vcmlnaW4gPSBldmVudC5vcmlnaW47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0YSA9IHBhcnNlTWVzc2FnZURhdGEoZXZlbnQuZGF0YSk7XG4gICAgICAgIHZhciBpc0Vycm9yID0gZGF0YSAmJiBkYXRhLmV2ZW50ID09PSAnZXJyb3InO1xuICAgICAgICB2YXIgaXNSZWFkeUVycm9yID0gaXNFcnJvciAmJiBkYXRhLmRhdGEgJiYgZGF0YS5kYXRhLm1ldGhvZCA9PT0gJ3JlYWR5JztcblxuICAgICAgICBpZiAoaXNSZWFkeUVycm9yKSB7XG4gICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKGRhdGEuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICBlcnJvci5uYW1lID0gZGF0YS5kYXRhLm5hbWU7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXNSZWFkeUV2ZW50ID0gZGF0YSAmJiBkYXRhLmV2ZW50ID09PSAncmVhZHknO1xuICAgICAgICB2YXIgaXNQaW5nUmVzcG9uc2UgPSBkYXRhICYmIGRhdGEubWV0aG9kID09PSAncGluZyc7XG5cbiAgICAgICAgaWYgKGlzUmVhZHlFdmVudCB8fCBpc1BpbmdSZXNwb25zZSkge1xuICAgICAgICAgIF90aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXJlYWR5JywgJ3RydWUnKTtcblxuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBwcm9jZXNzRGF0YShfdGhpcywgZGF0YSk7XG4gICAgICB9O1xuXG4gICAgICBfdGhpcy5fd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBfdGhpcy5fb25NZXNzYWdlKTtcblxuICAgICAgaWYgKF90aGlzLmVsZW1lbnQubm9kZU5hbWUgIT09ICdJRlJBTUUnKSB7XG4gICAgICAgIHZhciBwYXJhbXMgPSBnZXRPRW1iZWRQYXJhbWV0ZXJzKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICB2YXIgdXJsID0gZ2V0VmltZW9VcmwocGFyYW1zKTtcbiAgICAgICAgZ2V0T0VtYmVkRGF0YSh1cmwsIHBhcmFtcywgZWxlbWVudCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIHZhciBpZnJhbWUgPSBjcmVhdGVFbWJlZChkYXRhLCBlbGVtZW50KTsgLy8gT3ZlcndyaXRlIGVsZW1lbnQgd2l0aCB0aGUgbmV3IGlmcmFtZSxcbiAgICAgICAgICAvLyBidXQgc3RvcmUgcmVmZXJlbmNlIHRvIHRoZSBvcmlnaW5hbCBlbGVtZW50XG5cbiAgICAgICAgICBfdGhpcy5lbGVtZW50ID0gaWZyYW1lO1xuICAgICAgICAgIF90aGlzLl9vcmlnaW5hbEVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgIHN3YXBDYWxsYmFja3MoZWxlbWVudCwgaWZyYW1lKTtcbiAgICAgICAgICBwbGF5ZXJNYXAuc2V0KF90aGlzLmVsZW1lbnQsIF90aGlzKTtcbiAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfSkuY2F0Y2gocmVqZWN0KTtcbiAgICAgIH1cbiAgICB9KTsgLy8gU3RvcmUgYSBjb3B5IG9mIHRoaXMgUGxheWVyIGluIHRoZSBtYXBcblxuICAgIHJlYWR5TWFwLnNldCh0aGlzLCByZWFkeVByb21pc2UpO1xuICAgIHBsYXllck1hcC5zZXQodGhpcy5lbGVtZW50LCB0aGlzKTsgLy8gU2VuZCBhIHBpbmcgdG8gdGhlIGlmcmFtZSBzbyB0aGUgcmVhZHkgcHJvbWlzZSB3aWxsIGJlIHJlc29sdmVkIGlmXG4gICAgLy8gdGhlIHBsYXllciBpcyBhbHJlYWR5IHJlYWR5LlxuXG4gICAgaWYgKHRoaXMuZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0lGUkFNRScpIHtcbiAgICAgIHBvc3RNZXNzYWdlKHRoaXMsICdwaW5nJyk7XG4gICAgfVxuXG4gICAgaWYgKHNjcmVlbmZ1bGwuaXNFbmFibGVkKSB7XG4gICAgICB2YXIgZXhpdEZ1bGxzY3JlZW4gPSBmdW5jdGlvbiBleGl0RnVsbHNjcmVlbigpIHtcbiAgICAgICAgcmV0dXJuIHNjcmVlbmZ1bGwuZXhpdCgpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5mdWxsc2NyZWVuY2hhbmdlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHNjcmVlbmZ1bGwuaXNGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgc3RvcmVDYWxsYmFjayhfdGhpcywgJ2V2ZW50OmV4aXRGdWxsc2NyZWVuJywgZXhpdEZ1bGxzY3JlZW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlbW92ZUNhbGxiYWNrKF90aGlzLCAnZXZlbnQ6ZXhpdEZ1bGxzY3JlZW4nLCBleGl0RnVsbHNjcmVlbik7XG4gICAgICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cblxuICAgICAgICBfdGhpcy5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHBvc3RNZXNzYWdlKF90aGlzLCAnZnVsbHNjcmVlbmNoYW5nZScsIHNjcmVlbmZ1bGwuaXNGdWxsc2NyZWVuKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBzY3JlZW5mdWxsLm9uKCdmdWxsc2NyZWVuY2hhbmdlJywgdGhpcy5mdWxsc2NyZWVuY2hhbmdlSGFuZGxlcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIHByb21pc2UgZm9yIGEgbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgQVBJIG1ldGhvZCB0byBjYWxsLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW2FyZ3M9e31dIEFyZ3VtZW50cyB0byBzZW5kIHZpYSBwb3N0TWVzc2FnZS5cbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoUGxheWVyLCBbe1xuICAgIGtleTogXCJjYWxsTWV0aG9kXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhbGxNZXRob2QobmFtZSkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHJldHVybiBuZXcgbnBvX3NyYyhmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIC8vIFdlIGFyZSBzdG9yaW5nIHRoZSByZXNvbHZlL3JlamVjdCBoYW5kbGVycyB0byBjYWxsIGxhdGVyLCBzbyB3ZVxuICAgICAgICAvLyBjYW7igJl0IHJldHVybiBoZXJlLlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJvbWlzZS9hbHdheXMtcmV0dXJuXG4gICAgICAgIHJldHVybiBfdGhpczIucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzdG9yZUNhbGxiYWNrKF90aGlzMiwgbmFtZSwge1xuICAgICAgICAgICAgcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgICAgICAgIHJlamVjdDogcmVqZWN0XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcG9zdE1lc3NhZ2UoX3RoaXMyLCBuYW1lLCBhcmdzKTtcbiAgICAgICAgfSkuY2F0Y2gocmVqZWN0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSBwcm9taXNlIGZvciB0aGUgdmFsdWUgb2YgYSBwbGF5ZXIgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgcHJvcGVydHkgbmFtZVxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0KG5hbWUpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gbmV3IG5wb19zcmMoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBuYW1lID0gZ2V0TWV0aG9kTmFtZShuYW1lLCAnZ2V0Jyk7IC8vIFdlIGFyZSBzdG9yaW5nIHRoZSByZXNvbHZlL3JlamVjdCBoYW5kbGVycyB0byBjYWxsIGxhdGVyLCBzbyB3ZVxuICAgICAgICAvLyBjYW7igJl0IHJldHVybiBoZXJlLlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJvbWlzZS9hbHdheXMtcmV0dXJuXG5cbiAgICAgICAgcmV0dXJuIF90aGlzMy5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHN0b3JlQ2FsbGJhY2soX3RoaXMzLCBuYW1lLCB7XG4gICAgICAgICAgICByZXNvbHZlOiByZXNvbHZlLFxuICAgICAgICAgICAgcmVqZWN0OiByZWplY3RcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwb3N0TWVzc2FnZShfdGhpczMsIG5hbWUpO1xuICAgICAgICB9KS5jYXRjaChyZWplY3QpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIHByb21pc2UgZm9yIHNldHRpbmcgdGhlIHZhbHVlIG9mIGEgcGxheWVyIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIEFQSSBtZXRob2QgdG8gY2FsbC5cbiAgICAgKiBAcGFyYW0ge21peGVkfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0KG5hbWUsIHZhbHVlKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgcmV0dXJuIG5ldyBucG9fc3JjKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgbmFtZSA9IGdldE1ldGhvZE5hbWUobmFtZSwgJ3NldCcpO1xuXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlcmUgbXVzdCBiZSBhIHZhbHVlIHRvIHNldC4nKTtcbiAgICAgICAgfSAvLyBXZSBhcmUgc3RvcmluZyB0aGUgcmVzb2x2ZS9yZWplY3QgaGFuZGxlcnMgdG8gY2FsbCBsYXRlciwgc28gd2VcbiAgICAgICAgLy8gY2Fu4oCZdCByZXR1cm4gaGVyZS5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByb21pc2UvYWx3YXlzLXJldHVyblxuXG5cbiAgICAgICAgcmV0dXJuIF90aGlzNC5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHN0b3JlQ2FsbGJhY2soX3RoaXM0LCBuYW1lLCB7XG4gICAgICAgICAgICByZXNvbHZlOiByZXNvbHZlLFxuICAgICAgICAgICAgcmVqZWN0OiByZWplY3RcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwb3N0TWVzc2FnZShfdGhpczQsIG5hbWUsIHZhbHVlKTtcbiAgICAgICAgfSkuY2F0Y2gocmVqZWN0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnQuIFdpbGwgY2FsbCB0aGVcbiAgICAgKiBjYWxsYmFjayB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciwgYGRhdGFgLCB0aGF0IGNvbnRhaW5zIHRoZSBkYXRhIGZvclxuICAgICAqIHRoYXQgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCopfSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoZSBldmVudCBmaXJlcy5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgaWYgKCFldmVudE5hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBldmVudCBuYW1lLicpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYSBjYWxsYmFjayBmdW5jdGlvbi4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2FsbGJhY2tzID0gZ2V0Q2FsbGJhY2tzKHRoaXMsIFwiZXZlbnQ6XCIuY29uY2F0KGV2ZW50TmFtZSkpO1xuXG4gICAgICBpZiAoY2FsbGJhY2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLmNhbGxNZXRob2QoJ2FkZEV2ZW50TGlzdGVuZXInLCBldmVudE5hbWUpLmNhdGNoKGZ1bmN0aW9uICgpIHsvLyBJZ25vcmUgdGhlIGVycm9yLiBUaGVyZSB3aWxsIGJlIGFuIGVycm9yIGV2ZW50IGZpcmVkIHRoYXRcbiAgICAgICAgICAvLyB3aWxsIHRyaWdnZXIgdGhlIGVycm9yIGNhbGxiYWNrIGlmIHRoZXkgYXJlIGxpc3RlbmluZy5cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHN0b3JlQ2FsbGJhY2sodGhpcywgXCJldmVudDpcIi5jb25jYXQoZXZlbnROYW1lKSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnQuIFdpbGwgcmVtb3ZlIGFsbFxuICAgICAqIGxpc3RlbmVycyBmb3IgdGhhdCBldmVudCBpZiBhIGBjYWxsYmFja2AgaXNu4oCZdCBwYXNzZWQsIG9yIG9ubHkgdGhhdFxuICAgICAqIHNwZWNpZmljIGNhbGxiYWNrIGlmIGl0IGlzIHBhc3NlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gVGhlIHNwZWNpZmljIGNhbGxiYWNrIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib2ZmXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9mZihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICBpZiAoIWV2ZW50TmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGV2ZW50IG5hbWUuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjYWxsYmFjayAmJiB0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGxhc3RDYWxsYmFjayA9IHJlbW92ZUNhbGxiYWNrKHRoaXMsIFwiZXZlbnQ6XCIuY29uY2F0KGV2ZW50TmFtZSksIGNhbGxiYWNrKTsgLy8gSWYgdGhlcmUgYXJlIG5vIGNhbGxiYWNrcyBsZWZ0LCByZW1vdmUgdGhlIGxpc3RlbmVyXG5cbiAgICAgIGlmIChsYXN0Q2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5jYWxsTWV0aG9kKCdyZW1vdmVFdmVudExpc3RlbmVyJywgZXZlbnROYW1lKS5jYXRjaChmdW5jdGlvbiAoZSkgey8vIElnbm9yZSB0aGUgZXJyb3IuIFRoZXJlIHdpbGwgYmUgYW4gZXJyb3IgZXZlbnQgZmlyZWQgdGhhdFxuICAgICAgICAgIC8vIHdpbGwgdHJpZ2dlciB0aGUgZXJyb3IgY2FsbGJhY2sgaWYgdGhleSBhcmUgbGlzdGVuaW5nLlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGxvYWQgYSBuZXcgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBMb2FkVmlkZW9Qcm9taXNlXG4gICAgICogQGZ1bGZpbGwge251bWJlcn0gVGhlIHZpZGVvIHdpdGggdGhpcyBpZCBvciB1cmwgc3VjY2Vzc2Z1bGx5IGxvYWRlZC5cbiAgICAgKiBAcmVqZWN0IHtUeXBlRXJyb3J9IFRoZSBpZCB3YXMgbm90IGEgbnVtYmVyLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogTG9hZCBhIG5ldyB2aWRlbyBpbnRvIHRoaXMgZW1iZWQuIFRoZSBwcm9taXNlIHdpbGwgYmUgcmVzb2x2ZWQgaWZcbiAgICAgKiB0aGUgdmlkZW8gaXMgc3VjY2Vzc2Z1bGx5IGxvYWRlZCwgb3IgaXQgd2lsbCBiZSByZWplY3RlZCBpZiBpdCBjb3VsZFxuICAgICAqIG5vdCBiZSBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd8b2JqZWN0fSBvcHRpb25zIFRoZSBpZCBvZiB0aGUgdmlkZW8sIHRoZSB1cmwgb2YgdGhlIHZpZGVvLCBvciBhbiBvYmplY3Qgd2l0aCBlbWJlZCBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge0xvYWRWaWRlb1Byb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJsb2FkVmlkZW9cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZFZpZGVvKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGxNZXRob2QoJ2xvYWRWaWRlbycsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gcGVyZm9ybSBhbiBhY3Rpb24gd2hlbiB0aGUgUGxheWVyIGlzIHJlYWR5LlxuICAgICAqXG4gICAgICogQHRvZG8gZG9jdW1lbnQgZXJyb3JzXG4gICAgICogQHByb21pc2UgTG9hZFZpZGVvUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHt2b2lkfVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlciBhIGZ1bmN0aW9uIHdoZW4gdGhlIHBsYXllciBpZnJhbWUgaGFzIGluaXRpYWxpemVkLiBZb3UgZG8gbm90XG4gICAgICogbmVlZCB0byB3YWl0IGZvciBgcmVhZHlgIHRvIHRyaWdnZXIgdG8gYmVnaW4gYWRkaW5nIGV2ZW50IGxpc3RlbmVyc1xuICAgICAqIG9yIGNhbGxpbmcgb3RoZXIgbWV0aG9kcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1JlYWR5UHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlYWR5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlYWR5KCkge1xuICAgICAgdmFyIHJlYWR5UHJvbWlzZSA9IHJlYWR5TWFwLmdldCh0aGlzKSB8fCBuZXcgbnBvX3NyYyhmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1Vua25vd24gcGxheWVyLiBQcm9iYWJseSB1bmxvYWRlZC4nKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBucG9fc3JjLnJlc29sdmUocmVhZHlQcm9taXNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGFkZCBhIGN1ZSBwb2ludCB0byB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHByb21pc2UgQWRkQ3VlUG9pbnRQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge3N0cmluZ30gVGhlIGlkIG9mIHRoZSBjdWUgcG9pbnQgdG8gdXNlIGZvciByZW1vdmVDdWVQb2ludC5cbiAgICAgKiBAcmVqZWN0IHtSYW5nZUVycm9yfSB0aGUgdGltZSB3YXMgbGVzcyB0aGFuIDAgb3IgZ3JlYXRlciB0aGFuIHRoZVxuICAgICAqICAgICAgICAgdmlkZW/igJlzIGR1cmF0aW9uLlxuICAgICAqIEByZWplY3Qge1Vuc3VwcG9ydGVkRXJyb3J9IEN1ZSBwb2ludHMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCB0aGUgY3VycmVudFxuICAgICAqICAgICAgICAgcGxheWVyIG9yIGJyb3dzZXIuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBjdWUgcG9pbnQgdG8gdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lIFRoZSB0aW1lIGZvciB0aGUgY3VlIHBvaW50LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbZGF0YV0gQXJiaXRyYXJ5IGRhdGEgdG8gYmUgcmV0dXJuZWQgd2l0aCB0aGUgY3VlIHBvaW50LlxuICAgICAqIEByZXR1cm4ge0FkZEN1ZVBvaW50UHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFkZEN1ZVBvaW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEN1ZVBvaW50KHRpbWUpIHtcbiAgICAgIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHJldHVybiB0aGlzLmNhbGxNZXRob2QoJ2FkZEN1ZVBvaW50Jywge1xuICAgICAgICB0aW1lOiB0aW1lLFxuICAgICAgICBkYXRhOiBkYXRhXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHJlbW92ZSBhIGN1ZSBwb2ludCBmcm9tIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBBZGRDdWVQb2ludFByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7c3RyaW5nfSBUaGUgaWQgb2YgdGhlIGN1ZSBwb2ludCB0aGF0IHdhcyByZW1vdmVkLlxuICAgICAqIEByZWplY3Qge0ludmFsaWRDdWVQb2ludH0gVGhlIGN1ZSBwb2ludCB3aXRoIHRoZSBzcGVjaWZpZWQgaWQgd2FzIG5vdFxuICAgICAqICAgICAgICAgZm91bmQuXG4gICAgICogQHJlamVjdCB7VW5zdXBwb3J0ZWRFcnJvcn0gQ3VlIHBvaW50cyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIHRoZSBjdXJyZW50XG4gICAgICogICAgICAgICBwbGF5ZXIgb3IgYnJvd3Nlci5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGN1ZSBwb2ludCBmcm9tIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgaWQgb2YgdGhlIGN1ZSBwb2ludCB0byByZW1vdmUuXG4gICAgICogQHJldHVybiB7UmVtb3ZlQ3VlUG9pbnRQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlQ3VlUG9pbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQ3VlUG9pbnQoaWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGxNZXRob2QoJ3JlbW92ZUN1ZVBvaW50JywgaWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHJlcHJlc2VudGF0aW9uIG9mIGEgdGV4dCB0cmFjayBvbiBhIHZpZGVvLlxuICAgICAqXG4gICAgICogQHR5cGVkZWYge09iamVjdH0gVmltZW9UZXh0VHJhY2tcbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gbGFuZ3VhZ2UgVGhlIElTTyBsYW5ndWFnZSBjb2RlLlxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBraW5kIFRoZSBraW5kIG9mIHRyYWNrIGl0IGlzIChjYXB0aW9ucyBvciBzdWJ0aXRsZXMpLlxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBsYWJlbCBUaGUgaHVtYW7igJByZWFkYWJsZSBsYWJlbCBmb3IgdGhlIHRyYWNrLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGVuYWJsZSBhIHRleHQgdHJhY2suXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBFbmFibGVUZXh0VHJhY2tQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge1ZpbWVvVGV4dFRyYWNrfSBUaGUgdGV4dCB0cmFjayB0aGF0IHdhcyBlbmFibGVkLlxuICAgICAqIEByZWplY3Qge0ludmFsaWRUcmFja0xhbmd1YWdlRXJyb3J9IE5vIHRyYWNrIHdhcyBhdmFpbGFibGUgd2l0aCB0aGVcbiAgICAgKiAgICAgICAgIHNwZWNpZmllZCBsYW5ndWFnZS5cbiAgICAgKiBAcmVqZWN0IHtJbnZhbGlkVHJhY2tFcnJvcn0gTm8gdHJhY2sgd2FzIGF2YWlsYWJsZSB3aXRoIHRoZSBzcGVjaWZpZWRcbiAgICAgKiAgICAgICAgIGxhbmd1YWdlIGFuZCBraW5kLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIHRoZSB0ZXh0IHRyYWNrIHdpdGggdGhlIHNwZWNpZmllZCBsYW5ndWFnZSwgYW5kIG9wdGlvbmFsbHkgdGhlXG4gICAgICogc3BlY2lmaWVkIGtpbmQgKGNhcHRpb25zIG9yIHN1YnRpdGxlcykuXG4gICAgICpcbiAgICAgKiBXaGVuIHNldCB2aWEgdGhlIEFQSSwgdGhlIHRyYWNrIGxhbmd1YWdlIHdpbGwgbm90IGNoYW5nZSB0aGUgdmlld2Vy4oCZc1xuICAgICAqIHN0b3JlZCBwcmVmZXJlbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmd1YWdlIFRoZSB0d2/igJBsZXR0ZXIgbGFuZ3VhZ2UgY29kZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2tpbmRdIFRoZSBraW5kIG9mIHRyYWNrIHRvIGVuYWJsZSAoY2FwdGlvbnMgb3Igc3VidGl0bGVzKS5cbiAgICAgKiBAcmV0dXJuIHtFbmFibGVUZXh0VHJhY2tQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZW5hYmxlVGV4dFRyYWNrXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVuYWJsZVRleHRUcmFjayhsYW5ndWFnZSwga2luZCkge1xuICAgICAgaWYgKCFsYW5ndWFnZSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGEgbGFuZ3VhZ2UuJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNhbGxNZXRob2QoJ2VuYWJsZVRleHRUcmFjaycsIHtcbiAgICAgICAgbGFuZ3VhZ2U6IGxhbmd1YWdlLFxuICAgICAgICBraW5kOiBraW5kXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGRpc2FibGUgdGhlIGFjdGl2ZSB0ZXh0IHRyYWNrLlxuICAgICAqXG4gICAgICogQHByb21pc2UgRGlzYWJsZVRleHRUcmFja1Byb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7dm9pZH0gVGhlIHRyYWNrIHdhcyBkaXNhYmxlZC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIERpc2FibGUgdGhlIGN1cnJlbnRseS1hY3RpdmUgdGV4dCB0cmFjay5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Rpc2FibGVUZXh0VHJhY2tQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGlzYWJsZVRleHRUcmFja1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNhYmxlVGV4dFRyYWNrKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsbE1ldGhvZCgnZGlzYWJsZVRleHRUcmFjaycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gcGF1c2UgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgUGF1c2VQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge3ZvaWR9IFRoZSB2aWRlbyB3YXMgcGF1c2VkLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogUGF1c2UgdGhlIHZpZGVvIGlmIGl04oCZcyBwbGF5aW5nLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UGF1c2VQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicGF1c2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKCdwYXVzZScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gcGxheSB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBQbGF5UHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHt2b2lkfSBUaGUgdmlkZW8gd2FzIHBsYXllZC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFBsYXkgdGhlIHZpZGVvIGlmIGl04oCZcyBwYXVzZWQuICoqTm90ZToqKiBvbiBpT1MgYW5kIHNvbWUgb3RoZXJcbiAgICAgKiBtb2JpbGUgZGV2aWNlcywgeW91IGNhbm5vdCBwcm9ncmFtbWF0aWNhbGx5IHRyaWdnZXIgcGxheS4gT25jZSB0aGVcbiAgICAgKiB2aWV3ZXIgaGFzIHRhcHBlZCBvbiB0aGUgcGxheSBidXR0b24gaW4gdGhlIHBsYXllciwgaG93ZXZlciwgeW91XG4gICAgICogd2lsbCBiZSBhYmxlIHRvIHVzZSB0aGlzIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UGxheVByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJwbGF5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKCdwbGF5Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgdGhhdCB0aGUgcGxheWVyIGVudGVycyBmdWxsc2NyZWVuLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZXF1ZXN0RnVsbHNjcmVlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXF1ZXN0RnVsbHNjcmVlbigpIHtcbiAgICAgIGlmIChzY3JlZW5mdWxsLmlzRW5hYmxlZCkge1xuICAgICAgICByZXR1cm4gc2NyZWVuZnVsbC5yZXF1ZXN0KHRoaXMuZWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNhbGxNZXRob2QoJ3JlcXVlc3RGdWxsc2NyZWVuJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgdGhhdCB0aGUgcGxheWVyIGV4aXRzIGZ1bGxzY3JlZW4uXG4gICAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImV4aXRGdWxsc2NyZWVuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGV4aXRGdWxsc2NyZWVuKCkge1xuICAgICAgaWYgKHNjcmVlbmZ1bGwuaXNFbmFibGVkKSB7XG4gICAgICAgIHJldHVybiBzY3JlZW5mdWxsLmV4aXQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY2FsbE1ldGhvZCgnZXhpdEZ1bGxzY3JlZW4nKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBwbGF5ZXIgaXMgY3VycmVudGx5IGZ1bGxzY3JlZW4uXG4gICAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldEZ1bGxzY3JlZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RnVsbHNjcmVlbigpIHtcbiAgICAgIGlmIChzY3JlZW5mdWxsLmlzRW5hYmxlZCkge1xuICAgICAgICByZXR1cm4gbnBvX3NyYy5yZXNvbHZlKHNjcmVlbmZ1bGwuaXNGdWxsc2NyZWVuKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdmdWxsc2NyZWVuJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgdGhhdCB0aGUgcGxheWVyIGVudGVycyBwaWN0dXJlLWluLXBpY3R1cmUuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlcXVlc3RQaWN0dXJlSW5QaWN0dXJlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlcXVlc3RQaWN0dXJlSW5QaWN0dXJlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsbE1ldGhvZCgncmVxdWVzdFBpY3R1cmVJblBpY3R1cmUnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVxdWVzdCB0aGF0IHRoZSBwbGF5ZXIgZXhpdHMgcGljdHVyZS1pbi1waWN0dXJlLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJleGl0UGljdHVyZUluUGljdHVyZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBleGl0UGljdHVyZUluUGljdHVyZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGxNZXRob2QoJ2V4aXRQaWN0dXJlSW5QaWN0dXJlJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcGxheWVyIGlzIGN1cnJlbnRseSBwaWN0dXJlLWluLXBpY3R1cmUuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFBpY3R1cmVJblBpY3R1cmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UGljdHVyZUluUGljdHVyZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgncGljdHVyZUluUGljdHVyZScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gdW5sb2FkIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIFVubG9hZFByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7dm9pZH0gVGhlIHZpZGVvIHdhcyB1bmxvYWRlZC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgcGxheWVyIHRvIGl0cyBpbml0aWFsIHN0YXRlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7VW5sb2FkUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVubG9hZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bmxvYWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKCd1bmxvYWQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW51cCB0aGUgcGxheWVyIGFuZCByZW1vdmUgaXQgZnJvbSB0aGUgRE9NXG4gICAgICpcbiAgICAgKiBJdCB3b24ndCBiZSB1c2FibGUgYW5kIGEgbmV3IG9uZSBzaG91bGQgYmUgY29uc3RydWN0ZWRcbiAgICAgKiAgaW4gb3JkZXIgdG8gZG8gYW55IG9wZXJhdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVzdHJveVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBuZXcgbnBvX3NyYyhmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICByZWFkeU1hcC5kZWxldGUoX3RoaXM1KTtcbiAgICAgICAgcGxheWVyTWFwLmRlbGV0ZShfdGhpczUuZWxlbWVudCk7XG5cbiAgICAgICAgaWYgKF90aGlzNS5fb3JpZ2luYWxFbGVtZW50KSB7XG4gICAgICAgICAgcGxheWVyTWFwLmRlbGV0ZShfdGhpczUuX29yaWdpbmFsRWxlbWVudCk7XG5cbiAgICAgICAgICBfdGhpczUuX29yaWdpbmFsRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtdmltZW8taW5pdGlhbGl6ZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfdGhpczUuZWxlbWVudCAmJiBfdGhpczUuZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0lGUkFNRScgJiYgX3RoaXM1LmVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgIC8vIElmIHdlJ3ZlIGFkZGVkIGFuIGFkZGl0aW9uYWwgd3JhcHBlciBkaXYsIHJlbW92ZSB0aGF0IGZyb20gdGhlIERPTS5cbiAgICAgICAgICAvLyBJZiBub3QsIGp1c3QgcmVtb3ZlIHRoZSBpZnJhbWUgZWxlbWVudC5cbiAgICAgICAgICBpZiAoX3RoaXM1LmVsZW1lbnQucGFyZW50Tm9kZS5wYXJlbnROb2RlICYmIF90aGlzNS5fb3JpZ2luYWxFbGVtZW50ICYmIF90aGlzNS5fb3JpZ2luYWxFbGVtZW50ICE9PSBfdGhpczUuZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBfdGhpczUuZWxlbWVudC5wYXJlbnROb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoX3RoaXM1LmVsZW1lbnQucGFyZW50Tm9kZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzNS5lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoX3RoaXM1LmVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBJZiB0aGUgY2xpcCBpcyBwcml2YXRlIHRoZXJlIGlzIGEgY2FzZSB3aGVyZSB0aGUgZWxlbWVudCBzdGF5cyB0aGVcbiAgICAgICAgLy8gZGl2IGVsZW1lbnQuIERlc3Ryb3kgc2hvdWxkIHJlc2V0IHRoZSBkaXYgYW5kIHJlbW92ZSB0aGUgaWZyYW1lIGNoaWxkLlxuXG5cbiAgICAgICAgaWYgKF90aGlzNS5lbGVtZW50ICYmIF90aGlzNS5lbGVtZW50Lm5vZGVOYW1lID09PSAnRElWJyAmJiBfdGhpczUuZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgX3RoaXM1LmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXZpbWVvLWluaXRpYWxpemVkJyk7XG5cbiAgICAgICAgICB2YXIgaWZyYW1lID0gX3RoaXM1LmVsZW1lbnQucXVlcnlTZWxlY3RvcignaWZyYW1lJyk7XG5cbiAgICAgICAgICBpZiAoaWZyYW1lICYmIGlmcmFtZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSd2ZSBhZGRlZCBhbiBhZGRpdGlvbmFsIHdyYXBwZXIgZGl2LCByZW1vdmUgdGhhdCBmcm9tIHRoZSBET00uXG4gICAgICAgICAgICAvLyBJZiBub3QsIGp1c3QgcmVtb3ZlIHRoZSBpZnJhbWUgZWxlbWVudC5cbiAgICAgICAgICAgIGlmIChpZnJhbWUucGFyZW50Tm9kZS5wYXJlbnROb2RlICYmIF90aGlzNS5fb3JpZ2luYWxFbGVtZW50ICYmIF90aGlzNS5fb3JpZ2luYWxFbGVtZW50ICE9PSBpZnJhbWUucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICBpZnJhbWUucGFyZW50Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGlmcmFtZS5wYXJlbnROb2RlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmcmFtZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGlmcmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXM1Ll93aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIF90aGlzNS5fb25NZXNzYWdlKTtcblxuICAgICAgICBpZiAoc2NyZWVuZnVsbC5pc0VuYWJsZWQpIHtcbiAgICAgICAgICBzY3JlZW5mdWxsLm9mZignZnVsbHNjcmVlbmNoYW5nZScsIF90aGlzNS5mdWxsc2NyZWVuY2hhbmdlSGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgYXV0b3BhdXNlIGJlaGF2aW9yIG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldEF1dG9wYXVzZVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7Ym9vbGVhbn0gV2hldGhlciBhdXRvcGF1c2UgaXMgdHVybmVkIG9uIG9yIG9mZi5cbiAgICAgKiBAcmVqZWN0IHtVbnN1cHBvcnRlZEVycm9yfSBBdXRvcGF1c2UgaXMgbm90IHN1cHBvcnRlZCB3aXRoIHRoZSBjdXJyZW50XG4gICAgICogICAgICAgICBwbGF5ZXIgb3IgYnJvd3Nlci5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYXV0b3BhdXNlIGJlaGF2aW9yIGZvciB0aGlzIHBsYXllci5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldEF1dG9wYXVzZVByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRBdXRvcGF1c2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QXV0b3BhdXNlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdhdXRvcGF1c2UnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHNldCB0aGUgYXV0b3BhdXNlIGJlaGF2aW9yIG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIFNldEF1dG9wYXVzZVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7Ym9vbGVhbn0gV2hldGhlciBhdXRvcGF1c2UgaXMgdHVybmVkIG9uIG9yIG9mZi5cbiAgICAgKiBAcmVqZWN0IHtVbnN1cHBvcnRlZEVycm9yfSBBdXRvcGF1c2UgaXMgbm90IHN1cHBvcnRlZCB3aXRoIHRoZSBjdXJyZW50XG4gICAgICogICAgICAgICBwbGF5ZXIgb3IgYnJvd3Nlci5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSBvciBkaXNhYmxlIHRoZSBhdXRvcGF1c2UgYmVoYXZpb3Igb2YgdGhpcyBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBCeSBkZWZhdWx0LCB3aGVuIGFub3RoZXIgdmlkZW8gaXMgcGxheWVkIGluIHRoZSBzYW1lIGJyb3dzZXIsIHRoaXNcbiAgICAgKiBwbGF5ZXIgd2lsbCBhdXRvbWF0aWNhbGx5IHBhdXNlLiBVbmxlc3MgeW91IGhhdmUgYSBzcGVjaWZpYyByZWFzb25cbiAgICAgKiBmb3IgZG9pbmcgc28sIHdlIHJlY29tbWVuZCB0aGF0IHlvdSBsZWF2ZSBhdXRvcGF1c2Ugc2V0IHRvIHRoZVxuICAgICAqIGRlZmF1bHQgKGB0cnVlYCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGF1dG9wYXVzZVxuICAgICAqIEByZXR1cm4ge1NldEF1dG9wYXVzZVByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRBdXRvcGF1c2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0QXV0b3BhdXNlKGF1dG9wYXVzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0KCdhdXRvcGF1c2UnLCBhdXRvcGF1c2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBidWZmZXJlZCBwcm9wZXJ0eSBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRCdWZmZXJlZFByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7QXJyYXl9IEJ1ZmZlcmVkIFRpbWVyYW5nZXMgY29udmVydGVkIHRvIGFuIEFycmF5LlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBidWZmZXJlZCBwcm9wZXJ0eSBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRCdWZmZXJlZFByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRCdWZmZXJlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRCdWZmZXJlZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgnYnVmZmVyZWQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHR5cGVkZWYge09iamVjdH0gQ2FtZXJhUHJvcGVydGllc1xuICAgICAqIEBwcm9wIHtudW1iZXJ9IHByb3BzLnlhdyAtIE51bWJlciBiZXR3ZWVuIDAgYW5kIDM2MC5cbiAgICAgKiBAcHJvcCB7bnVtYmVyfSBwcm9wcy5waXRjaCAtIE51bWJlciBiZXR3ZWVuIC05MCBhbmQgOTAuXG4gICAgICogQHByb3Age251bWJlcn0gcHJvcHMucm9sbCAtIE51bWJlciBiZXR3ZWVuIC0xODAgYW5kIDE4MC5cbiAgICAgKiBAcHJvcCB7bnVtYmVyfSBwcm9wcy5mb3YgLSBUaGUgZmllbGQgb2YgdmlldyBpbiBkZWdyZWVzLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgY2FtZXJhIHByb3BlcnRpZXMgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldENhbWVyYVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7Q2FtZXJhUHJvcGVydGllc30gVGhlIGNhbWVyYSBwcm9wZXJ0aWVzLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogRm9yIDM2MMKwIHZpZGVvcyBnZXQgdGhlIGNhbWVyYSBwcm9wZXJ0aWVzIGZvciB0aGlzIHBsYXllci5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldENhbWVyYVByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRDYW1lcmFQcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDYW1lcmFQcm9wcygpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgnY2FtZXJhUHJvcHMnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHNldCB0aGUgY2FtZXJhIHByb3BlcnRpZXMgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIFNldENhbWVyYVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7T2JqZWN0fSBUaGUgY2FtZXJhIHdhcyBzdWNjZXNzZnVsbHkgc2V0LlxuICAgICAqIEByZWplY3Qge1JhbmdlRXJyb3J9IFRoZSByYW5nZSB3YXMgb3V0IG9mIGJvdW5kcy5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEZvciAzNjDCsCB2aWRlb3Mgc2V0IHRoZSBjYW1lcmEgcHJvcGVydGllcyBmb3IgdGhpcyBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NhbWVyYVByb3BlcnRpZXN9IGNhbWVyYSBUaGUgY2FtZXJhIHByb3BlcnRpZXNcbiAgICAgKiBAcmV0dXJuIHtTZXRDYW1lcmFQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Q2FtZXJhUHJvcHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q2FtZXJhUHJvcHMoY2FtZXJhKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ2NhbWVyYVByb3BzJywgY2FtZXJhKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSByZXByZXNlbnRhdGlvbiBvZiBhIGNoYXB0ZXIuXG4gICAgICpcbiAgICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBWaW1lb0NoYXB0ZXJcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gc3RhcnRUaW1lIFRoZSBzdGFydCB0aW1lIG9mIHRoZSBjaGFwdGVyLlxuICAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSB0aXRsZSBUaGUgdGl0bGUgb2YgdGhlIGNoYXB0ZXIuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGluZGV4IFRoZSBwbGFjZSBpbiB0aGUgb3JkZXIgb2YgQ2hhcHRlcnMuIFN0YXJ0cyBhdCAxLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCBjaGFwdGVycyBmb3IgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0Q2hhcHRlcnNQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge1ZpbWVvQ2hhcHRlcltdfSBUaGUgY2hhcHRlcnMgZm9yIHRoZSB2aWRlby5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCBhbiBhcnJheSBvZiBhbGwgdGhlIGNoYXB0ZXJzIGZvciB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRDaGFwdGVyc1Byb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRDaGFwdGVyc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDaGFwdGVycygpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgnY2hhcHRlcnMnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgY3VycmVudGx5IGFjdGl2ZSBjaGFwdGVyLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0Q3VycmVudENoYXB0ZXJzUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtWaW1lb0NoYXB0ZXJ8dW5kZWZpbmVkfSBUaGUgY3VycmVudCBjaGFwdGVyIGZvciB0aGUgdmlkZW8uXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnRseSBhY3RpdmUgY2hhcHRlciBmb3IgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0Q3VycmVudENoYXB0ZXJzUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldEN1cnJlbnRDaGFwdGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEN1cnJlbnRDaGFwdGVyKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdjdXJyZW50Q2hhcHRlcicpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBjb2xvciBvZiB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0Q29sb3JQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge3N0cmluZ30gVGhlIGhleCBjb2xvciBvZiB0aGUgcGxheWVyLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjb2xvciBmb3IgdGhpcyBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRDb2xvclByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRDb2xvclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb2xvcigpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgnY29sb3InKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHNldCB0aGUgY29sb3Igb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIFNldENvbG9yUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtzdHJpbmd9IFRoZSBjb2xvciB3YXMgc3VjY2Vzc2Z1bGx5IHNldC5cbiAgICAgKiBAcmVqZWN0IHtUeXBlRXJyb3J9IFRoZSBzdHJpbmcgd2FzIG5vdCBhIHZhbGlkIGhleCBvciByZ2IgY29sb3IuXG4gICAgICogQHJlamVjdCB7Q29udHJhc3RFcnJvcn0gVGhlIGNvbG9yIHdhcyBzZXQsIGJ1dCB0aGUgY29udHJhc3QgaXNcbiAgICAgKiAgICAgICAgIG91dHNpZGUgb2YgdGhlIGFjY2VwdGFibGUgcmFuZ2UuXG4gICAgICogQHJlamVjdCB7RW1iZWRTZXR0aW5nc0Vycm9yfSBUaGUgb3duZXIgb2YgdGhlIHBsYXllciBoYXMgY2hvc2VuIHRvXG4gICAgICogICAgICAgICB1c2UgYSBzcGVjaWZpYyBjb2xvci5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29sb3Igb2YgdGhpcyBwbGF5ZXIgdG8gYSBoZXggb3IgcmdiIHN0cmluZy4gU2V0dGluZyB0aGVcbiAgICAgKiBjb2xvciBtYXkgZmFpbCBpZiB0aGUgb3duZXIgb2YgdGhlIHZpZGVvIGhhcyBzZXQgdGhlaXIgZW1iZWRcbiAgICAgKiBwcmVmZXJlbmNlcyB0byBmb3JjZSBhIHNwZWNpZmljIGNvbG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIFRoZSBoZXggb3IgcmdiIGNvbG9yIHN0cmluZyB0byBzZXQuXG4gICAgICogQHJldHVybiB7U2V0Q29sb3JQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Q29sb3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q29sb3IoY29sb3IpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldCgnY29sb3InLCBjb2xvcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcmVwcmVzZW50YXRpb24gb2YgYSBjdWUgcG9pbnQuXG4gICAgICpcbiAgICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBWaW1lb0N1ZVBvaW50XG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWUgVGhlIHRpbWUgb2YgdGhlIGN1ZSBwb2ludC5cbiAgICAgKiBAcHJvcGVydHkge29iamVjdH0gZGF0YSBUaGUgZGF0YSBwYXNzZWQgd2hlbiBhZGRpbmcgdGhlIGN1ZSBwb2ludC5cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gaWQgVGhlIHVuaXF1ZSBpZCBmb3IgdXNlIHdpdGggcmVtb3ZlQ3VlUG9pbnQuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBjdWUgcG9pbnRzIG9mIGEgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRDdWVQb2ludHNQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge1ZpbWVvQ3VlUG9pbnRbXX0gVGhlIGN1ZSBwb2ludHMgYWRkZWQgdG8gdGhlIHZpZGVvLlxuICAgICAqIEByZWplY3Qge1Vuc3VwcG9ydGVkRXJyb3J9IEN1ZSBwb2ludHMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCB0aGUgY3VycmVudFxuICAgICAqICAgICAgICAgcGxheWVyIG9yIGJyb3dzZXIuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gYXJyYXkgb2YgdGhlIGN1ZSBwb2ludHMgYWRkZWQgdG8gdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0Q3VlUG9pbnRzUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldEN1ZVBvaW50c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdWVQb2ludHMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ2N1ZVBvaW50cycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBjdXJyZW50IHRpbWUgb2YgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0Q3VycmVudFRpbWVQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge251bWJlcn0gVGhlIGN1cnJlbnQgdGltZSBpbiBzZWNvbmRzLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IHBsYXliYWNrIHBvc2l0aW9uIGluIHNlY29uZHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRDdXJyZW50VGltZVByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRDdXJyZW50VGltZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXJyZW50VGltZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgnY3VycmVudFRpbWUnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHNldCB0aGUgY3VycmVudCB0aW1lIG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIFNldEN1cnJlbnRUaW1lUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtudW1iZXJ9IFRoZSBhY3R1YWwgY3VycmVudCB0aW1lIHRoYXQgd2FzIHNldC5cbiAgICAgKiBAcmVqZWN0IHtSYW5nZUVycm9yfSB0aGUgdGltZSB3YXMgbGVzcyB0aGFuIDAgb3IgZ3JlYXRlciB0aGFuIHRoZVxuICAgICAqICAgICAgICAgdmlkZW/igJlzIGR1cmF0aW9uLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjdXJyZW50IHBsYXliYWNrIHBvc2l0aW9uIGluIHNlY29uZHMuIElmIHRoZSBwbGF5ZXIgd2FzXG4gICAgICogcGF1c2VkLCBpdCB3aWxsIHJlbWFpbiBwYXVzZWQuIExpa2V3aXNlLCBpZiB0aGUgcGxheWVyIHdhcyBwbGF5aW5nLFxuICAgICAqIGl0IHdpbGwgcmVzdW1lIHBsYXlpbmcgb25jZSB0aGUgdmlkZW8gaGFzIGJ1ZmZlcmVkLlxuICAgICAqXG4gICAgICogWW91IGNhbiBwcm92aWRlIGFuIGFjY3VyYXRlIHRpbWUgYW5kIHRoZSBwbGF5ZXIgd2lsbCBhdHRlbXB0IHRvIHNlZWtcbiAgICAgKiB0byBhcyBjbG9zZSB0byB0aGF0IHRpbWUgYXMgcG9zc2libGUuIFRoZSBleGFjdCB0aW1lIHdpbGwgYmUgdGhlXG4gICAgICogZnVsZmlsbGVkIHZhbHVlIG9mIHRoZSBwcm9taXNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbnRUaW1lXG4gICAgICogQHJldHVybiB7U2V0Q3VycmVudFRpbWVQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Q3VycmVudFRpbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q3VycmVudFRpbWUoY3VycmVudFRpbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldCgnY3VycmVudFRpbWUnLCBjdXJyZW50VGltZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIGR1cmF0aW9uIG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldER1cmF0aW9uUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtudW1iZXJ9IFRoZSBkdXJhdGlvbiBpbiBzZWNvbmRzLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkdXJhdGlvbiBvZiB0aGUgdmlkZW8gaW4gc2Vjb25kcy4gSXQgd2lsbCBiZSByb3VuZGVkIHRvIHRoZVxuICAgICAqIG5lYXJlc3Qgc2Vjb25kIGJlZm9yZSBwbGF5YmFjayBiZWdpbnMsIGFuZCB0byB0aGUgbmVhcmVzdCB0aG91c2FuZHRoXG4gICAgICogb2YgYSBzZWNvbmQgYWZ0ZXIgcGxheWJhY2sgYmVnaW5zLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0RHVyYXRpb25Qcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0RHVyYXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RHVyYXRpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ2R1cmF0aW9uJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIGVuZGVkIHN0YXRlIG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldEVuZGVkUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgdmlkZW8gaGFzIGVuZGVkLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBlbmRlZCBzdGF0ZSBvZiB0aGUgdmlkZW8uIFRoZSB2aWRlbyBoYXMgZW5kZWQgaWZcbiAgICAgKiBgY3VycmVudFRpbWUgPT09IGR1cmF0aW9uYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldEVuZGVkUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldEVuZGVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEVuZGVkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdlbmRlZCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBsb29wIHN0YXRlIG9mIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRMb29wUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgcGxheWVyIGlzIHNldCB0byBsb29wLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBsb29wIHN0YXRlIG9mIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRMb29wUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldExvb3BcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TG9vcCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgnbG9vcCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gc2V0IHRoZSBsb29wIHN0YXRlIG9mIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBTZXRMb29wUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtib29sZWFufSBUaGUgbG9vcCBzdGF0ZSB0aGF0IHdhcyBzZXQuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGxvb3Agc3RhdGUgb2YgdGhlIHBsYXllci4gV2hlbiBzZXQgdG8gYHRydWVgLCB0aGUgcGxheWVyXG4gICAgICogd2lsbCBzdGFydCBvdmVyIGltbWVkaWF0ZWx5IG9uY2UgcGxheWJhY2sgZW5kcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbG9vcFxuICAgICAqIEByZXR1cm4ge1NldExvb3BQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0TG9vcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRMb29wKGxvb3ApIHtcbiAgICAgIHJldHVybiB0aGlzLnNldCgnbG9vcCcsIGxvb3ApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gc2V0IHRoZSBtdXRlZCBzdGF0ZSBvZiB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHByb21pc2UgU2V0TXV0ZWRQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge2Jvb2xlYW59IFRoZSBtdXRlZCBzdGF0ZSB0aGF0IHdhcyBzZXQuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG11dGVkIHN0YXRlIG9mIHRoZSBwbGF5ZXIuIFdoZW4gc2V0IHRvIGB0cnVlYCwgdGhlIHBsYXllclxuICAgICAqIHZvbHVtZSB3aWxsIGJlIG11dGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdXRlZFxuICAgICAqIEByZXR1cm4ge1NldE11dGVkUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldE11dGVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldE11dGVkKG11dGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ211dGVkJywgbXV0ZWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBtdXRlZCBzdGF0ZSBvZiB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0TXV0ZWRQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBwbGF5ZXIgaXMgbXV0ZWQuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG11dGVkIHN0YXRlIG9mIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRNdXRlZFByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRNdXRlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRNdXRlZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgnbXV0ZWQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgcGF1c2VkIHN0YXRlIG9mIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRMb29wUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgdmlkZW8gaXMgcGF1c2VkLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwYXVzZWQgc3RhdGUgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldExvb3BQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UGF1c2VkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBhdXNlZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgncGF1c2VkJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIHBsYXliYWNrIHJhdGUgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldFBsYXliYWNrUmF0ZVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7bnVtYmVyfSBUaGUgcGxheWJhY2sgcmF0ZSBvZiB0aGUgcGxheWVyIG9uIGEgc2NhbGUgZnJvbSAwLjUgdG8gMi5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcGxheWJhY2sgcmF0ZSBvZiB0aGUgcGxheWVyIG9uIGEgc2NhbGUgZnJvbSBgMC41YCB0byBgMmAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRQbGF5YmFja1JhdGVQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UGxheWJhY2tSYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBsYXliYWNrUmF0ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgncGxheWJhY2tSYXRlJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBzZXQgdGhlIHBsYXliYWNrcmF0ZSBvZiB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHByb21pc2UgU2V0UGxheWJhY2tSYXRlUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtudW1iZXJ9IFRoZSBwbGF5YmFjayByYXRlIHdhcyBzZXQuXG4gICAgICogQHJlamVjdCB7UmFuZ2VFcnJvcn0gVGhlIHBsYXliYWNrIHJhdGUgd2FzIGxlc3MgdGhhbiAwLjUgb3IgZ3JlYXRlciB0aGFuIDIuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHBsYXliYWNrIHJhdGUgb2YgdGhlIHBsYXllciBvbiBhIHNjYWxlIGZyb20gYDAuNWAgdG8gYDJgLiBXaGVuIHNldFxuICAgICAqIHZpYSB0aGUgQVBJLCB0aGUgcGxheWJhY2sgcmF0ZSB3aWxsIG5vdCBiZSBzeW5jaHJvbml6ZWQgdG8gb3RoZXJcbiAgICAgKiBwbGF5ZXJzIG9yIHN0b3JlZCBhcyB0aGUgdmlld2VyJ3MgcHJlZmVyZW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwbGF5YmFja1JhdGVcbiAgICAgKiBAcmV0dXJuIHtTZXRQbGF5YmFja1JhdGVQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0UGxheWJhY2tSYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFBsYXliYWNrUmF0ZShwbGF5YmFja1JhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldCgncGxheWJhY2tSYXRlJywgcGxheWJhY2tSYXRlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgcGxheWVkIHByb3BlcnR5IG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldFBsYXllZFByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7QXJyYXl9IFBsYXllZCBUaW1lcmFuZ2VzIGNvbnZlcnRlZCB0byBhbiBBcnJheS5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcGxheWVkIHByb3BlcnR5IG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldFBsYXllZFByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRQbGF5ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UGxheWVkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdwbGF5ZWQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgcXVhbGl0aWVzIGF2YWlsYWJsZSBvZiB0aGUgY3VycmVudCB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldFF1YWxpdGllc1Byb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7QXJyYXl9IFRoZSBxdWFsaXRpZXMgb2YgdGhlIHZpZGVvLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBxdWFsaXRpZXMgb2YgdGhlIGN1cnJlbnQgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRRdWFsaXRpZXNQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UXVhbGl0aWVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFF1YWxpdGllcygpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgncXVhbGl0aWVzJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIGN1cnJlbnQgc2V0IHF1YWxpdHkgb2YgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0UXVhbGl0eVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7c3RyaW5nfSBUaGUgY3VycmVudCBzZXQgcXVhbGl0eS5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBzZXQgcXVhbGl0eSBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRRdWFsaXR5UHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFF1YWxpdHlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UXVhbGl0eSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgncXVhbGl0eScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gc2V0IHRoZSB2aWRlbyBxdWFsaXR5LlxuICAgICAqXG4gICAgICogQHByb21pc2UgU2V0UXVhbGl0eVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7bnVtYmVyfSBUaGUgcXVhbGl0eSB3YXMgc2V0LlxuICAgICAqIEByZWplY3Qge1JhbmdlRXJyb3J9IFRoZSBxdWFsaXR5IGlzIG5vdCBhdmFpbGFibGUuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBTZXQgYSB2aWRlbyBxdWFsaXR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHF1YWxpdHlcbiAgICAgKiBAcmV0dXJuIHtTZXRRdWFsaXR5UHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldFF1YWxpdHlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UXVhbGl0eShxdWFsaXR5KSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ3F1YWxpdHknLCBxdWFsaXR5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgc2Vla2FibGUgcHJvcGVydHkgb2YgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0U2Vla2FibGVQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge0FycmF5fSBTZWVrYWJsZSBUaW1lcmFuZ2VzIGNvbnZlcnRlZCB0byBhbiBBcnJheS5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2Vla2FibGUgcHJvcGVydHkgb2YgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0U2Vla2FibGVQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0U2Vla2FibGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2Vla2FibGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3NlZWthYmxlJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIHNlZWtpbmcgcHJvcGVydHkgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldFNlZWtpbmdQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBwbGF5ZXIgaXMgY3VycmVudGx5IHNlZWtpbmcuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgaWYgdGhlIHBsYXllciBpcyBjdXJyZW50bHkgc2Vla2luZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldFNlZWtpbmdQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0U2Vla2luZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTZWVraW5nKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdzZWVraW5nJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIHRleHQgdHJhY2tzIG9mIGEgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRUZXh0VHJhY2tzUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtWaW1lb1RleHRUcmFja1tdfSBUaGUgdGV4dCB0cmFja3MgYXNzb2NpYXRlZCB3aXRoIHRoZSB2aWRlby5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCBhbiBhcnJheSBvZiB0aGUgdGV4dCB0cmFja3MgdGhhdCBleGlzdCBmb3IgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0VGV4dFRyYWNrc1Byb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRUZXh0VHJhY2tzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRleHRUcmFja3MoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3RleHRUcmFja3MnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgZW1iZWQgY29kZSBmb3IgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0VmlkZW9FbWJlZENvZGVQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge3N0cmluZ30gVGhlIGA8aWZyYW1lPmAgZW1iZWQgY29kZSBmb3IgdGhlIHZpZGVvLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBgPGlmcmFtZT5gIGVtYmVkIGNvZGUgZm9yIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldFZpZGVvRW1iZWRDb2RlUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFZpZGVvRW1iZWRDb2RlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZpZGVvRW1iZWRDb2RlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd2aWRlb0VtYmVkQ29kZScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBpZCBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRWaWRlb0lkUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtudW1iZXJ9IFRoZSBpZCBvZiB0aGUgdmlkZW8uXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGlkIG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldFZpZGVvSWRQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VmlkZW9JZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWaWRlb0lkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd2aWRlb0lkJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIHRpdGxlIG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldFZpZGVvVGl0bGVQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge251bWJlcn0gVGhlIHRpdGxlIG9mIHRoZSB2aWRlby5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdGl0bGUgb2YgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0VmlkZW9UaXRsZVByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRWaWRlb1RpdGxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZpZGVvVGl0bGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3ZpZGVvVGl0bGUnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgbmF0aXZlIHdpZHRoIG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldFZpZGVvV2lkdGhQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge251bWJlcn0gVGhlIG5hdGl2ZSB3aWR0aCBvZiB0aGUgdmlkZW8uXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG5hdGl2ZSB3aWR0aCBvZiB0aGUgY3VycmVudGx54oCQcGxheWluZyB2aWRlby4gVGhlIHdpZHRoIG9mXG4gICAgICogdGhlIGhpZ2hlc3TigJByZXNvbHV0aW9uIGF2YWlsYWJsZSB3aWxsIGJlIHVzZWQgYmVmb3JlIHBsYXliYWNrIGJlZ2lucy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldFZpZGVvV2lkdGhQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VmlkZW9XaWR0aFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWaWRlb1dpZHRoKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd2aWRlb1dpZHRoJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIG5hdGl2ZSBoZWlnaHQgb2YgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0VmlkZW9IZWlnaHRQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge251bWJlcn0gVGhlIG5hdGl2ZSBoZWlnaHQgb2YgdGhlIHZpZGVvLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBuYXRpdmUgaGVpZ2h0IG9mIHRoZSBjdXJyZW50bHnigJBwbGF5aW5nIHZpZGVvLiBUaGUgaGVpZ2h0IG9mXG4gICAgICogdGhlIGhpZ2hlc3TigJByZXNvbHV0aW9uIGF2YWlsYWJsZSB3aWxsIGJlIHVzZWQgYmVmb3JlIHBsYXliYWNrIGJlZ2lucy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldFZpZGVvSGVpZ2h0UHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFZpZGVvSGVpZ2h0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZpZGVvSGVpZ2h0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd2aWRlb0hlaWdodCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSB2aW1lby5jb20gdXJsIGZvciB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRWaWRlb1VybFByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7bnVtYmVyfSBUaGUgdmltZW8uY29tIHVybCBmb3IgdGhlIHZpZGVvLlxuICAgICAqIEByZWplY3Qge1ByaXZhY3lFcnJvcn0gVGhlIHVybCBpc27igJl0IGF2YWlsYWJsZSBiZWNhdXNlIG9mIHRoZSB2aWRlb+KAmXMgcHJpdmFjeSBzZXR0aW5nLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2aW1lby5jb20gdXJsIGZvciB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRWaWRlb1VybFByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRWaWRlb1VybFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWaWRlb1VybCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgndmlkZW9VcmwnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgdm9sdW1lIGxldmVsIG9mIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRWb2x1bWVQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge251bWJlcn0gVGhlIHZvbHVtZSBsZXZlbCBvZiB0aGUgcGxheWVyIG9uIGEgc2NhbGUgZnJvbSAwIHRvIDEuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgdm9sdW1lIGxldmVsIG9mIHRoZSBwbGF5ZXIgb24gYSBzY2FsZSBmcm9tIGAwYCB0byBgMWAuXG4gICAgICpcbiAgICAgKiBNb3N0IG1vYmlsZSBkZXZpY2VzIGRvIG5vdCBzdXBwb3J0IGFuIGluZGVwZW5kZW50IHZvbHVtZSBmcm9tIHRoZVxuICAgICAqIHN5c3RlbSB2b2x1bWUuIEluIHRob3NlIGNhc2VzLCB0aGlzIG1ldGhvZCB3aWxsIGFsd2F5cyByZXR1cm4gYDFgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0Vm9sdW1lUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFZvbHVtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWb2x1bWUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3ZvbHVtZScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gc2V0IHRoZSB2b2x1bWUgbGV2ZWwgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIFNldFZvbHVtZVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7bnVtYmVyfSBUaGUgdm9sdW1lIHdhcyBzZXQuXG4gICAgICogQHJlamVjdCB7UmFuZ2VFcnJvcn0gVGhlIHZvbHVtZSB3YXMgbGVzcyB0aGFuIDAgb3IgZ3JlYXRlciB0aGFuIDEuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHZvbHVtZSBvZiB0aGUgcGxheWVyIG9uIGEgc2NhbGUgZnJvbSBgMGAgdG8gYDFgLiBXaGVuIHNldFxuICAgICAqIHZpYSB0aGUgQVBJLCB0aGUgdm9sdW1lIGxldmVsIHdpbGwgbm90IGJlIHN5bmNocm9uaXplZCB0byBvdGhlclxuICAgICAqIHBsYXllcnMgb3Igc3RvcmVkIGFzIHRoZSB2aWV3ZXLigJlzIHByZWZlcmVuY2UuXG4gICAgICpcbiAgICAgKiBNb3N0IG1vYmlsZSBkZXZpY2VzIGRvIG5vdCBzdXBwb3J0IHNldHRpbmcgdGhlIHZvbHVtZS4gQW4gZXJyb3Igd2lsbFxuICAgICAqICpub3QqIGJlIHRyaWdnZXJlZCBpbiB0aGF0IHNpdHVhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2b2x1bWVcbiAgICAgKiBAcmV0dXJuIHtTZXRWb2x1bWVQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Vm9sdW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFZvbHVtZSh2b2x1bWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldCgndm9sdW1lJywgdm9sdW1lKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUGxheWVyO1xufSgpOyAvLyBTZXR1cCBlbWJlZCBvbmx5IGlmIHRoaXMgaXMgbm90IGEgbm9kZSBlbnZpcm9ubWVudFxuXG5cbmlmICghaXNOb2RlKSB7XG4gIHNjcmVlbmZ1bGwgPSBpbml0aWFsaXplU2NyZWVuZnVsbCgpO1xuICBpbml0aWFsaXplRW1iZWRzKCk7XG4gIHJlc2l6ZUVtYmVkcygpO1xuICBpbml0QXBwZW5kVmlkZW9NZXRhZGF0YSgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBQbGF5ZXI7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBQbGF5ZXIgZnJvbSAnQHZpbWVvL3BsYXllcic7XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpO1xuICBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzcztcblxuICBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpO1xufVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgcmV0dXJuIG87XG4gIH07XG5cbiAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbn1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gc2VsZjtcbn1cblxudmFyIGV2ZW50TmFtZXMgPSB7XG4gIHBsYXk6ICdvblBsYXknLFxuICBwYXVzZTogJ29uUGF1c2UnLFxuICBlbmRlZDogJ29uRW5kJyxcbiAgdGltZXVwZGF0ZTogJ29uVGltZVVwZGF0ZScsXG4gIHByb2dyZXNzOiAnb25Qcm9ncmVzcycsXG4gIHNlZWtlZDogJ29uU2Vla2VkJyxcbiAgdGV4dHRyYWNrY2hhbmdlOiAnb25UZXh0VHJhY2tDaGFuZ2UnLFxuICBjdWVjaGFuZ2U6ICdvbkN1ZUNoYW5nZScsXG4gIGN1ZXBvaW50OiAnb25DdWVQb2ludCcsXG4gIHZvbHVtZWNoYW5nZTogJ29uVm9sdW1lQ2hhbmdlJyxcbiAgcGxheWJhY2tyYXRlY2hhbmdlOiAnb25QbGF5YmFja1JhdGVDaGFuZ2UnLFxuICBlcnJvcjogJ29uRXJyb3InLFxuICBsb2FkZWQ6ICdvbkxvYWRlZCdcbn07XG5cbnZhciBWaW1lbyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShWaW1lbywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVmltZW8ocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcbiAgICBfdGhpcy5yZWZDb250YWluZXIgPSBfdGhpcy5yZWZDb250YWluZXIuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFZpbWVvLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLmNyZWF0ZVBsYXllcigpO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvZGVzdHJ1Y3R1cmluZy1hc3NpZ25tZW50XG4gICAgdmFyIGNoYW5nZXMgPSBPYmplY3Qua2V5cyh0aGlzLnByb3BzKS5maWx0ZXIoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIHJldHVybiBfdGhpczIucHJvcHNbbmFtZV0gIT09IHByZXZQcm9wc1tuYW1lXTtcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZVByb3BzKGNoYW5nZXMpO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMucGxheWVyLmRlc3Ryb3koKTtcbiAgfVxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uZ2V0SW5pdGlhbE9wdGlvbnMgPSBmdW5jdGlvbiBnZXRJbml0aWFsT3B0aW9ucygpIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9kZXN0cnVjdHVyaW5nLWFzc2lnbm1lbnQgKi9cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMucHJvcHMudmlkZW8sXG4gICAgICB3aWR0aDogdGhpcy5wcm9wcy53aWR0aCxcbiAgICAgIGhlaWdodDogdGhpcy5wcm9wcy5oZWlnaHQsXG4gICAgICBhdXRvcGF1c2U6IHRoaXMucHJvcHMuYXV0b3BhdXNlLFxuICAgICAgYXV0b3BsYXk6IHRoaXMucHJvcHMuYXV0b3BsYXksXG4gICAgICBieWxpbmU6IHRoaXMucHJvcHMuc2hvd0J5bGluZSxcbiAgICAgIGNvbG9yOiB0aGlzLnByb3BzLmNvbG9yLFxuICAgICAgY29udHJvbHM6IHRoaXMucHJvcHMuY29udHJvbHMsXG4gICAgICBsb29wOiB0aGlzLnByb3BzLmxvb3AsXG4gICAgICBwb3J0cmFpdDogdGhpcy5wcm9wcy5zaG93UG9ydHJhaXQsXG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy5zaG93VGl0bGUsXG4gICAgICBtdXRlZDogdGhpcy5wcm9wcy5tdXRlZCxcbiAgICAgIGJhY2tncm91bmQ6IHRoaXMucHJvcHMuYmFja2dyb3VuZCxcbiAgICAgIHJlc3BvbnNpdmU6IHRoaXMucHJvcHMucmVzcG9uc2l2ZSxcbiAgICAgIGRudDogdGhpcy5wcm9wcy5kbnQsXG4gICAgICBzcGVlZDogdGhpcy5wcm9wcy5zcGVlZCxcbiAgICAgIGtleWJvYXJkOiB0aGlzLnByb3BzLmtleWJvYXJkLFxuICAgICAgcGlwOiB0aGlzLnByb3BzLnBpcCxcbiAgICAgIHBsYXlzaW5saW5lOiB0aGlzLnByb3BzLnBsYXlzSW5saW5lLFxuICAgICAgcXVhbGl0eTogdGhpcy5wcm9wcy5xdWFsaXR5LFxuICAgICAgdGV4dHRyYWNrOiB0aGlzLnByb3BzLnRleHRUcmFjayxcbiAgICAgIHRyYW5zcGFyZW50OiB0aGlzLnByb3BzLnRyYW5zcGFyZW50XG4gICAgfTtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0L2Rlc3RydWN0dXJpbmctYXNzaWdubWVudCAqL1xuICB9XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51cGRhdGVQcm9wcyA9IGZ1bmN0aW9uIHVwZGF0ZVByb3BzKHByb3BOYW1lcykge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdmFyIHBsYXllciA9IHRoaXMucGxheWVyO1xuICAgIHByb3BOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvZGVzdHJ1Y3R1cmluZy1hc3NpZ25tZW50XG4gICAgICB2YXIgdmFsdWUgPSBfdGhpczMucHJvcHNbbmFtZV07XG5cbiAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICBjYXNlICdhdXRvcGF1c2UnOlxuICAgICAgICAgIHBsYXllci5zZXRBdXRvcGF1c2UodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2NvbG9yJzpcbiAgICAgICAgICBwbGF5ZXIuc2V0Q29sb3IodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2xvb3AnOlxuICAgICAgICAgIHBsYXllci5zZXRMb29wKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICd2b2x1bWUnOlxuICAgICAgICAgIHBsYXllci5zZXRWb2x1bWUodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3BhdXNlZCc6XG4gICAgICAgICAgcGxheWVyLmdldFBhdXNlZCgpLnRoZW4oZnVuY3Rpb24gKHBhdXNlZCkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICYmICFwYXVzZWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHBsYXllci5wYXVzZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXZhbHVlICYmIHBhdXNlZCkge1xuICAgICAgICAgICAgICByZXR1cm4gcGxheWVyLnBsYXkoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnd2lkdGgnOlxuICAgICAgICBjYXNlICdoZWlnaHQnOlxuICAgICAgICAgIHBsYXllci5lbGVtZW50W25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAndmlkZW8nOlxuICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gX3RoaXMzLnByb3BzLnN0YXJ0O1xuICAgICAgICAgICAgdmFyIGxvYWRlZCA9IHBsYXllci5sb2FkVmlkZW8odmFsdWUpOyAvLyBTZXQgdGhlIHN0YXJ0IHRpbWUgb25seSB3aGVuIGxvYWRpbmcgYSBuZXcgdmlkZW8uXG4gICAgICAgICAgICAvLyBJdCBzZWVtcyBsaWtlIHRoaXMgaGFzIHRvIGJlIGRvbmUgYWZ0ZXIgdGhlIHZpZGVvIGhhcyBsb2FkZWQsIGVsc2UgaXQganVzdCBzdGFydHMgYXRcbiAgICAgICAgICAgIC8vIHRoZSBiZWdpbm5pbmchXG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgIGxvYWRlZC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc2V0Q3VycmVudFRpbWUoc3RhcnQpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGxheWVyLnVubG9hZCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNyZWF0ZVBsYXllciA9IGZ1bmN0aW9uIGNyZWF0ZVBsYXllcigpIHtcbiAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHN0YXJ0ID0gX3RoaXMkcHJvcHMuc3RhcnQsXG4gICAgICAgIHZvbHVtZSA9IF90aGlzJHByb3BzLnZvbHVtZTtcbiAgICB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXIodGhpcy5jb250YWluZXIsIHRoaXMuZ2V0SW5pdGlhbE9wdGlvbnMoKSk7XG4gICAgT2JqZWN0LmtleXMoZXZlbnROYW1lcykuZm9yRWFjaChmdW5jdGlvbiAoZG1OYW1lKSB7XG4gICAgICB2YXIgcmVhY3ROYW1lID0gZXZlbnROYW1lc1tkbU5hbWVdO1xuXG4gICAgICBfdGhpczQucGxheWVyLm9uKGRtTmFtZSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9kZXN0cnVjdHVyaW5nLWFzc2lnbm1lbnRcbiAgICAgICAgdmFyIGhhbmRsZXIgPSBfdGhpczQucHJvcHNbcmVhY3ROYW1lXTtcblxuICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgIGhhbmRsZXIoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgb25FcnJvciA9IF90aGlzJHByb3BzMi5vbkVycm9yLFxuICAgICAgICBvblJlYWR5ID0gX3RoaXMkcHJvcHMyLm9uUmVhZHk7XG4gICAgdGhpcy5wbGF5ZXIucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChvblJlYWR5KSB7XG4gICAgICAgIG9uUmVhZHkoX3RoaXM0LnBsYXllcik7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHRoaXMucGxheWVyLnNldEN1cnJlbnRUaW1lKHN0YXJ0KTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHZvbHVtZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHRoaXMudXBkYXRlUHJvcHMoWyd2b2x1bWUnXSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZWZDb250YWluZXIgPSBmdW5jdGlvbiByZWZDb250YWluZXIoY29udGFpbmVyKSB7XG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMkcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgaWQgPSBfdGhpcyRwcm9wczMuaWQsXG4gICAgICAgIGNsYXNzTmFtZSA9IF90aGlzJHByb3BzMy5jbGFzc05hbWUsXG4gICAgICAgIHN0eWxlID0gX3RoaXMkcHJvcHMzLnN0eWxlO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBpZDogaWQsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgIHJlZjogdGhpcy5yZWZDb250YWluZXJcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gVmltZW87XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIFZpbWVvLnByb3BUeXBlcyA9IHtcbiAgICAvKipcbiAgICAgKiBBIFZpbWVvIHZpZGVvIElEIG9yIFVSTC5cbiAgICAgKi9cbiAgICB2aWRlbzogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLnN0cmluZ10pLFxuXG4gICAgLyoqXG4gICAgICogRE9NIElEIGZvciB0aGUgcGxheWVyIGVsZW1lbnQuXG4gICAgICovXG4gICAgaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgICAvKipcbiAgICAgKiBDU1MgY2xhc3NOYW1lIGZvciB0aGUgcGxheWVyIGVsZW1lbnQuXG4gICAgICovXG4gICAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gICAgLyoqXG4gICAgICogSW5saW5lIHN0eWxlIGZvciBjb250YWluZXIgZWxlbWVudC5cbiAgICAgKi9cbiAgICBzdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0L2ZvcmJpZC1wcm9wLXR5cGVzXG5cbiAgICAvKipcbiAgICAgKiBXaWR0aCBvZiB0aGUgcGxheWVyIGVsZW1lbnQuXG4gICAgICovXG4gICAgd2lkdGg6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5zdHJpbmddKSxcblxuICAgIC8qKlxuICAgICAqIEhlaWdodCBvZiB0aGUgcGxheWVyIGVsZW1lbnQuXG4gICAgICovXG4gICAgaGVpZ2h0OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc3RyaW5nXSksXG5cbiAgICAvKipcbiAgICAgKiBQYXVzZSB0aGUgdmlkZW8uXG4gICAgICovXG4gICAgcGF1c2VkOiBQcm9wVHlwZXMuYm9vbCxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0L25vLXVudXNlZC1wcm9wLXR5cGVzXG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGxheWJhY2sgdm9sdW1lIGFzIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS5cbiAgICAgKi9cbiAgICB2b2x1bWU6IFByb3BUeXBlcy5udW1iZXIsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGltZSBpbiBzZWNvbmRzIGF0IHdoaWNoIHRvIHN0YXJ0IHBsYXlpbmcgdGhlIHZpZGVvLlxuICAgICAqL1xuICAgIHN0YXJ0OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIC8vIFBsYXllciBwYXJhbWV0ZXJzXG5cbiAgICAvKipcbiAgICAgKiBQYXVzZSB0aGlzIHZpZGVvIGF1dG9tYXRpY2FsbHkgd2hlbiBhbm90aGVyIG9uZSBwbGF5cy5cbiAgICAgKi9cbiAgICBhdXRvcGF1c2U6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgLyoqXG4gICAgICogQXV0b21hdGljYWxseSBzdGFydCBwbGF5YmFjayBvZiB0aGUgdmlkZW8uIE5vdGUgdGhhdCB0aGlzIHdvbuKAmXQgd29yayBvblxuICAgICAqIHNvbWUgZGV2aWNlcy5cbiAgICAgKi9cbiAgICBhdXRvcGxheTogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAvKipcbiAgICAgKiBTaG93IHRoZSBieWxpbmUgb24gdGhlIHZpZGVvLlxuICAgICAqL1xuICAgIHNob3dCeWxpbmU6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgLyoqXG4gICAgICogU3BlY2lmeSB0aGUgY29sb3Igb2YgdGhlIHZpZGVvIGNvbnRyb2xzLiBDb2xvcnMgbWF5IGJlIG92ZXJyaWRkZW4gYnkgdGhlXG4gICAgICogZW1iZWQgc2V0dGluZ3Mgb2YgdGhlIHZpZGVvLiBfKEV4OiBcImVmMmY5ZlwiKV9cbiAgICAgKi9cbiAgICBjb2xvcjogUHJvcFR5cGVzLnN0cmluZyxcblxuICAgIC8qKlxuICAgICAqIEJsb2NrcyB0aGUgcGxheWVyIGZyb20gdHJhY2tpbmcgYW55IHNlc3Npb24gZGF0YSwgaW5jbHVkaW5nIGFsbCBjb29raWVzIGFuZCBhbmFseXRpY3MuXG4gICAgICovXG4gICAgZG50OiBQcm9wVHlwZXMuYm9vbCxcbiAgICAvLyBQbGF5ZXIgY29udHJvbHNcblxuICAgIC8qKlxuICAgICAqIEhpZGUgYWxsIGVsZW1lbnRzIGluIHRoZSBwbGF5ZXIgKHBsYXkgYmFyLCBzaGFyaW5nIGJ1dHRvbnMsIGV0YykuXG4gICAgICovXG4gICAgY29udHJvbHM6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgLyoqXG4gICAgICogUGxheSB0aGUgdmlkZW8gYWdhaW4gd2hlbiBpdCByZWFjaGVzIHRoZSBlbmQuXG4gICAgICovXG4gICAgbG9vcDogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAvKipcbiAgICAgKiBTaG93IHRoZSBwb3J0cmFpdCBvbiB0aGUgdmlkZW8uXG4gICAgICovXG4gICAgc2hvd1BvcnRyYWl0OiBQcm9wVHlwZXMuYm9vbCxcblxuICAgIC8qKlxuICAgICAqIFNob3cgdGhlIHRpdGxlIG9uIHRoZSB2aWRlby5cbiAgICAgKi9cbiAgICBzaG93VGl0bGU6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIGluIGEgbXV0ZWQgc3RhdGUgdG8gaGVscCB3aXRoIGF1dG9wbGF5XG4gICAgICovXG4gICAgbXV0ZWQ6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIGluIGEgYmFja2dyb3VuZCBzdGF0ZSB3aXRoIG5vIGNvbnRyb2xzIHRvIGhlbHAgd2l0aCBhdXRvcGxheVxuICAgICAqL1xuICAgIGJhY2tncm91bmQ6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIHJlc3BvbnNpdmUgbW9kZSBhbmQgcmVzaXplIGFjY29yZGluZyB0byBwYXJlbnQgZWxlbWVudCAoZXhwZXJpbWVudGFsKVxuICAgICAqL1xuICAgIHJlc3BvbnNpdmU6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIHBsYXliYWNrIHJhdGUgY29udHJvbHMgKHJlcXVpcmVzIFZpbWVvIFBSTyAvIEJ1c2luZXNzIGFjY291bnQpXG4gICAgICovXG4gICAgc3BlZWQ6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIGZvciBrZXlib2FyZCBpbnB1dCB0byB0cmlnZ2VyIHBsYXllciBldmVudHMuXG4gICAgICovXG4gICAga2V5Ym9hcmQ6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgLyoqXG4gICAgICogU2hvdyB0aGUgcGljdHVyZS1pbi1waWN0dXJlIGJ1dHRvbiBpbiB0aGUgY29udHJvbGJhclxuICAgICAqIGFuZCBlbmFibGUgdGhlIHBpY3R1cmUtaW4tcGljdHVyZSBBUEkuXG4gICAgICovXG4gICAgcGlwOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgIC8qKlxuICAgICAqIFBsYXkgdmlkZW8gaW5saW5lIG9uIG1vYmlsZSBkZXZpY2VzLCB0byBhdXRvbWF0aWNhbGx5XG4gICAgICogZ28gZnVsbHNjcmVlbiBvbiBwbGF5YmFjayBzZXQgdGhpcyBwYXJhbWV0ZXIgdG8gZmFsc2UuXG4gICAgICovXG4gICAgcGxheXNJbmxpbmU6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgLyoqXG4gICAgICogVmltZW8gUGx1cywgUFJPLCBhbmQgQnVzaW5lc3MgbWVtYmVycyBjYW4gZGVmYXVsdFxuICAgICAqIGFuIGVtYmVkZGVkIHZpZGVvIHRvIGEgc3BlY2lmaWMgcXVhbGl0eSBvbiBkZXNrdG9wLlxuICAgICAqL1xuICAgIHF1YWxpdHk6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgICAvKipcbiAgICAgKiBUdXJuIGNhcHRpb25zL3N1YnRpdGxlcyBvbiBmb3IgYSBzcGVjaWZpYyBsYW5ndWFnZSBieSBkZWZhdWx0LlxuICAgICAqL1xuICAgIHRleHRUcmFjazogUHJvcFR5cGVzLnN0cmluZyxcblxuICAgIC8qKlxuICAgICAqIFRoZSByZXNwb25zaXZlIHBsYXllciBhbmQgdHJhbnNwYXJlbnQgYmFja2dyb3VuZCBhcmUgZW5hYmxlZFxuICAgICAqIGJ5IGRlZmF1bHQsIHRvIGRpc2FibGUgc2V0IHRoaXMgcGFyYW1ldGVyIHRvIGZhbHNlLlxuICAgICAqL1xuICAgIHRyYW5zcGFyZW50OiBQcm9wVHlwZXMuYm9vbCxcbiAgICAvLyBFdmVudHNcblxuICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0L25vLXVudXNlZC1wcm9wLXR5cGVzICovXG5cbiAgICAvKipcbiAgICAgKiBTZW50IHdoZW4gdGhlIFZpbWVvIHBsYXllciBBUEkgaGFzIGxvYWRlZC5cbiAgICAgKiBSZWNlaXZlcyB0aGUgVmltZW8gcGxheWVyIG9iamVjdCBpbiB0aGUgZmlyc3QgcGFyYW1ldGVyLlxuICAgICAqL1xuICAgIG9uUmVhZHk6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgLyoqXG4gICAgICogU2VudCB3aGVuIHRoZSBwbGF5ZXIgdHJpZ2dlcnMgYW4gZXJyb3IuXG4gICAgICovXG4gICAgb25FcnJvcjogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgdmlkZW8gcGxheXMuXG4gICAgICovXG4gICAgb25QbGF5OiBQcm9wVHlwZXMuZnVuYyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIHRoZSB2aWRlbyBwYXVzZXMuXG4gICAgICovXG4gICAgb25QYXVzZTogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYW55IHRpbWUgdGhlIHZpZGVvIHBsYXliYWNrIHJlYWNoZXMgdGhlIGVuZC5cbiAgICAgKiBOb3RlOiB3aGVuIGBsb29wYCBpcyB0dXJuZWQgb24sIHRoZSBlbmRlZCBldmVudCB3aWxsIG5vdCBmaXJlLlxuICAgICAqL1xuICAgIG9uRW5kOiBQcm9wVHlwZXMuZnVuYyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhcyB0aGUgYGN1cnJlbnRUaW1lYCBvZiB0aGUgdmlkZW8gdXBkYXRlcy4gSXQgZ2VuZXJhbGx5IGZpcmVzXG4gICAgICogZXZlcnkgMjUwbXMsIGJ1dCBpdCBtYXkgdmFyeSBkZXBlbmRpbmcgb24gdGhlIGJyb3dzZXIuXG4gICAgICovXG4gICAgb25UaW1lVXBkYXRlOiBQcm9wVHlwZXMuZnVuYyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhcyB0aGUgdmlkZW8gaXMgbG9hZGVkLiBSZXBvcnRzIGJhY2sgdGhlIGFtb3VudCBvZiB0aGUgdmlkZW9cbiAgICAgKiB0aGF0IGhhcyBiZWVuIGJ1ZmZlcmVkLlxuICAgICAqL1xuICAgIG9uUHJvZ3Jlc3M6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gdGhlIHBsYXllciBzZWVrcyB0byBhIHNwZWNpZmljIHRpbWUuIEFuIGBvblRpbWVVcGRhdGVgXG4gICAgICogZXZlbnQgd2lsbCBhbHNvIGJlIGZpcmVkIGF0IHRoZSBzYW1lIHRpbWUuXG4gICAgICovXG4gICAgb25TZWVrZWQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gdGhlIGFjdGl2ZSB0ZXh0IHRyYWNrIChjYXB0aW9ucy9zdWJ0aXRsZXMpIGNoYW5nZXMuIFRoZVxuICAgICAqIHZhbHVlcyB3aWxsIGJlIGBudWxsYCBpZiB0ZXh0IHRyYWNrcyBhcmUgdHVybmVkIG9mZi5cbiAgICAgKi9cbiAgICBvblRleHRUcmFja0NoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgYWN0aXZlIGN1ZSBmb3IgdGhlIGN1cnJlbnQgdGV4dCB0cmFjayBjaGFuZ2VzLiBJdCBhbHNvXG4gICAgICogZmlyZXMgd2hlbiB0aGUgYWN0aXZlIHRleHQgdHJhY2sgY2hhbmdlcy4gVGhlcmUgbWF5IGJlIG11bHRpcGxlIGN1ZXNcbiAgICAgKiBhY3RpdmUuXG4gICAgICovXG4gICAgb25DdWVDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gdGhlIGN1cnJlbnQgdGltZSBoaXRzIGEgcmVnaXN0ZXJlZCBjdWUgcG9pbnQuXG4gICAgICovXG4gICAgb25DdWVQb2ludDogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgdm9sdW1lIGluIHRoZSBwbGF5ZXIgY2hhbmdlcy4gU29tZSBkZXZpY2VzIGRvIG5vdFxuICAgICAqIHN1cHBvcnQgc2V0dGluZyB0aGUgdm9sdW1lIG9mIHRoZSB2aWRlbyBpbmRlcGVuZGVudGx5IGZyb20gdGhlIHN5c3RlbVxuICAgICAqIHZvbHVtZSwgc28gdGhpcyBldmVudCB3aWxsIG5ldmVyIGZpcmUgb24gdGhvc2UgZGV2aWNlcy5cbiAgICAgKi9cbiAgICBvblZvbHVtZUNoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgcGxheWJhY2sgcmF0ZSBjaGFuZ2VzLlxuICAgICAqL1xuICAgIG9uUGxheWJhY2tSYXRlQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGEgbmV3IHZpZGVvIGlzIGxvYWRlZCBpbiB0aGUgcGxheWVyLlxuICAgICAqL1xuICAgIG9uTG9hZGVkOiBQcm9wVHlwZXMuZnVuY1xuICAgIC8qIGVzbGludC1lbmFibGUgcmVhY3Qvbm8tdW51c2VkLXByb3AtdHlwZXMgKi9cblxuICB9O1xufVxuXG5WaW1lby5kZWZhdWx0UHJvcHMgPSB7XG4gIGF1dG9wYXVzZTogdHJ1ZSxcbiAgYXV0b3BsYXk6IGZhbHNlLFxuICBzaG93QnlsaW5lOiB0cnVlLFxuICBjb250cm9sczogdHJ1ZSxcbiAgbG9vcDogZmFsc2UsXG4gIHNob3dQb3J0cmFpdDogdHJ1ZSxcbiAgc2hvd1RpdGxlOiB0cnVlLFxuICBtdXRlZDogZmFsc2UsXG4gIGJhY2tncm91bmQ6IGZhbHNlLFxuICByZXNwb25zaXZlOiBmYWxzZSxcbiAgZG50OiBmYWxzZSxcbiAgc3BlZWQ6IGZhbHNlLFxuICBrZXlib2FyZDogdHJ1ZSxcbiAgcGlwOiBmYWxzZSxcbiAgcGxheXNJbmxpbmU6IHRydWUsXG4gIHRyYW5zcGFyZW50OiB0cnVlXG59O1xuXG5leHBvcnQgeyBWaW1lbyBhcyBkZWZhdWx0IH07XG4iLCIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE4IEplZCBXYXRzb24uXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG4gIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cblx0ZnVuY3Rpb24gY2xhc3NOYW1lcygpIHtcblx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0aWYgKGFyZy5sZW5ndGgpIHtcblx0XHRcdFx0XHR2YXIgaW5uZXIgPSBjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZyk7XG5cdFx0XHRcdFx0aWYgKGlubmVyKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goaW5uZXIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRpZiAoYXJnLnRvU3RyaW5nID09PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIga2V5IGluIGFyZykge1xuXHRcdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGFyZy50b1N0cmluZygpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjbGFzc2VzLmpvaW4oJyAnKTtcblx0fVxuXG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdGNsYXNzTmFtZXMuZGVmYXVsdCA9IGNsYXNzTmFtZXM7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgaWYgKCF1cmwpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgdXJsID0gU3RyaW5nKHVybC5fX2VzTW9kdWxlID8gdXJsLmRlZmF1bHQgOiB1cmwpOyAvLyBJZiB1cmwgaXMgYWxyZWFkeSB3cmFwcGVkIGluIHF1b3RlcywgcmVtb3ZlIHRoZW1cblxuICBpZiAoL15bJ1wiXS4qWydcIl0kLy50ZXN0KHVybCkpIHtcbiAgICB1cmwgPSB1cmwuc2xpY2UoMSwgLTEpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuaGFzaCkge1xuICAgIHVybCArPSBvcHRpb25zLmhhc2g7XG4gIH0gLy8gU2hvdWxkIHVybCBiZSB3cmFwcGVkP1xuICAvLyBTZWUgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy12YWx1ZXMtMy8jdXJsc1xuXG5cbiAgaWYgKC9bXCInKCkgXFx0XFxuXXwoJTIwKS8udGVzdCh1cmwpIHx8IG9wdGlvbnMubmVlZFF1b3Rlcykge1xuICAgIHJldHVybiBcIlxcXCJcIi5jb25jYXQodXJsLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKS5yZXBsYWNlKC9cXG4vZywgXCJcXFxcblwiKSwgXCJcXFwiXCIpO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07IiwidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN5bWJvbDtcbiIsInZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19TeW1ib2wnKSxcbiAgICBnZXRSYXdUYWcgPSByZXF1aXJlKCcuL19nZXRSYXdUYWcnKSxcbiAgICBvYmplY3RUb1N0cmluZyA9IHJlcXVpcmUoJy4vX29iamVjdFRvU3RyaW5nJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gIH1cbiAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VHZXRUYWc7XG4iLCJ2YXIgdHJpbW1lZEVuZEluZGV4ID0gcmVxdWlyZSgnLi9fdHJpbW1lZEVuZEluZGV4Jyk7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIGxlYWRpbmcgd2hpdGVzcGFjZS4gKi9cbnZhciByZVRyaW1TdGFydCA9IC9eXFxzKy87XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udHJpbWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byB0cmltLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUcmltKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nXG4gICAgPyBzdHJpbmcuc2xpY2UoMCwgdHJpbW1lZEVuZEluZGV4KHN0cmluZykgKyAxKS5yZXBsYWNlKHJlVHJpbVN0YXJ0LCAnJylcbiAgICA6IHN0cmluZztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlVHJpbTtcbiIsIi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbm1vZHVsZS5leHBvcnRzID0gZnJlZUdsb2JhbDtcbiIsInZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19TeW1ib2wnKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFJhd1RhZztcbiIsIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG9iamVjdFRvU3RyaW5nO1xuIiwidmFyIGZyZWVHbG9iYWwgPSByZXF1aXJlKCcuL19mcmVlR2xvYmFsJyk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb290O1xuIiwiLyoqIFVzZWQgdG8gbWF0Y2ggYSBzaW5nbGUgd2hpdGVzcGFjZSBjaGFyYWN0ZXIuICovXG52YXIgcmVXaGl0ZXNwYWNlID0gL1xccy87XG5cbi8qKlxuICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbUVuZGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZVxuICogY2hhcmFjdGVyIG9mIGBzdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsYXN0IG5vbi13aGl0ZXNwYWNlIGNoYXJhY3Rlci5cbiAqL1xuZnVuY3Rpb24gdHJpbW1lZEVuZEluZGV4KHN0cmluZykge1xuICB2YXIgaW5kZXggPSBzdHJpbmcubGVuZ3RoO1xuXG4gIHdoaWxlIChpbmRleC0tICYmIHJlV2hpdGVzcGFjZS50ZXN0KHN0cmluZy5jaGFyQXQoaW5kZXgpKSkge31cbiAgcmV0dXJuIGluZGV4O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRyaW1tZWRFbmRJbmRleDtcbiIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKSxcbiAgICBub3cgPSByZXF1aXJlKCcuL25vdycpLFxuICAgIHRvTnVtYmVyID0gcmVxdWlyZSgnLi90b051bWJlcicpO1xuXG4vKiogRXJyb3IgbWVzc2FnZSBjb25zdGFudHMuICovXG52YXIgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgbmF0aXZlTWluID0gTWF0aC5taW47XG5cbi8qKlxuICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICogaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gKlxuICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAqIH0pKTtcbiAqXG4gKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICovXG5mdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciBsYXN0QXJncyxcbiAgICAgIGxhc3RUaGlzLFxuICAgICAgbWF4V2FpdCxcbiAgICAgIHJlc3VsdCxcbiAgICAgIHRpbWVySWQsXG4gICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICBsZWFkaW5nID0gZmFsc2UsXG4gICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgdGltZVdhaXRpbmcgPSB3YWl0IC0gdGltZVNpbmNlTGFzdENhbGw7XG5cbiAgICByZXR1cm4gbWF4aW5nXG4gICAgICA/IG5hdGl2ZU1pbih0aW1lV2FpdGluZywgbWF4V2FpdCAtIHRpbWVTaW5jZUxhc3RJbnZva2UpXG4gICAgICA6IHRpbWVXYWl0aW5nO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lO1xuXG4gICAgLy8gRWl0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwsIGFjdGl2aXR5IGhhcyBzdG9wcGVkIGFuZCB3ZSdyZSBhdCB0aGVcbiAgICAvLyB0cmFpbGluZyBlZGdlLCB0aGUgc3lzdGVtIHRpbWUgaGFzIGdvbmUgYmFja3dhcmRzIGFuZCB3ZSdyZSB0cmVhdGluZ1xuICAgIC8vIGl0IGFzIHRoZSB0cmFpbGluZyBlZGdlLCBvciB3ZSd2ZSBoaXQgdGhlIGBtYXhXYWl0YCBsaW1pdC5cbiAgICByZXR1cm4gKGxhc3RDYWxsVGltZSA9PT0gdW5kZWZpbmVkIHx8ICh0aW1lU2luY2VMYXN0Q2FsbCA+PSB3YWl0KSB8fFxuICAgICAgKHRpbWVTaW5jZUxhc3RDYWxsIDwgMCkgfHwgKG1heGluZyAmJiB0aW1lU2luY2VMYXN0SW52b2tlID49IG1heFdhaXQpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICB2YXIgdGltZSA9IG5vdygpO1xuICAgIGlmIChzaG91bGRJbnZva2UodGltZSkpIHtcbiAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgfVxuICAgIC8vIFJlc3RhcnQgdGhlIHRpbWVyLlxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFpbGluZ0VkZ2UodGltZSkge1xuICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cbiAgICAvLyBPbmx5IGludm9rZSBpZiB3ZSBoYXZlIGBsYXN0QXJnc2Agd2hpY2ggbWVhbnMgYGZ1bmNgIGhhcyBiZWVuXG4gICAgLy8gZGVib3VuY2VkIGF0IGxlYXN0IG9uY2UuXG4gICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICByZXR1cm4gaW52b2tlRnVuYyh0aW1lKTtcbiAgICB9XG4gICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgIGlmICh0aW1lcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICB9XG4gICAgbGFzdEludm9rZVRpbWUgPSAwO1xuICAgIGxhc3RBcmdzID0gbGFzdENhbGxUaW1lID0gbGFzdFRoaXMgPSB0aW1lcklkID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgcmV0dXJuIHRpbWVySWQgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IHRyYWlsaW5nRWRnZShub3coKSk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKSxcbiAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcblxuICAgIGxhc3RBcmdzID0gYXJndW1lbnRzO1xuICAgIGxhc3RUaGlzID0gdGhpcztcbiAgICBsYXN0Q2FsbFRpbWUgPSB0aW1lO1xuXG4gICAgaWYgKGlzSW52b2tpbmcpIHtcbiAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG4gICAgICB9XG4gICAgICBpZiAobWF4aW5nKSB7XG4gICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBkZWJvdW5jZWQuY2FuY2VsID0gY2FuY2VsO1xuICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcbiAgcmV0dXJuIGRlYm91bmNlZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWJvdW5jZTtcbiIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0O1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuIiwidmFyIGJhc2VHZXRUYWcgPSByZXF1aXJlKCcuL19iYXNlR2V0VGFnJyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzU3ltYm9sO1xuIiwidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKlxuICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgRGF0ZVxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gKiB9LCBfLm5vdygpKTtcbiAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gKi9cbnZhciBub3cgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gbm93O1xuIiwidmFyIGRlYm91bmNlID0gcmVxdWlyZSgnLi9kZWJvdW5jZScpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpO1xuXG4vKiogRXJyb3IgbWVzc2FnZSBjb25zdGFudHMuICovXG52YXIgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXG4vKipcbiAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZ1bmNgIGF0IG1vc3Qgb25jZSBwZXJcbiAqIGV2ZXJ5IGB3YWl0YCBtaWxsaXNlY29uZHMuIFRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgXG4gKiBtZXRob2QgdG8gY2FuY2VsIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvXG4gKiBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS4gUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2BcbiAqIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGBcbiAqIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZCB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGVcbiAqIHRocm90dGxlZCBmdW5jdGlvbi4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHJldHVybiB0aGVcbiAqIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIHRocm90dGxlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy50aHJvdHRsZWAgYW5kIGBfLmRlYm91bmNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHRocm90dGxlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGludm9jYXRpb25zIHRvLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdzY3JvbGwnLCBfLnRocm90dGxlKHVwZGF0ZVBvc2l0aW9uLCAxMDApKTtcbiAqXG4gKiAvLyBJbnZva2UgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlcy5cbiAqIHZhciB0aHJvdHRsZWQgPSBfLnRocm90dGxlKHJlbmV3VG9rZW4sIDMwMDAwMCwgeyAndHJhaWxpbmcnOiBmYWxzZSB9KTtcbiAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB0aHJvdHRsZWQpO1xuICpcbiAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgdGhyb3R0bGVkIGludm9jYXRpb24uXG4gKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCB0aHJvdHRsZWQuY2FuY2VsKTtcbiAqL1xuZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGVhZGluZyA9IHRydWUsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICdsZWFkaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLmxlYWRpbmcgOiBsZWFkaW5nO1xuICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gIH1cbiAgcmV0dXJuIGRlYm91bmNlKGZ1bmMsIHdhaXQsIHtcbiAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgJ21heFdhaXQnOiB3YWl0LFxuICAgICd0cmFpbGluZyc6IHRyYWlsaW5nXG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRocm90dGxlO1xuIiwidmFyIGJhc2VUcmltID0gcmVxdWlyZSgnLi9fYmFzZVRyaW0nKSxcbiAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKSxcbiAgICBpc1N5bWJvbCA9IHJlcXVpcmUoJy4vaXNTeW1ib2wnKTtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTkFOID0gMCAvIDA7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiYWQgc2lnbmVkIGhleGFkZWNpbWFsIHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcblxuLyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cbnZhciBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgbnVtYmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvTnVtYmVyKDMuMik7XG4gKiAvLyA9PiAzLjJcbiAqXG4gKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gNWUtMzI0XG4gKlxuICogXy50b051bWJlcihJbmZpbml0eSk7XG4gKiAvLyA9PiBJbmZpbml0eVxuICpcbiAqIF8udG9OdW1iZXIoJzMuMicpO1xuICogLy8gPT4gMy4yXG4gKi9cbmZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBOQU47XG4gIH1cbiAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHZhciBvdGhlciA9IHR5cGVvZiB2YWx1ZS52YWx1ZU9mID09ICdmdW5jdGlvbicgPyB2YWx1ZS52YWx1ZU9mKCkgOiB2YWx1ZTtcbiAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgfVxuICB2YWx1ZSA9IGJhc2VUcmltKHZhbHVlKTtcbiAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9OdW1iZXI7XG4iLCJpbXBvcnQgeyB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSAnLi91c2UtaXNvbW9ycGhpYy1lZmZlY3QubWpzJztcblxuZnVuY3Rpb24gdXNlSXNNb3VudGVkKCkge1xuICAgIGNvbnN0IGlzTW91bnRlZCA9IHVzZVJlZihmYWxzZSk7XG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlzTW91bnRlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlzTW91bnRlZC5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIHJldHVybiBpc01vdW50ZWQ7XG59XG5cbmV4cG9ydCB7IHVzZUlzTW91bnRlZCB9O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlSWQsIHVzZVJlZiwgdXNlSW5zZXJ0aW9uRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIE1lYXN1cmVtZW50IGZ1bmN0aW9uYWxpdHkgaGFzIHRvIGJlIHdpdGhpbiBhIHNlcGFyYXRlIGNvbXBvbmVudFxuICogdG8gbGV2ZXJhZ2Ugc25hcHNob3QgbGlmZWN5Y2xlLlxuICovXG5jbGFzcyBQb3BDaGlsZE1lYXN1cmUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5wcm9wcy5jaGlsZFJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoZWxlbWVudCAmJiBwcmV2UHJvcHMuaXNQcmVzZW50ICYmICF0aGlzLnByb3BzLmlzUHJlc2VudCkge1xuICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMucHJvcHMuc2l6ZVJlZi5jdXJyZW50O1xuICAgICAgICAgICAgc2l6ZS5oZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodCB8fCAwO1xuICAgICAgICAgICAgc2l6ZS53aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGggfHwgMDtcbiAgICAgICAgICAgIHNpemUudG9wID0gZWxlbWVudC5vZmZzZXRUb3A7XG4gICAgICAgICAgICBzaXplLmxlZnQgPSBlbGVtZW50Lm9mZnNldExlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlcXVpcmVkIHdpdGggZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgdG8gc3RvcCBSZWFjdCBjb21wbGFpbmluZy5cbiAgICAgKi9cbiAgICBjb21wb25lbnREaWRVcGRhdGUoKSB7IH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgIH1cbn1cbmZ1bmN0aW9uIFBvcENoaWxkKHsgY2hpbGRyZW4sIGlzUHJlc2VudCB9KSB7XG4gICAgY29uc3QgaWQgPSB1c2VJZCgpO1xuICAgIGNvbnN0IHJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCBzaXplID0gdXNlUmVmKHtcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBsZWZ0OiAwLFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFdlIGNyZWF0ZSBhbmQgaW5qZWN0IGEgc3R5bGUgYmxvY2sgc28gd2UgY2FuIGFwcGx5IHRoaXMgZXhwbGljaXRcbiAgICAgKiBzaXppbmcgaW4gYSBub24tZGVzdHJ1Y3RpdmUgbWFubmVyIGJ5IGp1c3QgZGVsZXRpbmcgdGhlIHN0eWxlIGJsb2NrLlxuICAgICAqXG4gICAgICogV2UgY2FuJ3QgYXBwbHkgc2l6ZSB2aWEgcmVuZGVyIGFzIHRoZSBtZWFzdXJlbWVudCBoYXBwZW5zXG4gICAgICogaW4gZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgKHBvc3QtcmVuZGVyKSwgbGlrZXdpc2UgaWYgd2UgYXBwbHkgdGhlXG4gICAgICogc3R5bGVzIGRpcmVjdGx5IG9uIHRoZSBET00gbm9kZSwgd2UgbWlnaHQgYmUgb3ZlcndyaXRpbmdcbiAgICAgKiBzdHlsZXMgc2V0IHZpYSB0aGUgc3R5bGUgcHJvcC5cbiAgICAgKi9cbiAgICB1c2VJbnNlcnRpb25FZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIHRvcCwgbGVmdCB9ID0gc2l6ZS5jdXJyZW50O1xuICAgICAgICBpZiAoaXNQcmVzZW50IHx8ICFyZWYuY3VycmVudCB8fCAhd2lkdGggfHwgIWhlaWdodClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmVmLmN1cnJlbnQuZGF0YXNldC5tb3Rpb25Qb3BJZCA9IGlkO1xuICAgICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICAgIGlmIChzdHlsZS5zaGVldCkge1xuICAgICAgICAgICAgc3R5bGUuc2hlZXQuaW5zZXJ0UnVsZShgXG4gICAgICAgICAgW2RhdGEtbW90aW9uLXBvcC1pZD1cIiR7aWR9XCJdIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgd2lkdGg6ICR7d2lkdGh9cHggIWltcG9ydGFudDtcbiAgICAgICAgICAgIGhlaWdodDogJHtoZWlnaHR9cHggIWltcG9ydGFudDtcbiAgICAgICAgICAgIHRvcDogJHt0b3B9cHggIWltcG9ydGFudDtcbiAgICAgICAgICAgIGxlZnQ6ICR7bGVmdH1weCAhaW1wb3J0YW50O1xuICAgICAgICAgIH1cbiAgICAgICAgYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuICAgICAgICB9O1xuICAgIH0sIFtpc1ByZXNlbnRdKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUG9wQ2hpbGRNZWFzdXJlLCB7IGlzUHJlc2VudDogaXNQcmVzZW50LCBjaGlsZFJlZjogcmVmLCBzaXplUmVmOiBzaXplIH0sIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZHJlbiwgeyByZWYgfSkpKTtcbn1cblxuZXhwb3J0IHsgUG9wQ2hpbGQgfTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUlkLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUHJlc2VuY2VDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9QcmVzZW5jZUNvbnRleHQubWpzJztcbmltcG9ydCB7IHVzZUNvbnN0YW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLWNvbnN0YW50Lm1qcyc7XG5pbXBvcnQgeyBQb3BDaGlsZCB9IGZyb20gJy4vUG9wQ2hpbGQubWpzJztcblxuY29uc3QgUHJlc2VuY2VDaGlsZCA9ICh7IGNoaWxkcmVuLCBpbml0aWFsLCBpc1ByZXNlbnQsIG9uRXhpdENvbXBsZXRlLCBjdXN0b20sIHByZXNlbmNlQWZmZWN0c0xheW91dCwgbW9kZSwgfSkgPT4ge1xuICAgIGNvbnN0IHByZXNlbmNlQ2hpbGRyZW4gPSB1c2VDb25zdGFudChuZXdDaGlsZHJlbk1hcCk7XG4gICAgY29uc3QgaWQgPSB1c2VJZCgpO1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIGlkLFxuICAgICAgICBpbml0aWFsLFxuICAgICAgICBpc1ByZXNlbnQsXG4gICAgICAgIGN1c3RvbSxcbiAgICAgICAgb25FeGl0Q29tcGxldGU6IChjaGlsZElkKSA9PiB7XG4gICAgICAgICAgICBwcmVzZW5jZUNoaWxkcmVuLnNldChjaGlsZElkLCB0cnVlKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXNDb21wbGV0ZSBvZiBwcmVzZW5jZUNoaWxkcmVuLnZhbHVlcygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0NvbXBsZXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIGNhbiBzdG9wIHNlYXJjaGluZyB3aGVuIGFueSBpcyBpbmNvbXBsZXRlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvbkV4aXRDb21wbGV0ZSAmJiBvbkV4aXRDb21wbGV0ZSgpO1xuICAgICAgICB9LFxuICAgICAgICByZWdpc3RlcjogKGNoaWxkSWQpID0+IHtcbiAgICAgICAgICAgIHByZXNlbmNlQ2hpbGRyZW4uc2V0KGNoaWxkSWQsIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiBwcmVzZW5jZUNoaWxkcmVuLmRlbGV0ZShjaGlsZElkKTtcbiAgICAgICAgfSxcbiAgICB9KSwgXG4gICAgLyoqXG4gICAgICogSWYgdGhlIHByZXNlbmNlIG9mIGEgY2hpbGQgYWZmZWN0cyB0aGUgbGF5b3V0IG9mIHRoZSBjb21wb25lbnRzIGFyb3VuZCBpdCxcbiAgICAgKiB3ZSB3YW50IHRvIG1ha2UgYSBuZXcgY29udGV4dCB2YWx1ZSB0byBlbnN1cmUgdGhleSBnZXQgcmUtcmVuZGVyZWRcbiAgICAgKiBzbyB0aGV5IGNhbiBkZXRlY3QgdGhhdCBsYXlvdXQgY2hhbmdlLlxuICAgICAqL1xuICAgIHByZXNlbmNlQWZmZWN0c0xheW91dCA/IHVuZGVmaW5lZCA6IFtpc1ByZXNlbnRdKTtcbiAgICB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgcHJlc2VuY2VDaGlsZHJlbi5mb3JFYWNoKChfLCBrZXkpID0+IHByZXNlbmNlQ2hpbGRyZW4uc2V0KGtleSwgZmFsc2UpKTtcbiAgICB9LCBbaXNQcmVzZW50XSk7XG4gICAgLyoqXG4gICAgICogSWYgdGhlcmUncyBubyBgbW90aW9uYCBjb21wb25lbnRzIHRvIGZpcmUgZXhpdCBhbmltYXRpb25zLCB3ZSB3YW50IHRvIHJlbW92ZSB0aGlzXG4gICAgICogY29tcG9uZW50IGltbWVkaWF0ZWx5LlxuICAgICAqL1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICFpc1ByZXNlbnQgJiZcbiAgICAgICAgICAgICFwcmVzZW5jZUNoaWxkcmVuLnNpemUgJiZcbiAgICAgICAgICAgIG9uRXhpdENvbXBsZXRlICYmXG4gICAgICAgICAgICBvbkV4aXRDb21wbGV0ZSgpO1xuICAgIH0sIFtpc1ByZXNlbnRdKTtcbiAgICBpZiAobW9kZSA9PT0gXCJwb3BMYXlvdXRcIikge1xuICAgICAgICBjaGlsZHJlbiA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUG9wQ2hpbGQsIHsgaXNQcmVzZW50OiBpc1ByZXNlbnQgfSwgY2hpbGRyZW4pO1xuICAgIH1cbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJlc2VuY2VDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0IH0sIGNoaWxkcmVuKSk7XG59O1xuZnVuY3Rpb24gbmV3Q2hpbGRyZW5NYXAoKSB7XG4gICAgcmV0dXJuIG5ldyBNYXAoKTtcbn1cblxuZXhwb3J0IHsgUHJlc2VuY2VDaGlsZCB9O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlUmVmLCBjbG9uZUVsZW1lbnQsIENoaWxkcmVuLCBpc1ZhbGlkRWxlbWVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uLy4uL3V0aWxzL3Byb2Nlc3MubWpzJztcbmltcG9ydCB7IHVzZUZvcmNlVXBkYXRlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLWZvcmNlLXVwZGF0ZS5tanMnO1xuaW1wb3J0IHsgdXNlSXNNb3VudGVkIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLWlzLW1vdW50ZWQubWpzJztcbmltcG9ydCB7IFByZXNlbmNlQ2hpbGQgfSBmcm9tICcuL1ByZXNlbmNlQ2hpbGQubWpzJztcbmltcG9ydCB7IExheW91dEdyb3VwQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvTGF5b3V0R3JvdXBDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLWlzb21vcnBoaWMtZWZmZWN0Lm1qcyc7XG5pbXBvcnQgeyB1c2VVbm1vdW50RWZmZWN0IH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLXVubW91bnQtZWZmZWN0Lm1qcyc7XG5pbXBvcnQgeyB3YXJuT25jZSB9IGZyb20gJy4uLy4uL3V0aWxzL3dhcm4tb25jZS5tanMnO1xuXG5jb25zdCBnZXRDaGlsZEtleSA9IChjaGlsZCkgPT4gY2hpbGQua2V5IHx8IFwiXCI7XG5mdW5jdGlvbiB1cGRhdGVDaGlsZExvb2t1cChjaGlsZHJlbiwgYWxsQ2hpbGRyZW4pIHtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSBnZXRDaGlsZEtleShjaGlsZCk7XG4gICAgICAgIGFsbENoaWxkcmVuLnNldChrZXksIGNoaWxkKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIG9ubHlFbGVtZW50cyhjaGlsZHJlbikge1xuICAgIGNvbnN0IGZpbHRlcmVkID0gW107XG4gICAgLy8gV2UgdXNlIGZvckVhY2ggaGVyZSBpbnN0ZWFkIG9mIG1hcCBhcyBtYXAgbXV0YXRlcyB0aGUgY29tcG9uZW50IGtleSBieSBwcmVwcmVuZGluZyBgLiRgXG4gICAgQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgKGNoaWxkKSA9PiB7XG4gICAgICAgIGlmIChpc1ZhbGlkRWxlbWVudChjaGlsZCkpXG4gICAgICAgICAgICBmaWx0ZXJlZC5wdXNoKGNoaWxkKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZmlsdGVyZWQ7XG59XG4vKipcbiAqIGBBbmltYXRlUHJlc2VuY2VgIGVuYWJsZXMgdGhlIGFuaW1hdGlvbiBvZiBjb21wb25lbnRzIHRoYXQgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgdHJlZS5cbiAqXG4gKiBXaGVuIGFkZGluZy9yZW1vdmluZyBtb3JlIHRoYW4gYSBzaW5nbGUgY2hpbGQsIGV2ZXJ5IGNoaWxkICoqbXVzdCoqIGJlIGdpdmVuIGEgdW5pcXVlIGBrZXlgIHByb3AuXG4gKlxuICogQW55IGBtb3Rpb25gIGNvbXBvbmVudHMgdGhhdCBoYXZlIGFuIGBleGl0YCBwcm9wZXJ0eSBkZWZpbmVkIHdpbGwgYW5pbWF0ZSBvdXQgd2hlbiByZW1vdmVkIGZyb21cbiAqIHRoZSB0cmVlLlxuICpcbiAqIGBgYGpzeFxuICogaW1wb3J0IHsgbW90aW9uLCBBbmltYXRlUHJlc2VuY2UgfSBmcm9tICdmcmFtZXItbW90aW9uJ1xuICpcbiAqIGV4cG9ydCBjb25zdCBJdGVtcyA9ICh7IGl0ZW1zIH0pID0+IChcbiAqICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAqICAgICB7aXRlbXMubWFwKGl0ZW0gPT4gKFxuICogICAgICAgPG1vdGlvbi5kaXZcbiAqICAgICAgICAga2V5PXtpdGVtLmlkfVxuICogICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX1cbiAqICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxIH19XG4gKiAgICAgICAgIGV4aXQ9e3sgb3BhY2l0eTogMCB9fVxuICogICAgICAgLz5cbiAqICAgICApKX1cbiAqICAgPC9BbmltYXRlUHJlc2VuY2U+XG4gKiApXG4gKiBgYGBcbiAqXG4gKiBZb3UgY2FuIHNlcXVlbmNlIGV4aXQgYW5pbWF0aW9ucyB0aHJvdWdob3V0IGEgdHJlZSB1c2luZyB2YXJpYW50cy5cbiAqXG4gKiBJZiBhIGNoaWxkIGNvbnRhaW5zIG11bHRpcGxlIGBtb3Rpb25gIGNvbXBvbmVudHMgd2l0aCBgZXhpdGAgcHJvcHMsIGl0IHdpbGwgb25seSB1bm1vdW50IHRoZSBjaGlsZFxuICogb25jZSBhbGwgYG1vdGlvbmAgY29tcG9uZW50cyBoYXZlIGZpbmlzaGVkIGFuaW1hdGluZyBvdXQuIExpa2V3aXNlLCBhbnkgY29tcG9uZW50cyB1c2luZ1xuICogYHVzZVByZXNlbmNlYCBhbGwgbmVlZCB0byBjYWxsIGBzYWZlVG9SZW1vdmVgLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuY29uc3QgQW5pbWF0ZVByZXNlbmNlID0gKHsgY2hpbGRyZW4sIGN1c3RvbSwgaW5pdGlhbCA9IHRydWUsIG9uRXhpdENvbXBsZXRlLCBleGl0QmVmb3JlRW50ZXIsIHByZXNlbmNlQWZmZWN0c0xheW91dCA9IHRydWUsIG1vZGUgPSBcInN5bmNcIiwgfSkgPT4ge1xuICAgIC8vIFN1cHBvcnQgZGVwcmVjYXRlZCBleGl0QmVmb3JlRW50ZXIgcHJvcFxuICAgIGlmIChleGl0QmVmb3JlRW50ZXIpIHtcbiAgICAgICAgbW9kZSA9IFwid2FpdFwiO1xuICAgICAgICB3YXJuT25jZShmYWxzZSwgXCJSZXBsYWNlIGV4aXRCZWZvcmVFbnRlciB3aXRoIG1vZGU9J3dhaXQnXCIpO1xuICAgIH1cbiAgICAvLyBXZSB3YW50IHRvIGZvcmNlIGEgcmUtcmVuZGVyIG9uY2UgYWxsIGV4aXRpbmcgYW5pbWF0aW9ucyBoYXZlIGZpbmlzaGVkLiBXZVxuICAgIC8vIGVpdGhlciB1c2UgYSBsb2NhbCBmb3JjZVJlbmRlciBmdW5jdGlvbiwgb3Igb25lIGZyb20gYSBwYXJlbnQgY29udGV4dCBpZiBpdCBleGlzdHMuXG4gICAgbGV0IFtmb3JjZVJlbmRlcl0gPSB1c2VGb3JjZVVwZGF0ZSgpO1xuICAgIGNvbnN0IGZvcmNlUmVuZGVyTGF5b3V0R3JvdXAgPSB1c2VDb250ZXh0KExheW91dEdyb3VwQ29udGV4dCkuZm9yY2VSZW5kZXI7XG4gICAgaWYgKGZvcmNlUmVuZGVyTGF5b3V0R3JvdXApXG4gICAgICAgIGZvcmNlUmVuZGVyID0gZm9yY2VSZW5kZXJMYXlvdXRHcm91cDtcbiAgICBjb25zdCBpc01vdW50ZWQgPSB1c2VJc01vdW50ZWQoKTtcbiAgICAvLyBGaWx0ZXIgb3V0IGFueSBjaGlsZHJlbiB0aGF0IGFyZW4ndCBSZWFjdEVsZW1lbnRzLiBXZSBjYW4gb25seSB0cmFjayBSZWFjdEVsZW1lbnRzIHdpdGggYSBwcm9wcy5rZXlcbiAgICBjb25zdCBmaWx0ZXJlZENoaWxkcmVuID0gb25seUVsZW1lbnRzKGNoaWxkcmVuKTtcbiAgICBsZXQgY2hpbGRyZW5Ub1JlbmRlciA9IGZpbHRlcmVkQ2hpbGRyZW47XG4gICAgY29uc3QgZXhpdGluZyA9IG5ldyBTZXQoKTtcbiAgICAvLyBLZWVwIGEgbGl2aW5nIHJlY29yZCBvZiB0aGUgY2hpbGRyZW4gd2UncmUgYWN0dWFsbHkgcmVuZGVyaW5nIHNvIHdlXG4gICAgLy8gY2FuIGRpZmYgdG8gZmlndXJlIG91dCB3aGljaCBhcmUgZW50ZXJpbmcgYW5kIGV4aXRpbmdcbiAgICBjb25zdCBwcmVzZW50Q2hpbGRyZW4gPSB1c2VSZWYoY2hpbGRyZW5Ub1JlbmRlcik7XG4gICAgLy8gQSBsb29rdXAgdGFibGUgdG8gcXVpY2tseSByZWZlcmVuY2UgY29tcG9uZW50cyBieSBrZXlcbiAgICBjb25zdCBhbGxDaGlsZHJlbiA9IHVzZVJlZihuZXcgTWFwKCkpLmN1cnJlbnQ7XG4gICAgLy8gSWYgdGhpcyBpcyB0aGUgaW5pdGlhbCBjb21wb25lbnQgcmVuZGVyLCBqdXN0IGRlYWwgd2l0aCBsb2dpYyBzdXJyb3VuZGluZyB3aGV0aGVyXG4gICAgLy8gd2UgcGxheSBvbk1vdW50IGFuaW1hdGlvbnMgb3Igbm90LlxuICAgIGNvbnN0IGlzSW5pdGlhbFJlbmRlciA9IHVzZVJlZih0cnVlKTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgaXNJbml0aWFsUmVuZGVyLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgdXBkYXRlQ2hpbGRMb29rdXAoZmlsdGVyZWRDaGlsZHJlbiwgYWxsQ2hpbGRyZW4pO1xuICAgICAgICBwcmVzZW50Q2hpbGRyZW4uY3VycmVudCA9IGNoaWxkcmVuVG9SZW5kZXI7XG4gICAgfSk7XG4gICAgdXNlVW5tb3VudEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlzSW5pdGlhbFJlbmRlci5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgYWxsQ2hpbGRyZW4uY2xlYXIoKTtcbiAgICAgICAgZXhpdGluZy5jbGVhcigpO1xuICAgIH0pO1xuICAgIGlmIChpc0luaXRpYWxSZW5kZXIuY3VycmVudCkge1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGNoaWxkcmVuVG9SZW5kZXIubWFwKChjaGlsZCkgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJlc2VuY2VDaGlsZCwgeyBrZXk6IGdldENoaWxkS2V5KGNoaWxkKSwgaXNQcmVzZW50OiB0cnVlLCBpbml0aWFsOiBpbml0aWFsID8gdW5kZWZpbmVkIDogZmFsc2UsIHByZXNlbmNlQWZmZWN0c0xheW91dDogcHJlc2VuY2VBZmZlY3RzTGF5b3V0LCBtb2RlOiBtb2RlIH0sIGNoaWxkKSkpKSk7XG4gICAgfVxuICAgIC8vIElmIHRoaXMgaXMgYSBzdWJzZXF1ZW50IHJlbmRlciwgZGVhbCB3aXRoIGVudGVyaW5nIGFuZCBleGl0aW5nIGNoaWxkcmVuXG4gICAgY2hpbGRyZW5Ub1JlbmRlciA9IFsuLi5jaGlsZHJlblRvUmVuZGVyXTtcbiAgICAvLyBEaWZmIHRoZSBrZXlzIG9mIHRoZSBjdXJyZW50bHktcHJlc2VudCBhbmQgdGFyZ2V0IGNoaWxkcmVuIHRvIHVwZGF0ZSBvdXJcbiAgICAvLyBleGl0aW5nIGxpc3QuXG4gICAgY29uc3QgcHJlc2VudEtleXMgPSBwcmVzZW50Q2hpbGRyZW4uY3VycmVudC5tYXAoZ2V0Q2hpbGRLZXkpO1xuICAgIGNvbnN0IHRhcmdldEtleXMgPSBmaWx0ZXJlZENoaWxkcmVuLm1hcChnZXRDaGlsZEtleSk7XG4gICAgLy8gRGlmZiB0aGUgcHJlc2VudCBjaGlsZHJlbiB3aXRoIG91ciB0YXJnZXQgY2hpbGRyZW4gYW5kIG1hcmsgdGhvc2UgdGhhdCBhcmUgZXhpdGluZ1xuICAgIGNvbnN0IG51bVByZXNlbnQgPSBwcmVzZW50S2V5cy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1QcmVzZW50OyBpKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0gcHJlc2VudEtleXNbaV07XG4gICAgICAgIGlmICh0YXJnZXRLZXlzLmluZGV4T2Yoa2V5KSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGV4aXRpbmcuYWRkKGtleSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gSWYgd2UgY3VycmVudGx5IGhhdmUgZXhpdGluZyBjaGlsZHJlbiwgYW5kIHdlJ3JlIGRlZmVycmluZyByZW5kZXJpbmcgaW5jb21pbmcgY2hpbGRyZW5cbiAgICAvLyB1bnRpbCBhZnRlciBhbGwgY3VycmVudCBjaGlsZHJlbiBoYXZlIGV4aXRpbmcsIGVtcHR5IHRoZSBjaGlsZHJlblRvUmVuZGVyIGFycmF5XG4gICAgaWYgKG1vZGUgPT09IFwid2FpdFwiICYmIGV4aXRpbmcuc2l6ZSkge1xuICAgICAgICBjaGlsZHJlblRvUmVuZGVyID0gW107XG4gICAgfVxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgY3VycmVudGx5IGV4aXRpbmcgY29tcG9uZW50cyBhbmQgY2xvbmUgdGhlbSB0byBvdmVyd3JpdGUgYGFuaW1hdGVgXG4gICAgLy8gd2l0aCBhbnkgYGV4aXRgIHByb3AgdGhleSBtaWdodCBoYXZlIGRlZmluZWQuXG4gICAgZXhpdGluZy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgLy8gSWYgdGhpcyBjb21wb25lbnQgaXMgYWN0dWFsbHkgZW50ZXJpbmcgYWdhaW4sIGVhcmx5IHJldHVyblxuICAgICAgICBpZiAodGFyZ2V0S2V5cy5pbmRleE9mKGtleSkgIT09IC0xKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBjaGlsZCA9IGFsbENoaWxkcmVuLmdldChrZXkpO1xuICAgICAgICBpZiAoIWNoaWxkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBpbnNlcnRpb25JbmRleCA9IHByZXNlbnRLZXlzLmluZGV4T2Yoa2V5KTtcbiAgICAgICAgY29uc3Qgb25FeGl0ID0gKCkgPT4ge1xuICAgICAgICAgICAgYWxsQ2hpbGRyZW4uZGVsZXRlKGtleSk7XG4gICAgICAgICAgICBleGl0aW5nLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgLy8gUmVtb3ZlIHRoaXMgY2hpbGQgZnJvbSB0aGUgcHJlc2VudCBjaGlsZHJlblxuICAgICAgICAgICAgY29uc3QgcmVtb3ZlSW5kZXggPSBwcmVzZW50Q2hpbGRyZW4uY3VycmVudC5maW5kSW5kZXgoKHByZXNlbnRDaGlsZCkgPT4gcHJlc2VudENoaWxkLmtleSA9PT0ga2V5KTtcbiAgICAgICAgICAgIHByZXNlbnRDaGlsZHJlbi5jdXJyZW50LnNwbGljZShyZW1vdmVJbmRleCwgMSk7XG4gICAgICAgICAgICAvLyBEZWZlciByZS1yZW5kZXJpbmcgdW50aWwgYWxsIGV4aXRpbmcgY2hpbGRyZW4gaGF2ZSBpbmRlZWQgbGVmdFxuICAgICAgICAgICAgaWYgKCFleGl0aW5nLnNpemUpIHtcbiAgICAgICAgICAgICAgICBwcmVzZW50Q2hpbGRyZW4uY3VycmVudCA9IGZpbHRlcmVkQ2hpbGRyZW47XG4gICAgICAgICAgICAgICAgaWYgKGlzTW91bnRlZC5jdXJyZW50ID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGZvcmNlUmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgb25FeGl0Q29tcGxldGUgJiYgb25FeGl0Q29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY2hpbGRyZW5Ub1JlbmRlci5zcGxpY2UoaW5zZXJ0aW9uSW5kZXgsIDAsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJlc2VuY2VDaGlsZCwgeyBrZXk6IGdldENoaWxkS2V5KGNoaWxkKSwgaXNQcmVzZW50OiBmYWxzZSwgb25FeGl0Q29tcGxldGU6IG9uRXhpdCwgY3VzdG9tOiBjdXN0b20sIHByZXNlbmNlQWZmZWN0c0xheW91dDogcHJlc2VuY2VBZmZlY3RzTGF5b3V0LCBtb2RlOiBtb2RlIH0sIGNoaWxkKSk7XG4gICAgfSk7XG4gICAgLy8gQWRkIGBNb3Rpb25Db250ZXh0YCBldmVuIHRvIGNoaWxkcmVuIHRoYXQgZG9uJ3QgbmVlZCBpdCB0byBlbnN1cmUgd2UncmUgcmVuZGVyaW5nXG4gICAgLy8gdGhlIHNhbWUgdHJlZSBiZXR3ZWVuIHJlbmRlcnNcbiAgICBjaGlsZHJlblRvUmVuZGVyID0gY2hpbGRyZW5Ub1JlbmRlci5tYXAoKGNoaWxkKSA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IGNoaWxkLmtleTtcbiAgICAgICAgcmV0dXJuIGV4aXRpbmcuaGFzKGtleSkgPyAoY2hpbGQpIDogKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJlc2VuY2VDaGlsZCwgeyBrZXk6IGdldENoaWxkS2V5KGNoaWxkKSwgaXNQcmVzZW50OiB0cnVlLCBwcmVzZW5jZUFmZmVjdHNMYXlvdXQ6IHByZXNlbmNlQWZmZWN0c0xheW91dCwgbW9kZTogbW9kZSB9LCBjaGlsZCkpO1xuICAgIH0pO1xuICAgIGlmIChlbnYgIT09IFwicHJvZHVjdGlvblwiICYmXG4gICAgICAgIG1vZGUgPT09IFwid2FpdFwiICYmXG4gICAgICAgIGNoaWxkcmVuVG9SZW5kZXIubGVuZ3RoID4gMSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYFlvdSdyZSBhdHRlbXB0aW5nIHRvIGFuaW1hdGUgbXVsdGlwbGUgY2hpbGRyZW4gd2l0aGluIEFuaW1hdGVQcmVzZW5jZSwgYnV0IGl0cyBtb2RlIGlzIHNldCB0byBcIndhaXRcIi4gVGhpcyB3aWxsIGxlYWQgdG8gb2RkIHZpc3VhbCBiZWhhdmlvdXIuYCk7XG4gICAgfVxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgZXhpdGluZy5zaXplXG4gICAgICAgID8gY2hpbGRyZW5Ub1JlbmRlclxuICAgICAgICA6IGNoaWxkcmVuVG9SZW5kZXIubWFwKChjaGlsZCkgPT4gY2xvbmVFbGVtZW50KGNoaWxkKSkpKTtcbn07XG5cbmV4cG9ydCB7IEFuaW1hdGVQcmVzZW5jZSB9O1xuIiwiaW1wb3J0IHN5bmMgZnJvbSAnZnJhbWVzeW5jJztcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUlzTW91bnRlZCB9IGZyb20gJy4vdXNlLWlzLW1vdW50ZWQubWpzJztcblxuZnVuY3Rpb24gdXNlRm9yY2VVcGRhdGUoKSB7XG4gICAgY29uc3QgaXNNb3VudGVkID0gdXNlSXNNb3VudGVkKCk7XG4gICAgY29uc3QgW2ZvcmNlZFJlbmRlckNvdW50LCBzZXRGb3JjZWRSZW5kZXJDb3VudF0gPSB1c2VTdGF0ZSgwKTtcbiAgICBjb25zdCBmb3JjZVJlbmRlciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaXNNb3VudGVkLmN1cnJlbnQgJiYgc2V0Rm9yY2VkUmVuZGVyQ291bnQoZm9yY2VkUmVuZGVyQ291bnQgKyAxKTtcbiAgICB9LCBbZm9yY2VkUmVuZGVyQ291bnRdKTtcbiAgICAvKipcbiAgICAgKiBEZWZlciB0aGlzIHRvIHRoZSBlbmQgb2YgdGhlIG5leHQgYW5pbWF0aW9uIGZyYW1lIGluIGNhc2UgdGhlcmUgYXJlIG11bHRpcGxlXG4gICAgICogc3luY2hyb25vdXMgY2FsbHMuXG4gICAgICovXG4gICAgY29uc3QgZGVmZXJyZWRGb3JjZVJlbmRlciA9IHVzZUNhbGxiYWNrKCgpID0+IHN5bmMucG9zdFJlbmRlcihmb3JjZVJlbmRlciksIFtmb3JjZVJlbmRlcl0pO1xuICAgIHJldHVybiBbZGVmZXJyZWRGb3JjZVJlbmRlciwgZm9yY2VkUmVuZGVyQ291bnRdO1xufVxuXG5leHBvcnQgeyB1c2VGb3JjZVVwZGF0ZSB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcblxuY29uc3QgTGF5b3V0R3JvdXBDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7fSk7XG5cbmV4cG9ydCB7IExheW91dEdyb3VwQ29udGV4dCB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmNvbnN0IFByZXNlbmNlQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQobnVsbCk7XG5cbmV4cG9ydCB7IFByZXNlbmNlQ29udGV4dCB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmNvbnN0IE1vdGlvbkNvbmZpZ0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcbiAgICB0cmFuc2Zvcm1QYWdlUG9pbnQ6IChwKSA9PiBwLFxuICAgIGlzU3RhdGljOiBmYWxzZSxcbiAgICByZWR1Y2VkTW90aW9uOiBcIm5ldmVyXCIsXG59KTtcblxuZXhwb3J0IHsgTW90aW9uQ29uZmlnQ29udGV4dCB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcblxuY29uc3QgTW90aW9uQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe30pO1xuZnVuY3Rpb24gdXNlVmlzdWFsRWxlbWVudENvbnRleHQoKSB7XG4gICAgcmV0dXJuIHVzZUNvbnRleHQoTW90aW9uQ29udGV4dCkudmlzdWFsRWxlbWVudDtcbn1cblxuZXhwb3J0IHsgTW90aW9uQ29udGV4dCwgdXNlVmlzdWFsRWxlbWVudENvbnRleHQgfTtcbiIsImltcG9ydCB7IGNyZWF0ZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IExhenlDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7IHN0cmljdDogZmFsc2UgfSk7XG5cbmV4cG9ydCB7IExhenlDb250ZXh0IH07XG4iLCJmdW5jdGlvbiBpc1JlZk9iamVjdChyZWYpIHtcbiAgICByZXR1cm4gKHR5cGVvZiByZWYgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlZiwgXCJjdXJyZW50XCIpKTtcbn1cblxuZXhwb3J0IHsgaXNSZWZPYmplY3QgfTtcbiIsIi8qKlxuICogRGVjaWRlcyBpZiB0aGUgc3VwcGxpZWQgdmFyaWFibGUgaXMgdmFyaWFudCBsYWJlbFxuICovXG5mdW5jdGlvbiBpc1ZhcmlhbnRMYWJlbCh2KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkodik7XG59XG5cbmV4cG9ydCB7IGlzVmFyaWFudExhYmVsIH07XG4iLCJmdW5jdGlvbiBpc0FuaW1hdGlvbkNvbnRyb2xzKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHYuc3RhcnQgPT09IFwiZnVuY3Rpb25cIjtcbn1cblxuZXhwb3J0IHsgaXNBbmltYXRpb25Db250cm9scyB9O1xuIiwiaW1wb3J0IHsgaXNBbmltYXRpb25Db250cm9scyB9IGZyb20gJy4uLy4uL2FuaW1hdGlvbi91dGlscy9pcy1hbmltYXRpb24tY29udHJvbHMubWpzJztcbmltcG9ydCB7IGlzVmFyaWFudExhYmVsIH0gZnJvbSAnLi9pcy12YXJpYW50LWxhYmVsLm1qcyc7XG5cbmNvbnN0IHZhcmlhbnRQcm9wcyA9IFtcbiAgICBcImluaXRpYWxcIixcbiAgICBcImFuaW1hdGVcIixcbiAgICBcImV4aXRcIixcbiAgICBcIndoaWxlSG92ZXJcIixcbiAgICBcIndoaWxlRHJhZ1wiLFxuICAgIFwid2hpbGVUYXBcIixcbiAgICBcIndoaWxlRm9jdXNcIixcbiAgICBcIndoaWxlSW5WaWV3XCIsXG5dO1xuZnVuY3Rpb24gaXNDb250cm9sbGluZ1ZhcmlhbnRzKHByb3BzKSB7XG4gICAgcmV0dXJuIChpc0FuaW1hdGlvbkNvbnRyb2xzKHByb3BzLmFuaW1hdGUpIHx8XG4gICAgICAgIHZhcmlhbnRQcm9wcy5zb21lKChuYW1lKSA9PiBpc1ZhcmlhbnRMYWJlbChwcm9wc1tuYW1lXSkpKTtcbn1cbmZ1bmN0aW9uIGlzVmFyaWFudE5vZGUocHJvcHMpIHtcbiAgICByZXR1cm4gQm9vbGVhbihpc0NvbnRyb2xsaW5nVmFyaWFudHMocHJvcHMpIHx8IHByb3BzLnZhcmlhbnRzKTtcbn1cblxuZXhwb3J0IHsgaXNDb250cm9sbGluZ1ZhcmlhbnRzLCBpc1ZhcmlhbnROb2RlIH07XG4iLCJpbXBvcnQgeyB1c2VDb250ZXh0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTW90aW9uQ29udGV4dCB9IGZyb20gJy4vaW5kZXgubWpzJztcbmltcG9ydCB7IGdldEN1cnJlbnRUcmVlVmFyaWFudHMgfSBmcm9tICcuL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIHVzZUNyZWF0ZU1vdGlvbkNvbnRleHQocHJvcHMpIHtcbiAgICBjb25zdCB7IGluaXRpYWwsIGFuaW1hdGUgfSA9IGdldEN1cnJlbnRUcmVlVmFyaWFudHMocHJvcHMsIHVzZUNvbnRleHQoTW90aW9uQ29udGV4dCkpO1xuICAgIHJldHVybiB1c2VNZW1vKCgpID0+ICh7IGluaXRpYWwsIGFuaW1hdGUgfSksIFt2YXJpYW50TGFiZWxzQXNEZXBlbmRlbmN5KGluaXRpYWwpLCB2YXJpYW50TGFiZWxzQXNEZXBlbmRlbmN5KGFuaW1hdGUpXSk7XG59XG5mdW5jdGlvbiB2YXJpYW50TGFiZWxzQXNEZXBlbmRlbmN5KHByb3ApIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwcm9wKSA/IHByb3Auam9pbihcIiBcIikgOiBwcm9wO1xufVxuXG5leHBvcnQgeyB1c2VDcmVhdGVNb3Rpb25Db250ZXh0IH07XG4iLCJjb25zdCBjcmVhdGVEZWZpbml0aW9uID0gKHByb3BOYW1lcykgPT4gKHtcbiAgICBpc0VuYWJsZWQ6IChwcm9wcykgPT4gcHJvcE5hbWVzLnNvbWUoKG5hbWUpID0+ICEhcHJvcHNbbmFtZV0pLFxufSk7XG5jb25zdCBmZWF0dXJlRGVmaW5pdGlvbnMgPSB7XG4gICAgbWVhc3VyZUxheW91dDogY3JlYXRlRGVmaW5pdGlvbihbXCJsYXlvdXRcIiwgXCJsYXlvdXRJZFwiLCBcImRyYWdcIl0pLFxuICAgIGFuaW1hdGlvbjogY3JlYXRlRGVmaW5pdGlvbihbXG4gICAgICAgIFwiYW5pbWF0ZVwiLFxuICAgICAgICBcImV4aXRcIixcbiAgICAgICAgXCJ2YXJpYW50c1wiLFxuICAgICAgICBcIndoaWxlSG92ZXJcIixcbiAgICAgICAgXCJ3aGlsZVRhcFwiLFxuICAgICAgICBcIndoaWxlRm9jdXNcIixcbiAgICAgICAgXCJ3aGlsZURyYWdcIixcbiAgICAgICAgXCJ3aGlsZUluVmlld1wiLFxuICAgIF0pLFxuICAgIGV4aXQ6IGNyZWF0ZURlZmluaXRpb24oW1wiZXhpdFwiXSksXG4gICAgZHJhZzogY3JlYXRlRGVmaW5pdGlvbihbXCJkcmFnXCIsIFwiZHJhZ0NvbnRyb2xzXCJdKSxcbiAgICBmb2N1czogY3JlYXRlRGVmaW5pdGlvbihbXCJ3aGlsZUZvY3VzXCJdKSxcbiAgICBob3ZlcjogY3JlYXRlRGVmaW5pdGlvbihbXCJ3aGlsZUhvdmVyXCIsIFwib25Ib3ZlclN0YXJ0XCIsIFwib25Ib3ZlckVuZFwiXSksXG4gICAgdGFwOiBjcmVhdGVEZWZpbml0aW9uKFtcIndoaWxlVGFwXCIsIFwib25UYXBcIiwgXCJvblRhcFN0YXJ0XCIsIFwib25UYXBDYW5jZWxcIl0pLFxuICAgIHBhbjogY3JlYXRlRGVmaW5pdGlvbihbXG4gICAgICAgIFwib25QYW5cIixcbiAgICAgICAgXCJvblBhblN0YXJ0XCIsXG4gICAgICAgIFwib25QYW5TZXNzaW9uU3RhcnRcIixcbiAgICAgICAgXCJvblBhbkVuZFwiLFxuICAgIF0pLFxuICAgIGluVmlldzogY3JlYXRlRGVmaW5pdGlvbihbXG4gICAgICAgIFwid2hpbGVJblZpZXdcIixcbiAgICAgICAgXCJvblZpZXdwb3J0RW50ZXJcIixcbiAgICAgICAgXCJvblZpZXdwb3J0TGVhdmVcIixcbiAgICBdKSxcbn07XG5cbmV4cG9ydCB7IGZlYXR1cmVEZWZpbml0aW9ucyB9O1xuIiwiLyoqXG4gKiBUaGlzIHNob3VsZCBvbmx5IGV2ZXIgYmUgbW9kaWZpZWQgb24gdGhlIGNsaWVudCBvdGhlcndpc2UgaXQnbGxcbiAqIHBlcnNpc3QgdGhyb3VnaCBzZXJ2ZXIgcmVxdWVzdHMuIElmIHdlIG5lZWQgaW5zdGFuY2VkIHN0YXRlcyB3ZVxuICogY291bGQgbGF6eS1pbml0IHZpYSByb290LlxuICovXG5jb25zdCBnbG9iYWxQcm9qZWN0aW9uU3RhdGUgPSB7XG4gICAgLyoqXG4gICAgICogR2xvYmFsIGZsYWcgYXMgdG8gd2hldGhlciB0aGUgdHJlZSBoYXMgYW5pbWF0ZWQgc2luY2UgdGhlIGxhc3QgdGltZVxuICAgICAqIHdlIHJlc2l6ZWQgdGhlIHdpbmRvd1xuICAgICAqL1xuICAgIGhhc0FuaW1hdGVkU2luY2VSZXNpemU6IHRydWUsXG4gICAgLyoqXG4gICAgICogV2Ugc2V0IHRoaXMgdG8gdHJ1ZSBvbmNlLCBvbiB0aGUgZmlyc3QgdXBkYXRlLiBBbnkgbm9kZXMgYWRkZWQgdG8gdGhlIHRyZWUgYmV5b25kIHRoYXRcbiAgICAgKiB1cGRhdGUgd2lsbCBiZSBnaXZlbiBhIGBkYXRhLXByb2plY3Rpb24taWRgIGF0dHJpYnV0ZS5cbiAgICAgKi9cbiAgICBoYXNFdmVyVXBkYXRlZDogZmFsc2UsXG59O1xuXG5leHBvcnQgeyBnbG9iYWxQcm9qZWN0aW9uU3RhdGUgfTtcbiIsImltcG9ydCB7IHVzZUNvbnN0YW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLWNvbnN0YW50Lm1qcyc7XG5pbXBvcnQgeyBnbG9iYWxQcm9qZWN0aW9uU3RhdGUgfSBmcm9tICcuL3N0YXRlLm1qcyc7XG5cbmxldCBpZCA9IDE7XG5mdW5jdGlvbiB1c2VQcm9qZWN0aW9uSWQoKSB7XG4gICAgcmV0dXJuIHVzZUNvbnN0YW50KCgpID0+IHtcbiAgICAgICAgaWYgKGdsb2JhbFByb2plY3Rpb25TdGF0ZS5oYXNFdmVyVXBkYXRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGlkKys7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZXhwb3J0IHsgdXNlUHJvamVjdGlvbklkIH07XG4iLCJpbXBvcnQgUmVhY3RfX2RlZmF1bHQgZnJvbSAncmVhY3QnO1xuXG5jbGFzcyBWaXN1YWxFbGVtZW50SGFuZGxlciBleHRlbmRzIFJlYWN0X19kZWZhdWx0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHZpc3VhbCBlbGVtZW50IHByb3BzIGFzIHNvb24gYXMgd2Uga25vdyB0aGlzIHVwZGF0ZSBpcyBnb2luZyB0byBiZSBjb21taXRlZC5cbiAgICAgKi9cbiAgICBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpIHtcbiAgICAgICAgY29uc3QgeyB2aXN1YWxFbGVtZW50LCBwcm9wcyB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgaWYgKHZpc3VhbEVsZW1lbnQpXG4gICAgICAgICAgICB2aXN1YWxFbGVtZW50LnNldFByb3BzKHByb3BzKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbXBvbmVudERpZFVwZGF0ZSgpIHsgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgfVxufVxuXG5leHBvcnQgeyBWaXN1YWxFbGVtZW50SGFuZGxlciB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBJbnRlcm5hbCwgZXhwb3J0ZWQgb25seSBmb3IgdXNhZ2UgaW4gRnJhbWVyXG4gKi9cbmNvbnN0IFN3aXRjaExheW91dEdyb3VwQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe30pO1xuXG5leHBvcnQgeyBTd2l0Y2hMYXlvdXRHcm91cENvbnRleHQgfTtcbiIsImNvbnN0IG1vdGlvbkNvbXBvbmVudFN5bWJvbCA9IFN5bWJvbC5mb3IoXCJtb3Rpb25Db21wb25lbnRTeW1ib2xcIik7XG5cbmV4cG9ydCB7IG1vdGlvbkNvbXBvbmVudFN5bWJvbCB9O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZm9yd2FyZFJlZiwgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IE1vdGlvbkNvbmZpZ0NvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L01vdGlvbkNvbmZpZ0NvbnRleHQubWpzJztcbmltcG9ydCB7IE1vdGlvbkNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L01vdGlvbkNvbnRleHQvaW5kZXgubWpzJztcbmltcG9ydCB7IHVzZVZpc3VhbEVsZW1lbnQgfSBmcm9tICcuL3V0aWxzL3VzZS12aXN1YWwtZWxlbWVudC5tanMnO1xuaW1wb3J0IHsgdXNlTW90aW9uUmVmIH0gZnJvbSAnLi91dGlscy91c2UtbW90aW9uLXJlZi5tanMnO1xuaW1wb3J0IHsgdXNlQ3JlYXRlTW90aW9uQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvTW90aW9uQ29udGV4dC9jcmVhdGUubWpzJztcbmltcG9ydCB7IGZlYXR1cmVEZWZpbml0aW9ucyB9IGZyb20gJy4vZmVhdHVyZXMvZGVmaW5pdGlvbnMubWpzJztcbmltcG9ydCB7IGxvYWRGZWF0dXJlcyB9IGZyb20gJy4vZmVhdHVyZXMvbG9hZC1mZWF0dXJlcy5tanMnO1xuaW1wb3J0IHsgaXNCcm93c2VyIH0gZnJvbSAnLi4vdXRpbHMvaXMtYnJvd3Nlci5tanMnO1xuaW1wb3J0IHsgdXNlUHJvamVjdGlvbklkIH0gZnJvbSAnLi4vcHJvamVjdGlvbi9ub2RlL2lkLm1qcyc7XG5pbXBvcnQgeyBMYXlvdXRHcm91cENvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L0xheW91dEdyb3VwQ29udGV4dC5tanMnO1xuaW1wb3J0IHsgVmlzdWFsRWxlbWVudEhhbmRsZXIgfSBmcm9tICcuL3V0aWxzL1Zpc3VhbEVsZW1lbnRIYW5kbGVyLm1qcyc7XG5pbXBvcnQgeyBMYXp5Q29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvTGF6eUNvbnRleHQubWpzJztcbmltcG9ydCB7IFN3aXRjaExheW91dEdyb3VwQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvU3dpdGNoTGF5b3V0R3JvdXBDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyBtb3Rpb25Db21wb25lbnRTeW1ib2wgfSBmcm9tICcuL3V0aWxzL3N5bWJvbC5tanMnO1xuXG4vKipcbiAqIENyZWF0ZSBhIGBtb3Rpb25gIGNvbXBvbmVudC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHMgYSBDb21wb25lbnQgYXJndW1lbnQsIHdoaWNoIGNhbiBiZSBlaXRoZXIgYSBzdHJpbmcgKGllIFwiZGl2XCJcbiAqIGZvciBgbW90aW9uLmRpdmApLCBvciBhbiBhY3R1YWwgUmVhY3QgY29tcG9uZW50LlxuICpcbiAqIEFsb25nc2lkZSB0aGlzIGlzIGEgY29uZmlnIG9wdGlvbiB3aGljaCBwcm92aWRlcyBhIHdheSBvZiByZW5kZXJpbmcgdGhlIHByb3ZpZGVkXG4gKiBjb21wb25lbnQgXCJvZmZsaW5lXCIsIG9yIG91dHNpZGUgdGhlIFJlYWN0IHJlbmRlciBjeWNsZS5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlTW90aW9uQ29tcG9uZW50KHsgcHJlbG9hZGVkRmVhdHVyZXMsIGNyZWF0ZVZpc3VhbEVsZW1lbnQsIHByb2plY3Rpb25Ob2RlQ29uc3RydWN0b3IsIHVzZVJlbmRlciwgdXNlVmlzdWFsU3RhdGUsIENvbXBvbmVudCwgfSkge1xuICAgIHByZWxvYWRlZEZlYXR1cmVzICYmIGxvYWRGZWF0dXJlcyhwcmVsb2FkZWRGZWF0dXJlcyk7XG4gICAgZnVuY3Rpb24gTW90aW9uQ29tcG9uZW50KHByb3BzLCBleHRlcm5hbFJlZikge1xuICAgICAgICBjb25zdCBjb25maWdBbmRQcm9wcyA9IHtcbiAgICAgICAgICAgIC4uLnVzZUNvbnRleHQoTW90aW9uQ29uZmlnQ29udGV4dCksXG4gICAgICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgICAgIGxheW91dElkOiB1c2VMYXlvdXRJZChwcm9wcyksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHsgaXNTdGF0aWMgfSA9IGNvbmZpZ0FuZFByb3BzO1xuICAgICAgICBsZXQgZmVhdHVyZXMgPSBudWxsO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdXNlQ3JlYXRlTW90aW9uQ29udGV4dChwcm9wcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgYSB1bmlxdWUgcHJvamVjdGlvbiBJRCBmb3IgdGhpcyBjb21wb25lbnQuIElmIGEgbmV3IGNvbXBvbmVudCBpcyBhZGRlZFxuICAgICAgICAgKiBkdXJpbmcgYSBsYXlvdXQgYW5pbWF0aW9uIHdlJ2xsIHVzZSB0aGlzIHRvIHF1ZXJ5IHRoZSBET00gYW5kIGh5ZHJhdGUgaXRzIHJlZiBlYXJseSwgYWxsb3dpbmdcbiAgICAgICAgICogdXMgdG8gbWVhc3VyZSBpdCBhcyBzb29uIGFzIGFueSBsYXlvdXQgZWZmZWN0IGZsdXNoZXMgcGVuZGluZyBsYXlvdXQgYW5pbWF0aW9ucy5cbiAgICAgICAgICpcbiAgICAgICAgICogUGVyZm9ybWFuY2Ugbm90ZTogSXQnZCBiZSBiZXR0ZXIgbm90IHRvIGhhdmUgdG8gc2VhcmNoIHRoZSBET00gZm9yIHRoZXNlIGVsZW1lbnRzLlxuICAgICAgICAgKiBGb3IgbmV3bHktZW50ZXJpbmcgY29tcG9uZW50cyBpdCBjb3VsZCBiZSBlbm91Z2ggdG8gb25seSBjb3JyZWN0IHRyZWVTY2FsZSwgaW4gd2hpY2hcbiAgICAgICAgICogY2FzZSB3ZSBjb3VsZCBtb3VudCBpbiBhIHNjYWxlLWNvcnJlY3Rpb24gbW9kZS4gVGhpcyB3b3VsZG4ndCBiZSBlbm91Z2ggZm9yXG4gICAgICAgICAqIHNoYXJlZCBlbGVtZW50IHRyYW5zaXRpb25zIGhvd2V2ZXIuIFBlcmhhcHMgZm9yIHRob3NlIHdlIGNvdWxkIHJldmVydCB0byBhIHJvb3Qgbm9kZVxuICAgICAgICAgKiB0aGF0IGdldHMgZm9yY2VSZW5kZXJlZCBhbmQgbGF5b3V0IGFuaW1hdGlvbnMgYXJlIHRyaWdnZXJlZCBvbiBpdHMgbGF5b3V0IGVmZmVjdC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHByb2plY3Rpb25JZCA9IGlzU3RhdGljID8gdW5kZWZpbmVkIDogdXNlUHJvamVjdGlvbklkKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgdmlzdWFsU3RhdGUgPSB1c2VWaXN1YWxTdGF0ZShwcm9wcywgaXNTdGF0aWMpO1xuICAgICAgICBpZiAoIWlzU3RhdGljICYmIGlzQnJvd3Nlcikge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDcmVhdGUgYSBWaXN1YWxFbGVtZW50IGZvciB0aGlzIGNvbXBvbmVudC4gQSBWaXN1YWxFbGVtZW50IHByb3ZpZGVzIGEgY29tbW9uXG4gICAgICAgICAgICAgKiBpbnRlcmZhY2UgdG8gcmVuZGVyZXItc3BlY2lmaWMgQVBJcyAoaWUgRE9NL1RocmVlLmpzIGV0YykgYXMgd2VsbCBhc1xuICAgICAgICAgICAgICogcHJvdmlkaW5nIGEgd2F5IG9mIHJlbmRlcmluZyB0byB0aGVzZSBBUElzIG91dHNpZGUgb2YgdGhlIFJlYWN0IHJlbmRlciBsb29wXG4gICAgICAgICAgICAgKiBmb3IgbW9yZSBwZXJmb3JtYW50IGFuaW1hdGlvbnMgYW5kIGludGVyYWN0aW9uc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb250ZXh0LnZpc3VhbEVsZW1lbnQgPSB1c2VWaXN1YWxFbGVtZW50KENvbXBvbmVudCwgdmlzdWFsU3RhdGUsIGNvbmZpZ0FuZFByb3BzLCBjcmVhdGVWaXN1YWxFbGVtZW50KTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTG9hZCBNb3Rpb24gZ2VzdHVyZSBhbmQgYW5pbWF0aW9uIGZlYXR1cmVzLiBUaGVzZSBhcmUgcmVuZGVyZWQgYXMgcmVuZGVybGVzc1xuICAgICAgICAgICAgICogY29tcG9uZW50cyBzbyBlYWNoIGZlYXR1cmUgY2FuIG9wdGlvbmFsbHkgbWFrZSB1c2Ugb2YgUmVhY3QgbGlmZWN5Y2xlIG1ldGhvZHMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IGxhenlTdHJpY3RNb2RlID0gdXNlQ29udGV4dChMYXp5Q29udGV4dCkuc3RyaWN0O1xuICAgICAgICAgICAgY29uc3QgaW5pdGlhbExheW91dEdyb3VwQ29uZmlnID0gdXNlQ29udGV4dChTd2l0Y2hMYXlvdXRHcm91cENvbnRleHQpO1xuICAgICAgICAgICAgaWYgKGNvbnRleHQudmlzdWFsRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGZlYXR1cmVzID0gY29udGV4dC52aXN1YWxFbGVtZW50LmxvYWRGZWF0dXJlcyhwcm9wcywgbGF6eVN0cmljdE1vZGUsIHByZWxvYWRlZEZlYXR1cmVzLCBwcm9qZWN0aW9uSWQsIHByb2plY3Rpb25Ob2RlQ29uc3RydWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZURlZmluaXRpb25zLnByb2plY3Rpb25Ob2RlQ29uc3RydWN0b3IsIGluaXRpYWxMYXlvdXRHcm91cENvbmZpZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtb3VudCBvcmRlciBhbmQgaGllcmFyY2h5IGlzIHNwZWNpZmljIHRvIGVuc3VyZSBvdXIgZWxlbWVudCByZWZcbiAgICAgICAgICogaXMgaHlkcmF0ZWQgYnkgdGhlIHRpbWUgZmVhdHVyZXMgZmlyZSB0aGVpciBlZmZlY3RzLlxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFZpc3VhbEVsZW1lbnRIYW5kbGVyLCB7IHZpc3VhbEVsZW1lbnQ6IGNvbnRleHQudmlzdWFsRWxlbWVudCwgcHJvcHM6IGNvbmZpZ0FuZFByb3BzIH0sXG4gICAgICAgICAgICBmZWF0dXJlcyxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTW90aW9uQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogY29udGV4dCB9LCB1c2VSZW5kZXIoQ29tcG9uZW50LCBwcm9wcywgcHJvamVjdGlvbklkLCB1c2VNb3Rpb25SZWYodmlzdWFsU3RhdGUsIGNvbnRleHQudmlzdWFsRWxlbWVudCwgZXh0ZXJuYWxSZWYpLCB2aXN1YWxTdGF0ZSwgaXNTdGF0aWMsIGNvbnRleHQudmlzdWFsRWxlbWVudCkpKSk7XG4gICAgfVxuICAgIGNvbnN0IEZvcndhcmRSZWZDb21wb25lbnQgPSBmb3J3YXJkUmVmKE1vdGlvbkNvbXBvbmVudCk7XG4gICAgRm9yd2FyZFJlZkNvbXBvbmVudFttb3Rpb25Db21wb25lbnRTeW1ib2xdID0gQ29tcG9uZW50O1xuICAgIHJldHVybiBGb3J3YXJkUmVmQ29tcG9uZW50O1xufVxuZnVuY3Rpb24gdXNlTGF5b3V0SWQoeyBsYXlvdXRJZCB9KSB7XG4gICAgY29uc3QgbGF5b3V0R3JvdXBJZCA9IHVzZUNvbnRleHQoTGF5b3V0R3JvdXBDb250ZXh0KS5pZDtcbiAgICByZXR1cm4gbGF5b3V0R3JvdXBJZCAmJiBsYXlvdXRJZCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gbGF5b3V0R3JvdXBJZCArIFwiLVwiICsgbGF5b3V0SWRcbiAgICAgICAgOiBsYXlvdXRJZDtcbn1cblxuZXhwb3J0IHsgY3JlYXRlTW90aW9uQ29tcG9uZW50IH07XG4iLCJpbXBvcnQgeyBmZWF0dXJlRGVmaW5pdGlvbnMgfSBmcm9tICcuL2RlZmluaXRpb25zLm1qcyc7XG5cbmZ1bmN0aW9uIGxvYWRGZWF0dXJlcyhmZWF0dXJlcykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGZlYXR1cmVzKSB7XG4gICAgICAgIGlmIChrZXkgPT09IFwicHJvamVjdGlvbk5vZGVDb25zdHJ1Y3RvclwiKSB7XG4gICAgICAgICAgICBmZWF0dXJlRGVmaW5pdGlvbnMucHJvamVjdGlvbk5vZGVDb25zdHJ1Y3RvciA9IGZlYXR1cmVzW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmZWF0dXJlRGVmaW5pdGlvbnNba2V5XS5Db21wb25lbnQgPSBmZWF0dXJlc1trZXldO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgeyBsb2FkRmVhdHVyZXMgfTtcbiIsImltcG9ydCB7IGlzVmFyaWFudExhYmVsIH0gZnJvbSAnLi4vLi4vcmVuZGVyL3V0aWxzL2lzLXZhcmlhbnQtbGFiZWwubWpzJztcbmltcG9ydCB7IGlzQ29udHJvbGxpbmdWYXJpYW50cyB9IGZyb20gJy4uLy4uL3JlbmRlci91dGlscy9pcy1jb250cm9sbGluZy12YXJpYW50cy5tanMnO1xuXG5mdW5jdGlvbiBnZXRDdXJyZW50VHJlZVZhcmlhbnRzKHByb3BzLCBjb250ZXh0KSB7XG4gICAgaWYgKGlzQ29udHJvbGxpbmdWYXJpYW50cyhwcm9wcykpIHtcbiAgICAgICAgY29uc3QgeyBpbml0aWFsLCBhbmltYXRlIH0gPSBwcm9wcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGluaXRpYWw6IGluaXRpYWwgPT09IGZhbHNlIHx8IGlzVmFyaWFudExhYmVsKGluaXRpYWwpXG4gICAgICAgICAgICAgICAgPyBpbml0aWFsXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBhbmltYXRlOiBpc1ZhcmlhbnRMYWJlbChhbmltYXRlKSA/IGFuaW1hdGUgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBwcm9wcy5pbmhlcml0ICE9PSBmYWxzZSA/IGNvbnRleHQgOiB7fTtcbn1cblxuZXhwb3J0IHsgZ2V0Q3VycmVudFRyZWVWYXJpYW50cyB9O1xuIiwiaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQcmVzZW5jZUNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L1ByZXNlbmNlQ29udGV4dC5tanMnO1xuaW1wb3J0IHsgdXNlVmlzdWFsRWxlbWVudENvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L01vdGlvbkNvbnRleHQvaW5kZXgubWpzJztcbmltcG9ydCB7IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfSBmcm9tICcuLi8uLi91dGlscy91c2UtaXNvbW9ycGhpYy1lZmZlY3QubWpzJztcbmltcG9ydCB7IExhenlDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9MYXp5Q29udGV4dC5tanMnO1xuaW1wb3J0IHsgTW90aW9uQ29uZmlnQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvTW90aW9uQ29uZmlnQ29udGV4dC5tanMnO1xuXG5mdW5jdGlvbiB1c2VWaXN1YWxFbGVtZW50KENvbXBvbmVudCwgdmlzdWFsU3RhdGUsIHByb3BzLCBjcmVhdGVWaXN1YWxFbGVtZW50KSB7XG4gICAgY29uc3QgcGFyZW50ID0gdXNlVmlzdWFsRWxlbWVudENvbnRleHQoKTtcbiAgICBjb25zdCBsYXp5Q29udGV4dCA9IHVzZUNvbnRleHQoTGF6eUNvbnRleHQpO1xuICAgIGNvbnN0IHByZXNlbmNlQ29udGV4dCA9IHVzZUNvbnRleHQoUHJlc2VuY2VDb250ZXh0KTtcbiAgICBjb25zdCByZWR1Y2VkTW90aW9uQ29uZmlnID0gdXNlQ29udGV4dChNb3Rpb25Db25maWdDb250ZXh0KS5yZWR1Y2VkTW90aW9uO1xuICAgIGNvbnN0IHZpc3VhbEVsZW1lbnRSZWYgPSB1c2VSZWYodW5kZWZpbmVkKTtcbiAgICAvKipcbiAgICAgKiBJZiB3ZSBoYXZlbid0IHByZWxvYWRlZCBhIHJlbmRlcmVyLCBjaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBvbmUgbGF6eS1sb2FkZWRcbiAgICAgKi9cbiAgICBjcmVhdGVWaXN1YWxFbGVtZW50ID0gY3JlYXRlVmlzdWFsRWxlbWVudCB8fCBsYXp5Q29udGV4dC5yZW5kZXJlcjtcbiAgICBpZiAoIXZpc3VhbEVsZW1lbnRSZWYuY3VycmVudCAmJiBjcmVhdGVWaXN1YWxFbGVtZW50KSB7XG4gICAgICAgIHZpc3VhbEVsZW1lbnRSZWYuY3VycmVudCA9IGNyZWF0ZVZpc3VhbEVsZW1lbnQoQ29tcG9uZW50LCB7XG4gICAgICAgICAgICB2aXN1YWxTdGF0ZSxcbiAgICAgICAgICAgIHBhcmVudCxcbiAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgcHJlc2VuY2VJZDogcHJlc2VuY2VDb250ZXh0ID8gcHJlc2VuY2VDb250ZXh0LmlkIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgYmxvY2tJbml0aWFsQW5pbWF0aW9uOiBwcmVzZW5jZUNvbnRleHRcbiAgICAgICAgICAgICAgICA/IHByZXNlbmNlQ29udGV4dC5pbml0aWFsID09PSBmYWxzZVxuICAgICAgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICByZWR1Y2VkTW90aW9uQ29uZmlnLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgdmlzdWFsRWxlbWVudCA9IHZpc3VhbEVsZW1lbnRSZWYuY3VycmVudDtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgdmlzdWFsRWxlbWVudCAmJiB2aXN1YWxFbGVtZW50LnN5bmNSZW5kZXIoKTtcbiAgICB9KTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAodmlzdWFsRWxlbWVudCAmJiB2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgICAgICB2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlLmFuaW1hdGVDaGFuZ2VzKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+ICgpID0+IHZpc3VhbEVsZW1lbnQgJiYgdmlzdWFsRWxlbWVudC5ub3RpZnlVbm1vdW50KCksIFtdKTtcbiAgICByZXR1cm4gdmlzdWFsRWxlbWVudDtcbn1cblxuZXhwb3J0IHsgdXNlVmlzdWFsRWxlbWVudCB9O1xuIiwiaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBpc1JlZk9iamVjdCB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLXJlZi1vYmplY3QubWpzJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgcmVmIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLCBoeWRyYXRlcyB0aGUgcHJvdmlkZWRcbiAqIGV4dGVybmFsIHJlZiBhbmQgVmlzdWFsRWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gdXNlTW90aW9uUmVmKHZpc3VhbFN0YXRlLCB2aXN1YWxFbGVtZW50LCBleHRlcm5hbFJlZikge1xuICAgIHJldHVybiB1c2VDYWxsYmFjaygoaW5zdGFuY2UpID0+IHtcbiAgICAgICAgaW5zdGFuY2UgJiYgdmlzdWFsU3RhdGUubW91bnQgJiYgdmlzdWFsU3RhdGUubW91bnQoaW5zdGFuY2UpO1xuICAgICAgICBpZiAodmlzdWFsRWxlbWVudCkge1xuICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICA/IHZpc3VhbEVsZW1lbnQubW91bnQoaW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgOiB2aXN1YWxFbGVtZW50LnVubW91bnQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXh0ZXJuYWxSZWYpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXh0ZXJuYWxSZWYgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIGV4dGVybmFsUmVmKGluc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVmT2JqZWN0KGV4dGVybmFsUmVmKSkge1xuICAgICAgICAgICAgICAgIGV4dGVybmFsUmVmLmN1cnJlbnQgPSBpbnN0YW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFxuICAgIC8qKlxuICAgICAqIE9ubHkgcGFzcyBhIG5ldyByZWYgY2FsbGJhY2sgdG8gUmVhY3QgaWYgd2UndmUgcmVjZWl2ZWQgYSB2aXN1YWwgZWxlbWVudFxuICAgICAqIGZhY3RvcnkuIE90aGVyd2lzZSB3ZSdsbCBiZSBtb3VudGluZy9yZW1vdW50aW5nIGV2ZXJ5IHRpbWUgZXh0ZXJuYWxSZWZcbiAgICAgKiBvciBvdGhlciBkZXBlbmRlbmNpZXMgY2hhbmdlLlxuICAgICAqL1xuICAgIFt2aXN1YWxFbGVtZW50XSk7XG59XG5cbmV4cG9ydCB7IHVzZU1vdGlvblJlZiB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlTW90aW9uQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vbW90aW9uL2luZGV4Lm1qcyc7XG5cbi8qKlxuICogQ29udmVydCBhbnkgUmVhY3QgY29tcG9uZW50IGludG8gYSBgbW90aW9uYCBjb21wb25lbnQuIFRoZSBwcm92aWRlZCBjb21wb25lbnRcbiAqICoqbXVzdCoqIHVzZSBgUmVhY3QuZm9yd2FyZFJlZmAgdG8gdGhlIHVuZGVybHlpbmcgRE9NIGNvbXBvbmVudCB5b3Ugd2FudCB0byBhbmltYXRlLlxuICpcbiAqIGBgYGpzeFxuICogY29uc3QgQ29tcG9uZW50ID0gUmVhY3QuZm9yd2FyZFJlZigocHJvcHMsIHJlZikgPT4ge1xuICogICByZXR1cm4gPGRpdiByZWY9e3JlZn0gLz5cbiAqIH0pXG4gKlxuICogY29uc3QgTW90aW9uQ29tcG9uZW50ID0gbW90aW9uKENvbXBvbmVudClcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTW90aW9uUHJveHkoY3JlYXRlQ29uZmlnKSB7XG4gICAgZnVuY3Rpb24gY3VzdG9tKENvbXBvbmVudCwgY3VzdG9tTW90aW9uQ29tcG9uZW50Q29uZmlnID0ge30pIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU1vdGlvbkNvbXBvbmVudChjcmVhdGVDb25maWcoQ29tcG9uZW50LCBjdXN0b21Nb3Rpb25Db21wb25lbnRDb25maWcpKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gY3VzdG9tO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIGNhY2hlIG9mIGdlbmVyYXRlZCBgbW90aW9uYCBjb21wb25lbnRzLCBlLmcgYG1vdGlvbi5kaXZgLCBgbW90aW9uLmlucHV0YCBldGMuXG4gICAgICogUmF0aGVyIHRoYW4gZ2VuZXJhdGluZyB0aGVtIGFuZXcgZXZlcnkgcmVuZGVyLlxuICAgICAqL1xuICAgIGNvbnN0IGNvbXBvbmVudENhY2hlID0gbmV3IE1hcCgpO1xuICAgIHJldHVybiBuZXcgUHJveHkoY3VzdG9tLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsZWQgd2hlbiBgbW90aW9uYCBpcyByZWZlcmVuY2VkIHdpdGggYSBwcm9wOiBgbW90aW9uLmRpdmAsIGBtb3Rpb24uaW5wdXRgIGV0Yy5cbiAgICAgICAgICogVGhlIHByb3AgbmFtZSBpcyBwYXNzZWQgdGhyb3VnaCBhcyBga2V5YCBhbmQgd2UgY2FuIHVzZSB0aGF0IHRvIGdlbmVyYXRlIGEgYG1vdGlvbmBcbiAgICAgICAgICogRE9NIGNvbXBvbmVudCB3aXRoIHRoYXQgbmFtZS5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogKF90YXJnZXQsIGtleSkgPT4ge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0aGlzIGVsZW1lbnQgZG9lc24ndCBleGlzdCBpbiB0aGUgY29tcG9uZW50IGNhY2hlLCBjcmVhdGUgaXQgYW5kIGNhY2hlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoIWNvbXBvbmVudENhY2hlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50Q2FjaGUuc2V0KGtleSwgY3VzdG9tKGtleSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudENhY2hlLmdldChrZXkpO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuXG5leHBvcnQgeyBjcmVhdGVNb3Rpb25Qcm94eSB9O1xuIiwiLyoqXG4gKiBXZSBrZWVwIHRoZXNlIGxpc3RlZCBzZXBlcmF0ZWx5IGFzIHdlIHVzZSB0aGUgbG93ZXJjYXNlIHRhZyBuYW1lcyBhcyBwYXJ0XG4gKiBvZiB0aGUgcnVudGltZSBidW5kbGUgdG8gZGV0ZWN0IFNWRyBjb21wb25lbnRzXG4gKi9cbmNvbnN0IGxvd2VyY2FzZVNWR0VsZW1lbnRzID0gW1xuICAgIFwiYW5pbWF0ZVwiLFxuICAgIFwiY2lyY2xlXCIsXG4gICAgXCJkZWZzXCIsXG4gICAgXCJkZXNjXCIsXG4gICAgXCJlbGxpcHNlXCIsXG4gICAgXCJnXCIsXG4gICAgXCJpbWFnZVwiLFxuICAgIFwibGluZVwiLFxuICAgIFwiZmlsdGVyXCIsXG4gICAgXCJtYXJrZXJcIixcbiAgICBcIm1hc2tcIixcbiAgICBcIm1ldGFkYXRhXCIsXG4gICAgXCJwYXRoXCIsXG4gICAgXCJwYXR0ZXJuXCIsXG4gICAgXCJwb2x5Z29uXCIsXG4gICAgXCJwb2x5bGluZVwiLFxuICAgIFwicmVjdFwiLFxuICAgIFwic3RvcFwiLFxuICAgIFwic3ZnXCIsXG4gICAgXCJzd2l0Y2hcIixcbiAgICBcInN5bWJvbFwiLFxuICAgIFwidGV4dFwiLFxuICAgIFwidHNwYW5cIixcbiAgICBcInVzZVwiLFxuICAgIFwidmlld1wiLFxuXTtcblxuZXhwb3J0IHsgbG93ZXJjYXNlU1ZHRWxlbWVudHMgfTtcbiIsImltcG9ydCB7IGxvd2VyY2FzZVNWR0VsZW1lbnRzIH0gZnJvbSAnLi4vLi4vc3ZnL2xvd2VyY2FzZS1lbGVtZW50cy5tanMnO1xuXG5mdW5jdGlvbiBpc1NWR0NvbXBvbmVudChDb21wb25lbnQpIHtcbiAgICBpZiAoXG4gICAgLyoqXG4gICAgICogSWYgaXQncyBub3QgYSBzdHJpbmcsIGl0J3MgYSBjdXN0b20gUmVhY3QgY29tcG9uZW50LiBDdXJyZW50bHkgd2Ugb25seSBzdXBwb3J0XG4gICAgICogSFRNTCBjdXN0b20gUmVhY3QgY29tcG9uZW50cy5cbiAgICAgKi9cbiAgICB0eXBlb2YgQ29tcG9uZW50ICE9PSBcInN0cmluZ1wiIHx8XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBpdCBjb250YWlucyBhIGRhc2gsIHRoZSBlbGVtZW50IGlzIGEgY3VzdG9tIEhUTUwgd2ViY29tcG9uZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgQ29tcG9uZW50LmluY2x1ZGVzKFwiLVwiKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVsc2UgaWYgKFxuICAgIC8qKlxuICAgICAqIElmIGl0J3MgaW4gb3VyIGxpc3Qgb2YgbG93ZXJjYXNlIFNWRyB0YWdzLCBpdCdzIGFuIFNWRyBjb21wb25lbnRcbiAgICAgKi9cbiAgICBsb3dlcmNhc2VTVkdFbGVtZW50cy5pbmRleE9mKENvbXBvbmVudCkgPiAtMSB8fFxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgaXQgY29udGFpbnMgYSBjYXBpdGFsIGxldHRlciwgaXQncyBhbiBTVkcgY29tcG9uZW50XG4gICAgICAgICAqL1xuICAgICAgICAvW0EtWl0vLnRlc3QoQ29tcG9uZW50KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgeyBpc1NWR0NvbXBvbmVudCB9O1xuIiwiY29uc3Qgc2NhbGVDb3JyZWN0b3JzID0ge307XG5mdW5jdGlvbiBhZGRTY2FsZUNvcnJlY3Rvcihjb3JyZWN0b3JzKSB7XG4gICAgT2JqZWN0LmFzc2lnbihzY2FsZUNvcnJlY3RvcnMsIGNvcnJlY3RvcnMpO1xufVxuXG5leHBvcnQgeyBhZGRTY2FsZUNvcnJlY3Rvciwgc2NhbGVDb3JyZWN0b3JzIH07XG4iLCIvKipcbiAqIEdlbmVyYXRlIGEgbGlzdCBvZiBldmVyeSBwb3NzaWJsZSB0cmFuc2Zvcm0ga2V5LlxuICovXG5jb25zdCB0cmFuc2Zvcm1Qcm9wT3JkZXIgPSBbXG4gICAgXCJ0cmFuc2Zvcm1QZXJzcGVjdGl2ZVwiLFxuICAgIFwieFwiLFxuICAgIFwieVwiLFxuICAgIFwielwiLFxuICAgIFwidHJhbnNsYXRlWFwiLFxuICAgIFwidHJhbnNsYXRlWVwiLFxuICAgIFwidHJhbnNsYXRlWlwiLFxuICAgIFwic2NhbGVcIixcbiAgICBcInNjYWxlWFwiLFxuICAgIFwic2NhbGVZXCIsXG4gICAgXCJyb3RhdGVcIixcbiAgICBcInJvdGF0ZVhcIixcbiAgICBcInJvdGF0ZVlcIixcbiAgICBcInJvdGF0ZVpcIixcbiAgICBcInNrZXdcIixcbiAgICBcInNrZXdYXCIsXG4gICAgXCJza2V3WVwiLFxuXTtcbi8qKlxuICogQSBxdWljayBsb29rdXAgZm9yIHRyYW5zZm9ybSBwcm9wcy5cbiAqL1xuY29uc3QgdHJhbnNmb3JtUHJvcHMgPSBuZXcgU2V0KHRyYW5zZm9ybVByb3BPcmRlcik7XG5cbmV4cG9ydCB7IHRyYW5zZm9ybVByb3BPcmRlciwgdHJhbnNmb3JtUHJvcHMgfTtcbiIsImltcG9ydCB7IHNjYWxlQ29ycmVjdG9ycyB9IGZyb20gJy4uLy4uL3Byb2plY3Rpb24vc3R5bGVzL3NjYWxlLWNvcnJlY3Rpb24ubWpzJztcbmltcG9ydCB7IHRyYW5zZm9ybVByb3BzIH0gZnJvbSAnLi4vLi4vcmVuZGVyL2h0bWwvdXRpbHMvdHJhbnNmb3JtLm1qcyc7XG5cbmZ1bmN0aW9uIGlzRm9yY2VkTW90aW9uVmFsdWUoa2V5LCB7IGxheW91dCwgbGF5b3V0SWQgfSkge1xuICAgIHJldHVybiAodHJhbnNmb3JtUHJvcHMuaGFzKGtleSkgfHxcbiAgICAgICAga2V5LnN0YXJ0c1dpdGgoXCJvcmlnaW5cIikgfHxcbiAgICAgICAgKChsYXlvdXQgfHwgbGF5b3V0SWQgIT09IHVuZGVmaW5lZCkgJiZcbiAgICAgICAgICAgICghIXNjYWxlQ29ycmVjdG9yc1trZXldIHx8IGtleSA9PT0gXCJvcGFjaXR5XCIpKSk7XG59XG5cbmV4cG9ydCB7IGlzRm9yY2VkTW90aW9uVmFsdWUgfTtcbiIsImNvbnN0IGlzTW90aW9uVmFsdWUgPSAodmFsdWUpID0+IHZhbHVlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6ICEhdmFsdWUuZ2V0VmVsb2NpdHk7XG5cbmV4cG9ydCB7IGlzTW90aW9uVmFsdWUgfTtcbiIsImltcG9ydCB7IHRyYW5zZm9ybVByb3BPcmRlciB9IGZyb20gJy4vdHJhbnNmb3JtLm1qcyc7XG5cbmNvbnN0IHRyYW5zbGF0ZUFsaWFzID0ge1xuICAgIHg6IFwidHJhbnNsYXRlWFwiLFxuICAgIHk6IFwidHJhbnNsYXRlWVwiLFxuICAgIHo6IFwidHJhbnNsYXRlWlwiLFxuICAgIHRyYW5zZm9ybVBlcnNwZWN0aXZlOiBcInBlcnNwZWN0aXZlXCIsXG59O1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRvIHVzZSB3aXRoIEFycmF5LnNvcnQgdG8gc29ydCB0cmFuc2Zvcm0ga2V5cyBieSB0aGVpciBkZWZhdWx0IG9yZGVyLlxuICovXG5jb25zdCBzb3J0VHJhbnNmb3JtUHJvcHMgPSAoYSwgYikgPT4gdHJhbnNmb3JtUHJvcE9yZGVyLmluZGV4T2YoYSkgLSB0cmFuc2Zvcm1Qcm9wT3JkZXIuaW5kZXhPZihiKTtcbi8qKlxuICogQnVpbGQgYSBDU1MgdHJhbnNmb3JtIHN0eWxlIGZyb20gaW5kaXZpZHVhbCB4L3kvc2NhbGUgZXRjIHByb3BlcnRpZXMuXG4gKlxuICogVGhpcyBvdXRwdXRzIHdpdGggYSBkZWZhdWx0IG9yZGVyIG9mIHRyYW5zZm9ybXMvc2NhbGVzL3JvdGF0aW9ucywgdGhpcyBjYW4gYmUgY3VzdG9taXNlZCBieVxuICogcHJvdmlkaW5nIGEgdHJhbnNmb3JtVGVtcGxhdGUgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkVHJhbnNmb3JtKHsgdHJhbnNmb3JtLCB0cmFuc2Zvcm1LZXlzIH0sIHsgZW5hYmxlSGFyZHdhcmVBY2NlbGVyYXRpb24gPSB0cnVlLCBhbGxvd1RyYW5zZm9ybU5vbmUgPSB0cnVlLCB9LCB0cmFuc2Zvcm1Jc0RlZmF1bHQsIHRyYW5zZm9ybVRlbXBsYXRlKSB7XG4gICAgLy8gVGhlIHRyYW5zZm9ybSBzdHJpbmcgd2UncmUgZ29pbmcgdG8gYnVpbGQgaW50by5cbiAgICBsZXQgdHJhbnNmb3JtU3RyaW5nID0gXCJcIjtcbiAgICAvLyBUcmFuc2Zvcm0ga2V5cyBpbnRvIHRoZWlyIGRlZmF1bHQgb3JkZXIgLSB0aGlzIHdpbGwgZGV0ZXJtaW5lIHRoZSBvdXRwdXQgb3JkZXIuXG4gICAgdHJhbnNmb3JtS2V5cy5zb3J0KHNvcnRUcmFuc2Zvcm1Qcm9wcyk7XG4gICAgLy8gTG9vcCBvdmVyIGVhY2ggdHJhbnNmb3JtIGFuZCBidWlsZCB0aGVtIGludG8gdHJhbnNmb3JtU3RyaW5nXG4gICAgZm9yIChjb25zdCBrZXkgb2YgdHJhbnNmb3JtS2V5cykge1xuICAgICAgICB0cmFuc2Zvcm1TdHJpbmcgKz0gYCR7dHJhbnNsYXRlQWxpYXNba2V5XSB8fCBrZXl9KCR7dHJhbnNmb3JtW2tleV19KSBgO1xuICAgIH1cbiAgICBpZiAoZW5hYmxlSGFyZHdhcmVBY2NlbGVyYXRpb24gJiYgIXRyYW5zZm9ybS56KSB7XG4gICAgICAgIHRyYW5zZm9ybVN0cmluZyArPSBcInRyYW5zbGF0ZVooMClcIjtcbiAgICB9XG4gICAgdHJhbnNmb3JtU3RyaW5nID0gdHJhbnNmb3JtU3RyaW5nLnRyaW0oKTtcbiAgICAvLyBJZiB3ZSBoYXZlIGEgY3VzdG9tIGB0cmFuc2Zvcm1gIHRlbXBsYXRlLCBwYXNzIG91ciB0cmFuc2Zvcm0gdmFsdWVzIGFuZFxuICAgIC8vIGdlbmVyYXRlZCB0cmFuc2Zvcm1TdHJpbmcgdG8gdGhhdCBiZWZvcmUgcmV0dXJuaW5nXG4gICAgaWYgKHRyYW5zZm9ybVRlbXBsYXRlKSB7XG4gICAgICAgIHRyYW5zZm9ybVN0cmluZyA9IHRyYW5zZm9ybVRlbXBsYXRlKHRyYW5zZm9ybSwgdHJhbnNmb3JtSXNEZWZhdWx0ID8gXCJcIiA6IHRyYW5zZm9ybVN0cmluZyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFsbG93VHJhbnNmb3JtTm9uZSAmJiB0cmFuc2Zvcm1Jc0RlZmF1bHQpIHtcbiAgICAgICAgdHJhbnNmb3JtU3RyaW5nID0gXCJub25lXCI7XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2Zvcm1TdHJpbmc7XG59XG5cbmV4cG9ydCB7IGJ1aWxkVHJhbnNmb3JtIH07XG4iLCIvKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZWQga2V5IGlzIGEgQ1NTIHZhcmlhYmxlXG4gKi9cbmZ1bmN0aW9uIGlzQ1NTVmFyaWFibGUoa2V5KSB7XG4gICAgcmV0dXJuIGtleS5zdGFydHNXaXRoKFwiLS1cIik7XG59XG5cbmV4cG9ydCB7IGlzQ1NTVmFyaWFibGUgfTtcbiIsIi8qKlxuICogUHJvdmlkZWQgYSB2YWx1ZSBhbmQgYSBWYWx1ZVR5cGUsIHJldHVybnMgdGhlIHZhbHVlIGFzIHRoYXQgdmFsdWUgdHlwZS5cbiAqL1xuY29uc3QgZ2V0VmFsdWVBc1R5cGUgPSAodmFsdWUsIHR5cGUpID0+IHtcbiAgICByZXR1cm4gdHlwZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCJcbiAgICAgICAgPyB0eXBlLnRyYW5zZm9ybSh2YWx1ZSlcbiAgICAgICAgOiB2YWx1ZTtcbn07XG5cbmV4cG9ydCB7IGdldFZhbHVlQXNUeXBlIH07XG4iLCJjb25zdCBjbGFtcCA9IChtaW4sIG1heCkgPT4gKHYpID0+IE1hdGgubWF4KE1hdGgubWluKHYsIG1heCksIG1pbik7XG5jb25zdCBzYW5pdGl6ZSA9ICh2KSA9PiAodiAlIDEgPyBOdW1iZXIodi50b0ZpeGVkKDUpKSA6IHYpO1xuY29uc3QgZmxvYXRSZWdleCA9IC8oLSk/KFtcXGRdKlxcLj9bXFxkXSkrL2c7XG5jb25zdCBjb2xvclJlZ2V4ID0gLygjWzAtOWEtZl17Nn18I1swLTlhLWZdezN9fCMoPzpbMC05YS1mXXsyfSl7Miw0fXwocmdifGhzbClhP1xcKCgtP1tcXGRcXC5dKyU/WyxcXHNdKyl7Mn0oLT9bXFxkXFwuXSslPylcXHMqW1xcLFxcL10/XFxzKltcXGRcXC5dKiU/XFwpKS9naTtcbmNvbnN0IHNpbmdsZUNvbG9yUmVnZXggPSAvXigjWzAtOWEtZl17M318Iyg/OlswLTlhLWZdezJ9KXsyLDR9fChyZ2J8aHNsKWE/XFwoKC0/W1xcZFxcLl0rJT9bLFxcc10rKXsyfSgtP1tcXGRcXC5dKyU/KVxccypbXFwsXFwvXT9cXHMqW1xcZFxcLl0qJT9cXCkpJC9pO1xuZnVuY3Rpb24gaXNTdHJpbmcodikge1xuICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ3N0cmluZyc7XG59XG5cbmV4cG9ydCB7IGNsYW1wLCBjb2xvclJlZ2V4LCBmbG9hdFJlZ2V4LCBpc1N0cmluZywgc2FuaXRpemUsIHNpbmdsZUNvbG9yUmVnZXggfTtcbiIsImltcG9ydCB7IGlzU3RyaW5nIH0gZnJvbSAnLi4vdXRpbHMubWpzJztcblxuY29uc3QgY3JlYXRlVW5pdFR5cGUgPSAodW5pdCkgPT4gKHtcbiAgICB0ZXN0OiAodikgPT4gaXNTdHJpbmcodikgJiYgdi5lbmRzV2l0aCh1bml0KSAmJiB2LnNwbGl0KCcgJykubGVuZ3RoID09PSAxLFxuICAgIHBhcnNlOiBwYXJzZUZsb2F0LFxuICAgIHRyYW5zZm9ybTogKHYpID0+IGAke3Z9JHt1bml0fWAsXG59KTtcbmNvbnN0IGRlZ3JlZXMgPSBjcmVhdGVVbml0VHlwZSgnZGVnJyk7XG5jb25zdCBwZXJjZW50ID0gY3JlYXRlVW5pdFR5cGUoJyUnKTtcbmNvbnN0IHB4ID0gY3JlYXRlVW5pdFR5cGUoJ3B4Jyk7XG5jb25zdCB2aCA9IGNyZWF0ZVVuaXRUeXBlKCd2aCcpO1xuY29uc3QgdncgPSBjcmVhdGVVbml0VHlwZSgndncnKTtcbmNvbnN0IHByb2dyZXNzUGVyY2VudGFnZSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcGVyY2VudCksIHsgcGFyc2U6ICh2KSA9PiBwZXJjZW50LnBhcnNlKHYpIC8gMTAwLCB0cmFuc2Zvcm06ICh2KSA9PiBwZXJjZW50LnRyYW5zZm9ybSh2ICogMTAwKSB9KTtcblxuZXhwb3J0IHsgZGVncmVlcywgcGVyY2VudCwgcHJvZ3Jlc3NQZXJjZW50YWdlLCBweCwgdmgsIHZ3IH07XG4iLCJpbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4uL3V0aWxzLm1qcyc7XG5cbmNvbnN0IG51bWJlciA9IHtcbiAgICB0ZXN0OiAodikgPT4gdHlwZW9mIHYgPT09ICdudW1iZXInLFxuICAgIHBhcnNlOiBwYXJzZUZsb2F0LFxuICAgIHRyYW5zZm9ybTogKHYpID0+IHYsXG59O1xuY29uc3QgYWxwaGEgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG51bWJlciksIHsgdHJhbnNmb3JtOiBjbGFtcCgwLCAxKSB9KTtcbmNvbnN0IHNjYWxlID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBudW1iZXIpLCB7IGRlZmF1bHQ6IDEgfSk7XG5cbmV4cG9ydCB7IGFscGhhLCBudW1iZXIsIHNjYWxlIH07XG4iLCJpbXBvcnQgeyBudW1iZXIgfSBmcm9tICdzdHlsZS12YWx1ZS10eXBlcyc7XG5cbmNvbnN0IGludCA9IHtcbiAgICAuLi5udW1iZXIsXG4gICAgdHJhbnNmb3JtOiBNYXRoLnJvdW5kLFxufTtcblxuZXhwb3J0IHsgaW50IH07XG4iLCJpbXBvcnQgeyBweCwgZGVncmVlcywgc2NhbGUsIGFscGhhLCBwcm9ncmVzc1BlcmNlbnRhZ2UgfSBmcm9tICdzdHlsZS12YWx1ZS10eXBlcyc7XG5pbXBvcnQgeyBpbnQgfSBmcm9tICcuL3R5cGUtaW50Lm1qcyc7XG5cbmNvbnN0IG51bWJlclZhbHVlVHlwZXMgPSB7XG4gICAgLy8gQm9yZGVyIHByb3BzXG4gICAgYm9yZGVyV2lkdGg6IHB4LFxuICAgIGJvcmRlclRvcFdpZHRoOiBweCxcbiAgICBib3JkZXJSaWdodFdpZHRoOiBweCxcbiAgICBib3JkZXJCb3R0b21XaWR0aDogcHgsXG4gICAgYm9yZGVyTGVmdFdpZHRoOiBweCxcbiAgICBib3JkZXJSYWRpdXM6IHB4LFxuICAgIHJhZGl1czogcHgsXG4gICAgYm9yZGVyVG9wTGVmdFJhZGl1czogcHgsXG4gICAgYm9yZGVyVG9wUmlnaHRSYWRpdXM6IHB4LFxuICAgIGJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzOiBweCxcbiAgICBib3JkZXJCb3R0b21MZWZ0UmFkaXVzOiBweCxcbiAgICAvLyBQb3NpdGlvbmluZyBwcm9wc1xuICAgIHdpZHRoOiBweCxcbiAgICBtYXhXaWR0aDogcHgsXG4gICAgaGVpZ2h0OiBweCxcbiAgICBtYXhIZWlnaHQ6IHB4LFxuICAgIHNpemU6IHB4LFxuICAgIHRvcDogcHgsXG4gICAgcmlnaHQ6IHB4LFxuICAgIGJvdHRvbTogcHgsXG4gICAgbGVmdDogcHgsXG4gICAgLy8gU3BhY2luZyBwcm9wc1xuICAgIHBhZGRpbmc6IHB4LFxuICAgIHBhZGRpbmdUb3A6IHB4LFxuICAgIHBhZGRpbmdSaWdodDogcHgsXG4gICAgcGFkZGluZ0JvdHRvbTogcHgsXG4gICAgcGFkZGluZ0xlZnQ6IHB4LFxuICAgIG1hcmdpbjogcHgsXG4gICAgbWFyZ2luVG9wOiBweCxcbiAgICBtYXJnaW5SaWdodDogcHgsXG4gICAgbWFyZ2luQm90dG9tOiBweCxcbiAgICBtYXJnaW5MZWZ0OiBweCxcbiAgICAvLyBUcmFuc2Zvcm0gcHJvcHNcbiAgICByb3RhdGU6IGRlZ3JlZXMsXG4gICAgcm90YXRlWDogZGVncmVlcyxcbiAgICByb3RhdGVZOiBkZWdyZWVzLFxuICAgIHJvdGF0ZVo6IGRlZ3JlZXMsXG4gICAgc2NhbGUsXG4gICAgc2NhbGVYOiBzY2FsZSxcbiAgICBzY2FsZVk6IHNjYWxlLFxuICAgIHNjYWxlWjogc2NhbGUsXG4gICAgc2tldzogZGVncmVlcyxcbiAgICBza2V3WDogZGVncmVlcyxcbiAgICBza2V3WTogZGVncmVlcyxcbiAgICBkaXN0YW5jZTogcHgsXG4gICAgdHJhbnNsYXRlWDogcHgsXG4gICAgdHJhbnNsYXRlWTogcHgsXG4gICAgdHJhbnNsYXRlWjogcHgsXG4gICAgeDogcHgsXG4gICAgeTogcHgsXG4gICAgejogcHgsXG4gICAgcGVyc3BlY3RpdmU6IHB4LFxuICAgIHRyYW5zZm9ybVBlcnNwZWN0aXZlOiBweCxcbiAgICBvcGFjaXR5OiBhbHBoYSxcbiAgICBvcmlnaW5YOiBwcm9ncmVzc1BlcmNlbnRhZ2UsXG4gICAgb3JpZ2luWTogcHJvZ3Jlc3NQZXJjZW50YWdlLFxuICAgIG9yaWdpblo6IHB4LFxuICAgIC8vIE1pc2NcbiAgICB6SW5kZXg6IGludCxcbiAgICAvLyBTVkdcbiAgICBmaWxsT3BhY2l0eTogYWxwaGEsXG4gICAgc3Ryb2tlT3BhY2l0eTogYWxwaGEsXG4gICAgbnVtT2N0YXZlczogaW50LFxufTtcblxuZXhwb3J0IHsgbnVtYmVyVmFsdWVUeXBlcyB9O1xuIiwiaW1wb3J0IHsgYnVpbGRUcmFuc2Zvcm0gfSBmcm9tICcuL2J1aWxkLXRyYW5zZm9ybS5tanMnO1xuaW1wb3J0IHsgaXNDU1NWYXJpYWJsZSB9IGZyb20gJy4uLy4uL2RvbS91dGlscy9pcy1jc3MtdmFyaWFibGUubWpzJztcbmltcG9ydCB7IHRyYW5zZm9ybVByb3BzIH0gZnJvbSAnLi90cmFuc2Zvcm0ubWpzJztcbmltcG9ydCB7IGdldFZhbHVlQXNUeXBlIH0gZnJvbSAnLi4vLi4vZG9tL3ZhbHVlLXR5cGVzL2dldC1hcy10eXBlLm1qcyc7XG5pbXBvcnQgeyBudW1iZXJWYWx1ZVR5cGVzIH0gZnJvbSAnLi4vLi4vZG9tL3ZhbHVlLXR5cGVzL251bWJlci5tanMnO1xuXG5mdW5jdGlvbiBidWlsZEhUTUxTdHlsZXMoc3RhdGUsIGxhdGVzdFZhbHVlcywgb3B0aW9ucywgdHJhbnNmb3JtVGVtcGxhdGUpIHtcbiAgICBjb25zdCB7IHN0eWxlLCB2YXJzLCB0cmFuc2Zvcm0sIHRyYW5zZm9ybUtleXMsIHRyYW5zZm9ybU9yaWdpbiB9ID0gc3RhdGU7XG4gICAgdHJhbnNmb3JtS2V5cy5sZW5ndGggPSAwO1xuICAgIC8vIFRyYWNrIHdoZXRoZXIgd2UgZW5jb3VudGVyIGFueSB0cmFuc2Zvcm0gb3IgdHJhbnNmb3JtT3JpZ2luIHZhbHVlcy5cbiAgICBsZXQgaGFzVHJhbnNmb3JtID0gZmFsc2U7XG4gICAgbGV0IGhhc1RyYW5zZm9ybU9yaWdpbiA9IGZhbHNlO1xuICAgIC8vIERvZXMgdGhlIGNhbGN1bGF0ZWQgdHJhbnNmb3JtIGVzc2VudGlhbGx5IGVxdWFsIFwibm9uZVwiP1xuICAgIGxldCB0cmFuc2Zvcm1Jc05vbmUgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIExvb3Agb3ZlciBhbGwgb3VyIGxhdGVzdCBhbmltYXRlZCB2YWx1ZXMgYW5kIGRlY2lkZSB3aGV0aGVyIHRvIGhhbmRsZSB0aGVtXG4gICAgICogYXMgYSBzdHlsZSBvciBDU1MgdmFyaWFibGUuXG4gICAgICpcbiAgICAgKiBUcmFuc2Zvcm1zIGFuZCB0cmFuc2Zvcm0gb3JpZ2lucyBhcmUga2VwdCBzZXBlcmF0ZWx5IGZvciBmdXJ0aGVyIHByb2Nlc3NpbmcuXG4gICAgICovXG4gICAgZm9yIChjb25zdCBrZXkgaW4gbGF0ZXN0VmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gbGF0ZXN0VmFsdWVzW2tleV07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGlzIGlzIGEgQ1NTIHZhcmlhYmxlIHdlIGRvbid0IGRvIGFueSBmdXJ0aGVyIHByb2Nlc3NpbmcuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoaXNDU1NWYXJpYWJsZShrZXkpKSB7XG4gICAgICAgICAgICB2YXJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIENvbnZlcnQgdGhlIHZhbHVlIHRvIGl0cyBkZWZhdWx0IHZhbHVlIHR5cGUsIGllIDAgLT4gXCIwcHhcIlxuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSBudW1iZXJWYWx1ZVR5cGVzW2tleV07XG4gICAgICAgIGNvbnN0IHZhbHVlQXNUeXBlID0gZ2V0VmFsdWVBc1R5cGUodmFsdWUsIHZhbHVlVHlwZSk7XG4gICAgICAgIGlmICh0cmFuc2Zvcm1Qcm9wcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIHRyYW5zZm9ybSwgZmxhZyB0byBlbmFibGUgZnVydGhlciB0cmFuc2Zvcm0gcHJvY2Vzc2luZ1xuICAgICAgICAgICAgaGFzVHJhbnNmb3JtID0gdHJ1ZTtcbiAgICAgICAgICAgIHRyYW5zZm9ybVtrZXldID0gdmFsdWVBc1R5cGU7XG4gICAgICAgICAgICB0cmFuc2Zvcm1LZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgIC8vIElmIHdlIGFscmVhZHkga25vdyB3ZSBoYXZlIGEgbm9uLWRlZmF1bHQgdHJhbnNmb3JtLCBlYXJseSByZXR1cm5cbiAgICAgICAgICAgIGlmICghdHJhbnNmb3JtSXNOb25lKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIGNoZWNrIHRvIHNlZSBpZiB0aGlzIGlzIGEgZGVmYXVsdCB0cmFuc2Zvcm1cbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gKHZhbHVlVHlwZS5kZWZhdWx0IHx8IDApKVxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybUlzTm9uZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleS5zdGFydHNXaXRoKFwib3JpZ2luXCIpKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGlzIGlzIGEgdHJhbnNmb3JtIG9yaWdpbiwgZmxhZyBhbmQgZW5hYmxlIGZ1cnRoZXIgdHJhbnNmb3JtLW9yaWdpbiBwcm9jZXNzaW5nXG4gICAgICAgICAgICBoYXNUcmFuc2Zvcm1PcmlnaW4gPSB0cnVlO1xuICAgICAgICAgICAgdHJhbnNmb3JtT3JpZ2luW2tleV0gPSB2YWx1ZUFzVHlwZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlW2tleV0gPSB2YWx1ZUFzVHlwZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaGFzVHJhbnNmb3JtIHx8IHRyYW5zZm9ybVRlbXBsYXRlKSB7XG4gICAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IGJ1aWxkVHJhbnNmb3JtKHN0YXRlLCBvcHRpb25zLCB0cmFuc2Zvcm1Jc05vbmUsIHRyYW5zZm9ybVRlbXBsYXRlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWxhdGVzdFZhbHVlcy50cmFuc2Zvcm0gJiYgc3R5bGUudHJhbnNmb3JtKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB3ZSBoYXZlIHByZXZpb3VzbHkgY3JlYXRlZCBhIHRyYW5zZm9ybSBidXQgY3VycmVudGx5IGRvbid0IGhhdmUgYW55LFxuICAgICAgICAgKiByZXNldCB0cmFuc2Zvcm0gc3R5bGUgdG8gbm9uZS5cbiAgICAgICAgICovXG4gICAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IFwibm9uZVwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCdWlsZCBhIHRyYW5zZm9ybU9yaWdpbiBzdHlsZS4gVXNlcyB0aGUgc2FtZSBkZWZhdWx0cyBhcyB0aGUgYnJvd3NlciBmb3JcbiAgICAgKiB1bmRlZmluZWQgb3JpZ2lucy5cbiAgICAgKi9cbiAgICBpZiAoaGFzVHJhbnNmb3JtT3JpZ2luKSB7XG4gICAgICAgIGNvbnN0IHsgb3JpZ2luWCA9IFwiNTAlXCIsIG9yaWdpblkgPSBcIjUwJVwiLCBvcmlnaW5aID0gMCwgfSA9IHRyYW5zZm9ybU9yaWdpbjtcbiAgICAgICAgc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gYCR7b3JpZ2luWH0gJHtvcmlnaW5ZfSAke29yaWdpblp9YDtcbiAgICB9XG59XG5cbmV4cG9ydCB7IGJ1aWxkSFRNTFN0eWxlcyB9O1xuIiwiaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGlzRm9yY2VkTW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi9tb3Rpb24vdXRpbHMvaXMtZm9yY2VkLW1vdGlvbi12YWx1ZS5tanMnO1xuaW1wb3J0IHsgaXNNb3Rpb25WYWx1ZSB9IGZyb20gJy4uLy4uL3ZhbHVlL3V0aWxzL2lzLW1vdGlvbi12YWx1ZS5tanMnO1xuaW1wb3J0IHsgYnVpbGRIVE1MU3R5bGVzIH0gZnJvbSAnLi91dGlscy9idWlsZC1zdHlsZXMubWpzJztcbmltcG9ydCB7IGNyZWF0ZUh0bWxSZW5kZXJTdGF0ZSB9IGZyb20gJy4vdXRpbHMvY3JlYXRlLXJlbmRlci1zdGF0ZS5tanMnO1xuXG5mdW5jdGlvbiBjb3B5UmF3VmFsdWVzT25seSh0YXJnZXQsIHNvdXJjZSwgcHJvcHMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKCFpc01vdGlvblZhbHVlKHNvdXJjZVtrZXldKSAmJiAhaXNGb3JjZWRNb3Rpb25WYWx1ZShrZXksIHByb3BzKSkge1xuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHVzZUluaXRpYWxNb3Rpb25WYWx1ZXMoeyB0cmFuc2Zvcm1UZW1wbGF0ZSB9LCB2aXN1YWxTdGF0ZSwgaXNTdGF0aWMpIHtcbiAgICByZXR1cm4gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gY3JlYXRlSHRtbFJlbmRlclN0YXRlKCk7XG4gICAgICAgIGJ1aWxkSFRNTFN0eWxlcyhzdGF0ZSwgdmlzdWFsU3RhdGUsIHsgZW5hYmxlSGFyZHdhcmVBY2NlbGVyYXRpb246ICFpc1N0YXRpYyB9LCB0cmFuc2Zvcm1UZW1wbGF0ZSk7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS52YXJzLCBzdGF0ZS5zdHlsZSk7XG4gICAgfSwgW3Zpc3VhbFN0YXRlXSk7XG59XG5mdW5jdGlvbiB1c2VTdHlsZShwcm9wcywgdmlzdWFsU3RhdGUsIGlzU3RhdGljKSB7XG4gICAgY29uc3Qgc3R5bGVQcm9wID0gcHJvcHMuc3R5bGUgfHwge307XG4gICAgY29uc3Qgc3R5bGUgPSB7fTtcbiAgICAvKipcbiAgICAgKiBDb3B5IG5vbi1Nb3Rpb24gVmFsdWVzIHN0cmFpZ2h0IGludG8gc3R5bGVcbiAgICAgKi9cbiAgICBjb3B5UmF3VmFsdWVzT25seShzdHlsZSwgc3R5bGVQcm9wLCBwcm9wcyk7XG4gICAgT2JqZWN0LmFzc2lnbihzdHlsZSwgdXNlSW5pdGlhbE1vdGlvblZhbHVlcyhwcm9wcywgdmlzdWFsU3RhdGUsIGlzU3RhdGljKSk7XG4gICAgcmV0dXJuIHByb3BzLnRyYW5zZm9ybVZhbHVlcyA/IHByb3BzLnRyYW5zZm9ybVZhbHVlcyhzdHlsZSkgOiBzdHlsZTtcbn1cbmZ1bmN0aW9uIHVzZUhUTUxQcm9wcyhwcm9wcywgdmlzdWFsU3RhdGUsIGlzU3RhdGljKSB7XG4gICAgLy8gVGhlIGBhbnlgIGlzbid0IGlkZWFsIGJ1dCBpdCBpcyB0aGUgdHlwZSBvZiBjcmVhdGVFbGVtZW50IHByb3BzIGFyZ3VtZW50XG4gICAgY29uc3QgaHRtbFByb3BzID0ge307XG4gICAgY29uc3Qgc3R5bGUgPSB1c2VTdHlsZShwcm9wcywgdmlzdWFsU3RhdGUsIGlzU3RhdGljKTtcbiAgICBpZiAocHJvcHMuZHJhZyAmJiBwcm9wcy5kcmFnTGlzdGVuZXIgIT09IGZhbHNlKSB7XG4gICAgICAgIC8vIERpc2FibGUgdGhlIGdob3N0IGVsZW1lbnQgd2hlbiBhIHVzZXIgZHJhZ3NcbiAgICAgICAgaHRtbFByb3BzLmRyYWdnYWJsZSA9IGZhbHNlO1xuICAgICAgICAvLyBEaXNhYmxlIHRleHQgc2VsZWN0aW9uXG4gICAgICAgIHN0eWxlLnVzZXJTZWxlY3QgPVxuICAgICAgICAgICAgc3R5bGUuV2Via2l0VXNlclNlbGVjdCA9XG4gICAgICAgICAgICAgICAgc3R5bGUuV2Via2l0VG91Y2hDYWxsb3V0ID1cbiAgICAgICAgICAgICAgICAgICAgXCJub25lXCI7XG4gICAgICAgIC8vIERpc2FibGUgc2Nyb2xsaW5nIG9uIHRoZSBkcmFnZ2FibGUgZGlyZWN0aW9uXG4gICAgICAgIHN0eWxlLnRvdWNoQWN0aW9uID1cbiAgICAgICAgICAgIHByb3BzLmRyYWcgPT09IHRydWVcbiAgICAgICAgICAgICAgICA/IFwibm9uZVwiXG4gICAgICAgICAgICAgICAgOiBgcGFuLSR7cHJvcHMuZHJhZyA9PT0gXCJ4XCIgPyBcInlcIiA6IFwieFwifWA7XG4gICAgfVxuICAgIGh0bWxQcm9wcy5zdHlsZSA9IHN0eWxlO1xuICAgIHJldHVybiBodG1sUHJvcHM7XG59XG5cbmV4cG9ydCB7IGNvcHlSYXdWYWx1ZXNPbmx5LCB1c2VIVE1MUHJvcHMgfTtcbiIsImNvbnN0IGNyZWF0ZUh0bWxSZW5kZXJTdGF0ZSA9ICgpID0+ICh7XG4gICAgc3R5bGU6IHt9LFxuICAgIHRyYW5zZm9ybToge30sXG4gICAgdHJhbnNmb3JtS2V5czogW10sXG4gICAgdHJhbnNmb3JtT3JpZ2luOiB7fSxcbiAgICB2YXJzOiB7fSxcbn0pO1xuXG5leHBvcnQgeyBjcmVhdGVIdG1sUmVuZGVyU3RhdGUgfTtcbiIsImNvbnN0IGFuaW1hdGlvblByb3BzID0gW1xuICAgIFwiYW5pbWF0ZVwiLFxuICAgIFwiZXhpdFwiLFxuICAgIFwidmFyaWFudHNcIixcbiAgICBcIndoaWxlSG92ZXJcIixcbiAgICBcIndoaWxlVGFwXCIsXG4gICAgXCJ3aGlsZUZvY3VzXCIsXG4gICAgXCJ3aGlsZURyYWdcIixcbiAgICBcIndoaWxlSW5WaWV3XCIsXG5dO1xuY29uc3QgdGFwUHJvcHMgPSBbXCJ3aGlsZVRhcFwiLCBcIm9uVGFwXCIsIFwib25UYXBTdGFydFwiLCBcIm9uVGFwQ2FuY2VsXCJdO1xuY29uc3QgcGFuUHJvcHMgPSBbXCJvblBhblwiLCBcIm9uUGFuU3RhcnRcIiwgXCJvblBhblNlc3Npb25TdGFydFwiLCBcIm9uUGFuRW5kXCJdO1xuY29uc3QgaW5WaWV3UHJvcHMgPSBbXG4gICAgXCJ3aGlsZUluVmlld1wiLFxuICAgIFwib25WaWV3cG9ydEVudGVyXCIsXG4gICAgXCJvblZpZXdwb3J0TGVhdmVcIixcbiAgICBcInZpZXdwb3J0XCIsXG5dO1xuLyoqXG4gKiBBIGxpc3Qgb2YgYWxsIHZhbGlkIE1vdGlvblByb3BzLlxuICpcbiAqIEBwcml2YXRlUmVtYXJrc1xuICogVGhpcyBkb2Vzbid0IHRocm93IGlmIGEgYE1vdGlvblByb3BgIG5hbWUgaXMgbWlzc2luZyAtIGl0IHNob3VsZC5cbiAqL1xuY29uc3QgdmFsaWRNb3Rpb25Qcm9wcyA9IG5ldyBTZXQoW1xuICAgIFwiaW5pdGlhbFwiLFxuICAgIFwic3R5bGVcIixcbiAgICBcInZhcmlhbnRzXCIsXG4gICAgXCJ0cmFuc2l0aW9uXCIsXG4gICAgXCJ0cmFuc2Zvcm1UZW1wbGF0ZVwiLFxuICAgIFwidHJhbnNmb3JtVmFsdWVzXCIsXG4gICAgXCJjdXN0b21cIixcbiAgICBcImluaGVyaXRcIixcbiAgICBcImxheW91dFwiLFxuICAgIFwibGF5b3V0SWRcIixcbiAgICBcImxheW91dERlcGVuZGVuY3lcIixcbiAgICBcIm9uTGF5b3V0QW5pbWF0aW9uU3RhcnRcIixcbiAgICBcIm9uTGF5b3V0QW5pbWF0aW9uQ29tcGxldGVcIixcbiAgICBcIm9uTGF5b3V0TWVhc3VyZVwiLFxuICAgIFwib25CZWZvcmVMYXlvdXRNZWFzdXJlXCIsXG4gICAgXCJvbkFuaW1hdGlvblN0YXJ0XCIsXG4gICAgXCJvbkFuaW1hdGlvbkNvbXBsZXRlXCIsXG4gICAgXCJvblVwZGF0ZVwiLFxuICAgIFwib25EcmFnU3RhcnRcIixcbiAgICBcIm9uRHJhZ1wiLFxuICAgIFwib25EcmFnRW5kXCIsXG4gICAgXCJvbk1lYXN1cmVEcmFnQ29uc3RyYWludHNcIixcbiAgICBcIm9uRGlyZWN0aW9uTG9ja1wiLFxuICAgIFwib25EcmFnVHJhbnNpdGlvbkVuZFwiLFxuICAgIFwiZHJhZ1wiLFxuICAgIFwiZHJhZ0NvbnRyb2xzXCIsXG4gICAgXCJkcmFnTGlzdGVuZXJcIixcbiAgICBcImRyYWdDb25zdHJhaW50c1wiLFxuICAgIFwiZHJhZ0RpcmVjdGlvbkxvY2tcIixcbiAgICBcImRyYWdTbmFwVG9PcmlnaW5cIixcbiAgICBcIl9kcmFnWFwiLFxuICAgIFwiX2RyYWdZXCIsXG4gICAgXCJkcmFnRWxhc3RpY1wiLFxuICAgIFwiZHJhZ01vbWVudHVtXCIsXG4gICAgXCJkcmFnUHJvcGFnYXRpb25cIixcbiAgICBcImRyYWdUcmFuc2l0aW9uXCIsXG4gICAgXCJvbkhvdmVyU3RhcnRcIixcbiAgICBcIm9uSG92ZXJFbmRcIixcbiAgICBcImxheW91dFNjcm9sbFwiLFxuICAgIC4uLmluVmlld1Byb3BzLFxuICAgIC4uLnRhcFByb3BzLFxuICAgIC4uLmFuaW1hdGlvblByb3BzLFxuICAgIC4uLnBhblByb3BzLFxuXSk7XG4vKipcbiAqIENoZWNrIHdoZXRoZXIgYSBwcm9wIG5hbWUgaXMgYSB2YWxpZCBgTW90aW9uUHJvcGAga2V5LlxuICpcbiAqIEBwYXJhbSBrZXkgLSBOYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBjaGVja1xuICogQHJldHVybnMgYHRydWVgIGlzIGtleSBpcyBhIHZhbGlkIGBNb3Rpb25Qcm9wYC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRNb3Rpb25Qcm9wKGtleSkge1xuICAgIHJldHVybiB2YWxpZE1vdGlvblByb3BzLmhhcyhrZXkpO1xufVxuXG5leHBvcnQgeyBpc1ZhbGlkTW90aW9uUHJvcCB9O1xuIiwiaW1wb3J0IHsgaXNWYWxpZE1vdGlvblByb3AgfSBmcm9tICcuLi8uLi8uLi9tb3Rpb24vdXRpbHMvdmFsaWQtcHJvcC5tanMnO1xuXG5sZXQgc2hvdWxkRm9yd2FyZCA9IChrZXkpID0+ICFpc1ZhbGlkTW90aW9uUHJvcChrZXkpO1xuZnVuY3Rpb24gbG9hZEV4dGVybmFsSXNWYWxpZFByb3AoaXNWYWxpZFByb3ApIHtcbiAgICBpZiAoIWlzVmFsaWRQcm9wKVxuICAgICAgICByZXR1cm47XG4gICAgLy8gRXhwbGljaXRseSBmaWx0ZXIgb3VyIGV2ZW50c1xuICAgIHNob3VsZEZvcndhcmQgPSAoa2V5KSA9PiBrZXkuc3RhcnRzV2l0aChcIm9uXCIpID8gIWlzVmFsaWRNb3Rpb25Qcm9wKGtleSkgOiBpc1ZhbGlkUHJvcChrZXkpO1xufVxuLyoqXG4gKiBFbW90aW9uIGFuZCBTdHlsZWQgQ29tcG9uZW50cyBib3RoIGFsbG93IHVzZXJzIHRvIHBhc3MgdGhyb3VnaCBhcmJpdHJhcnkgcHJvcHMgdG8gdGhlaXIgY29tcG9uZW50c1xuICogdG8gZHluYW1pY2FsbHkgZ2VuZXJhdGUgQ1NTLiBUaGV5IGJvdGggdXNlIHRoZSBgQGVtb3Rpb24vaXMtcHJvcC12YWxpZGAgcGFja2FnZSB0byBkZXRlcm1pbmUgd2hpY2hcbiAqIG9mIHRoZXNlIHNob3VsZCBiZSBwYXNzZWQgdG8gdGhlIHVuZGVybHlpbmcgRE9NIG5vZGUuXG4gKlxuICogSG93ZXZlciwgd2hlbiBzdHlsaW5nIGEgTW90aW9uIGNvbXBvbmVudCBgc3R5bGVkKG1vdGlvbi5kaXYpYCwgYm90aCBwYWNrYWdlcyBwYXNzIHRocm91Z2ggKmFsbCogcHJvcHNcbiAqIGFzIGl0J3Mgc2VlbiBhcyBhbiBhcmJpdHJhcnkgY29tcG9uZW50IHJhdGhlciB0aGFuIGEgRE9NIG5vZGUuIE1vdGlvbiBvbmx5IGFsbG93cyBhcmJpdHJhcnkgcHJvcHNcbiAqIHBhc3NlZCB0aHJvdWdoIHRoZSBgY3VzdG9tYCBwcm9wIHNvIGl0IGRvZXNuJ3QgKm5lZWQqIHRoZSBwYXlsb2FkIG9yIGNvbXB1dGF0aW9uYWwgb3ZlcmhlYWQgb2ZcbiAqIGBAZW1vdGlvbi9pcy1wcm9wLXZhbGlkYCwgaG93ZXZlciB0byBmaXggdGhpcyBwcm9ibGVtIHdlIG5lZWQgdG8gdXNlIGl0LlxuICpcbiAqIEJ5IG1ha2luZyBpdCBhbiBvcHRpb25hbERlcGVuZGVuY3kgd2UgY2FuIG9mZmVyIHRoaXMgZnVuY3Rpb25hbGl0eSBvbmx5IGluIHRoZSBzaXR1YXRpb25zIHdoZXJlIGl0J3NcbiAqIGFjdHVhbGx5IHJlcXVpcmVkLlxuICovXG50cnkge1xuICAgIC8qKlxuICAgICAqIFdlIGF0dGVtcHQgdG8gaW1wb3J0IHRoaXMgcGFja2FnZSBidXQgcmVxdWlyZSB3b24ndCBiZSBkZWZpbmVkIGluIGVzbSBlbnZpcm9ubWVudHMsIGluIHRoYXQgY2FzZVxuICAgICAqIGlzUHJvcFZhbGlkIHdpbGwgaGF2ZSB0byBiZSBwcm92aWRlZCB2aWEgYE1vdGlvbkNvbnRleHRgLiBJbiBhIDYuMC4wIHRoaXMgc2hvdWxkIHByb2JhYmx5IGJlIHJlbW92ZWRcbiAgICAgKiBpbiBmYXZvdXIgb2YgZXhwbGljaXQgaW5qZWN0aW9uLlxuICAgICAqL1xuICAgIGxvYWRFeHRlcm5hbElzVmFsaWRQcm9wKHJlcXVpcmUoXCJAZW1vdGlvbi9pcy1wcm9wLXZhbGlkXCIpLmRlZmF1bHQpO1xufVxuY2F0Y2ggKF9hKSB7XG4gICAgLy8gV2UgZG9uJ3QgbmVlZCB0byBhY3R1YWxseSBkbyBhbnl0aGluZyBoZXJlIC0gdGhlIGZhbGxiYWNrIGlzIHRoZSBleGlzdGluZyBgaXNQcm9wVmFsaWRgLlxufVxuZnVuY3Rpb24gZmlsdGVyUHJvcHMocHJvcHMsIGlzRG9tLCBmb3J3YXJkTW90aW9uUHJvcHMpIHtcbiAgICBjb25zdCBmaWx0ZXJlZFByb3BzID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgaWYgKHNob3VsZEZvcndhcmQoa2V5KSB8fFxuICAgICAgICAgICAgKGZvcndhcmRNb3Rpb25Qcm9wcyA9PT0gdHJ1ZSAmJiBpc1ZhbGlkTW90aW9uUHJvcChrZXkpKSB8fFxuICAgICAgICAgICAgKCFpc0RvbSAmJiAhaXNWYWxpZE1vdGlvblByb3Aoa2V5KSkgfHxcbiAgICAgICAgICAgIC8vIElmIHRyeWluZyB0byB1c2UgbmF0aXZlIEhUTUwgZHJhZyBldmVudHMsIGZvcndhcmQgZHJhZyBsaXN0ZW5lcnNcbiAgICAgICAgICAgIChwcm9wc1tcImRyYWdnYWJsZVwiXSAmJiBrZXkuc3RhcnRzV2l0aChcIm9uRHJhZ1wiKSkpIHtcbiAgICAgICAgICAgIGZpbHRlcmVkUHJvcHNba2V5XSA9IHByb3BzW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZpbHRlcmVkUHJvcHM7XG59XG5cbmV4cG9ydCB7IGZpbHRlclByb3BzLCBsb2FkRXh0ZXJuYWxJc1ZhbGlkUHJvcCB9O1xuIiwiaW1wb3J0IHsgcHggfSBmcm9tICdzdHlsZS12YWx1ZS10eXBlcyc7XG5cbmZ1bmN0aW9uIGNhbGNPcmlnaW4ob3JpZ2luLCBvZmZzZXQsIHNpemUpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9yaWdpbiA9PT0gXCJzdHJpbmdcIlxuICAgICAgICA/IG9yaWdpblxuICAgICAgICA6IHB4LnRyYW5zZm9ybShvZmZzZXQgKyBzaXplICogb3JpZ2luKTtcbn1cbi8qKlxuICogVGhlIFNWRyB0cmFuc2Zvcm0gb3JpZ2luIGRlZmF1bHRzIGFyZSBkaWZmZXJlbnQgdG8gQ1NTIGFuZCBpcyBsZXNzIGludHVpdGl2ZSxcbiAqIHNvIHdlIHVzZSB0aGUgbWVhc3VyZWQgZGltZW5zaW9ucyBvZiB0aGUgU1ZHIHRvIHJlY29uY2lsZSB0aGVzZS5cbiAqL1xuZnVuY3Rpb24gY2FsY1NWR1RyYW5zZm9ybU9yaWdpbihkaW1lbnNpb25zLCBvcmlnaW5YLCBvcmlnaW5ZKSB7XG4gICAgY29uc3QgcHhPcmlnaW5YID0gY2FsY09yaWdpbihvcmlnaW5YLCBkaW1lbnNpb25zLngsIGRpbWVuc2lvbnMud2lkdGgpO1xuICAgIGNvbnN0IHB4T3JpZ2luWSA9IGNhbGNPcmlnaW4ob3JpZ2luWSwgZGltZW5zaW9ucy55LCBkaW1lbnNpb25zLmhlaWdodCk7XG4gICAgcmV0dXJuIGAke3B4T3JpZ2luWH0gJHtweE9yaWdpbll9YDtcbn1cblxuZXhwb3J0IHsgY2FsY1NWR1RyYW5zZm9ybU9yaWdpbiB9O1xuIiwiaW1wb3J0IHsgcHggfSBmcm9tICdzdHlsZS12YWx1ZS10eXBlcyc7XG5cbmNvbnN0IGRhc2hLZXlzID0ge1xuICAgIG9mZnNldDogXCJzdHJva2UtZGFzaG9mZnNldFwiLFxuICAgIGFycmF5OiBcInN0cm9rZS1kYXNoYXJyYXlcIixcbn07XG5jb25zdCBjYW1lbEtleXMgPSB7XG4gICAgb2Zmc2V0OiBcInN0cm9rZURhc2hvZmZzZXRcIixcbiAgICBhcnJheTogXCJzdHJva2VEYXNoYXJyYXlcIixcbn07XG4vKipcbiAqIEJ1aWxkIFNWRyBwYXRoIHByb3BlcnRpZXMuIFVzZXMgdGhlIHBhdGgncyBtZWFzdXJlZCBsZW5ndGggdG8gY29udmVydFxuICogb3VyIGN1c3RvbSBwYXRoTGVuZ3RoLCBwYXRoU3BhY2luZyBhbmQgcGF0aE9mZnNldCBpbnRvIHN0cm9rZS1kYXNob2Zmc2V0XG4gKiBhbmQgc3Ryb2tlLWRhc2hhcnJheSBhdHRyaWJ1dGVzLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgbXV0YXRpdmUgdG8gcmVkdWNlIHBlci1mcmFtZSBHQy5cbiAqL1xuZnVuY3Rpb24gYnVpbGRTVkdQYXRoKGF0dHJzLCBsZW5ndGgsIHNwYWNpbmcgPSAxLCBvZmZzZXQgPSAwLCB1c2VEYXNoQ2FzZSA9IHRydWUpIHtcbiAgICAvLyBOb3JtYWxpc2UgcGF0aCBsZW5ndGggYnkgc2V0dGluZyBTVkcgYXR0cmlidXRlIHBhdGhMZW5ndGggdG8gMVxuICAgIGF0dHJzLnBhdGhMZW5ndGggPSAxO1xuICAgIC8vIFdlIHVzZSBkYXNoIGNhc2Ugd2hlbiBzZXR0aW5nIGF0dHJpYnV0ZXMgZGlyZWN0bHkgdG8gdGhlIERPTSBub2RlIGFuZCBjYW1lbCBjYXNlXG4gICAgLy8gd2hlbiBkZWZpbmluZyBwcm9wcyBvbiBhIFJlYWN0IGNvbXBvbmVudC5cbiAgICBjb25zdCBrZXlzID0gdXNlRGFzaENhc2UgPyBkYXNoS2V5cyA6IGNhbWVsS2V5cztcbiAgICAvLyBCdWlsZCB0aGUgZGFzaCBvZmZzZXRcbiAgICBhdHRyc1trZXlzLm9mZnNldF0gPSBweC50cmFuc2Zvcm0oLW9mZnNldCk7XG4gICAgLy8gQnVpbGQgdGhlIGRhc2ggYXJyYXlcbiAgICBjb25zdCBwYXRoTGVuZ3RoID0gcHgudHJhbnNmb3JtKGxlbmd0aCk7XG4gICAgY29uc3QgcGF0aFNwYWNpbmcgPSBweC50cmFuc2Zvcm0oc3BhY2luZyk7XG4gICAgYXR0cnNba2V5cy5hcnJheV0gPSBgJHtwYXRoTGVuZ3RofSAke3BhdGhTcGFjaW5nfWA7XG59XG5cbmV4cG9ydCB7IGJ1aWxkU1ZHUGF0aCB9O1xuIiwiaW1wb3J0IHsgYnVpbGRIVE1MU3R5bGVzIH0gZnJvbSAnLi4vLi4vaHRtbC91dGlscy9idWlsZC1zdHlsZXMubWpzJztcbmltcG9ydCB7IGNhbGNTVkdUcmFuc2Zvcm1PcmlnaW4gfSBmcm9tICcuL3RyYW5zZm9ybS1vcmlnaW4ubWpzJztcbmltcG9ydCB7IGJ1aWxkU1ZHUGF0aCB9IGZyb20gJy4vcGF0aC5tanMnO1xuXG4vKipcbiAqIEJ1aWxkIFNWRyB2aXN1YWwgYXR0cmJ1dGVzLCBsaWtlIGN4IGFuZCBzdHlsZS50cmFuc2Zvcm1cbiAqL1xuZnVuY3Rpb24gYnVpbGRTVkdBdHRycyhzdGF0ZSwgeyBhdHRyWCwgYXR0clksIG9yaWdpblgsIG9yaWdpblksIHBhdGhMZW5ndGgsIHBhdGhTcGFjaW5nID0gMSwgcGF0aE9mZnNldCA9IDAsIFxuLy8gVGhpcyBpcyBvYmplY3QgY3JlYXRpb24sIHdoaWNoIHdlIHRyeSB0byBhdm9pZCBwZXItZnJhbWUuXG4uLi5sYXRlc3QgfSwgb3B0aW9ucywgdHJhbnNmb3JtVGVtcGxhdGUpIHtcbiAgICBidWlsZEhUTUxTdHlsZXMoc3RhdGUsIGxhdGVzdCwgb3B0aW9ucywgdHJhbnNmb3JtVGVtcGxhdGUpO1xuICAgIHN0YXRlLmF0dHJzID0gc3RhdGUuc3R5bGU7XG4gICAgc3RhdGUuc3R5bGUgPSB7fTtcbiAgICBjb25zdCB7IGF0dHJzLCBzdHlsZSwgZGltZW5zaW9ucyB9ID0gc3RhdGU7XG4gICAgLyoqXG4gICAgICogSG93ZXZlciwgd2UgYXBwbHkgdHJhbnNmb3JtcyBhcyBDU1MgdHJhbnNmb3Jtcy4gU28gaWYgd2UgZGV0ZWN0IGEgdHJhbnNmb3JtIHdlIHRha2UgaXQgZnJvbSBhdHRyc1xuICAgICAqIGFuZCBjb3B5IGl0IGludG8gc3R5bGUuXG4gICAgICovXG4gICAgaWYgKGF0dHJzLnRyYW5zZm9ybSkge1xuICAgICAgICBpZiAoZGltZW5zaW9ucylcbiAgICAgICAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IGF0dHJzLnRyYW5zZm9ybTtcbiAgICAgICAgZGVsZXRlIGF0dHJzLnRyYW5zZm9ybTtcbiAgICB9XG4gICAgLy8gUGFyc2UgdHJhbnNmb3JtT3JpZ2luXG4gICAgaWYgKGRpbWVuc2lvbnMgJiZcbiAgICAgICAgKG9yaWdpblggIT09IHVuZGVmaW5lZCB8fCBvcmlnaW5ZICE9PSB1bmRlZmluZWQgfHwgc3R5bGUudHJhbnNmb3JtKSkge1xuICAgICAgICBzdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBjYWxjU1ZHVHJhbnNmb3JtT3JpZ2luKGRpbWVuc2lvbnMsIG9yaWdpblggIT09IHVuZGVmaW5lZCA/IG9yaWdpblggOiAwLjUsIG9yaWdpblkgIT09IHVuZGVmaW5lZCA/IG9yaWdpblkgOiAwLjUpO1xuICAgIH1cbiAgICAvLyBUcmVhdCB4L3kgbm90IGFzIHNob3J0Y3V0cyBidXQgYXMgYWN0dWFsIGF0dHJpYnV0ZXNcbiAgICBpZiAoYXR0clggIT09IHVuZGVmaW5lZClcbiAgICAgICAgYXR0cnMueCA9IGF0dHJYO1xuICAgIGlmIChhdHRyWSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICBhdHRycy55ID0gYXR0clk7XG4gICAgLy8gQnVpbGQgU1ZHIHBhdGggaWYgb25lIGhhcyBiZWVuIGRlZmluZWRcbiAgICBpZiAocGF0aExlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGJ1aWxkU1ZHUGF0aChhdHRycywgcGF0aExlbmd0aCwgcGF0aFNwYWNpbmcsIHBhdGhPZmZzZXQsIGZhbHNlKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IGJ1aWxkU1ZHQXR0cnMgfTtcbiIsImltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb3B5UmF3VmFsdWVzT25seSB9IGZyb20gJy4uL2h0bWwvdXNlLXByb3BzLm1qcyc7XG5pbXBvcnQgeyBidWlsZFNWR0F0dHJzIH0gZnJvbSAnLi91dGlscy9idWlsZC1hdHRycy5tanMnO1xuaW1wb3J0IHsgY3JlYXRlU3ZnUmVuZGVyU3RhdGUgfSBmcm9tICcuL3V0aWxzL2NyZWF0ZS1yZW5kZXItc3RhdGUubWpzJztcblxuZnVuY3Rpb24gdXNlU1ZHUHJvcHMocHJvcHMsIHZpc3VhbFN0YXRlKSB7XG4gICAgY29uc3QgdmlzdWFsUHJvcHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBjcmVhdGVTdmdSZW5kZXJTdGF0ZSgpO1xuICAgICAgICBidWlsZFNWR0F0dHJzKHN0YXRlLCB2aXN1YWxTdGF0ZSwgeyBlbmFibGVIYXJkd2FyZUFjY2VsZXJhdGlvbjogZmFsc2UgfSwgcHJvcHMudHJhbnNmb3JtVGVtcGxhdGUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3RhdGUuYXR0cnMsXG4gICAgICAgICAgICBzdHlsZTogeyAuLi5zdGF0ZS5zdHlsZSB9LFxuICAgICAgICB9O1xuICAgIH0sIFt2aXN1YWxTdGF0ZV0pO1xuICAgIGlmIChwcm9wcy5zdHlsZSkge1xuICAgICAgICBjb25zdCByYXdTdHlsZXMgPSB7fTtcbiAgICAgICAgY29weVJhd1ZhbHVlc09ubHkocmF3U3R5bGVzLCBwcm9wcy5zdHlsZSwgcHJvcHMpO1xuICAgICAgICB2aXN1YWxQcm9wcy5zdHlsZSA9IHsgLi4ucmF3U3R5bGVzLCAuLi52aXN1YWxQcm9wcy5zdHlsZSB9O1xuICAgIH1cbiAgICByZXR1cm4gdmlzdWFsUHJvcHM7XG59XG5cbmV4cG9ydCB7IHVzZVNWR1Byb3BzIH07XG4iLCJpbXBvcnQgeyBjcmVhdGVIdG1sUmVuZGVyU3RhdGUgfSBmcm9tICcuLi8uLi9odG1sL3V0aWxzL2NyZWF0ZS1yZW5kZXItc3RhdGUubWpzJztcblxuY29uc3QgY3JlYXRlU3ZnUmVuZGVyU3RhdGUgPSAoKSA9PiAoe1xuICAgIC4uLmNyZWF0ZUh0bWxSZW5kZXJTdGF0ZSgpLFxuICAgIGF0dHJzOiB7fSxcbn0pO1xuXG5leHBvcnQgeyBjcmVhdGVTdmdSZW5kZXJTdGF0ZSB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUhUTUxQcm9wcyB9IGZyb20gJy4uL2h0bWwvdXNlLXByb3BzLm1qcyc7XG5pbXBvcnQgeyBmaWx0ZXJQcm9wcyB9IGZyb20gJy4vdXRpbHMvZmlsdGVyLXByb3BzLm1qcyc7XG5pbXBvcnQgeyBpc1NWR0NvbXBvbmVudCB9IGZyb20gJy4vdXRpbHMvaXMtc3ZnLWNvbXBvbmVudC5tanMnO1xuaW1wb3J0IHsgdXNlU1ZHUHJvcHMgfSBmcm9tICcuLi9zdmcvdXNlLXByb3BzLm1qcyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZVVzZVJlbmRlcihmb3J3YXJkTW90aW9uUHJvcHMgPSBmYWxzZSkge1xuICAgIGNvbnN0IHVzZVJlbmRlciA9IChDb21wb25lbnQsIHByb3BzLCBwcm9qZWN0aW9uSWQsIHJlZiwgeyBsYXRlc3RWYWx1ZXMgfSwgaXNTdGF0aWMpID0+IHtcbiAgICAgICAgY29uc3QgdXNlVmlzdWFsUHJvcHMgPSBpc1NWR0NvbXBvbmVudChDb21wb25lbnQpXG4gICAgICAgICAgICA/IHVzZVNWR1Byb3BzXG4gICAgICAgICAgICA6IHVzZUhUTUxQcm9wcztcbiAgICAgICAgY29uc3QgdmlzdWFsUHJvcHMgPSB1c2VWaXN1YWxQcm9wcyhwcm9wcywgbGF0ZXN0VmFsdWVzLCBpc1N0YXRpYyk7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkUHJvcHMgPSBmaWx0ZXJQcm9wcyhwcm9wcywgdHlwZW9mIENvbXBvbmVudCA9PT0gXCJzdHJpbmdcIiwgZm9yd2FyZE1vdGlvblByb3BzKTtcbiAgICAgICAgY29uc3QgZWxlbWVudFByb3BzID0ge1xuICAgICAgICAgICAgLi4uZmlsdGVyZWRQcm9wcyxcbiAgICAgICAgICAgIC4uLnZpc3VhbFByb3BzLFxuICAgICAgICAgICAgcmVmLFxuICAgICAgICB9O1xuICAgICAgICBpZiAocHJvamVjdGlvbklkKSB7XG4gICAgICAgICAgICBlbGVtZW50UHJvcHNbXCJkYXRhLXByb2plY3Rpb24taWRcIl0gPSBwcm9qZWN0aW9uSWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBlbGVtZW50UHJvcHMpO1xuICAgIH07XG4gICAgcmV0dXJuIHVzZVJlbmRlcjtcbn1cblxuZXhwb3J0IHsgY3JlYXRlVXNlUmVuZGVyIH07XG4iLCIvKipcbiAqIENvbnZlcnQgY2FtZWxDYXNlIHRvIGRhc2gtY2FzZSBwcm9wZXJ0aWVzLlxuICovXG5jb25zdCBjYW1lbFRvRGFzaCA9IChzdHIpID0+IHN0ci5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCBcIiQxLSQyXCIpLnRvTG93ZXJDYXNlKCk7XG5cbmV4cG9ydCB7IGNhbWVsVG9EYXNoIH07XG4iLCJmdW5jdGlvbiByZW5kZXJIVE1MKGVsZW1lbnQsIHsgc3R5bGUsIHZhcnMgfSwgc3R5bGVQcm9wLCBwcm9qZWN0aW9uKSB7XG4gICAgT2JqZWN0LmFzc2lnbihlbGVtZW50LnN0eWxlLCBzdHlsZSwgcHJvamVjdGlvbiAmJiBwcm9qZWN0aW9uLmdldFByb2plY3Rpb25TdHlsZXMoc3R5bGVQcm9wKSk7XG4gICAgLy8gTG9vcCBvdmVyIGFueSBDU1MgdmFyaWFibGVzIGFuZCBhc3NpZ24gdGhvc2UuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gdmFycykge1xuICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFyc1trZXldKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IHJlbmRlckhUTUwgfTtcbiIsIi8qKlxuICogQSBzZXQgb2YgYXR0cmlidXRlIG5hbWVzIHRoYXQgYXJlIGFsd2F5cyByZWFkL3dyaXR0ZW4gYXMgY2FtZWwgY2FzZS5cbiAqL1xuY29uc3QgY2FtZWxDYXNlQXR0cmlidXRlcyA9IG5ldyBTZXQoW1xuICAgIFwiYmFzZUZyZXF1ZW5jeVwiLFxuICAgIFwiZGlmZnVzZUNvbnN0YW50XCIsXG4gICAgXCJrZXJuZWxNYXRyaXhcIixcbiAgICBcImtlcm5lbFVuaXRMZW5ndGhcIixcbiAgICBcImtleVNwbGluZXNcIixcbiAgICBcImtleVRpbWVzXCIsXG4gICAgXCJsaW1pdGluZ0NvbmVBbmdsZVwiLFxuICAgIFwibWFya2VySGVpZ2h0XCIsXG4gICAgXCJtYXJrZXJXaWR0aFwiLFxuICAgIFwibnVtT2N0YXZlc1wiLFxuICAgIFwidGFyZ2V0WFwiLFxuICAgIFwidGFyZ2V0WVwiLFxuICAgIFwic3VyZmFjZVNjYWxlXCIsXG4gICAgXCJzcGVjdWxhckNvbnN0YW50XCIsXG4gICAgXCJzcGVjdWxhckV4cG9uZW50XCIsXG4gICAgXCJzdGREZXZpYXRpb25cIixcbiAgICBcInRhYmxlVmFsdWVzXCIsXG4gICAgXCJ2aWV3Qm94XCIsXG4gICAgXCJncmFkaWVudFRyYW5zZm9ybVwiLFxuICAgIFwicGF0aExlbmd0aFwiLFxuXSk7XG5cbmV4cG9ydCB7IGNhbWVsQ2FzZUF0dHJpYnV0ZXMgfTtcbiIsImltcG9ydCB7IGNhbWVsVG9EYXNoIH0gZnJvbSAnLi4vLi4vZG9tL3V0aWxzL2NhbWVsLXRvLWRhc2gubWpzJztcbmltcG9ydCB7IHJlbmRlckhUTUwgfSBmcm9tICcuLi8uLi9odG1sL3V0aWxzL3JlbmRlci5tanMnO1xuaW1wb3J0IHsgY2FtZWxDYXNlQXR0cmlidXRlcyB9IGZyb20gJy4vY2FtZWwtY2FzZS1hdHRycy5tanMnO1xuXG5mdW5jdGlvbiByZW5kZXJTVkcoZWxlbWVudCwgcmVuZGVyU3RhdGUsIF9zdHlsZVByb3AsIHByb2plY3Rpb24pIHtcbiAgICByZW5kZXJIVE1MKGVsZW1lbnQsIHJlbmRlclN0YXRlLCB1bmRlZmluZWQsIHByb2plY3Rpb24pO1xuICAgIGZvciAoY29uc3Qga2V5IGluIHJlbmRlclN0YXRlLmF0dHJzKSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCFjYW1lbENhc2VBdHRyaWJ1dGVzLmhhcyhrZXkpID8gY2FtZWxUb0Rhc2goa2V5KSA6IGtleSwgcmVuZGVyU3RhdGUuYXR0cnNba2V5XSk7XG4gICAgfVxufVxuXG5leHBvcnQgeyByZW5kZXJTVkcgfTtcbiIsImltcG9ydCB7IGlzRm9yY2VkTW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi8uLi9tb3Rpb24vdXRpbHMvaXMtZm9yY2VkLW1vdGlvbi12YWx1ZS5tanMnO1xuaW1wb3J0IHsgaXNNb3Rpb25WYWx1ZSB9IGZyb20gJy4uLy4uLy4uL3ZhbHVlL3V0aWxzL2lzLW1vdGlvbi12YWx1ZS5tanMnO1xuXG5mdW5jdGlvbiBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMocHJvcHMpIHtcbiAgICBjb25zdCB7IHN0eWxlIH0gPSBwcm9wcztcbiAgICBjb25zdCBuZXdWYWx1ZXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzdHlsZSkge1xuICAgICAgICBpZiAoaXNNb3Rpb25WYWx1ZShzdHlsZVtrZXldKSB8fCBpc0ZvcmNlZE1vdGlvblZhbHVlKGtleSwgcHJvcHMpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZXNba2V5XSA9IHN0eWxlW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ld1ZhbHVlcztcbn1cblxuZXhwb3J0IHsgc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzIH07XG4iLCJpbXBvcnQgeyBpc01vdGlvblZhbHVlIH0gZnJvbSAnLi4vLi4vLi4vdmFsdWUvdXRpbHMvaXMtbW90aW9uLXZhbHVlLm1qcyc7XG5pbXBvcnQgeyBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMgYXMgc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzJDEgfSBmcm9tICcuLi8uLi9odG1sL3V0aWxzL3NjcmFwZS1tb3Rpb24tdmFsdWVzLm1qcyc7XG5cbmZ1bmN0aW9uIHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyhwcm9wcykge1xuICAgIGNvbnN0IG5ld1ZhbHVlcyA9IHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyQxKHByb3BzKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgICAgICBpZiAoaXNNb3Rpb25WYWx1ZShwcm9wc1trZXldKSkge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0S2V5ID0ga2V5ID09PSBcInhcIiB8fCBrZXkgPT09IFwieVwiID8gXCJhdHRyXCIgKyBrZXkudG9VcHBlckNhc2UoKSA6IGtleTtcbiAgICAgICAgICAgIG5ld1ZhbHVlc1t0YXJnZXRLZXldID0gcHJvcHNba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3VmFsdWVzO1xufVxuXG5leHBvcnQgeyBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMgfTtcbiIsImZ1bmN0aW9uIHJlc29sdmVWYXJpYW50RnJvbVByb3BzKHByb3BzLCBkZWZpbml0aW9uLCBjdXN0b20sIGN1cnJlbnRWYWx1ZXMgPSB7fSwgY3VycmVudFZlbG9jaXR5ID0ge30pIHtcbiAgICAvKipcbiAgICAgKiBJZiB0aGUgdmFyaWFudCBkZWZpbml0aW9uIGlzIGEgZnVuY3Rpb24sIHJlc29sdmUuXG4gICAgICovXG4gICAgaWYgKHR5cGVvZiBkZWZpbml0aW9uID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgZGVmaW5pdGlvbiA9IGRlZmluaXRpb24oY3VzdG9tICE9PSB1bmRlZmluZWQgPyBjdXN0b20gOiBwcm9wcy5jdXN0b20sIGN1cnJlbnRWYWx1ZXMsIGN1cnJlbnRWZWxvY2l0eSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoZSB2YXJpYW50IGRlZmluaXRpb24gaXMgYSB2YXJpYW50IGxhYmVsLCBvclxuICAgICAqIHRoZSBmdW5jdGlvbiByZXR1cm5lZCBhIHZhcmlhbnQgbGFiZWwsIHJlc29sdmUuXG4gICAgICovXG4gICAgaWYgKHR5cGVvZiBkZWZpbml0aW9uID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGRlZmluaXRpb24gPSBwcm9wcy52YXJpYW50cyAmJiBwcm9wcy52YXJpYW50c1tkZWZpbml0aW9uXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXQgdGhpcyBwb2ludCB3ZSd2ZSByZXNvbHZlZCBib3RoIGZ1bmN0aW9ucyBhbmQgdmFyaWFudCBsYWJlbHMsXG4gICAgICogYnV0IHRoZSByZXNvbHZlZCB2YXJpYW50IGxhYmVsIG1pZ2h0IGl0c2VsZiBoYXZlIGJlZW4gYSBmdW5jdGlvbi5cbiAgICAgKiBJZiBzbywgcmVzb2x2ZS4gVGhpcyBjYW4gb25seSBoYXZlIHJldHVybmVkIGEgdmFsaWQgdGFyZ2V0IG9iamVjdC5cbiAgICAgKi9cbiAgICBpZiAodHlwZW9mIGRlZmluaXRpb24gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBkZWZpbml0aW9uID0gZGVmaW5pdGlvbihjdXN0b20gIT09IHVuZGVmaW5lZCA/IGN1c3RvbSA6IHByb3BzLmN1c3RvbSwgY3VycmVudFZhbHVlcywgY3VycmVudFZlbG9jaXR5KTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmluaXRpb247XG59XG5cbmV4cG9ydCB7IHJlc29sdmVWYXJpYW50RnJvbVByb3BzIH07XG4iLCJjb25zdCBpc0tleWZyYW1lc1RhcmdldCA9ICh2KSA9PiB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodik7XG59O1xuXG5leHBvcnQgeyBpc0tleWZyYW1lc1RhcmdldCB9O1xuIiwiaW1wb3J0IHsgaXNLZXlmcmFtZXNUYXJnZXQgfSBmcm9tICcuLi9hbmltYXRpb24vdXRpbHMvaXMta2V5ZnJhbWVzLXRhcmdldC5tanMnO1xuXG5jb25zdCBpc0N1c3RvbVZhbHVlID0gKHYpID0+IHtcbiAgICByZXR1cm4gQm9vbGVhbih2ICYmIHR5cGVvZiB2ID09PSBcIm9iamVjdFwiICYmIHYubWl4ICYmIHYudG9WYWx1ZSk7XG59O1xuY29uc3QgcmVzb2x2ZUZpbmFsVmFsdWVJbktleWZyYW1lcyA9ICh2KSA9PiB7XG4gICAgLy8gVE9ETyBtYXliZSB0aHJvdyBpZiB2Lmxlbmd0aCAtIDEgaXMgcGxhY2Vob2xkZXIgdG9rZW4/XG4gICAgcmV0dXJuIGlzS2V5ZnJhbWVzVGFyZ2V0KHYpID8gdlt2Lmxlbmd0aCAtIDFdIHx8IDAgOiB2O1xufTtcblxuZXhwb3J0IHsgaXNDdXN0b21WYWx1ZSwgcmVzb2x2ZUZpbmFsVmFsdWVJbktleWZyYW1lcyB9O1xuIiwiaW1wb3J0IHsgaXNDdXN0b21WYWx1ZSB9IGZyb20gJy4uLy4uL3V0aWxzL3Jlc29sdmUtdmFsdWUubWpzJztcbmltcG9ydCB7IGlzTW90aW9uVmFsdWUgfSBmcm9tICcuL2lzLW1vdGlvbi12YWx1ZS5tanMnO1xuXG4vKipcbiAqIElmIHRoZSBwcm92aWRlZCB2YWx1ZSBpcyBhIE1vdGlvblZhbHVlLCB0aGlzIHJldHVybnMgdGhlIGFjdHVhbCB2YWx1ZSwgb3RoZXJ3aXNlIGp1c3QgdGhlIHZhbHVlIGl0c2VsZlxuICpcbiAqIFRPRE86IFJlbW92ZSBhbmQgbW92ZSB0byBsaWJyYXJ5XG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVNb3Rpb25WYWx1ZSh2YWx1ZSkge1xuICAgIGNvbnN0IHVud3JhcHBlZFZhbHVlID0gaXNNb3Rpb25WYWx1ZSh2YWx1ZSkgPyB2YWx1ZS5nZXQoKSA6IHZhbHVlO1xuICAgIHJldHVybiBpc0N1c3RvbVZhbHVlKHVud3JhcHBlZFZhbHVlKVxuICAgICAgICA/IHVud3JhcHBlZFZhbHVlLnRvVmFsdWUoKVxuICAgICAgICA6IHVud3JhcHBlZFZhbHVlO1xufVxuXG5leHBvcnQgeyByZXNvbHZlTW90aW9uVmFsdWUgfTtcbiIsImltcG9ydCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBpc0FuaW1hdGlvbkNvbnRyb2xzIH0gZnJvbSAnLi4vLi4vYW5pbWF0aW9uL3V0aWxzL2lzLWFuaW1hdGlvbi1jb250cm9scy5tanMnO1xuaW1wb3J0IHsgUHJlc2VuY2VDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9QcmVzZW5jZUNvbnRleHQubWpzJztcbmltcG9ydCB7IHJlc29sdmVWYXJpYW50RnJvbVByb3BzIH0gZnJvbSAnLi4vLi4vcmVuZGVyL3V0aWxzL3Jlc29sdmUtdmFyaWFudHMubWpzJztcbmltcG9ydCB7IHVzZUNvbnN0YW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLWNvbnN0YW50Lm1qcyc7XG5pbXBvcnQgeyByZXNvbHZlTW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi92YWx1ZS91dGlscy9yZXNvbHZlLW1vdGlvbi12YWx1ZS5tanMnO1xuaW1wb3J0IHsgTW90aW9uQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvTW90aW9uQ29udGV4dC9pbmRleC5tanMnO1xuaW1wb3J0IHsgaXNDb250cm9sbGluZ1ZhcmlhbnRzLCBpc1ZhcmlhbnROb2RlIH0gZnJvbSAnLi4vLi4vcmVuZGVyL3V0aWxzL2lzLWNvbnRyb2xsaW5nLXZhcmlhbnRzLm1qcyc7XG5cbmZ1bmN0aW9uIG1ha2VTdGF0ZSh7IHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcywgY3JlYXRlUmVuZGVyU3RhdGUsIG9uTW91bnQsIH0sIHByb3BzLCBjb250ZXh0LCBwcmVzZW5jZUNvbnRleHQpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHtcbiAgICAgICAgbGF0ZXN0VmFsdWVzOiBtYWtlTGF0ZXN0VmFsdWVzKHByb3BzLCBjb250ZXh0LCBwcmVzZW5jZUNvbnRleHQsIHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyksXG4gICAgICAgIHJlbmRlclN0YXRlOiBjcmVhdGVSZW5kZXJTdGF0ZSgpLFxuICAgIH07XG4gICAgaWYgKG9uTW91bnQpIHtcbiAgICAgICAgc3RhdGUubW91bnQgPSAoaW5zdGFuY2UpID0+IG9uTW91bnQocHJvcHMsIGluc3RhbmNlLCBzdGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn1cbmNvbnN0IG1ha2VVc2VWaXN1YWxTdGF0ZSA9IChjb25maWcpID0+IChwcm9wcywgaXNTdGF0aWMpID0+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChNb3Rpb25Db250ZXh0KTtcbiAgICBjb25zdCBwcmVzZW5jZUNvbnRleHQgPSB1c2VDb250ZXh0KFByZXNlbmNlQ29udGV4dCk7XG4gICAgY29uc3QgbWFrZSA9ICgpID0+IG1ha2VTdGF0ZShjb25maWcsIHByb3BzLCBjb250ZXh0LCBwcmVzZW5jZUNvbnRleHQpO1xuICAgIHJldHVybiBpc1N0YXRpYyA/IG1ha2UoKSA6IHVzZUNvbnN0YW50KG1ha2UpO1xufTtcbmZ1bmN0aW9uIG1ha2VMYXRlc3RWYWx1ZXMocHJvcHMsIGNvbnRleHQsIHByZXNlbmNlQ29udGV4dCwgc2NyYXBlTW90aW9uVmFsdWVzKSB7XG4gICAgY29uc3QgdmFsdWVzID0ge307XG4gICAgY29uc3QgbW90aW9uVmFsdWVzID0gc2NyYXBlTW90aW9uVmFsdWVzKHByb3BzKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBtb3Rpb25WYWx1ZXMpIHtcbiAgICAgICAgdmFsdWVzW2tleV0gPSByZXNvbHZlTW90aW9uVmFsdWUobW90aW9uVmFsdWVzW2tleV0pO1xuICAgIH1cbiAgICBsZXQgeyBpbml0aWFsLCBhbmltYXRlIH0gPSBwcm9wcztcbiAgICBjb25zdCBpc0NvbnRyb2xsaW5nVmFyaWFudHMkMSA9IGlzQ29udHJvbGxpbmdWYXJpYW50cyhwcm9wcyk7XG4gICAgY29uc3QgaXNWYXJpYW50Tm9kZSQxID0gaXNWYXJpYW50Tm9kZShwcm9wcyk7XG4gICAgaWYgKGNvbnRleHQgJiZcbiAgICAgICAgaXNWYXJpYW50Tm9kZSQxICYmXG4gICAgICAgICFpc0NvbnRyb2xsaW5nVmFyaWFudHMkMSAmJlxuICAgICAgICBwcm9wcy5pbmhlcml0ICE9PSBmYWxzZSkge1xuICAgICAgICBpZiAoaW5pdGlhbCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgaW5pdGlhbCA9IGNvbnRleHQuaW5pdGlhbDtcbiAgICAgICAgaWYgKGFuaW1hdGUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIGFuaW1hdGUgPSBjb250ZXh0LmFuaW1hdGU7XG4gICAgfVxuICAgIGxldCBpc0luaXRpYWxBbmltYXRpb25CbG9ja2VkID0gcHJlc2VuY2VDb250ZXh0XG4gICAgICAgID8gcHJlc2VuY2VDb250ZXh0LmluaXRpYWwgPT09IGZhbHNlXG4gICAgICAgIDogZmFsc2U7XG4gICAgaXNJbml0aWFsQW5pbWF0aW9uQmxvY2tlZCA9IGlzSW5pdGlhbEFuaW1hdGlvbkJsb2NrZWQgfHwgaW5pdGlhbCA9PT0gZmFsc2U7XG4gICAgY29uc3QgdmFyaWFudFRvU2V0ID0gaXNJbml0aWFsQW5pbWF0aW9uQmxvY2tlZCA/IGFuaW1hdGUgOiBpbml0aWFsO1xuICAgIGlmICh2YXJpYW50VG9TZXQgJiZcbiAgICAgICAgdHlwZW9mIHZhcmlhbnRUb1NldCAhPT0gXCJib29sZWFuXCIgJiZcbiAgICAgICAgIWlzQW5pbWF0aW9uQ29udHJvbHModmFyaWFudFRvU2V0KSkge1xuICAgICAgICBjb25zdCBsaXN0ID0gQXJyYXkuaXNBcnJheSh2YXJpYW50VG9TZXQpID8gdmFyaWFudFRvU2V0IDogW3ZhcmlhbnRUb1NldF07XG4gICAgICAgIGxpc3QuZm9yRWFjaCgoZGVmaW5pdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzb2x2ZWQgPSByZXNvbHZlVmFyaWFudEZyb21Qcm9wcyhwcm9wcywgZGVmaW5pdGlvbik7XG4gICAgICAgICAgICBpZiAoIXJlc29sdmVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHsgdHJhbnNpdGlvbkVuZCwgdHJhbnNpdGlvbiwgLi4udGFyZ2V0IH0gPSByZXNvbHZlZDtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRhcmdldCkge1xuICAgICAgICAgICAgICAgIGxldCB2YWx1ZVRhcmdldCA9IHRhcmdldFtrZXldO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlVGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogVGFrZSBmaW5hbCBrZXlmcmFtZSBpZiB0aGUgaW5pdGlhbCBhbmltYXRpb24gaXMgYmxvY2tlZCBiZWNhdXNlXG4gICAgICAgICAgICAgICAgICAgICAqIHdlIHdhbnQgdG8gaW5pdGlhbGlzZSBhdCB0aGUgZW5kIG9mIHRoYXQgYmxvY2tlZCBhbmltYXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGlzSW5pdGlhbEFuaW1hdGlvbkJsb2NrZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdmFsdWVUYXJnZXQubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAwO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZVRhcmdldCA9IHZhbHVlVGFyZ2V0W2luZGV4XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlVGFyZ2V0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc1trZXldID0gdmFsdWVUYXJnZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdHJhbnNpdGlvbkVuZClcbiAgICAgICAgICAgICAgICB2YWx1ZXNba2V5XSA9IHRyYW5zaXRpb25FbmRba2V5XTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG59XG5cbmV4cG9ydCB7IG1ha2VVc2VWaXN1YWxTdGF0ZSB9O1xuIiwiaW1wb3J0IHsgcmVuZGVyU1ZHIH0gZnJvbSAnLi91dGlscy9yZW5kZXIubWpzJztcbmltcG9ydCB7IHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyB9IGZyb20gJy4vdXRpbHMvc2NyYXBlLW1vdGlvbi12YWx1ZXMubWpzJztcbmltcG9ydCB7IG1ha2VVc2VWaXN1YWxTdGF0ZSB9IGZyb20gJy4uLy4uL21vdGlvbi91dGlscy91c2UtdmlzdWFsLXN0YXRlLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVTdmdSZW5kZXJTdGF0ZSB9IGZyb20gJy4vdXRpbHMvY3JlYXRlLXJlbmRlci1zdGF0ZS5tanMnO1xuaW1wb3J0IHsgYnVpbGRTVkdBdHRycyB9IGZyb20gJy4vdXRpbHMvYnVpbGQtYXR0cnMubWpzJztcblxuY29uc3Qgc3ZnTW90aW9uQ29uZmlnID0ge1xuICAgIHVzZVZpc3VhbFN0YXRlOiBtYWtlVXNlVmlzdWFsU3RhdGUoe1xuICAgICAgICBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHM6IHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyxcbiAgICAgICAgY3JlYXRlUmVuZGVyU3RhdGU6IGNyZWF0ZVN2Z1JlbmRlclN0YXRlLFxuICAgICAgICBvbk1vdW50OiAocHJvcHMsIGluc3RhbmNlLCB7IHJlbmRlclN0YXRlLCBsYXRlc3RWYWx1ZXMgfSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZW5kZXJTdGF0ZS5kaW1lbnNpb25zID1cbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGluc3RhbmNlLmdldEJCb3ggPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gaW5zdGFuY2UuZ2V0QkJveCgpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGluc3RhbmNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBNb3N0IGxpa2VseSB0cnlpbmcgdG8gbWVhc3VyZSBhbiB1bnJlbmRlcmVkIGVsZW1lbnQgdW5kZXIgRmlyZWZveFxuICAgICAgICAgICAgICAgIHJlbmRlclN0YXRlLmRpbWVuc2lvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1aWxkU1ZHQXR0cnMocmVuZGVyU3RhdGUsIGxhdGVzdFZhbHVlcywgeyBlbmFibGVIYXJkd2FyZUFjY2VsZXJhdGlvbjogZmFsc2UgfSwgcHJvcHMudHJhbnNmb3JtVGVtcGxhdGUpO1xuICAgICAgICAgICAgcmVuZGVyU1ZHKGluc3RhbmNlLCByZW5kZXJTdGF0ZSk7XG4gICAgICAgIH0sXG4gICAgfSksXG59O1xuXG5leHBvcnQgeyBzdmdNb3Rpb25Db25maWcgfTtcbiIsImltcG9ydCB7IG1ha2VVc2VWaXN1YWxTdGF0ZSB9IGZyb20gJy4uLy4uL21vdGlvbi91dGlscy91c2UtdmlzdWFsLXN0YXRlLm1qcyc7XG5pbXBvcnQgeyBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMgfSBmcm9tICcuL3V0aWxzL3NjcmFwZS1tb3Rpb24tdmFsdWVzLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVIdG1sUmVuZGVyU3RhdGUgfSBmcm9tICcuL3V0aWxzL2NyZWF0ZS1yZW5kZXItc3RhdGUubWpzJztcblxuY29uc3QgaHRtbE1vdGlvbkNvbmZpZyA9IHtcbiAgICB1c2VWaXN1YWxTdGF0ZTogbWFrZVVzZVZpc3VhbFN0YXRlKHtcbiAgICAgICAgc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzLFxuICAgICAgICBjcmVhdGVSZW5kZXJTdGF0ZTogY3JlYXRlSHRtbFJlbmRlclN0YXRlLFxuICAgIH0pLFxufTtcblxuZXhwb3J0IHsgaHRtbE1vdGlvbkNvbmZpZyB9O1xuIiwidmFyIEFuaW1hdGlvblR5cGU7XG4oZnVuY3Rpb24gKEFuaW1hdGlvblR5cGUpIHtcbiAgICBBbmltYXRpb25UeXBlW1wiQW5pbWF0ZVwiXSA9IFwiYW5pbWF0ZVwiO1xuICAgIEFuaW1hdGlvblR5cGVbXCJIb3ZlclwiXSA9IFwid2hpbGVIb3ZlclwiO1xuICAgIEFuaW1hdGlvblR5cGVbXCJUYXBcIl0gPSBcIndoaWxlVGFwXCI7XG4gICAgQW5pbWF0aW9uVHlwZVtcIkRyYWdcIl0gPSBcIndoaWxlRHJhZ1wiO1xuICAgIEFuaW1hdGlvblR5cGVbXCJGb2N1c1wiXSA9IFwid2hpbGVGb2N1c1wiO1xuICAgIEFuaW1hdGlvblR5cGVbXCJJblZpZXdcIl0gPSBcIndoaWxlSW5WaWV3XCI7XG4gICAgQW5pbWF0aW9uVHlwZVtcIkV4aXRcIl0gPSBcImV4aXRcIjtcbn0pKEFuaW1hdGlvblR5cGUgfHwgKEFuaW1hdGlvblR5cGUgPSB7fSkpO1xuXG5leHBvcnQgeyBBbmltYXRpb25UeXBlIH07XG4iLCJpbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIGFkZERvbUV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zID0geyBwYXNzaXZlOiB0cnVlIH0pIHtcbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIHJldHVybiAoKSA9PiB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIpO1xufVxuLyoqXG4gKiBBdHRhY2hlcyBhbiBldmVudCBsaXN0ZW5lciBkaXJlY3RseSB0byB0aGUgcHJvdmlkZWQgRE9NIGVsZW1lbnQuXG4gKlxuICogQnlwYXNzaW5nIFJlYWN0J3MgZXZlbnQgc3lzdGVtIGNhbiBiZSBkZXNpcmFibGUsIGZvciBpbnN0YW5jZSB3aGVuIGF0dGFjaGluZyBub24tcGFzc2l2ZVxuICogZXZlbnQgaGFuZGxlcnMuXG4gKlxuICogYGBganN4XG4gKiBjb25zdCByZWYgPSB1c2VSZWYobnVsbClcbiAqXG4gKiB1c2VEb21FdmVudChyZWYsICd3aGVlbCcsIG9uV2hlZWwsIHsgcGFzc2l2ZTogZmFsc2UgfSlcbiAqXG4gKiByZXR1cm4gPGRpdiByZWY9e3JlZn0gLz5cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSByZWYgLSBSZWFjdC5SZWZPYmplY3QgdGhhdCdzIGJlZW4gcHJvdmlkZWQgdG8gdGhlIGVsZW1lbnQgeW91IHdhbnQgdG8gYmluZCB0aGUgbGlzdGVuZXIgdG8uXG4gKiBAcGFyYW0gZXZlbnROYW1lIC0gTmFtZSBvZiB0aGUgZXZlbnQgeW91IHdhbnQgbGlzdGVuIGZvci5cbiAqIEBwYXJhbSBoYW5kbGVyIC0gRnVuY3Rpb24gdG8gZmlyZSB3aGVuIHJlY2VpdmluZyB0aGUgZXZlbnQuXG4gKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgdG8gcGFzcyB0byBgRXZlbnQuYWRkRXZlbnRMaXN0ZW5lcmAuXG4gKlxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiB1c2VEb21FdmVudChyZWYsIGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSByZWYuY3VycmVudDtcbiAgICAgICAgaWYgKGhhbmRsZXIgJiYgZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGFkZERvbUV2ZW50KGVsZW1lbnQsIGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9LCBbcmVmLCBldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnNdKTtcbn1cblxuZXhwb3J0IHsgYWRkRG9tRXZlbnQsIHVzZURvbUV2ZW50IH07XG4iLCJmdW5jdGlvbiBpc01vdXNlRXZlbnQoZXZlbnQpIHtcbiAgICAvLyBQb2ludGVyRXZlbnQgaW5oZXJpdHMgZnJvbSBNb3VzZUV2ZW50IHNvIHdlIGNhbid0IHVzZSBhIHN0cmFpZ2h0IGluc3RhbmNlb2YgY2hlY2suXG4gICAgaWYgKHR5cGVvZiBQb2ludGVyRXZlbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgZXZlbnQgaW5zdGFuY2VvZiBQb2ludGVyRXZlbnQpIHtcbiAgICAgICAgcmV0dXJuICEhKGV2ZW50LnBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCIpO1xuICAgIH1cbiAgICByZXR1cm4gZXZlbnQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50O1xufVxuZnVuY3Rpb24gaXNUb3VjaEV2ZW50KGV2ZW50KSB7XG4gICAgY29uc3QgaGFzVG91Y2hlcyA9ICEhZXZlbnQudG91Y2hlcztcbiAgICByZXR1cm4gaGFzVG91Y2hlcztcbn1cblxuZXhwb3J0IHsgaXNNb3VzZUV2ZW50LCBpc1RvdWNoRXZlbnQgfTtcbiIsImltcG9ydCB7IGlzVG91Y2hFdmVudCB9IGZyb20gJy4uL2dlc3R1cmVzL3V0aWxzL2V2ZW50LXR5cGUubWpzJztcblxuLyoqXG4gKiBGaWx0ZXJzIG91dCBldmVudHMgbm90IGF0dGFjaGVkIHRvIHRoZSBwcmltYXJ5IHBvaW50ZXIgKGN1cnJlbnRseSBsZWZ0IG1vdXNlIGJ1dHRvbilcbiAqIEBwYXJhbSBldmVudEhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gZmlsdGVyUHJpbWFyeVBvaW50ZXIoZXZlbnRIYW5kbGVyKSB7XG4gICAgcmV0dXJuIChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBpc01vdXNlRXZlbnQgPSBldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQ7XG4gICAgICAgIGNvbnN0IGlzUHJpbWFyeVBvaW50ZXIgPSAhaXNNb3VzZUV2ZW50IHx8XG4gICAgICAgICAgICAoaXNNb3VzZUV2ZW50ICYmIGV2ZW50LmJ1dHRvbiA9PT0gMCk7XG4gICAgICAgIGlmIChpc1ByaW1hcnlQb2ludGVyKSB7XG4gICAgICAgICAgICBldmVudEhhbmRsZXIoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmNvbnN0IGRlZmF1bHRQYWdlUG9pbnQgPSB7IHBhZ2VYOiAwLCBwYWdlWTogMCB9O1xuZnVuY3Rpb24gcG9pbnRGcm9tVG91Y2goZSwgcG9pbnRUeXBlID0gXCJwYWdlXCIpIHtcbiAgICBjb25zdCBwcmltYXJ5VG91Y2ggPSBlLnRvdWNoZXNbMF0gfHwgZS5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgICBjb25zdCBwb2ludCA9IHByaW1hcnlUb3VjaCB8fCBkZWZhdWx0UGFnZVBvaW50O1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHBvaW50W3BvaW50VHlwZSArIFwiWFwiXSxcbiAgICAgICAgeTogcG9pbnRbcG9pbnRUeXBlICsgXCJZXCJdLFxuICAgIH07XG59XG5mdW5jdGlvbiBwb2ludEZyb21Nb3VzZShwb2ludCwgcG9pbnRUeXBlID0gXCJwYWdlXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBwb2ludFtwb2ludFR5cGUgKyBcIlhcIl0sXG4gICAgICAgIHk6IHBvaW50W3BvaW50VHlwZSArIFwiWVwiXSxcbiAgICB9O1xufVxuZnVuY3Rpb24gZXh0cmFjdEV2ZW50SW5mbyhldmVudCwgcG9pbnRUeXBlID0gXCJwYWdlXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBwb2ludDogaXNUb3VjaEV2ZW50KGV2ZW50KVxuICAgICAgICAgICAgPyBwb2ludEZyb21Ub3VjaChldmVudCwgcG9pbnRUeXBlKVxuICAgICAgICAgICAgOiBwb2ludEZyb21Nb3VzZShldmVudCwgcG9pbnRUeXBlKSxcbiAgICB9O1xufVxuY29uc3Qgd3JhcEhhbmRsZXIgPSAoaGFuZGxlciwgc2hvdWxkRmlsdGVyUHJpbWFyeVBvaW50ZXIgPSBmYWxzZSkgPT4ge1xuICAgIGNvbnN0IGxpc3RlbmVyID0gKGV2ZW50KSA9PiBoYW5kbGVyKGV2ZW50LCBleHRyYWN0RXZlbnRJbmZvKGV2ZW50KSk7XG4gICAgcmV0dXJuIHNob3VsZEZpbHRlclByaW1hcnlQb2ludGVyXG4gICAgICAgID8gZmlsdGVyUHJpbWFyeVBvaW50ZXIobGlzdGVuZXIpXG4gICAgICAgIDogbGlzdGVuZXI7XG59O1xuXG5leHBvcnQgeyBleHRyYWN0RXZlbnRJbmZvLCB3cmFwSGFuZGxlciB9O1xuIiwiaW1wb3J0IHsgYWRkRG9tRXZlbnQsIHVzZURvbUV2ZW50IH0gZnJvbSAnLi91c2UtZG9tLWV2ZW50Lm1qcyc7XG5pbXBvcnQgeyB3cmFwSGFuZGxlciB9IGZyb20gJy4vZXZlbnQtaW5mby5tanMnO1xuaW1wb3J0IHsgc3VwcG9ydHNQb2ludGVyRXZlbnRzLCBzdXBwb3J0c1RvdWNoRXZlbnRzLCBzdXBwb3J0c01vdXNlRXZlbnRzIH0gZnJvbSAnLi91dGlscy5tanMnO1xuXG5jb25zdCBtb3VzZUV2ZW50TmFtZXMgPSB7XG4gICAgcG9pbnRlcmRvd246IFwibW91c2Vkb3duXCIsXG4gICAgcG9pbnRlcm1vdmU6IFwibW91c2Vtb3ZlXCIsXG4gICAgcG9pbnRlcnVwOiBcIm1vdXNldXBcIixcbiAgICBwb2ludGVyY2FuY2VsOiBcIm1vdXNlY2FuY2VsXCIsXG4gICAgcG9pbnRlcm92ZXI6IFwibW91c2VvdmVyXCIsXG4gICAgcG9pbnRlcm91dDogXCJtb3VzZW91dFwiLFxuICAgIHBvaW50ZXJlbnRlcjogXCJtb3VzZWVudGVyXCIsXG4gICAgcG9pbnRlcmxlYXZlOiBcIm1vdXNlbGVhdmVcIixcbn07XG5jb25zdCB0b3VjaEV2ZW50TmFtZXMgPSB7XG4gICAgcG9pbnRlcmRvd246IFwidG91Y2hzdGFydFwiLFxuICAgIHBvaW50ZXJtb3ZlOiBcInRvdWNobW92ZVwiLFxuICAgIHBvaW50ZXJ1cDogXCJ0b3VjaGVuZFwiLFxuICAgIHBvaW50ZXJjYW5jZWw6IFwidG91Y2hjYW5jZWxcIixcbn07XG5mdW5jdGlvbiBnZXRQb2ludGVyRXZlbnROYW1lKG5hbWUpIHtcbiAgICBpZiAoc3VwcG9ydHNQb2ludGVyRXZlbnRzKCkpIHtcbiAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHN1cHBvcnRzVG91Y2hFdmVudHMoKSkge1xuICAgICAgICByZXR1cm4gdG91Y2hFdmVudE5hbWVzW25hbWVdO1xuICAgIH1cbiAgICBlbHNlIGlmIChzdXBwb3J0c01vdXNlRXZlbnRzKCkpIHtcbiAgICAgICAgcmV0dXJuIG1vdXNlRXZlbnROYW1lc1tuYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWU7XG59XG5mdW5jdGlvbiBhZGRQb2ludGVyRXZlbnQodGFyZ2V0LCBldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYWRkRG9tRXZlbnQodGFyZ2V0LCBnZXRQb2ludGVyRXZlbnROYW1lKGV2ZW50TmFtZSksIHdyYXBIYW5kbGVyKGhhbmRsZXIsIGV2ZW50TmFtZSA9PT0gXCJwb2ludGVyZG93blwiKSwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiB1c2VQb2ludGVyRXZlbnQocmVmLCBldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdXNlRG9tRXZlbnQocmVmLCBnZXRQb2ludGVyRXZlbnROYW1lKGV2ZW50TmFtZSksIGhhbmRsZXIgJiYgd3JhcEhhbmRsZXIoaGFuZGxlciwgZXZlbnROYW1lID09PSBcInBvaW50ZXJkb3duXCIpLCBvcHRpb25zKTtcbn1cblxuZXhwb3J0IHsgYWRkUG9pbnRlckV2ZW50LCB1c2VQb2ludGVyRXZlbnQgfTtcbiIsImltcG9ydCB7IGlzQnJvd3NlciB9IGZyb20gJy4uL3V0aWxzL2lzLWJyb3dzZXIubWpzJztcblxuLy8gV2UgY2hlY2sgZm9yIGV2ZW50IHN1cHBvcnQgdmlhIGZ1bmN0aW9ucyBpbiBjYXNlIHRoZXkndmUgYmVlbiBtb2NrZWQgYnkgYSB0ZXN0aW5nIHN1aXRlLlxuY29uc3Qgc3VwcG9ydHNQb2ludGVyRXZlbnRzID0gKCkgPT4gaXNCcm93c2VyICYmIHdpbmRvdy5vbnBvaW50ZXJkb3duID09PSBudWxsO1xuY29uc3Qgc3VwcG9ydHNUb3VjaEV2ZW50cyA9ICgpID0+IGlzQnJvd3NlciAmJiB3aW5kb3cub250b3VjaHN0YXJ0ID09PSBudWxsO1xuY29uc3Qgc3VwcG9ydHNNb3VzZUV2ZW50cyA9ICgpID0+IGlzQnJvd3NlciAmJiB3aW5kb3cub25tb3VzZWRvd24gPT09IG51bGw7XG5cbmV4cG9ydCB7IHN1cHBvcnRzTW91c2VFdmVudHMsIHN1cHBvcnRzUG9pbnRlckV2ZW50cywgc3VwcG9ydHNUb3VjaEV2ZW50cyB9O1xuIiwiZnVuY3Rpb24gY3JlYXRlTG9jayhuYW1lKSB7XG4gICAgbGV0IGxvY2sgPSBudWxsO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wZW5Mb2NrID0gKCkgPT4ge1xuICAgICAgICAgICAgbG9jayA9IG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChsb2NrID09PSBudWxsKSB7XG4gICAgICAgICAgICBsb2NrID0gbmFtZTtcbiAgICAgICAgICAgIHJldHVybiBvcGVuTG9jaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbn1cbmNvbnN0IGdsb2JhbEhvcml6b250YWxMb2NrID0gY3JlYXRlTG9jayhcImRyYWdIb3Jpem9udGFsXCIpO1xuY29uc3QgZ2xvYmFsVmVydGljYWxMb2NrID0gY3JlYXRlTG9jayhcImRyYWdWZXJ0aWNhbFwiKTtcbmZ1bmN0aW9uIGdldEdsb2JhbExvY2soZHJhZykge1xuICAgIGxldCBsb2NrID0gZmFsc2U7XG4gICAgaWYgKGRyYWcgPT09IFwieVwiKSB7XG4gICAgICAgIGxvY2sgPSBnbG9iYWxWZXJ0aWNhbExvY2soKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZHJhZyA9PT0gXCJ4XCIpIHtcbiAgICAgICAgbG9jayA9IGdsb2JhbEhvcml6b250YWxMb2NrKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBvcGVuSG9yaXpvbnRhbCA9IGdsb2JhbEhvcml6b250YWxMb2NrKCk7XG4gICAgICAgIGNvbnN0IG9wZW5WZXJ0aWNhbCA9IGdsb2JhbFZlcnRpY2FsTG9jaygpO1xuICAgICAgICBpZiAob3Blbkhvcml6b250YWwgJiYgb3BlblZlcnRpY2FsKSB7XG4gICAgICAgICAgICBsb2NrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIG9wZW5Ib3Jpem9udGFsKCk7XG4gICAgICAgICAgICAgICAgb3BlblZlcnRpY2FsKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gUmVsZWFzZSB0aGUgbG9ja3MgYmVjYXVzZSB3ZSBkb24ndCB1c2UgdGhlbVxuICAgICAgICAgICAgaWYgKG9wZW5Ib3Jpem9udGFsKVxuICAgICAgICAgICAgICAgIG9wZW5Ib3Jpem9udGFsKCk7XG4gICAgICAgICAgICBpZiAob3BlblZlcnRpY2FsKVxuICAgICAgICAgICAgICAgIG9wZW5WZXJ0aWNhbCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsb2NrO1xufVxuZnVuY3Rpb24gaXNEcmFnQWN0aXZlKCkge1xuICAgIC8vIENoZWNrIHRoZSBnZXN0dXJlIGxvY2sgLSBpZiB3ZSBnZXQgaXQsIGl0IG1lYW5zIG5vIGRyYWcgZ2VzdHVyZSBpcyBhY3RpdmVcbiAgICAvLyBhbmQgd2UgY2FuIHNhZmVseSBmaXJlIHRoZSB0YXAgZ2VzdHVyZS5cbiAgICBjb25zdCBvcGVuR2VzdHVyZUxvY2sgPSBnZXRHbG9iYWxMb2NrKHRydWUpO1xuICAgIGlmICghb3Blbkdlc3R1cmVMb2NrKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBvcGVuR2VzdHVyZUxvY2soKTtcbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZUxvY2ssIGdldEdsb2JhbExvY2ssIGlzRHJhZ0FjdGl2ZSB9O1xuIiwiaW1wb3J0IHsgaXNNb3VzZUV2ZW50IH0gZnJvbSAnLi91dGlscy9ldmVudC10eXBlLm1qcyc7XG5pbXBvcnQgeyBBbmltYXRpb25UeXBlIH0gZnJvbSAnLi4vcmVuZGVyL3V0aWxzL3R5cGVzLm1qcyc7XG5pbXBvcnQgeyB1c2VQb2ludGVyRXZlbnQgfSBmcm9tICcuLi9ldmVudHMvdXNlLXBvaW50ZXItZXZlbnQubWpzJztcbmltcG9ydCB7IGlzRHJhZ0FjdGl2ZSB9IGZyb20gJy4vZHJhZy91dGlscy9sb2NrLm1qcyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZUhvdmVyRXZlbnQodmlzdWFsRWxlbWVudCwgaXNBY3RpdmUsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIChldmVudCwgaW5mbykgPT4ge1xuICAgICAgICBpZiAoIWlzTW91c2VFdmVudChldmVudCkgfHwgaXNEcmFnQWN0aXZlKCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbnN1cmUgd2UgdHJpZ2dlciBhbmltYXRpb25zIGJlZm9yZSBmaXJpbmcgZXZlbnQgY2FsbGJhY2tcbiAgICAgICAgICovXG4gICAgICAgIGlmICh2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgICAgICB2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlLnNldEFjdGl2ZShBbmltYXRpb25UeXBlLkhvdmVyLCBpc0FjdGl2ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZXZlbnQsIGluZm8pO1xuICAgIH07XG59XG5mdW5jdGlvbiB1c2VIb3Zlckdlc3R1cmUoeyBvbkhvdmVyU3RhcnQsIG9uSG92ZXJFbmQsIHdoaWxlSG92ZXIsIHZpc3VhbEVsZW1lbnQsIH0pIHtcbiAgICB1c2VQb2ludGVyRXZlbnQodmlzdWFsRWxlbWVudCwgXCJwb2ludGVyZW50ZXJcIiwgb25Ib3ZlclN0YXJ0IHx8IHdoaWxlSG92ZXJcbiAgICAgICAgPyBjcmVhdGVIb3ZlckV2ZW50KHZpc3VhbEVsZW1lbnQsIHRydWUsIG9uSG92ZXJTdGFydClcbiAgICAgICAgOiB1bmRlZmluZWQsIHsgcGFzc2l2ZTogIW9uSG92ZXJTdGFydCB9KTtcbiAgICB1c2VQb2ludGVyRXZlbnQodmlzdWFsRWxlbWVudCwgXCJwb2ludGVybGVhdmVcIiwgb25Ib3ZlckVuZCB8fCB3aGlsZUhvdmVyXG4gICAgICAgID8gY3JlYXRlSG92ZXJFdmVudCh2aXN1YWxFbGVtZW50LCBmYWxzZSwgb25Ib3ZlckVuZClcbiAgICAgICAgOiB1bmRlZmluZWQsIHsgcGFzc2l2ZTogIW9uSG92ZXJFbmQgfSk7XG59XG5cbmV4cG9ydCB7IHVzZUhvdmVyR2VzdHVyZSB9O1xuIiwiLyoqXG4gKiBSZWN1cnNpdmVseSB0cmF2ZXJzZSB1cCB0aGUgdHJlZSB0byBjaGVjayB3aGV0aGVyIHRoZSBwcm92aWRlZCBjaGlsZCBub2RlXG4gKiBpcyB0aGUgcGFyZW50IG9yIGEgZGVzY2VuZGFudCBvZiBpdC5cbiAqXG4gKiBAcGFyYW0gcGFyZW50IC0gRWxlbWVudCB0byBmaW5kXG4gKiBAcGFyYW0gY2hpbGQgLSBFbGVtZW50IHRvIHRlc3QgYWdhaW5zdCBwYXJlbnRcbiAqL1xuY29uc3QgaXNOb2RlT3JDaGlsZCA9IChwYXJlbnQsIGNoaWxkKSA9PiB7XG4gICAgaWYgKCFjaGlsZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVsc2UgaWYgKHBhcmVudCA9PT0gY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gaXNOb2RlT3JDaGlsZChwYXJlbnQsIGNoaWxkLnBhcmVudEVsZW1lbnQpO1xuICAgIH1cbn07XG5cbmV4cG9ydCB7IGlzTm9kZU9yQ2hpbGQgfTtcbiIsImNvbnN0IGNvbWJpbmVGdW5jdGlvbnMgPSAoYSwgYikgPT4gKHYpID0+IGIoYSh2KSk7XG5jb25zdCBwaXBlID0gKC4uLnRyYW5zZm9ybWVycykgPT4gdHJhbnNmb3JtZXJzLnJlZHVjZShjb21iaW5lRnVuY3Rpb25zKTtcblxuZXhwb3J0IHsgcGlwZSB9O1xuIiwiLyoqXG4gKiBNYXAgYW4gSW50ZXJzZWN0aW9uSGFuZGxlciBjYWxsYmFjayB0byBhbiBlbGVtZW50LiBXZSBvbmx5IGV2ZXIgbWFrZSBvbmUgaGFuZGxlciBmb3Igb25lXG4gKiBlbGVtZW50LCBzbyBldmVuIHRob3VnaCB0aGVzZSBoYW5kbGVycyBtaWdodCBhbGwgYmUgdHJpZ2dlcmVkIGJ5IGRpZmZlcmVudFxuICogb2JzZXJ2ZXJzLCB3ZSBjYW4ga2VlcCB0aGVtIGluIHRoZSBzYW1lIG1hcC5cbiAqL1xuY29uc3Qgb2JzZXJ2ZXJDYWxsYmFja3MgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBNdWx0aXBsZSBvYnNlcnZlcnMgY2FuIGJlIGNyZWF0ZWQgZm9yIG11bHRpcGxlIGVsZW1lbnQvZG9jdW1lbnQgcm9vdHMuIEVhY2ggd2l0aFxuICogZGlmZmVyZW50IHNldHRpbmdzLiBTbyBoZXJlIHdlIHN0b3JlIGRpY3Rpb25hcmllcyBvZiBvYnNlcnZlcnMgdG8gZWFjaCByb290LFxuICogdXNpbmcgc2VyaWFsaXNlZCBzZXR0aW5ncyAodGhyZXNob2xkL21hcmdpbikgYXMgbG9va3VwIGtleXMuXG4gKi9cbmNvbnN0IG9ic2VydmVycyA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBmaXJlT2JzZXJ2ZXJDYWxsYmFjayA9IChlbnRyeSkgPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gb2JzZXJ2ZXJDYWxsYmFja3MuZ2V0KGVudHJ5LnRhcmdldCk7XG4gICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZW50cnkpO1xufTtcbmNvbnN0IGZpcmVBbGxPYnNlcnZlckNhbGxiYWNrcyA9IChlbnRyaWVzKSA9PiB7XG4gICAgZW50cmllcy5mb3JFYWNoKGZpcmVPYnNlcnZlckNhbGxiYWNrKTtcbn07XG5mdW5jdGlvbiBpbml0SW50ZXJzZWN0aW9uT2JzZXJ2ZXIoeyByb290LCAuLi5vcHRpb25zIH0pIHtcbiAgICBjb25zdCBsb29rdXBSb290ID0gcm9vdCB8fCBkb2N1bWVudDtcbiAgICAvKipcbiAgICAgKiBJZiB3ZSBkb24ndCBoYXZlIGFuIG9ic2VydmVyIGxvb2t1cCBtYXAgZm9yIHRoaXMgcm9vdCwgY3JlYXRlIG9uZS5cbiAgICAgKi9cbiAgICBpZiAoIW9ic2VydmVycy5oYXMobG9va3VwUm9vdCkpIHtcbiAgICAgICAgb2JzZXJ2ZXJzLnNldChsb29rdXBSb290LCB7fSk7XG4gICAgfVxuICAgIGNvbnN0IHJvb3RPYnNlcnZlcnMgPSBvYnNlcnZlcnMuZ2V0KGxvb2t1cFJvb3QpO1xuICAgIGNvbnN0IGtleSA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpO1xuICAgIC8qKlxuICAgICAqIElmIHdlIGRvbid0IGhhdmUgYW4gb2JzZXJ2ZXIgZm9yIHRoaXMgY29tYmluYXRpb24gb2Ygcm9vdCBhbmQgc2V0dGluZ3MsXG4gICAgICogY3JlYXRlIG9uZS5cbiAgICAgKi9cbiAgICBpZiAoIXJvb3RPYnNlcnZlcnNba2V5XSkge1xuICAgICAgICByb290T2JzZXJ2ZXJzW2tleV0gPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZmlyZUFsbE9ic2VydmVyQ2FsbGJhY2tzLCB7IHJvb3QsIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIHJldHVybiByb290T2JzZXJ2ZXJzW2tleV07XG59XG5mdW5jdGlvbiBvYnNlcnZlSW50ZXJzZWN0aW9uKGVsZW1lbnQsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgY29uc3Qgcm9vdEludGVyZXNlY3Rpb25PYnNlcnZlciA9IGluaXRJbnRlcnNlY3Rpb25PYnNlcnZlcihvcHRpb25zKTtcbiAgICBvYnNlcnZlckNhbGxiYWNrcy5zZXQoZWxlbWVudCwgY2FsbGJhY2spO1xuICAgIHJvb3RJbnRlcmVzZWN0aW9uT2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBvYnNlcnZlckNhbGxiYWNrcy5kZWxldGUoZWxlbWVudCk7XG4gICAgICAgIHJvb3RJbnRlcmVzZWN0aW9uT2JzZXJ2ZXIudW5vYnNlcnZlKGVsZW1lbnQpO1xuICAgIH07XG59XG5cbmV4cG9ydCB7IG9ic2VydmVJbnRlcnNlY3Rpb24gfTtcbiIsImltcG9ydCB7IGVudiB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3Byb2Nlc3MubWpzJztcbmltcG9ydCB7IHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQW5pbWF0aW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uL3JlbmRlci91dGlscy90eXBlcy5tanMnO1xuaW1wb3J0IHsgd2Fybk9uY2UgfSBmcm9tICcuLi8uLi8uLi91dGlscy93YXJuLW9uY2UubWpzJztcbmltcG9ydCB7IG9ic2VydmVJbnRlcnNlY3Rpb24gfSBmcm9tICcuL29ic2VydmVycy5tanMnO1xuXG5mdW5jdGlvbiB1c2VWaWV3cG9ydCh7IHZpc3VhbEVsZW1lbnQsIHdoaWxlSW5WaWV3LCBvblZpZXdwb3J0RW50ZXIsIG9uVmlld3BvcnRMZWF2ZSwgdmlld3BvcnQgPSB7fSwgfSkge1xuICAgIGNvbnN0IHN0YXRlID0gdXNlUmVmKHtcbiAgICAgICAgaGFzRW50ZXJlZFZpZXc6IGZhbHNlLFxuICAgICAgICBpc0luVmlldzogZmFsc2UsXG4gICAgfSk7XG4gICAgbGV0IHNob3VsZE9ic2VydmUgPSBCb29sZWFuKHdoaWxlSW5WaWV3IHx8IG9uVmlld3BvcnRFbnRlciB8fCBvblZpZXdwb3J0TGVhdmUpO1xuICAgIGlmICh2aWV3cG9ydC5vbmNlICYmIHN0YXRlLmN1cnJlbnQuaGFzRW50ZXJlZFZpZXcpXG4gICAgICAgIHNob3VsZE9ic2VydmUgPSBmYWxzZTtcbiAgICBjb25zdCB1c2VPYnNlcnZlciA9IHR5cGVvZiBJbnRlcnNlY3Rpb25PYnNlcnZlciA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICA/IHVzZU1pc3NpbmdJbnRlcnNlY3Rpb25PYnNlcnZlclxuICAgICAgICA6IHVzZUludGVyc2VjdGlvbk9ic2VydmVyO1xuICAgIHVzZU9ic2VydmVyKHNob3VsZE9ic2VydmUsIHN0YXRlLmN1cnJlbnQsIHZpc3VhbEVsZW1lbnQsIHZpZXdwb3J0KTtcbn1cbmNvbnN0IHRocmVzaG9sZE5hbWVzID0ge1xuICAgIHNvbWU6IDAsXG4gICAgYWxsOiAxLFxufTtcbmZ1bmN0aW9uIHVzZUludGVyc2VjdGlvbk9ic2VydmVyKHNob3VsZE9ic2VydmUsIHN0YXRlLCB2aXN1YWxFbGVtZW50LCB7IHJvb3QsIG1hcmdpbjogcm9vdE1hcmdpbiwgYW1vdW50ID0gXCJzb21lXCIsIG9uY2UgfSkge1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghc2hvdWxkT2JzZXJ2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHJvb3Q6IHJvb3QgPT09IG51bGwgfHwgcm9vdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcm9vdC5jdXJyZW50LFxuICAgICAgICAgICAgcm9vdE1hcmdpbixcbiAgICAgICAgICAgIHRocmVzaG9sZDogdHlwZW9mIGFtb3VudCA9PT0gXCJudW1iZXJcIiA/IGFtb3VudCA6IHRocmVzaG9sZE5hbWVzW2Ftb3VudF0sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGludGVyc2VjdGlvbkNhbGxiYWNrID0gKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGlzSW50ZXJzZWN0aW5nIH0gPSBlbnRyeTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhlcmUncyBiZWVuIG5vIGNoYW5nZSBpbiB0aGUgdmlld3BvcnQgc3RhdGUsIGVhcmx5IHJldHVybi5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHN0YXRlLmlzSW5WaWV3ID09PSBpc0ludGVyc2VjdGluZylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBzdGF0ZS5pc0luVmlldyA9IGlzSW50ZXJzZWN0aW5nO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBIYW5kbGUgaGFzRW50ZXJlZFZpZXcuIElmIHRoaXMgaXMgb25seSBtZWFudCB0byBydW4gb25jZSwgYW5kXG4gICAgICAgICAgICAgKiBlbGVtZW50IGlzbid0IHZpc2libGUsIGVhcmx5IHJldHVybi4gT3RoZXJ3aXNlIHNldCBoYXNFbnRlcmVkVmlldyB0byB0cnVlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAob25jZSAmJiAhaXNJbnRlcnNlY3RpbmcgJiYgc3RhdGUuaGFzRW50ZXJlZFZpZXcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0ludGVyc2VjdGluZykge1xuICAgICAgICAgICAgICAgIHN0YXRlLmhhc0VudGVyZWRWaWV3ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdmlzdWFsRWxlbWVudC5hbmltYXRpb25TdGF0ZS5zZXRBY3RpdmUoQW5pbWF0aW9uVHlwZS5JblZpZXcsIGlzSW50ZXJzZWN0aW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVXNlIHRoZSBsYXRlc3QgY29tbWl0dGVkIHByb3BzIHJhdGhlciB0aGFuIHRoZSBvbmVzIGluIHNjb3BlXG4gICAgICAgICAgICAgKiB3aGVuIHRoaXMgb2JzZXJ2ZXIgaXMgY3JlYXRlZFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBwcm9wcyA9IHZpc3VhbEVsZW1lbnQuZ2V0UHJvcHMoKTtcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gaXNJbnRlcnNlY3RpbmdcbiAgICAgICAgICAgICAgICA/IHByb3BzLm9uVmlld3BvcnRFbnRlclxuICAgICAgICAgICAgICAgIDogcHJvcHMub25WaWV3cG9ydExlYXZlO1xuICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZW50cnkpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZUludGVyc2VjdGlvbih2aXN1YWxFbGVtZW50LmdldEluc3RhbmNlKCksIG9wdGlvbnMsIGludGVyc2VjdGlvbkNhbGxiYWNrKTtcbiAgICB9LCBbc2hvdWxkT2JzZXJ2ZSwgcm9vdCwgcm9vdE1hcmdpbiwgYW1vdW50XSk7XG59XG4vKipcbiAqIElmIEludGVyc2VjdGlvbk9ic2VydmVyIGlzIG1pc3NpbmcsIHdlIGFjdGl2YXRlIGluVmlldyBhbmQgZmlyZSBvblZpZXdwb3J0RW50ZXJcbiAqIG9uIG1vdW50LiBUaGlzIHdheSwgdGhlIHBhZ2Ugd2lsbCBiZSBpbiB0aGUgc3RhdGUgdGhlIGF1dGhvciBleHBlY3RzIHVzZXJzXG4gKiB0byBzZWUgaXQgaW4gZm9yIGV2ZXJ5b25lLlxuICovXG5mdW5jdGlvbiB1c2VNaXNzaW5nSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoc2hvdWxkT2JzZXJ2ZSwgc3RhdGUsIHZpc3VhbEVsZW1lbnQsIHsgZmFsbGJhY2sgPSB0cnVlIH0pIHtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXNob3VsZE9ic2VydmUgfHwgIWZhbGxiYWNrKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoZW52ICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgICAgICAgd2Fybk9uY2UoZmFsc2UsIFwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgbm90IGF2YWlsYWJsZSBvbiB0aGlzIGRldmljZS4gd2hpbGVJblZpZXcgYW5pbWF0aW9ucyB3aWxsIHRyaWdnZXIgb24gbW91bnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlIHRoaXMgaW4gYW4gckFGIGJlY2F1c2UsIGF0IHRoaXMgcG9pbnQsIHRoZSBhbmltYXRpb24gc3RhdGVcbiAgICAgICAgICogd29uJ3QgaGF2ZSBmbHVzaGVkIGZvciB0aGUgZmlyc3QgdGltZSBhbmQgdGhlcmUncyBjZXJ0YWluIGxvZ2ljIGluXG4gICAgICAgICAqIHRoZXJlIHRoYXQgYmVoYXZlcyBkaWZmZXJlbnRseSBvbiB0aGUgaW5pdGlhbCBhbmltYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgaG9vayBzaG91bGQgYmUgcXVpdGUgcmFyZWx5IGNhbGxlZCBzbyBzZXR0aW5nIHRoaXMgaW4gYW4gckFGXG4gICAgICAgICAqIGlzIHByZWZlcnJlZCB0byBjaGFuZ2luZyB0aGUgYmVoYXZpb3VyIG9mIHRoZSBhbmltYXRpb24gc3RhdGUuXG4gICAgICAgICAqL1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgc3RhdGUuaGFzRW50ZXJlZFZpZXcgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgeyBvblZpZXdwb3J0RW50ZXIgfSA9IHZpc3VhbEVsZW1lbnQuZ2V0UHJvcHMoKTtcbiAgICAgICAgICAgIG9uVmlld3BvcnRFbnRlciAmJiBvblZpZXdwb3J0RW50ZXIobnVsbCk7XG4gICAgICAgICAgICBpZiAodmlzdWFsRWxlbWVudC5hbmltYXRpb25TdGF0ZSkge1xuICAgICAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQuYW5pbWF0aW9uU3RhdGUuc2V0QWN0aXZlKEFuaW1hdGlvblR5cGUuSW5WaWV3LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSwgW3Nob3VsZE9ic2VydmVdKTtcbn1cblxuZXhwb3J0IHsgdXNlVmlld3BvcnQgfTtcbiIsImNvbnN0IG1ha2VSZW5kZXJsZXNzQ29tcG9uZW50ID0gKGhvb2spID0+IChwcm9wcykgPT4ge1xuICAgIGhvb2socHJvcHMpO1xuICAgIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IHsgbWFrZVJlbmRlcmxlc3NDb21wb25lbnQgfTtcbiIsImltcG9ydCB7IHVzZUZvY3VzR2VzdHVyZSB9IGZyb20gJy4uLy4uL2dlc3R1cmVzL3VzZS1mb2N1cy1nZXN0dXJlLm1qcyc7XG5pbXBvcnQgeyB1c2VIb3Zlckdlc3R1cmUgfSBmcm9tICcuLi8uLi9nZXN0dXJlcy91c2UtaG92ZXItZ2VzdHVyZS5tanMnO1xuaW1wb3J0IHsgdXNlVGFwR2VzdHVyZSB9IGZyb20gJy4uLy4uL2dlc3R1cmVzL3VzZS10YXAtZ2VzdHVyZS5tanMnO1xuaW1wb3J0IHsgdXNlVmlld3BvcnQgfSBmcm9tICcuL3ZpZXdwb3J0L3VzZS12aWV3cG9ydC5tanMnO1xuaW1wb3J0IHsgbWFrZVJlbmRlcmxlc3NDb21wb25lbnQgfSBmcm9tICcuLi91dGlscy9tYWtlLXJlbmRlcmxlc3MtY29tcG9uZW50Lm1qcyc7XG5cbmNvbnN0IGdlc3R1cmVBbmltYXRpb25zID0ge1xuICAgIGluVmlldzogbWFrZVJlbmRlcmxlc3NDb21wb25lbnQodXNlVmlld3BvcnQpLFxuICAgIHRhcDogbWFrZVJlbmRlcmxlc3NDb21wb25lbnQodXNlVGFwR2VzdHVyZSksXG4gICAgZm9jdXM6IG1ha2VSZW5kZXJsZXNzQ29tcG9uZW50KHVzZUZvY3VzR2VzdHVyZSksXG4gICAgaG92ZXI6IG1ha2VSZW5kZXJsZXNzQ29tcG9uZW50KHVzZUhvdmVyR2VzdHVyZSksXG59O1xuXG5leHBvcnQgeyBnZXN0dXJlQW5pbWF0aW9ucyB9O1xuIiwiaW1wb3J0IHsgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaXNOb2RlT3JDaGlsZCB9IGZyb20gJy4vdXRpbHMvaXMtbm9kZS1vci1jaGlsZC5tanMnO1xuaW1wb3J0IHsgdXNlUG9pbnRlckV2ZW50LCBhZGRQb2ludGVyRXZlbnQgfSBmcm9tICcuLi9ldmVudHMvdXNlLXBvaW50ZXItZXZlbnQubWpzJztcbmltcG9ydCB7IHVzZVVubW91bnRFZmZlY3QgfSBmcm9tICcuLi91dGlscy91c2UtdW5tb3VudC1lZmZlY3QubWpzJztcbmltcG9ydCB7IHBpcGUgfSBmcm9tICdwb3Btb3Rpb24nO1xuaW1wb3J0IHsgQW5pbWF0aW9uVHlwZSB9IGZyb20gJy4uL3JlbmRlci91dGlscy90eXBlcy5tanMnO1xuaW1wb3J0IHsgaXNEcmFnQWN0aXZlIH0gZnJvbSAnLi9kcmFnL3V0aWxzL2xvY2subWpzJztcblxuLyoqXG4gKiBAcGFyYW0gaGFuZGxlcnMgLVxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIHVzZVRhcEdlc3R1cmUoeyBvblRhcCwgb25UYXBTdGFydCwgb25UYXBDYW5jZWwsIHdoaWxlVGFwLCB2aXN1YWxFbGVtZW50LCB9KSB7XG4gICAgY29uc3QgaGFzUHJlc3NMaXN0ZW5lcnMgPSBvblRhcCB8fCBvblRhcFN0YXJ0IHx8IG9uVGFwQ2FuY2VsIHx8IHdoaWxlVGFwO1xuICAgIGNvbnN0IGlzUHJlc3NpbmcgPSB1c2VSZWYoZmFsc2UpO1xuICAgIGNvbnN0IGNhbmNlbFBvaW50ZXJFbmRMaXN0ZW5lcnMgPSB1c2VSZWYobnVsbCk7XG4gICAgLyoqXG4gICAgICogT25seSBzZXQgbGlzdGVuZXIgdG8gcGFzc2l2ZSBpZiB0aGVyZSBhcmUgbm8gZXh0ZXJuYWwgbGlzdGVuZXJzLlxuICAgICAqL1xuICAgIGNvbnN0IGV2ZW50T3B0aW9ucyA9IHtcbiAgICAgICAgcGFzc2l2ZTogIShvblRhcFN0YXJ0IHx8IG9uVGFwIHx8IG9uVGFwQ2FuY2VsIHx8IG9uUG9pbnRlckRvd24pLFxuICAgIH07XG4gICAgZnVuY3Rpb24gcmVtb3ZlUG9pbnRlckVuZExpc3RlbmVyKCkge1xuICAgICAgICBjYW5jZWxQb2ludGVyRW5kTGlzdGVuZXJzLmN1cnJlbnQgJiYgY2FuY2VsUG9pbnRlckVuZExpc3RlbmVycy5jdXJyZW50KCk7XG4gICAgICAgIGNhbmNlbFBvaW50ZXJFbmRMaXN0ZW5lcnMuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrUG9pbnRlckVuZCgpIHtcbiAgICAgICAgcmVtb3ZlUG9pbnRlckVuZExpc3RlbmVyKCk7XG4gICAgICAgIGlzUHJlc3NpbmcuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICB2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlICYmXG4gICAgICAgICAgICB2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlLnNldEFjdGl2ZShBbmltYXRpb25UeXBlLlRhcCwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gIWlzRHJhZ0FjdGl2ZSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvblBvaW50ZXJVcChldmVudCwgaW5mbykge1xuICAgICAgICBpZiAoIWNoZWNrUG9pbnRlckVuZCgpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2Ugb25seSBjb3VudCB0aGlzIGFzIGEgdGFwIGdlc3R1cmUgaWYgdGhlIGV2ZW50LnRhcmdldCBpcyB0aGUgc2FtZVxuICAgICAgICAgKiBhcywgb3IgYSBjaGlsZCBvZiwgdGhpcyBjb21wb25lbnQncyBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICAhaXNOb2RlT3JDaGlsZCh2aXN1YWxFbGVtZW50LmdldEluc3RhbmNlKCksIGV2ZW50LnRhcmdldClcbiAgICAgICAgICAgID8gb25UYXBDYW5jZWwgJiYgb25UYXBDYW5jZWwoZXZlbnQsIGluZm8pXG4gICAgICAgICAgICA6IG9uVGFwICYmIG9uVGFwKGV2ZW50LCBpbmZvKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25Qb2ludGVyQ2FuY2VsKGV2ZW50LCBpbmZvKSB7XG4gICAgICAgIGlmICghY2hlY2tQb2ludGVyRW5kKCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIG9uVGFwQ2FuY2VsICYmIG9uVGFwQ2FuY2VsKGV2ZW50LCBpbmZvKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25Qb2ludGVyRG93bihldmVudCwgaW5mbykge1xuICAgICAgICByZW1vdmVQb2ludGVyRW5kTGlzdGVuZXIoKTtcbiAgICAgICAgaWYgKGlzUHJlc3NpbmcuY3VycmVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaXNQcmVzc2luZy5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgY2FuY2VsUG9pbnRlckVuZExpc3RlbmVycy5jdXJyZW50ID0gcGlwZShhZGRQb2ludGVyRXZlbnQod2luZG93LCBcInBvaW50ZXJ1cFwiLCBvblBvaW50ZXJVcCwgZXZlbnRPcHRpb25zKSwgYWRkUG9pbnRlckV2ZW50KHdpbmRvdywgXCJwb2ludGVyY2FuY2VsXCIsIG9uUG9pbnRlckNhbmNlbCwgZXZlbnRPcHRpb25zKSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbnN1cmUgd2UgdHJpZ2dlciBhbmltYXRpb25zIGJlZm9yZSBmaXJpbmcgZXZlbnQgY2FsbGJhY2tcbiAgICAgICAgICovXG4gICAgICAgIHZpc3VhbEVsZW1lbnQuYW5pbWF0aW9uU3RhdGUgJiZcbiAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQuYW5pbWF0aW9uU3RhdGUuc2V0QWN0aXZlKEFuaW1hdGlvblR5cGUuVGFwLCB0cnVlKTtcbiAgICAgICAgb25UYXBTdGFydCAmJiBvblRhcFN0YXJ0KGV2ZW50LCBpbmZvKTtcbiAgICB9XG4gICAgdXNlUG9pbnRlckV2ZW50KHZpc3VhbEVsZW1lbnQsIFwicG9pbnRlcmRvd25cIiwgaGFzUHJlc3NMaXN0ZW5lcnMgPyBvblBvaW50ZXJEb3duIDogdW5kZWZpbmVkLCBldmVudE9wdGlvbnMpO1xuICAgIHVzZVVubW91bnRFZmZlY3QocmVtb3ZlUG9pbnRlckVuZExpc3RlbmVyKTtcbn1cblxuZXhwb3J0IHsgdXNlVGFwR2VzdHVyZSB9O1xuIiwiaW1wb3J0IHsgQW5pbWF0aW9uVHlwZSB9IGZyb20gJy4uL3JlbmRlci91dGlscy90eXBlcy5tanMnO1xuaW1wb3J0IHsgdXNlRG9tRXZlbnQgfSBmcm9tICcuLi9ldmVudHMvdXNlLWRvbS1ldmVudC5tanMnO1xuXG4vKipcbiAqXG4gKiBAcGFyYW0gcHJvcHNcbiAqIEBwYXJhbSByZWZcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiB1c2VGb2N1c0dlc3R1cmUoeyB3aGlsZUZvY3VzLCB2aXN1YWxFbGVtZW50IH0pIHtcbiAgICBjb25zdCB7IGFuaW1hdGlvblN0YXRlIH0gPSB2aXN1YWxFbGVtZW50O1xuICAgIGNvbnN0IG9uRm9jdXMgPSAoKSA9PiB7XG4gICAgICAgIGFuaW1hdGlvblN0YXRlICYmIGFuaW1hdGlvblN0YXRlLnNldEFjdGl2ZShBbmltYXRpb25UeXBlLkZvY3VzLCB0cnVlKTtcbiAgICB9O1xuICAgIGNvbnN0IG9uQmx1ciA9ICgpID0+IHtcbiAgICAgICAgYW5pbWF0aW9uU3RhdGUgJiYgYW5pbWF0aW9uU3RhdGUuc2V0QWN0aXZlKEFuaW1hdGlvblR5cGUuRm9jdXMsIGZhbHNlKTtcbiAgICB9O1xuICAgIHVzZURvbUV2ZW50KHZpc3VhbEVsZW1lbnQsIFwiZm9jdXNcIiwgd2hpbGVGb2N1cyA/IG9uRm9jdXMgOiB1bmRlZmluZWQpO1xuICAgIHVzZURvbUV2ZW50KHZpc3VhbEVsZW1lbnQsIFwiYmx1clwiLCB3aGlsZUZvY3VzID8gb25CbHVyIDogdW5kZWZpbmVkKTtcbn1cblxuZXhwb3J0IHsgdXNlRm9jdXNHZXN0dXJlIH07XG4iLCJpbXBvcnQgeyB1c2VDb250ZXh0LCB1c2VJZCwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUHJlc2VuY2VDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9QcmVzZW5jZUNvbnRleHQubWpzJztcblxuLyoqXG4gKiBXaGVuIGEgY29tcG9uZW50IGlzIHRoZSBjaGlsZCBvZiBgQW5pbWF0ZVByZXNlbmNlYCwgaXQgY2FuIHVzZSBgdXNlUHJlc2VuY2VgXG4gKiB0byBhY2Nlc3MgaW5mb3JtYXRpb24gYWJvdXQgd2hldGhlciBpdCdzIHN0aWxsIHByZXNlbnQgaW4gdGhlIFJlYWN0IHRyZWUuXG4gKlxuICogYGBganN4XG4gKiBpbXBvcnQgeyB1c2VQcmVzZW5jZSB9IGZyb20gXCJmcmFtZXItbW90aW9uXCJcbiAqXG4gKiBleHBvcnQgY29uc3QgQ29tcG9uZW50ID0gKCkgPT4ge1xuICogICBjb25zdCBbaXNQcmVzZW50LCBzYWZlVG9SZW1vdmVdID0gdXNlUHJlc2VuY2UoKVxuICpcbiAqICAgdXNlRWZmZWN0KCgpID0+IHtcbiAqICAgICAhaXNQcmVzZW50ICYmIHNldFRpbWVvdXQoc2FmZVRvUmVtb3ZlLCAxMDAwKVxuICogICB9LCBbaXNQcmVzZW50XSlcbiAqXG4gKiAgIHJldHVybiA8ZGl2IC8+XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBJZiBgaXNQcmVzZW50YCBpcyBgZmFsc2VgLCBpdCBtZWFucyB0aGF0IGEgY29tcG9uZW50IGhhcyBiZWVuIHJlbW92ZWQgdGhlIHRyZWUsIGJ1dFxuICogYEFuaW1hdGVQcmVzZW5jZWAgd29uJ3QgcmVhbGx5IHJlbW92ZSBpdCB1bnRpbCBgc2FmZVRvUmVtb3ZlYCBoYXMgYmVlbiBjYWxsZWQuXG4gKlxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiB1c2VQcmVzZW5jZSgpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChQcmVzZW5jZUNvbnRleHQpO1xuICAgIGlmIChjb250ZXh0ID09PSBudWxsKVxuICAgICAgICByZXR1cm4gW3RydWUsIG51bGxdO1xuICAgIGNvbnN0IHsgaXNQcmVzZW50LCBvbkV4aXRDb21wbGV0ZSwgcmVnaXN0ZXIgfSA9IGNvbnRleHQ7XG4gICAgLy8gSXQncyBzYWZlIHRvIGNhbGwgdGhlIGZvbGxvd2luZyBob29rcyBjb25kaXRpb25hbGx5IChhZnRlciBhbiBlYXJseSByZXR1cm4pIGJlY2F1c2UgdGhlIGNvbnRleHQgd2lsbCBhbHdheXNcbiAgICAvLyBlaXRoZXIgYmUgbnVsbCBvciBub24tbnVsbCBmb3IgdGhlIGxpZmVzcGFuIG9mIHRoZSBjb21wb25lbnQuXG4gICAgLy8gUmVwbGFjZSB3aXRoIHVzZUlkIHdoZW4gcmVsZWFzZWQgaW4gUmVhY3RcbiAgICBjb25zdCBpZCA9IHVzZUlkKCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHJlZ2lzdGVyKGlkKSwgW10pO1xuICAgIGNvbnN0IHNhZmVUb1JlbW92ZSA9ICgpID0+IG9uRXhpdENvbXBsZXRlICYmIG9uRXhpdENvbXBsZXRlKGlkKTtcbiAgICByZXR1cm4gIWlzUHJlc2VudCAmJiBvbkV4aXRDb21wbGV0ZSA/IFtmYWxzZSwgc2FmZVRvUmVtb3ZlXSA6IFt0cnVlXTtcbn1cbi8qKlxuICogU2ltaWxhciB0byBgdXNlUHJlc2VuY2VgLCBleGNlcHQgYHVzZUlzUHJlc2VudGAgc2ltcGx5IHJldHVybnMgd2hldGhlciBvciBub3QgdGhlIGNvbXBvbmVudCBpcyBwcmVzZW50LlxuICogVGhlcmUgaXMgbm8gYHNhZmVUb1JlbW92ZWAgZnVuY3Rpb24uXG4gKlxuICogYGBganN4XG4gKiBpbXBvcnQgeyB1c2VJc1ByZXNlbnQgfSBmcm9tIFwiZnJhbWVyLW1vdGlvblwiXG4gKlxuICogZXhwb3J0IGNvbnN0IENvbXBvbmVudCA9ICgpID0+IHtcbiAqICAgY29uc3QgaXNQcmVzZW50ID0gdXNlSXNQcmVzZW50KClcbiAqXG4gKiAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gKiAgICAgIWlzUHJlc2VudCAmJiBjb25zb2xlLmxvZyhcIkkndmUgYmVlbiByZW1vdmVkIVwiKVxuICogICB9LCBbaXNQcmVzZW50XSlcbiAqXG4gKiAgIHJldHVybiA8ZGl2IC8+XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIHVzZUlzUHJlc2VudCgpIHtcbiAgICByZXR1cm4gaXNQcmVzZW50KHVzZUNvbnRleHQoUHJlc2VuY2VDb250ZXh0KSk7XG59XG5mdW5jdGlvbiBpc1ByZXNlbnQoY29udGV4dCkge1xuICAgIHJldHVybiBjb250ZXh0ID09PSBudWxsID8gdHJ1ZSA6IGNvbnRleHQuaXNQcmVzZW50O1xufVxuXG5leHBvcnQgeyBpc1ByZXNlbnQsIHVzZUlzUHJlc2VudCwgdXNlUHJlc2VuY2UgfTtcbiIsImZ1bmN0aW9uIHNoYWxsb3dDb21wYXJlKG5leHQsIHByZXYpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocHJldikpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBwcmV2TGVuZ3RoID0gcHJldi5sZW5ndGg7XG4gICAgaWYgKHByZXZMZW5ndGggIT09IG5leHQubGVuZ3RoKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHByZXZbaV0gIT09IG5leHRbaV0pXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgeyBzaGFsbG93Q29tcGFyZSB9O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XHJcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xyXG4gICAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xyXG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xyXG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XHJcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XHJcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xyXG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xyXG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xyXG4gICAgaWYgKHJlY2VpdmVyID09PSBudWxsIHx8ICh0eXBlb2YgcmVjZWl2ZXIgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHJlY2VpdmVyICE9PSBcImZ1bmN0aW9uXCIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHVzZSAnaW4nIG9wZXJhdG9yIG9uIG5vbi1vYmplY3RcIik7XHJcbiAgICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciA9PT0gc3RhdGUgOiBzdGF0ZS5oYXMocmVjZWl2ZXIpO1xyXG59XHJcbiIsImNvbnN0IGNsYW1wID0gKG1pbiwgbWF4LCB2KSA9PiBNYXRoLm1pbihNYXRoLm1heCh2LCBtaW4pLCBtYXgpO1xuXG5leHBvcnQgeyBjbGFtcCB9O1xuIiwiaW1wb3J0IHsgd2FybmluZyB9IGZyb20gJ2hleS1saXN0ZW4nO1xuaW1wb3J0IHsgY2xhbXAgfSBmcm9tICcuLi8uLi91dGlscy9jbGFtcC5tanMnO1xuXG5jb25zdCBzYWZlTWluID0gMC4wMDE7XG5jb25zdCBtaW5EdXJhdGlvbiA9IDAuMDE7XG5jb25zdCBtYXhEdXJhdGlvbiA9IDEwLjA7XG5jb25zdCBtaW5EYW1waW5nID0gMC4wNTtcbmNvbnN0IG1heERhbXBpbmcgPSAxO1xuZnVuY3Rpb24gZmluZFNwcmluZyh7IGR1cmF0aW9uID0gODAwLCBib3VuY2UgPSAwLjI1LCB2ZWxvY2l0eSA9IDAsIG1hc3MgPSAxLCB9KSB7XG4gICAgbGV0IGVudmVsb3BlO1xuICAgIGxldCBkZXJpdmF0aXZlO1xuICAgIHdhcm5pbmcoZHVyYXRpb24gPD0gbWF4RHVyYXRpb24gKiAxMDAwLCBcIlNwcmluZyBkdXJhdGlvbiBtdXN0IGJlIDEwIHNlY29uZHMgb3IgbGVzc1wiKTtcbiAgICBsZXQgZGFtcGluZ1JhdGlvID0gMSAtIGJvdW5jZTtcbiAgICBkYW1waW5nUmF0aW8gPSBjbGFtcChtaW5EYW1waW5nLCBtYXhEYW1waW5nLCBkYW1waW5nUmF0aW8pO1xuICAgIGR1cmF0aW9uID0gY2xhbXAobWluRHVyYXRpb24sIG1heER1cmF0aW9uLCBkdXJhdGlvbiAvIDEwMDApO1xuICAgIGlmIChkYW1waW5nUmF0aW8gPCAxKSB7XG4gICAgICAgIGVudmVsb3BlID0gKHVuZGFtcGVkRnJlcSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXhwb25lbnRpYWxEZWNheSA9IHVuZGFtcGVkRnJlcSAqIGRhbXBpbmdSYXRpbztcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gZXhwb25lbnRpYWxEZWNheSAqIGR1cmF0aW9uO1xuICAgICAgICAgICAgY29uc3QgYSA9IGV4cG9uZW50aWFsRGVjYXkgLSB2ZWxvY2l0eTtcbiAgICAgICAgICAgIGNvbnN0IGIgPSBjYWxjQW5ndWxhckZyZXEodW5kYW1wZWRGcmVxLCBkYW1waW5nUmF0aW8pO1xuICAgICAgICAgICAgY29uc3QgYyA9IE1hdGguZXhwKC1kZWx0YSk7XG4gICAgICAgICAgICByZXR1cm4gc2FmZU1pbiAtIChhIC8gYikgKiBjO1xuICAgICAgICB9O1xuICAgICAgICBkZXJpdmF0aXZlID0gKHVuZGFtcGVkRnJlcSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXhwb25lbnRpYWxEZWNheSA9IHVuZGFtcGVkRnJlcSAqIGRhbXBpbmdSYXRpbztcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gZXhwb25lbnRpYWxEZWNheSAqIGR1cmF0aW9uO1xuICAgICAgICAgICAgY29uc3QgZCA9IGRlbHRhICogdmVsb2NpdHkgKyB2ZWxvY2l0eTtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBNYXRoLnBvdyhkYW1waW5nUmF0aW8sIDIpICogTWF0aC5wb3codW5kYW1wZWRGcmVxLCAyKSAqIGR1cmF0aW9uO1xuICAgICAgICAgICAgY29uc3QgZiA9IE1hdGguZXhwKC1kZWx0YSk7XG4gICAgICAgICAgICBjb25zdCBnID0gY2FsY0FuZ3VsYXJGcmVxKE1hdGgucG93KHVuZGFtcGVkRnJlcSwgMiksIGRhbXBpbmdSYXRpbyk7XG4gICAgICAgICAgICBjb25zdCBmYWN0b3IgPSAtZW52ZWxvcGUodW5kYW1wZWRGcmVxKSArIHNhZmVNaW4gPiAwID8gLTEgOiAxO1xuICAgICAgICAgICAgcmV0dXJuIChmYWN0b3IgKiAoKGQgLSBlKSAqIGYpKSAvIGc7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlbnZlbG9wZSA9ICh1bmRhbXBlZEZyZXEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGEgPSBNYXRoLmV4cCgtdW5kYW1wZWRGcmVxICogZHVyYXRpb24pO1xuICAgICAgICAgICAgY29uc3QgYiA9ICh1bmRhbXBlZEZyZXEgLSB2ZWxvY2l0eSkgKiBkdXJhdGlvbiArIDE7XG4gICAgICAgICAgICByZXR1cm4gLXNhZmVNaW4gKyBhICogYjtcbiAgICAgICAgfTtcbiAgICAgICAgZGVyaXZhdGl2ZSA9ICh1bmRhbXBlZEZyZXEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGEgPSBNYXRoLmV4cCgtdW5kYW1wZWRGcmVxICogZHVyYXRpb24pO1xuICAgICAgICAgICAgY29uc3QgYiA9ICh2ZWxvY2l0eSAtIHVuZGFtcGVkRnJlcSkgKiAoZHVyYXRpb24gKiBkdXJhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gYSAqIGI7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGluaXRpYWxHdWVzcyA9IDUgLyBkdXJhdGlvbjtcbiAgICBjb25zdCB1bmRhbXBlZEZyZXEgPSBhcHByb3hpbWF0ZVJvb3QoZW52ZWxvcGUsIGRlcml2YXRpdmUsIGluaXRpYWxHdWVzcyk7XG4gICAgZHVyYXRpb24gPSBkdXJhdGlvbiAqIDEwMDA7XG4gICAgaWYgKGlzTmFOKHVuZGFtcGVkRnJlcSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0aWZmbmVzczogMTAwLFxuICAgICAgICAgICAgZGFtcGluZzogMTAsXG4gICAgICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHN0aWZmbmVzcyA9IE1hdGgucG93KHVuZGFtcGVkRnJlcSwgMikgKiBtYXNzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RpZmZuZXNzLFxuICAgICAgICAgICAgZGFtcGluZzogZGFtcGluZ1JhdGlvICogMiAqIE1hdGguc3FydChtYXNzICogc3RpZmZuZXNzKSxcbiAgICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmNvbnN0IHJvb3RJdGVyYXRpb25zID0gMTI7XG5mdW5jdGlvbiBhcHByb3hpbWF0ZVJvb3QoZW52ZWxvcGUsIGRlcml2YXRpdmUsIGluaXRpYWxHdWVzcykge1xuICAgIGxldCByZXN1bHQgPSBpbml0aWFsR3Vlc3M7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCByb290SXRlcmF0aW9uczsgaSsrKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdCAtIGVudmVsb3BlKHJlc3VsdCkgLyBkZXJpdmF0aXZlKHJlc3VsdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBjYWxjQW5ndWxhckZyZXEodW5kYW1wZWRGcmVxLCBkYW1waW5nUmF0aW8pIHtcbiAgICByZXR1cm4gdW5kYW1wZWRGcmVxICogTWF0aC5zcXJ0KDEgLSBkYW1waW5nUmF0aW8gKiBkYW1waW5nUmF0aW8pO1xufVxuXG5leHBvcnQgeyBjYWxjQW5ndWxhckZyZXEsIGZpbmRTcHJpbmcsIG1heERhbXBpbmcsIG1heER1cmF0aW9uLCBtaW5EYW1waW5nLCBtaW5EdXJhdGlvbiB9O1xuIiwiaW1wb3J0IHsgX19yZXN0IH0gZnJvbSAndHNsaWInO1xuaW1wb3J0IHsgZmluZFNwcmluZywgY2FsY0FuZ3VsYXJGcmVxIH0gZnJvbSAnLi4vdXRpbHMvZmluZC1zcHJpbmcubWpzJztcblxuY29uc3QgZHVyYXRpb25LZXlzID0gW1wiZHVyYXRpb25cIiwgXCJib3VuY2VcIl07XG5jb25zdCBwaHlzaWNzS2V5cyA9IFtcInN0aWZmbmVzc1wiLCBcImRhbXBpbmdcIiwgXCJtYXNzXCJdO1xuZnVuY3Rpb24gaXNTcHJpbmdUeXBlKG9wdGlvbnMsIGtleXMpIHtcbiAgICByZXR1cm4ga2V5cy5zb21lKChrZXkpID0+IG9wdGlvbnNba2V5XSAhPT0gdW5kZWZpbmVkKTtcbn1cbmZ1bmN0aW9uIGdldFNwcmluZ09wdGlvbnMob3B0aW9ucykge1xuICAgIGxldCBzcHJpbmdPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IHZlbG9jaXR5OiAwLjAsIHN0aWZmbmVzczogMTAwLCBkYW1waW5nOiAxMCwgbWFzczogMS4wLCBpc1Jlc29sdmVkRnJvbUR1cmF0aW9uOiBmYWxzZSB9LCBvcHRpb25zKTtcbiAgICBpZiAoIWlzU3ByaW5nVHlwZShvcHRpb25zLCBwaHlzaWNzS2V5cykgJiZcbiAgICAgICAgaXNTcHJpbmdUeXBlKG9wdGlvbnMsIGR1cmF0aW9uS2V5cykpIHtcbiAgICAgICAgY29uc3QgZGVyaXZlZCA9IGZpbmRTcHJpbmcob3B0aW9ucyk7XG4gICAgICAgIHNwcmluZ09wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3ByaW5nT3B0aW9ucyksIGRlcml2ZWQpLCB7IHZlbG9jaXR5OiAwLjAsIG1hc3M6IDEuMCB9KTtcbiAgICAgICAgc3ByaW5nT3B0aW9ucy5pc1Jlc29sdmVkRnJvbUR1cmF0aW9uID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHNwcmluZ09wdGlvbnM7XG59XG5mdW5jdGlvbiBzcHJpbmcoX2EpIHtcbiAgICB2YXIgeyBmcm9tID0gMC4wLCB0byA9IDEuMCwgcmVzdFNwZWVkID0gMiwgcmVzdERlbHRhIH0gPSBfYSwgb3B0aW9ucyA9IF9fcmVzdChfYSwgW1wiZnJvbVwiLCBcInRvXCIsIFwicmVzdFNwZWVkXCIsIFwicmVzdERlbHRhXCJdKTtcbiAgICBjb25zdCBzdGF0ZSA9IHsgZG9uZTogZmFsc2UsIHZhbHVlOiBmcm9tIH07XG4gICAgbGV0IHsgc3RpZmZuZXNzLCBkYW1waW5nLCBtYXNzLCB2ZWxvY2l0eSwgZHVyYXRpb24sIGlzUmVzb2x2ZWRGcm9tRHVyYXRpb24sIH0gPSBnZXRTcHJpbmdPcHRpb25zKG9wdGlvbnMpO1xuICAgIGxldCByZXNvbHZlU3ByaW5nID0gemVybztcbiAgICBsZXQgcmVzb2x2ZVZlbG9jaXR5ID0gemVybztcbiAgICBmdW5jdGlvbiBjcmVhdGVTcHJpbmcoKSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxWZWxvY2l0eSA9IHZlbG9jaXR5ID8gLSh2ZWxvY2l0eSAvIDEwMDApIDogMC4wO1xuICAgICAgICBjb25zdCBpbml0aWFsRGVsdGEgPSB0byAtIGZyb207XG4gICAgICAgIGNvbnN0IGRhbXBpbmdSYXRpbyA9IGRhbXBpbmcgLyAoMiAqIE1hdGguc3FydChzdGlmZm5lc3MgKiBtYXNzKSk7XG4gICAgICAgIGNvbnN0IHVuZGFtcGVkQW5ndWxhckZyZXEgPSBNYXRoLnNxcnQoc3RpZmZuZXNzIC8gbWFzcykgLyAxMDAwO1xuICAgICAgICBpZiAocmVzdERlbHRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlc3REZWx0YSA9IE1hdGgubWluKE1hdGguYWJzKHRvIC0gZnJvbSkgLyAxMDAsIDAuNCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhbXBpbmdSYXRpbyA8IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGFuZ3VsYXJGcmVxID0gY2FsY0FuZ3VsYXJGcmVxKHVuZGFtcGVkQW5ndWxhckZyZXEsIGRhbXBpbmdSYXRpbyk7XG4gICAgICAgICAgICByZXNvbHZlU3ByaW5nID0gKHQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbnZlbG9wZSA9IE1hdGguZXhwKC1kYW1waW5nUmF0aW8gKiB1bmRhbXBlZEFuZ3VsYXJGcmVxICogdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh0byAtXG4gICAgICAgICAgICAgICAgICAgIGVudmVsb3BlICpcbiAgICAgICAgICAgICAgICAgICAgICAgICgoKGluaXRpYWxWZWxvY2l0eSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFtcGluZ1JhdGlvICogdW5kYW1wZWRBbmd1bGFyRnJlcSAqIGluaXRpYWxEZWx0YSkgL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXJGcmVxKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5zaW4oYW5ndWxhckZyZXEgKiB0KSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbERlbHRhICogTWF0aC5jb3MoYW5ndWxhckZyZXEgKiB0KSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlc29sdmVWZWxvY2l0eSA9ICh0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW52ZWxvcGUgPSBNYXRoLmV4cCgtZGFtcGluZ1JhdGlvICogdW5kYW1wZWRBbmd1bGFyRnJlcSAqIHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiAoZGFtcGluZ1JhdGlvICpcbiAgICAgICAgICAgICAgICAgICAgdW5kYW1wZWRBbmd1bGFyRnJlcSAqXG4gICAgICAgICAgICAgICAgICAgIGVudmVsb3BlICpcbiAgICAgICAgICAgICAgICAgICAgKChNYXRoLnNpbihhbmd1bGFyRnJlcSAqIHQpICpcbiAgICAgICAgICAgICAgICAgICAgICAgIChpbml0aWFsVmVsb2NpdHkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbXBpbmdSYXRpbyAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGFtcGVkQW5ndWxhckZyZXEgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsRGVsdGEpKSAvXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyRnJlcSArXG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsRGVsdGEgKiBNYXRoLmNvcyhhbmd1bGFyRnJlcSAqIHQpKSAtXG4gICAgICAgICAgICAgICAgICAgIGVudmVsb3BlICpcbiAgICAgICAgICAgICAgICAgICAgICAgIChNYXRoLmNvcyhhbmd1bGFyRnJlcSAqIHQpICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoaW5pdGlhbFZlbG9jaXR5ICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFtcGluZ1JhdGlvICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGFtcGVkQW5ndWxhckZyZXEgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbERlbHRhKSAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhckZyZXEgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsRGVsdGEgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLnNpbihhbmd1bGFyRnJlcSAqIHQpKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhbXBpbmdSYXRpbyA9PT0gMSkge1xuICAgICAgICAgICAgcmVzb2x2ZVNwcmluZyA9ICh0KSA9PiB0byAtXG4gICAgICAgICAgICAgICAgTWF0aC5leHAoLXVuZGFtcGVkQW5ndWxhckZyZXEgKiB0KSAqXG4gICAgICAgICAgICAgICAgICAgIChpbml0aWFsRGVsdGEgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKGluaXRpYWxWZWxvY2l0eSArIHVuZGFtcGVkQW5ndWxhckZyZXEgKiBpbml0aWFsRGVsdGEpICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGRhbXBlZEFuZ3VsYXJGcmVxID0gdW5kYW1wZWRBbmd1bGFyRnJlcSAqIE1hdGguc3FydChkYW1waW5nUmF0aW8gKiBkYW1waW5nUmF0aW8gLSAxKTtcbiAgICAgICAgICAgIHJlc29sdmVTcHJpbmcgPSAodCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVudmVsb3BlID0gTWF0aC5leHAoLWRhbXBpbmdSYXRpbyAqIHVuZGFtcGVkQW5ndWxhckZyZXEgKiB0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBmcmVxRm9yVCA9IE1hdGgubWluKGRhbXBlZEFuZ3VsYXJGcmVxICogdCwgMzAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHRvIC1cbiAgICAgICAgICAgICAgICAgICAgKGVudmVsb3BlICpcbiAgICAgICAgICAgICAgICAgICAgICAgICgoaW5pdGlhbFZlbG9jaXR5ICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYW1waW5nUmF0aW8gKiB1bmRhbXBlZEFuZ3VsYXJGcmVxICogaW5pdGlhbERlbHRhKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5zaW5oKGZyZXFGb3JUKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFtcGVkQW5ndWxhckZyZXEgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsRGVsdGEgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmNvc2goZnJlcUZvclQpKSkgL1xuICAgICAgICAgICAgICAgICAgICAgICAgZGFtcGVkQW5ndWxhckZyZXEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjcmVhdGVTcHJpbmcoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBuZXh0OiAodCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IHJlc29sdmVTcHJpbmcodCk7XG4gICAgICAgICAgICBpZiAoIWlzUmVzb2x2ZWRGcm9tRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VmVsb2NpdHkgPSByZXNvbHZlVmVsb2NpdHkodCkgKiAxMDAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzQmVsb3dWZWxvY2l0eVRocmVzaG9sZCA9IE1hdGguYWJzKGN1cnJlbnRWZWxvY2l0eSkgPD0gcmVzdFNwZWVkO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzQmVsb3dEaXNwbGFjZW1lbnRUaHJlc2hvbGQgPSBNYXRoLmFicyh0byAtIGN1cnJlbnQpIDw9IHJlc3REZWx0YTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5kb25lID1cbiAgICAgICAgICAgICAgICAgICAgaXNCZWxvd1ZlbG9jaXR5VGhyZXNob2xkICYmIGlzQmVsb3dEaXNwbGFjZW1lbnRUaHJlc2hvbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5kb25lID0gdCA+PSBkdXJhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlLnZhbHVlID0gc3RhdGUuZG9uZSA/IHRvIDogY3VycmVudDtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZmxpcFRhcmdldDogKCkgPT4ge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSAtdmVsb2NpdHk7XG4gICAgICAgICAgICBbZnJvbSwgdG9dID0gW3RvLCBmcm9tXTtcbiAgICAgICAgICAgIGNyZWF0ZVNwcmluZygpO1xuICAgICAgICB9LFxuICAgIH07XG59XG5zcHJpbmcubmVlZHNJbnRlcnBvbGF0aW9uID0gKGEsIGIpID0+IHR5cGVvZiBhID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBiID09PSBcInN0cmluZ1wiO1xuY29uc3QgemVybyA9IChfdCkgPT4gMDtcblxuZXhwb3J0IHsgc3ByaW5nIH07XG4iLCJjb25zdCBwcm9ncmVzcyA9IChmcm9tLCB0bywgdmFsdWUpID0+IHtcbiAgICBjb25zdCB0b0Zyb21EaWZmZXJlbmNlID0gdG8gLSBmcm9tO1xuICAgIHJldHVybiB0b0Zyb21EaWZmZXJlbmNlID09PSAwID8gMSA6ICh2YWx1ZSAtIGZyb20pIC8gdG9Gcm9tRGlmZmVyZW5jZTtcbn07XG5cbmV4cG9ydCB7IHByb2dyZXNzIH07XG4iLCJjb25zdCBtaXggPSAoZnJvbSwgdG8sIHByb2dyZXNzKSA9PiAtcHJvZ3Jlc3MgKiBmcm9tICsgcHJvZ3Jlc3MgKiB0byArIGZyb207XG5cbmV4cG9ydCB7IG1peCB9O1xuIiwiaW1wb3J0IHsgaXNTdHJpbmcsIHNpbmdsZUNvbG9yUmVnZXgsIGZsb2F0UmVnZXggfSBmcm9tICcuLi91dGlscy5tanMnO1xuXG5jb25zdCBpc0NvbG9yU3RyaW5nID0gKHR5cGUsIHRlc3RQcm9wKSA9PiAodikgPT4ge1xuICAgIHJldHVybiBCb29sZWFuKChpc1N0cmluZyh2KSAmJiBzaW5nbGVDb2xvclJlZ2V4LnRlc3QodikgJiYgdi5zdGFydHNXaXRoKHR5cGUpKSB8fFxuICAgICAgICAodGVzdFByb3AgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHYsIHRlc3RQcm9wKSkpO1xufTtcbmNvbnN0IHNwbGl0Q29sb3IgPSAoYU5hbWUsIGJOYW1lLCBjTmFtZSkgPT4gKHYpID0+IHtcbiAgICBpZiAoIWlzU3RyaW5nKHYpKVxuICAgICAgICByZXR1cm4gdjtcbiAgICBjb25zdCBbYSwgYiwgYywgYWxwaGFdID0gdi5tYXRjaChmbG9hdFJlZ2V4KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBbYU5hbWVdOiBwYXJzZUZsb2F0KGEpLFxuICAgICAgICBbYk5hbWVdOiBwYXJzZUZsb2F0KGIpLFxuICAgICAgICBbY05hbWVdOiBwYXJzZUZsb2F0KGMpLFxuICAgICAgICBhbHBoYTogYWxwaGEgIT09IHVuZGVmaW5lZCA/IHBhcnNlRmxvYXQoYWxwaGEpIDogMSxcbiAgICB9O1xufTtcblxuZXhwb3J0IHsgaXNDb2xvclN0cmluZywgc3BsaXRDb2xvciB9O1xuIiwiaW1wb3J0IHsgbnVtYmVyLCBhbHBoYSB9IGZyb20gJy4uL251bWJlcnMvaW5kZXgubWpzJztcbmltcG9ydCB7IHNhbml0aXplLCBjbGFtcCB9IGZyb20gJy4uL3V0aWxzLm1qcyc7XG5pbXBvcnQgeyBpc0NvbG9yU3RyaW5nLCBzcGxpdENvbG9yIH0gZnJvbSAnLi91dGlscy5tanMnO1xuXG5jb25zdCBjbGFtcFJnYlVuaXQgPSBjbGFtcCgwLCAyNTUpO1xuY29uc3QgcmdiVW5pdCA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbnVtYmVyKSwgeyB0cmFuc2Zvcm06ICh2KSA9PiBNYXRoLnJvdW5kKGNsYW1wUmdiVW5pdCh2KSkgfSk7XG5jb25zdCByZ2JhID0ge1xuICAgIHRlc3Q6IGlzQ29sb3JTdHJpbmcoJ3JnYicsICdyZWQnKSxcbiAgICBwYXJzZTogc3BsaXRDb2xvcigncmVkJywgJ2dyZWVuJywgJ2JsdWUnKSxcbiAgICB0cmFuc2Zvcm06ICh7IHJlZCwgZ3JlZW4sIGJsdWUsIGFscGhhOiBhbHBoYSQxID0gMSB9KSA9PiAncmdiYSgnICtcbiAgICAgICAgcmdiVW5pdC50cmFuc2Zvcm0ocmVkKSArXG4gICAgICAgICcsICcgK1xuICAgICAgICByZ2JVbml0LnRyYW5zZm9ybShncmVlbikgK1xuICAgICAgICAnLCAnICtcbiAgICAgICAgcmdiVW5pdC50cmFuc2Zvcm0oYmx1ZSkgK1xuICAgICAgICAnLCAnICtcbiAgICAgICAgc2FuaXRpemUoYWxwaGEudHJhbnNmb3JtKGFscGhhJDEpKSArXG4gICAgICAgICcpJyxcbn07XG5cbmV4cG9ydCB7IHJnYlVuaXQsIHJnYmEgfTtcbiIsImltcG9ydCB7IHJnYmEgfSBmcm9tICcuL3JnYmEubWpzJztcbmltcG9ydCB7IGlzQ29sb3JTdHJpbmcgfSBmcm9tICcuL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIHBhcnNlSGV4KHYpIHtcbiAgICBsZXQgciA9ICcnO1xuICAgIGxldCBnID0gJyc7XG4gICAgbGV0IGIgPSAnJztcbiAgICBsZXQgYSA9ICcnO1xuICAgIGlmICh2Lmxlbmd0aCA+IDUpIHtcbiAgICAgICAgciA9IHYuc3Vic3RyKDEsIDIpO1xuICAgICAgICBnID0gdi5zdWJzdHIoMywgMik7XG4gICAgICAgIGIgPSB2LnN1YnN0cig1LCAyKTtcbiAgICAgICAgYSA9IHYuc3Vic3RyKDcsIDIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgciA9IHYuc3Vic3RyKDEsIDEpO1xuICAgICAgICBnID0gdi5zdWJzdHIoMiwgMSk7XG4gICAgICAgIGIgPSB2LnN1YnN0cigzLCAxKTtcbiAgICAgICAgYSA9IHYuc3Vic3RyKDQsIDEpO1xuICAgICAgICByICs9IHI7XG4gICAgICAgIGcgKz0gZztcbiAgICAgICAgYiArPSBiO1xuICAgICAgICBhICs9IGE7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlZDogcGFyc2VJbnQociwgMTYpLFxuICAgICAgICBncmVlbjogcGFyc2VJbnQoZywgMTYpLFxuICAgICAgICBibHVlOiBwYXJzZUludChiLCAxNiksXG4gICAgICAgIGFscGhhOiBhID8gcGFyc2VJbnQoYSwgMTYpIC8gMjU1IDogMSxcbiAgICB9O1xufVxuY29uc3QgaGV4ID0ge1xuICAgIHRlc3Q6IGlzQ29sb3JTdHJpbmcoJyMnKSxcbiAgICBwYXJzZTogcGFyc2VIZXgsXG4gICAgdHJhbnNmb3JtOiByZ2JhLnRyYW5zZm9ybSxcbn07XG5cbmV4cG9ydCB7IGhleCB9O1xuIiwiaW1wb3J0IHsgYWxwaGEgfSBmcm9tICcuLi9udW1iZXJzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBwZXJjZW50IH0gZnJvbSAnLi4vbnVtYmVycy91bml0cy5tanMnO1xuaW1wb3J0IHsgc2FuaXRpemUgfSBmcm9tICcuLi91dGlscy5tanMnO1xuaW1wb3J0IHsgaXNDb2xvclN0cmluZywgc3BsaXRDb2xvciB9IGZyb20gJy4vdXRpbHMubWpzJztcblxuY29uc3QgaHNsYSA9IHtcbiAgICB0ZXN0OiBpc0NvbG9yU3RyaW5nKCdoc2wnLCAnaHVlJyksXG4gICAgcGFyc2U6IHNwbGl0Q29sb3IoJ2h1ZScsICdzYXR1cmF0aW9uJywgJ2xpZ2h0bmVzcycpLFxuICAgIHRyYW5zZm9ybTogKHsgaHVlLCBzYXR1cmF0aW9uLCBsaWdodG5lc3MsIGFscGhhOiBhbHBoYSQxID0gMSB9KSA9PiB7XG4gICAgICAgIHJldHVybiAoJ2hzbGEoJyArXG4gICAgICAgICAgICBNYXRoLnJvdW5kKGh1ZSkgK1xuICAgICAgICAgICAgJywgJyArXG4gICAgICAgICAgICBwZXJjZW50LnRyYW5zZm9ybShzYW5pdGl6ZShzYXR1cmF0aW9uKSkgK1xuICAgICAgICAgICAgJywgJyArXG4gICAgICAgICAgICBwZXJjZW50LnRyYW5zZm9ybShzYW5pdGl6ZShsaWdodG5lc3MpKSArXG4gICAgICAgICAgICAnLCAnICtcbiAgICAgICAgICAgIHNhbml0aXplKGFscGhhLnRyYW5zZm9ybShhbHBoYSQxKSkgK1xuICAgICAgICAgICAgJyknKTtcbiAgICB9LFxufTtcblxuZXhwb3J0IHsgaHNsYSB9O1xuIiwiZnVuY3Rpb24gaHVlVG9SZ2IocCwgcSwgdCkge1xuICAgIGlmICh0IDwgMClcbiAgICAgICAgdCArPSAxO1xuICAgIGlmICh0ID4gMSlcbiAgICAgICAgdCAtPSAxO1xuICAgIGlmICh0IDwgMSAvIDYpXG4gICAgICAgIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0O1xuICAgIGlmICh0IDwgMSAvIDIpXG4gICAgICAgIHJldHVybiBxO1xuICAgIGlmICh0IDwgMiAvIDMpXG4gICAgICAgIHJldHVybiBwICsgKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNjtcbiAgICByZXR1cm4gcDtcbn1cbmZ1bmN0aW9uIGhzbGFUb1JnYmEoeyBodWUsIHNhdHVyYXRpb24sIGxpZ2h0bmVzcywgYWxwaGEgfSkge1xuICAgIGh1ZSAvPSAzNjA7XG4gICAgc2F0dXJhdGlvbiAvPSAxMDA7XG4gICAgbGlnaHRuZXNzIC89IDEwMDtcbiAgICBsZXQgcmVkID0gMDtcbiAgICBsZXQgZ3JlZW4gPSAwO1xuICAgIGxldCBibHVlID0gMDtcbiAgICBpZiAoIXNhdHVyYXRpb24pIHtcbiAgICAgICAgcmVkID0gZ3JlZW4gPSBibHVlID0gbGlnaHRuZXNzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgcSA9IGxpZ2h0bmVzcyA8IDAuNVxuICAgICAgICAgICAgPyBsaWdodG5lc3MgKiAoMSArIHNhdHVyYXRpb24pXG4gICAgICAgICAgICA6IGxpZ2h0bmVzcyArIHNhdHVyYXRpb24gLSBsaWdodG5lc3MgKiBzYXR1cmF0aW9uO1xuICAgICAgICBjb25zdCBwID0gMiAqIGxpZ2h0bmVzcyAtIHE7XG4gICAgICAgIHJlZCA9IGh1ZVRvUmdiKHAsIHEsIGh1ZSArIDEgLyAzKTtcbiAgICAgICAgZ3JlZW4gPSBodWVUb1JnYihwLCBxLCBodWUpO1xuICAgICAgICBibHVlID0gaHVlVG9SZ2IocCwgcSwgaHVlIC0gMSAvIDMpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICByZWQ6IE1hdGgucm91bmQocmVkICogMjU1KSxcbiAgICAgICAgZ3JlZW46IE1hdGgucm91bmQoZ3JlZW4gKiAyNTUpLFxuICAgICAgICBibHVlOiBNYXRoLnJvdW5kKGJsdWUgKiAyNTUpLFxuICAgICAgICBhbHBoYSxcbiAgICB9O1xufVxuXG5leHBvcnQgeyBoc2xhVG9SZ2JhIH07XG4iLCJpbXBvcnQgeyBtaXggfSBmcm9tICcuL21peC5tanMnO1xuaW1wb3J0IHsgaHNsYSwgcmdiYSwgaGV4IH0gZnJvbSAnc3R5bGUtdmFsdWUtdHlwZXMnO1xuaW1wb3J0IHsgaW52YXJpYW50IH0gZnJvbSAnaGV5LWxpc3Rlbic7XG5pbXBvcnQgeyBoc2xhVG9SZ2JhIH0gZnJvbSAnLi9oc2xhLXRvLXJnYmEubWpzJztcblxuY29uc3QgbWl4TGluZWFyQ29sb3IgPSAoZnJvbSwgdG8sIHYpID0+IHtcbiAgICBjb25zdCBmcm9tRXhwbyA9IGZyb20gKiBmcm9tO1xuICAgIGNvbnN0IHRvRXhwbyA9IHRvICogdG87XG4gICAgcmV0dXJuIE1hdGguc3FydChNYXRoLm1heCgwLCB2ICogKHRvRXhwbyAtIGZyb21FeHBvKSArIGZyb21FeHBvKSk7XG59O1xuY29uc3QgY29sb3JUeXBlcyA9IFtoZXgsIHJnYmEsIGhzbGFdO1xuY29uc3QgZ2V0Q29sb3JUeXBlID0gKHYpID0+IGNvbG9yVHlwZXMuZmluZCgodHlwZSkgPT4gdHlwZS50ZXN0KHYpKTtcbmNvbnN0IG5vdEFuaW1hdGFibGUgPSAoY29sb3IpID0+IGAnJHtjb2xvcn0nIGlzIG5vdCBhbiBhbmltYXRhYmxlIGNvbG9yLiBVc2UgdGhlIGVxdWl2YWxlbnQgY29sb3IgY29kZSBpbnN0ZWFkLmA7XG5jb25zdCBtaXhDb2xvciA9IChmcm9tLCB0bykgPT4ge1xuICAgIGxldCBmcm9tQ29sb3JUeXBlID0gZ2V0Q29sb3JUeXBlKGZyb20pO1xuICAgIGxldCB0b0NvbG9yVHlwZSA9IGdldENvbG9yVHlwZSh0byk7XG4gICAgaW52YXJpYW50KCEhZnJvbUNvbG9yVHlwZSwgbm90QW5pbWF0YWJsZShmcm9tKSk7XG4gICAgaW52YXJpYW50KCEhdG9Db2xvclR5cGUsIG5vdEFuaW1hdGFibGUodG8pKTtcbiAgICBsZXQgZnJvbUNvbG9yID0gZnJvbUNvbG9yVHlwZS5wYXJzZShmcm9tKTtcbiAgICBsZXQgdG9Db2xvciA9IHRvQ29sb3JUeXBlLnBhcnNlKHRvKTtcbiAgICBpZiAoZnJvbUNvbG9yVHlwZSA9PT0gaHNsYSkge1xuICAgICAgICBmcm9tQ29sb3IgPSBoc2xhVG9SZ2JhKGZyb21Db2xvcik7XG4gICAgICAgIGZyb21Db2xvclR5cGUgPSByZ2JhO1xuICAgIH1cbiAgICBpZiAodG9Db2xvclR5cGUgPT09IGhzbGEpIHtcbiAgICAgICAgdG9Db2xvciA9IGhzbGFUb1JnYmEodG9Db2xvcik7XG4gICAgICAgIHRvQ29sb3JUeXBlID0gcmdiYTtcbiAgICB9XG4gICAgY29uc3QgYmxlbmRlZCA9IE9iamVjdC5hc3NpZ24oe30sIGZyb21Db2xvcik7XG4gICAgcmV0dXJuICh2KSA9PiB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGJsZW5kZWQpIHtcbiAgICAgICAgICAgIGlmIChrZXkgIT09IFwiYWxwaGFcIikge1xuICAgICAgICAgICAgICAgIGJsZW5kZWRba2V5XSA9IG1peExpbmVhckNvbG9yKGZyb21Db2xvcltrZXldLCB0b0NvbG9yW2tleV0sIHYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJsZW5kZWQuYWxwaGEgPSBtaXgoZnJvbUNvbG9yLmFscGhhLCB0b0NvbG9yLmFscGhhLCB2KTtcbiAgICAgICAgcmV0dXJuIGZyb21Db2xvclR5cGUudHJhbnNmb3JtKGJsZW5kZWQpO1xuICAgIH07XG59O1xuXG5leHBvcnQgeyBtaXhDb2xvciwgbWl4TGluZWFyQ29sb3IgfTtcbiIsImltcG9ydCB7IGlzU3RyaW5nIH0gZnJvbSAnLi4vdXRpbHMubWpzJztcbmltcG9ydCB7IGhleCB9IGZyb20gJy4vaGV4Lm1qcyc7XG5pbXBvcnQgeyBoc2xhIH0gZnJvbSAnLi9oc2xhLm1qcyc7XG5pbXBvcnQgeyByZ2JhIH0gZnJvbSAnLi9yZ2JhLm1qcyc7XG5cbmNvbnN0IGNvbG9yID0ge1xuICAgIHRlc3Q6ICh2KSA9PiByZ2JhLnRlc3QodikgfHwgaGV4LnRlc3QodikgfHwgaHNsYS50ZXN0KHYpLFxuICAgIHBhcnNlOiAodikgPT4ge1xuICAgICAgICBpZiAocmdiYS50ZXN0KHYpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmdiYS5wYXJzZSh2KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChoc2xhLnRlc3QodikpIHtcbiAgICAgICAgICAgIHJldHVybiBoc2xhLnBhcnNlKHYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGhleC5wYXJzZSh2KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdHJhbnNmb3JtOiAodikgPT4ge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcodilcbiAgICAgICAgICAgID8gdlxuICAgICAgICAgICAgOiB2Lmhhc093blByb3BlcnR5KCdyZWQnKVxuICAgICAgICAgICAgICAgID8gcmdiYS50cmFuc2Zvcm0odilcbiAgICAgICAgICAgICAgICA6IGhzbGEudHJhbnNmb3JtKHYpO1xuICAgIH0sXG59O1xuXG5leHBvcnQgeyBjb2xvciB9O1xuIiwiaW1wb3J0IHsgY29sb3IgfSBmcm9tICcuLi9jb2xvci9pbmRleC5tanMnO1xuaW1wb3J0IHsgbnVtYmVyIH0gZnJvbSAnLi4vbnVtYmVycy9pbmRleC5tanMnO1xuaW1wb3J0IHsgaXNTdHJpbmcsIGZsb2F0UmVnZXgsIGNvbG9yUmVnZXgsIHNhbml0aXplIH0gZnJvbSAnLi4vdXRpbHMubWpzJztcblxuY29uc3QgY29sb3JUb2tlbiA9ICcke2N9JztcbmNvbnN0IG51bWJlclRva2VuID0gJyR7bn0nO1xuZnVuY3Rpb24gdGVzdCh2KSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIHJldHVybiAoaXNOYU4odikgJiZcbiAgICAgICAgaXNTdHJpbmcodikgJiZcbiAgICAgICAgKChfYiA9IChfYSA9IHYubWF0Y2goZmxvYXRSZWdleCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDApICsgKChfZCA9IChfYyA9IHYubWF0Y2goY29sb3JSZWdleCkpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5sZW5ndGgpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IDApID4gMCk7XG59XG5mdW5jdGlvbiBhbmFseXNlKHYpIHtcbiAgICBpZiAodHlwZW9mIHYgPT09ICdudW1iZXInKVxuICAgICAgICB2ID0gYCR7dn1gO1xuICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgIGxldCBudW1Db2xvcnMgPSAwO1xuICAgIGNvbnN0IGNvbG9ycyA9IHYubWF0Y2goY29sb3JSZWdleCk7XG4gICAgaWYgKGNvbG9ycykge1xuICAgICAgICBudW1Db2xvcnMgPSBjb2xvcnMubGVuZ3RoO1xuICAgICAgICB2ID0gdi5yZXBsYWNlKGNvbG9yUmVnZXgsIGNvbG9yVG9rZW4pO1xuICAgICAgICB2YWx1ZXMucHVzaCguLi5jb2xvcnMubWFwKGNvbG9yLnBhcnNlKSk7XG4gICAgfVxuICAgIGNvbnN0IG51bWJlcnMgPSB2Lm1hdGNoKGZsb2F0UmVnZXgpO1xuICAgIGlmIChudW1iZXJzKSB7XG4gICAgICAgIHYgPSB2LnJlcGxhY2UoZmxvYXRSZWdleCwgbnVtYmVyVG9rZW4pO1xuICAgICAgICB2YWx1ZXMucHVzaCguLi5udW1iZXJzLm1hcChudW1iZXIucGFyc2UpKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdmFsdWVzLCBudW1Db2xvcnMsIHRva2VuaXNlZDogdiB9O1xufVxuZnVuY3Rpb24gcGFyc2Uodikge1xuICAgIHJldHVybiBhbmFseXNlKHYpLnZhbHVlcztcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRyYW5zZm9ybWVyKHYpIHtcbiAgICBjb25zdCB7IHZhbHVlcywgbnVtQ29sb3JzLCB0b2tlbmlzZWQgfSA9IGFuYWx5c2Uodik7XG4gICAgY29uc3QgbnVtVmFsdWVzID0gdmFsdWVzLmxlbmd0aDtcbiAgICByZXR1cm4gKHYpID0+IHtcbiAgICAgICAgbGV0IG91dHB1dCA9IHRva2VuaXNlZDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1WYWx1ZXM7IGkrKykge1xuICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0LnJlcGxhY2UoaSA8IG51bUNvbG9ycyA/IGNvbG9yVG9rZW4gOiBudW1iZXJUb2tlbiwgaSA8IG51bUNvbG9ycyA/IGNvbG9yLnRyYW5zZm9ybSh2W2ldKSA6IHNhbml0aXplKHZbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG59XG5jb25zdCBjb252ZXJ0TnVtYmVyc1RvWmVybyA9ICh2KSA9PiB0eXBlb2YgdiA9PT0gJ251bWJlcicgPyAwIDogdjtcbmZ1bmN0aW9uIGdldEFuaW1hdGFibGVOb25lKHYpIHtcbiAgICBjb25zdCBwYXJzZWQgPSBwYXJzZSh2KTtcbiAgICBjb25zdCB0cmFuc2Zvcm1lciA9IGNyZWF0ZVRyYW5zZm9ybWVyKHYpO1xuICAgIHJldHVybiB0cmFuc2Zvcm1lcihwYXJzZWQubWFwKGNvbnZlcnROdW1iZXJzVG9aZXJvKSk7XG59XG5jb25zdCBjb21wbGV4ID0geyB0ZXN0LCBwYXJzZSwgY3JlYXRlVHJhbnNmb3JtZXIsIGdldEFuaW1hdGFibGVOb25lIH07XG5cbmV4cG9ydCB7IGNvbXBsZXggfTtcbiIsImNvbnN0IHplcm9Qb2ludCA9IHtcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgejogMFxufTtcbmNvbnN0IGlzTnVtID0gKHYpID0+IHR5cGVvZiB2ID09PSAnbnVtYmVyJztcblxuZXhwb3J0IHsgaXNOdW0sIHplcm9Qb2ludCB9O1xuIiwiaW1wb3J0IHsgY29tcGxleCwgY29sb3IgfSBmcm9tICdzdHlsZS12YWx1ZS10eXBlcyc7XG5pbXBvcnQgeyBtaXggfSBmcm9tICcuL21peC5tanMnO1xuaW1wb3J0IHsgbWl4Q29sb3IgfSBmcm9tICcuL21peC1jb2xvci5tanMnO1xuaW1wb3J0IHsgaXNOdW0gfSBmcm9tICcuL2luYy5tanMnO1xuaW1wb3J0IHsgcGlwZSB9IGZyb20gJy4vcGlwZS5tanMnO1xuaW1wb3J0IHsgd2FybmluZyB9IGZyb20gJ2hleS1saXN0ZW4nO1xuXG5mdW5jdGlvbiBnZXRNaXhlcihvcmlnaW4sIHRhcmdldCkge1xuICAgIGlmIChpc051bShvcmlnaW4pKSB7XG4gICAgICAgIHJldHVybiAodikgPT4gbWl4KG9yaWdpbiwgdGFyZ2V0LCB2KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29sb3IudGVzdChvcmlnaW4pKSB7XG4gICAgICAgIHJldHVybiBtaXhDb2xvcihvcmlnaW4sIHRhcmdldCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbWl4Q29tcGxleChvcmlnaW4sIHRhcmdldCk7XG4gICAgfVxufVxuY29uc3QgbWl4QXJyYXkgPSAoZnJvbSwgdG8pID0+IHtcbiAgICBjb25zdCBvdXRwdXQgPSBbLi4uZnJvbV07XG4gICAgY29uc3QgbnVtVmFsdWVzID0gb3V0cHV0Lmxlbmd0aDtcbiAgICBjb25zdCBibGVuZFZhbHVlID0gZnJvbS5tYXAoKGZyb21UaGlzLCBpKSA9PiBnZXRNaXhlcihmcm9tVGhpcywgdG9baV0pKTtcbiAgICByZXR1cm4gKHYpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1WYWx1ZXM7IGkrKykge1xuICAgICAgICAgICAgb3V0cHV0W2ldID0gYmxlbmRWYWx1ZVtpXSh2KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG59O1xuY29uc3QgbWl4T2JqZWN0ID0gKG9yaWdpbiwgdGFyZ2V0KSA9PiB7XG4gICAgY29uc3Qgb3V0cHV0ID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcmlnaW4pLCB0YXJnZXQpO1xuICAgIGNvbnN0IGJsZW5kVmFsdWUgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvdXRwdXQpIHtcbiAgICAgICAgaWYgKG9yaWdpbltrZXldICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0W2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYmxlbmRWYWx1ZVtrZXldID0gZ2V0TWl4ZXIob3JpZ2luW2tleV0sIHRhcmdldFtrZXldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKHYpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYmxlbmRWYWx1ZSkge1xuICAgICAgICAgICAgb3V0cHV0W2tleV0gPSBibGVuZFZhbHVlW2tleV0odik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xufTtcbmZ1bmN0aW9uIGFuYWx5c2UodmFsdWUpIHtcbiAgICBjb25zdCBwYXJzZWQgPSBjb21wbGV4LnBhcnNlKHZhbHVlKTtcbiAgICBjb25zdCBudW1WYWx1ZXMgPSBwYXJzZWQubGVuZ3RoO1xuICAgIGxldCBudW1OdW1iZXJzID0gMDtcbiAgICBsZXQgbnVtUkdCID0gMDtcbiAgICBsZXQgbnVtSFNMID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVZhbHVlczsgaSsrKSB7XG4gICAgICAgIGlmIChudW1OdW1iZXJzIHx8IHR5cGVvZiBwYXJzZWRbaV0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIG51bU51bWJlcnMrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwYXJzZWRbaV0uaHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBudW1IU0wrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG51bVJHQisrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IHBhcnNlZCwgbnVtTnVtYmVycywgbnVtUkdCLCBudW1IU0wgfTtcbn1cbmNvbnN0IG1peENvbXBsZXggPSAob3JpZ2luLCB0YXJnZXQpID0+IHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGNvbXBsZXguY3JlYXRlVHJhbnNmb3JtZXIodGFyZ2V0KTtcbiAgICBjb25zdCBvcmlnaW5TdGF0cyA9IGFuYWx5c2Uob3JpZ2luKTtcbiAgICBjb25zdCB0YXJnZXRTdGF0cyA9IGFuYWx5c2UodGFyZ2V0KTtcbiAgICBjb25zdCBjYW5JbnRlcnBvbGF0ZSA9IG9yaWdpblN0YXRzLm51bUhTTCA9PT0gdGFyZ2V0U3RhdHMubnVtSFNMICYmXG4gICAgICAgIG9yaWdpblN0YXRzLm51bVJHQiA9PT0gdGFyZ2V0U3RhdHMubnVtUkdCICYmXG4gICAgICAgIG9yaWdpblN0YXRzLm51bU51bWJlcnMgPj0gdGFyZ2V0U3RhdHMubnVtTnVtYmVycztcbiAgICBpZiAoY2FuSW50ZXJwb2xhdGUpIHtcbiAgICAgICAgcmV0dXJuIHBpcGUobWl4QXJyYXkob3JpZ2luU3RhdHMucGFyc2VkLCB0YXJnZXRTdGF0cy5wYXJzZWQpLCB0ZW1wbGF0ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB3YXJuaW5nKHRydWUsIGBDb21wbGV4IHZhbHVlcyAnJHtvcmlnaW59JyBhbmQgJyR7dGFyZ2V0fScgdG9vIGRpZmZlcmVudCB0byBtaXguIEVuc3VyZSBhbGwgY29sb3JzIGFyZSBvZiB0aGUgc2FtZSB0eXBlLCBhbmQgdGhhdCBlYWNoIGNvbnRhaW5zIHRoZSBzYW1lIHF1YW50aXR5IG9mIG51bWJlciBhbmQgY29sb3IgdmFsdWVzLiBGYWxsaW5nIGJhY2sgdG8gaW5zdGFudCB0cmFuc2l0aW9uLmApO1xuICAgICAgICByZXR1cm4gKHApID0+IGAke3AgPiAwID8gdGFyZ2V0IDogb3JpZ2lufWA7XG4gICAgfVxufTtcblxuZXhwb3J0IHsgbWl4QXJyYXksIG1peENvbXBsZXgsIG1peE9iamVjdCB9O1xuIiwiaW1wb3J0IHsgcHJvZ3Jlc3MgfSBmcm9tICcuL3Byb2dyZXNzLm1qcyc7XG5pbXBvcnQgeyBtaXggfSBmcm9tICcuL21peC5tanMnO1xuaW1wb3J0IHsgbWl4Q29sb3IgfSBmcm9tICcuL21peC1jb2xvci5tanMnO1xuaW1wb3J0IHsgbWl4Q29tcGxleCwgbWl4QXJyYXksIG1peE9iamVjdCB9IGZyb20gJy4vbWl4LWNvbXBsZXgubWpzJztcbmltcG9ydCB7IGNvbG9yIH0gZnJvbSAnc3R5bGUtdmFsdWUtdHlwZXMnO1xuaW1wb3J0IHsgY2xhbXAgfSBmcm9tICcuL2NsYW1wLm1qcyc7XG5pbXBvcnQgeyBwaXBlIH0gZnJvbSAnLi9waXBlLm1qcyc7XG5pbXBvcnQgeyBpbnZhcmlhbnQgfSBmcm9tICdoZXktbGlzdGVuJztcblxuY29uc3QgbWl4TnVtYmVyID0gKGZyb20sIHRvKSA9PiAocCkgPT4gbWl4KGZyb20sIHRvLCBwKTtcbmZ1bmN0aW9uIGRldGVjdE1peGVyRmFjdG9yeSh2KSB7XG4gICAgaWYgKHR5cGVvZiB2ID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gbWl4TnVtYmVyO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKGNvbG9yLnRlc3QodikpIHtcbiAgICAgICAgICAgIHJldHVybiBtaXhDb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBtaXhDb21wbGV4O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodikpIHtcbiAgICAgICAgcmV0dXJuIG1peEFycmF5O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIG1peE9iamVjdDtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVNaXhlcnMob3V0cHV0LCBlYXNlLCBjdXN0b21NaXhlcikge1xuICAgIGNvbnN0IG1peGVycyA9IFtdO1xuICAgIGNvbnN0IG1peGVyRmFjdG9yeSA9IGN1c3RvbU1peGVyIHx8IGRldGVjdE1peGVyRmFjdG9yeShvdXRwdXRbMF0pO1xuICAgIGNvbnN0IG51bU1peGVycyA9IG91dHB1dC5sZW5ndGggLSAxO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtTWl4ZXJzOyBpKyspIHtcbiAgICAgICAgbGV0IG1peGVyID0gbWl4ZXJGYWN0b3J5KG91dHB1dFtpXSwgb3V0cHV0W2kgKyAxXSk7XG4gICAgICAgIGlmIChlYXNlKSB7XG4gICAgICAgICAgICBjb25zdCBlYXNpbmdGdW5jdGlvbiA9IEFycmF5LmlzQXJyYXkoZWFzZSkgPyBlYXNlW2ldIDogZWFzZTtcbiAgICAgICAgICAgIG1peGVyID0gcGlwZShlYXNpbmdGdW5jdGlvbiwgbWl4ZXIpO1xuICAgICAgICB9XG4gICAgICAgIG1peGVycy5wdXNoKG1peGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG1peGVycztcbn1cbmZ1bmN0aW9uIGZhc3RJbnRlcnBvbGF0ZShbZnJvbSwgdG9dLCBbbWl4ZXJdKSB7XG4gICAgcmV0dXJuICh2KSA9PiBtaXhlcihwcm9ncmVzcyhmcm9tLCB0bywgdikpO1xufVxuZnVuY3Rpb24gc2xvd0ludGVycG9sYXRlKGlucHV0LCBtaXhlcnMpIHtcbiAgICBjb25zdCBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcbiAgICBjb25zdCBsYXN0SW5wdXRJbmRleCA9IGlucHV0TGVuZ3RoIC0gMTtcbiAgICByZXR1cm4gKHYpID0+IHtcbiAgICAgICAgbGV0IG1peGVySW5kZXggPSAwO1xuICAgICAgICBsZXQgZm91bmRNaXhlckluZGV4ID0gZmFsc2U7XG4gICAgICAgIGlmICh2IDw9IGlucHV0WzBdKSB7XG4gICAgICAgICAgICBmb3VuZE1peGVySW5kZXggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHYgPj0gaW5wdXRbbGFzdElucHV0SW5kZXhdKSB7XG4gICAgICAgICAgICBtaXhlckluZGV4ID0gbGFzdElucHV0SW5kZXggLSAxO1xuICAgICAgICAgICAgZm91bmRNaXhlckluZGV4ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWZvdW5kTWl4ZXJJbmRleCkge1xuICAgICAgICAgICAgbGV0IGkgPSAxO1xuICAgICAgICAgICAgZm9yICg7IGkgPCBpbnB1dExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0W2ldID4gdiB8fCBpID09PSBsYXN0SW5wdXRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtaXhlckluZGV4ID0gaSAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvZ3Jlc3NJblJhbmdlID0gcHJvZ3Jlc3MoaW5wdXRbbWl4ZXJJbmRleF0sIGlucHV0W21peGVySW5kZXggKyAxXSwgdik7XG4gICAgICAgIHJldHVybiBtaXhlcnNbbWl4ZXJJbmRleF0ocHJvZ3Jlc3NJblJhbmdlKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gaW50ZXJwb2xhdGUoaW5wdXQsIG91dHB1dCwgeyBjbGFtcDogaXNDbGFtcCA9IHRydWUsIGVhc2UsIG1peGVyIH0gPSB7fSkge1xuICAgIGNvbnN0IGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgIGludmFyaWFudChpbnB1dExlbmd0aCA9PT0gb3V0cHV0Lmxlbmd0aCwgJ0JvdGggaW5wdXQgYW5kIG91dHB1dCByYW5nZXMgbXVzdCBiZSB0aGUgc2FtZSBsZW5ndGgnKTtcbiAgICBpbnZhcmlhbnQoIWVhc2UgfHwgIUFycmF5LmlzQXJyYXkoZWFzZSkgfHwgZWFzZS5sZW5ndGggPT09IGlucHV0TGVuZ3RoIC0gMSwgJ0FycmF5IG9mIGVhc2luZyBmdW5jdGlvbnMgbXVzdCBiZSBvZiBsZW5ndGggYGlucHV0Lmxlbmd0aCAtIDFgLCBhcyBpdCBhcHBsaWVzIHRvIHRoZSB0cmFuc2l0aW9ucyAqKmJldHdlZW4qKiB0aGUgZGVmaW5lZCB2YWx1ZXMuJyk7XG4gICAgaWYgKGlucHV0WzBdID4gaW5wdXRbaW5wdXRMZW5ndGggLSAxXSkge1xuICAgICAgICBpbnB1dCA9IFtdLmNvbmNhdChpbnB1dCk7XG4gICAgICAgIG91dHB1dCA9IFtdLmNvbmNhdChvdXRwdXQpO1xuICAgICAgICBpbnB1dC5yZXZlcnNlKCk7XG4gICAgICAgIG91dHB1dC5yZXZlcnNlKCk7XG4gICAgfVxuICAgIGNvbnN0IG1peGVycyA9IGNyZWF0ZU1peGVycyhvdXRwdXQsIGVhc2UsIG1peGVyKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0b3IgPSBpbnB1dExlbmd0aCA9PT0gMlxuICAgICAgICA/IGZhc3RJbnRlcnBvbGF0ZShpbnB1dCwgbWl4ZXJzKVxuICAgICAgICA6IHNsb3dJbnRlcnBvbGF0ZShpbnB1dCwgbWl4ZXJzKTtcbiAgICByZXR1cm4gaXNDbGFtcFxuICAgICAgICA/ICh2KSA9PiBpbnRlcnBvbGF0b3IoY2xhbXAoaW5wdXRbMF0sIGlucHV0W2lucHV0TGVuZ3RoIC0gMV0sIHYpKVxuICAgICAgICA6IGludGVycG9sYXRvcjtcbn1cblxuZXhwb3J0IHsgaW50ZXJwb2xhdGUgfTtcbiIsImNvbnN0IHJldmVyc2VFYXNpbmcgPSBlYXNpbmcgPT4gcCA9PiAxIC0gZWFzaW5nKDEgLSBwKTtcbmNvbnN0IG1pcnJvckVhc2luZyA9IGVhc2luZyA9PiBwID0+IHAgPD0gMC41ID8gZWFzaW5nKDIgKiBwKSAvIDIgOiAoMiAtIGVhc2luZygyICogKDEgLSBwKSkpIC8gMjtcbmNvbnN0IGNyZWF0ZUV4cG9JbiA9IChwb3dlcikgPT4gcCA9PiBNYXRoLnBvdyhwLCBwb3dlcik7XG5jb25zdCBjcmVhdGVCYWNrSW4gPSAocG93ZXIpID0+IHAgPT4gcCAqIHAgKiAoKHBvd2VyICsgMSkgKiBwIC0gcG93ZXIpO1xuY29uc3QgY3JlYXRlQW50aWNpcGF0ZSA9IChwb3dlcikgPT4ge1xuICAgIGNvbnN0IGJhY2tFYXNpbmcgPSBjcmVhdGVCYWNrSW4ocG93ZXIpO1xuICAgIHJldHVybiBwID0+IChwICo9IDIpIDwgMVxuICAgICAgICA/IDAuNSAqIGJhY2tFYXNpbmcocClcbiAgICAgICAgOiAwLjUgKiAoMiAtIE1hdGgucG93KDIsIC0xMCAqIChwIC0gMSkpKTtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZUFudGljaXBhdGUsIGNyZWF0ZUJhY2tJbiwgY3JlYXRlRXhwb0luLCBtaXJyb3JFYXNpbmcsIHJldmVyc2VFYXNpbmcgfTtcbiIsImltcG9ydCB7IGNyZWF0ZUV4cG9JbiwgcmV2ZXJzZUVhc2luZywgbWlycm9yRWFzaW5nLCBjcmVhdGVCYWNrSW4sIGNyZWF0ZUFudGljaXBhdGUgfSBmcm9tICcuL3V0aWxzLm1qcyc7XG5cbmNvbnN0IERFRkFVTFRfT1ZFUlNIT09UX1NUUkVOR1RIID0gMS41MjU7XG5jb25zdCBCT1VOQ0VfRklSU1RfVEhSRVNIT0xEID0gNC4wIC8gMTEuMDtcbmNvbnN0IEJPVU5DRV9TRUNPTkRfVEhSRVNIT0xEID0gOC4wIC8gMTEuMDtcbmNvbnN0IEJPVU5DRV9USElSRF9USFJFU0hPTEQgPSA5LjAgLyAxMC4wO1xuY29uc3QgbGluZWFyID0gcCA9PiBwO1xuY29uc3QgZWFzZUluID0gY3JlYXRlRXhwb0luKDIpO1xuY29uc3QgZWFzZU91dCA9IHJldmVyc2VFYXNpbmcoZWFzZUluKTtcbmNvbnN0IGVhc2VJbk91dCA9IG1pcnJvckVhc2luZyhlYXNlSW4pO1xuY29uc3QgY2lyY0luID0gcCA9PiAxIC0gTWF0aC5zaW4oTWF0aC5hY29zKHApKTtcbmNvbnN0IGNpcmNPdXQgPSByZXZlcnNlRWFzaW5nKGNpcmNJbik7XG5jb25zdCBjaXJjSW5PdXQgPSBtaXJyb3JFYXNpbmcoY2lyY091dCk7XG5jb25zdCBiYWNrSW4gPSBjcmVhdGVCYWNrSW4oREVGQVVMVF9PVkVSU0hPT1RfU1RSRU5HVEgpO1xuY29uc3QgYmFja091dCA9IHJldmVyc2VFYXNpbmcoYmFja0luKTtcbmNvbnN0IGJhY2tJbk91dCA9IG1pcnJvckVhc2luZyhiYWNrSW4pO1xuY29uc3QgYW50aWNpcGF0ZSA9IGNyZWF0ZUFudGljaXBhdGUoREVGQVVMVF9PVkVSU0hPT1RfU1RSRU5HVEgpO1xuY29uc3QgY2EgPSA0MzU2LjAgLyAzNjEuMDtcbmNvbnN0IGNiID0gMzU0NDIuMCAvIDE4MDUuMDtcbmNvbnN0IGNjID0gMTYwNjEuMCAvIDE4MDUuMDtcbmNvbnN0IGJvdW5jZU91dCA9IChwKSA9PiB7XG4gICAgaWYgKHAgPT09IDEgfHwgcCA9PT0gMClcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgY29uc3QgcDIgPSBwICogcDtcbiAgICByZXR1cm4gcCA8IEJPVU5DRV9GSVJTVF9USFJFU0hPTERcbiAgICAgICAgPyA3LjU2MjUgKiBwMlxuICAgICAgICA6IHAgPCBCT1VOQ0VfU0VDT05EX1RIUkVTSE9MRFxuICAgICAgICAgICAgPyA5LjA3NSAqIHAyIC0gOS45ICogcCArIDMuNFxuICAgICAgICAgICAgOiBwIDwgQk9VTkNFX1RISVJEX1RIUkVTSE9MRFxuICAgICAgICAgICAgICAgID8gY2EgKiBwMiAtIGNiICogcCArIGNjXG4gICAgICAgICAgICAgICAgOiAxMC44ICogcCAqIHAgLSAyMC41MiAqIHAgKyAxMC43Mjtcbn07XG5jb25zdCBib3VuY2VJbiA9IHJldmVyc2VFYXNpbmcoYm91bmNlT3V0KTtcbmNvbnN0IGJvdW5jZUluT3V0ID0gKHApID0+IHAgPCAwLjVcbiAgICA/IDAuNSAqICgxLjAgLSBib3VuY2VPdXQoMS4wIC0gcCAqIDIuMCkpXG4gICAgOiAwLjUgKiBib3VuY2VPdXQocCAqIDIuMCAtIDEuMCkgKyAwLjU7XG5cbmV4cG9ydCB7IGFudGljaXBhdGUsIGJhY2tJbiwgYmFja0luT3V0LCBiYWNrT3V0LCBib3VuY2VJbiwgYm91bmNlSW5PdXQsIGJvdW5jZU91dCwgY2lyY0luLCBjaXJjSW5PdXQsIGNpcmNPdXQsIGVhc2VJbiwgZWFzZUluT3V0LCBlYXNlT3V0LCBsaW5lYXIgfTtcbiIsImltcG9ydCB7IGludGVycG9sYXRlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaW50ZXJwb2xhdGUubWpzJztcbmltcG9ydCB7IGVhc2VJbk91dCB9IGZyb20gJy4uLy4uL2Vhc2luZy9pbmRleC5tanMnO1xuXG5mdW5jdGlvbiBkZWZhdWx0RWFzaW5nKHZhbHVlcywgZWFzaW5nKSB7XG4gICAgcmV0dXJuIHZhbHVlcy5tYXAoKCkgPT4gZWFzaW5nIHx8IGVhc2VJbk91dCkuc3BsaWNlKDAsIHZhbHVlcy5sZW5ndGggLSAxKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRPZmZzZXQodmFsdWVzKSB7XG4gICAgY29uc3QgbnVtVmFsdWVzID0gdmFsdWVzLmxlbmd0aDtcbiAgICByZXR1cm4gdmFsdWVzLm1hcCgoX3ZhbHVlLCBpKSA9PiBpICE9PSAwID8gaSAvIChudW1WYWx1ZXMgLSAxKSA6IDApO1xufVxuZnVuY3Rpb24gY29udmVydE9mZnNldFRvVGltZXMob2Zmc2V0LCBkdXJhdGlvbikge1xuICAgIHJldHVybiBvZmZzZXQubWFwKChvKSA9PiBvICogZHVyYXRpb24pO1xufVxuZnVuY3Rpb24ga2V5ZnJhbWVzKHsgZnJvbSA9IDAsIHRvID0gMSwgZWFzZSwgb2Zmc2V0LCBkdXJhdGlvbiA9IDMwMCwgfSkge1xuICAgIGNvbnN0IHN0YXRlID0geyBkb25lOiBmYWxzZSwgdmFsdWU6IGZyb20gfTtcbiAgICBjb25zdCB2YWx1ZXMgPSBBcnJheS5pc0FycmF5KHRvKSA/IHRvIDogW2Zyb20sIHRvXTtcbiAgICBjb25zdCB0aW1lcyA9IGNvbnZlcnRPZmZzZXRUb1RpbWVzKG9mZnNldCAmJiBvZmZzZXQubGVuZ3RoID09PSB2YWx1ZXMubGVuZ3RoXG4gICAgICAgID8gb2Zmc2V0XG4gICAgICAgIDogZGVmYXVsdE9mZnNldCh2YWx1ZXMpLCBkdXJhdGlvbik7XG4gICAgZnVuY3Rpb24gY3JlYXRlSW50ZXJwb2xhdG9yKCkge1xuICAgICAgICByZXR1cm4gaW50ZXJwb2xhdGUodGltZXMsIHZhbHVlcywge1xuICAgICAgICAgICAgZWFzZTogQXJyYXkuaXNBcnJheShlYXNlKSA/IGVhc2UgOiBkZWZhdWx0RWFzaW5nKHZhbHVlcywgZWFzZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgaW50ZXJwb2xhdG9yID0gY3JlYXRlSW50ZXJwb2xhdG9yKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogKHQpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLnZhbHVlID0gaW50ZXJwb2xhdG9yKHQpO1xuICAgICAgICAgICAgc3RhdGUuZG9uZSA9IHQgPj0gZHVyYXRpb247XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIGZsaXBUYXJnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIHZhbHVlcy5yZXZlcnNlKCk7XG4gICAgICAgICAgICBpbnRlcnBvbGF0b3IgPSBjcmVhdGVJbnRlcnBvbGF0b3IoKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuXG5leHBvcnQgeyBjb252ZXJ0T2Zmc2V0VG9UaW1lcywgZGVmYXVsdEVhc2luZywgZGVmYXVsdE9mZnNldCwga2V5ZnJhbWVzIH07XG4iLCJpbXBvcnQgeyBzcHJpbmcgfSBmcm9tICcuLi9nZW5lcmF0b3JzL3NwcmluZy5tanMnO1xuaW1wb3J0IHsga2V5ZnJhbWVzIH0gZnJvbSAnLi4vZ2VuZXJhdG9ycy9rZXlmcmFtZXMubWpzJztcbmltcG9ydCB7IGRlY2F5IH0gZnJvbSAnLi4vZ2VuZXJhdG9ycy9kZWNheS5tanMnO1xuXG5jb25zdCB0eXBlcyA9IHsga2V5ZnJhbWVzLCBzcHJpbmcsIGRlY2F5IH07XG5mdW5jdGlvbiBkZXRlY3RBbmltYXRpb25Gcm9tT3B0aW9ucyhjb25maWcpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb25maWcudG8pKSB7XG4gICAgICAgIHJldHVybiBrZXlmcmFtZXM7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVzW2NvbmZpZy50eXBlXSkge1xuICAgICAgICByZXR1cm4gdHlwZXNbY29uZmlnLnR5cGVdO1xuICAgIH1cbiAgICBjb25zdCBrZXlzID0gbmV3IFNldChPYmplY3Qua2V5cyhjb25maWcpKTtcbiAgICBpZiAoa2V5cy5oYXMoXCJlYXNlXCIpIHx8XG4gICAgICAgIChrZXlzLmhhcyhcImR1cmF0aW9uXCIpICYmICFrZXlzLmhhcyhcImRhbXBpbmdSYXRpb1wiKSkpIHtcbiAgICAgICAgcmV0dXJuIGtleWZyYW1lcztcbiAgICB9XG4gICAgZWxzZSBpZiAoa2V5cy5oYXMoXCJkYW1waW5nUmF0aW9cIikgfHxcbiAgICAgICAga2V5cy5oYXMoXCJzdGlmZm5lc3NcIikgfHxcbiAgICAgICAga2V5cy5oYXMoXCJtYXNzXCIpIHx8XG4gICAgICAgIGtleXMuaGFzKFwiZGFtcGluZ1wiKSB8fFxuICAgICAgICBrZXlzLmhhcyhcInJlc3RTcGVlZFwiKSB8fFxuICAgICAgICBrZXlzLmhhcyhcInJlc3REZWx0YVwiKSkge1xuICAgICAgICByZXR1cm4gc3ByaW5nO1xuICAgIH1cbiAgICByZXR1cm4ga2V5ZnJhbWVzO1xufVxuXG5leHBvcnQgeyBkZXRlY3RBbmltYXRpb25Gcm9tT3B0aW9ucyB9O1xuIiwiZnVuY3Rpb24gZGVjYXkoeyB2ZWxvY2l0eSA9IDAsIGZyb20gPSAwLCBwb3dlciA9IDAuOCwgdGltZUNvbnN0YW50ID0gMzUwLCByZXN0RGVsdGEgPSAwLjUsIG1vZGlmeVRhcmdldCwgfSkge1xuICAgIGNvbnN0IHN0YXRlID0geyBkb25lOiBmYWxzZSwgdmFsdWU6IGZyb20gfTtcbiAgICBsZXQgYW1wbGl0dWRlID0gcG93ZXIgKiB2ZWxvY2l0eTtcbiAgICBjb25zdCBpZGVhbCA9IGZyb20gKyBhbXBsaXR1ZGU7XG4gICAgY29uc3QgdGFyZ2V0ID0gbW9kaWZ5VGFyZ2V0ID09PSB1bmRlZmluZWQgPyBpZGVhbCA6IG1vZGlmeVRhcmdldChpZGVhbCk7XG4gICAgaWYgKHRhcmdldCAhPT0gaWRlYWwpXG4gICAgICAgIGFtcGxpdHVkZSA9IHRhcmdldCAtIGZyb207XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogKHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gLWFtcGxpdHVkZSAqIE1hdGguZXhwKC10IC8gdGltZUNvbnN0YW50KTtcbiAgICAgICAgICAgIHN0YXRlLmRvbmUgPSAhKGRlbHRhID4gcmVzdERlbHRhIHx8IGRlbHRhIDwgLXJlc3REZWx0YSk7XG4gICAgICAgICAgICBzdGF0ZS52YWx1ZSA9IHN0YXRlLmRvbmUgPyB0YXJnZXQgOiB0YXJnZXQgKyBkZWx0YTtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZmxpcFRhcmdldDogKCkgPT4geyB9LFxuICAgIH07XG59XG5cbmV4cG9ydCB7IGRlY2F5IH07XG4iLCJmdW5jdGlvbiBsb29wRWxhcHNlZChlbGFwc2VkLCBkdXJhdGlvbiwgZGVsYXkgPSAwKSB7XG4gICAgcmV0dXJuIGVsYXBzZWQgLSBkdXJhdGlvbiAtIGRlbGF5O1xufVxuZnVuY3Rpb24gcmV2ZXJzZUVsYXBzZWQoZWxhcHNlZCwgZHVyYXRpb24sIGRlbGF5ID0gMCwgaXNGb3J3YXJkUGxheWJhY2sgPSB0cnVlKSB7XG4gICAgcmV0dXJuIGlzRm9yd2FyZFBsYXliYWNrXG4gICAgICAgID8gbG9vcEVsYXBzZWQoZHVyYXRpb24gKyAtZWxhcHNlZCwgZHVyYXRpb24sIGRlbGF5KVxuICAgICAgICA6IGR1cmF0aW9uIC0gKGVsYXBzZWQgLSBkdXJhdGlvbikgKyBkZWxheTtcbn1cbmZ1bmN0aW9uIGhhc1JlcGVhdERlbGF5RWxhcHNlZChlbGFwc2VkLCBkdXJhdGlvbiwgZGVsYXksIGlzRm9yd2FyZFBsYXliYWNrKSB7XG4gICAgcmV0dXJuIGlzRm9yd2FyZFBsYXliYWNrID8gZWxhcHNlZCA+PSBkdXJhdGlvbiArIGRlbGF5IDogZWxhcHNlZCA8PSAtZGVsYXk7XG59XG5cbmV4cG9ydCB7IGhhc1JlcGVhdERlbGF5RWxhcHNlZCwgbG9vcEVsYXBzZWQsIHJldmVyc2VFbGFwc2VkIH07XG4iLCJpbXBvcnQgeyBfX3Jlc3QgfSBmcm9tICd0c2xpYic7XG5pbXBvcnQgeyBkZXRlY3RBbmltYXRpb25Gcm9tT3B0aW9ucyB9IGZyb20gJy4vdXRpbHMvZGV0ZWN0LWFuaW1hdGlvbi1mcm9tLW9wdGlvbnMubWpzJztcbmltcG9ydCBzeW5jLCB7IGNhbmNlbFN5bmMgfSBmcm9tICdmcmFtZXN5bmMnO1xuaW1wb3J0IHsgaW50ZXJwb2xhdGUgfSBmcm9tICcuLi91dGlscy9pbnRlcnBvbGF0ZS5tanMnO1xuaW1wb3J0IHsgaGFzUmVwZWF0RGVsYXlFbGFwc2VkLCByZXZlcnNlRWxhcHNlZCwgbG9vcEVsYXBzZWQgfSBmcm9tICcuL3V0aWxzL2VsYXBzZWQubWpzJztcblxuY29uc3QgZnJhbWVzeW5jID0gKHVwZGF0ZSkgPT4ge1xuICAgIGNvbnN0IHBhc3NUaW1lc3RhbXAgPSAoeyBkZWx0YSB9KSA9PiB1cGRhdGUoZGVsdGEpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0OiAoKSA9PiBzeW5jLnVwZGF0ZShwYXNzVGltZXN0YW1wLCB0cnVlKSxcbiAgICAgICAgc3RvcDogKCkgPT4gY2FuY2VsU3luYy51cGRhdGUocGFzc1RpbWVzdGFtcCksXG4gICAgfTtcbn07XG5mdW5jdGlvbiBhbmltYXRlKF9hKSB7XG4gICAgdmFyIF9iLCBfYztcbiAgICB2YXIgeyBmcm9tLCBhdXRvcGxheSA9IHRydWUsIGRyaXZlciA9IGZyYW1lc3luYywgZWxhcHNlZCA9IDAsIHJlcGVhdDogcmVwZWF0TWF4ID0gMCwgcmVwZWF0VHlwZSA9IFwibG9vcFwiLCByZXBlYXREZWxheSA9IDAsIG9uUGxheSwgb25TdG9wLCBvbkNvbXBsZXRlLCBvblJlcGVhdCwgb25VcGRhdGUgfSA9IF9hLCBvcHRpb25zID0gX19yZXN0KF9hLCBbXCJmcm9tXCIsIFwiYXV0b3BsYXlcIiwgXCJkcml2ZXJcIiwgXCJlbGFwc2VkXCIsIFwicmVwZWF0XCIsIFwicmVwZWF0VHlwZVwiLCBcInJlcGVhdERlbGF5XCIsIFwib25QbGF5XCIsIFwib25TdG9wXCIsIFwib25Db21wbGV0ZVwiLCBcIm9uUmVwZWF0XCIsIFwib25VcGRhdGVcIl0pO1xuICAgIGxldCB7IHRvIH0gPSBvcHRpb25zO1xuICAgIGxldCBkcml2ZXJDb250cm9scztcbiAgICBsZXQgcmVwZWF0Q291bnQgPSAwO1xuICAgIGxldCBjb21wdXRlZER1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbjtcbiAgICBsZXQgbGF0ZXN0O1xuICAgIGxldCBpc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgbGV0IGlzRm9yd2FyZFBsYXliYWNrID0gdHJ1ZTtcbiAgICBsZXQgaW50ZXJwb2xhdGVGcm9tTnVtYmVyO1xuICAgIGNvbnN0IGFuaW1hdG9yID0gZGV0ZWN0QW5pbWF0aW9uRnJvbU9wdGlvbnMob3B0aW9ucyk7XG4gICAgaWYgKChfYyA9IChfYiA9IGFuaW1hdG9yKS5uZWVkc0ludGVycG9sYXRpb24pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKF9iLCBmcm9tLCB0bykpIHtcbiAgICAgICAgaW50ZXJwb2xhdGVGcm9tTnVtYmVyID0gaW50ZXJwb2xhdGUoWzAsIDEwMF0sIFtmcm9tLCB0b10sIHtcbiAgICAgICAgICAgIGNsYW1wOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGZyb20gPSAwO1xuICAgICAgICB0byA9IDEwMDtcbiAgICB9XG4gICAgY29uc3QgYW5pbWF0aW9uID0gYW5pbWF0b3IoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyBmcm9tLCB0byB9KSk7XG4gICAgZnVuY3Rpb24gcmVwZWF0KCkge1xuICAgICAgICByZXBlYXRDb3VudCsrO1xuICAgICAgICBpZiAocmVwZWF0VHlwZSA9PT0gXCJyZXZlcnNlXCIpIHtcbiAgICAgICAgICAgIGlzRm9yd2FyZFBsYXliYWNrID0gcmVwZWF0Q291bnQgJSAyID09PSAwO1xuICAgICAgICAgICAgZWxhcHNlZCA9IHJldmVyc2VFbGFwc2VkKGVsYXBzZWQsIGNvbXB1dGVkRHVyYXRpb24sIHJlcGVhdERlbGF5LCBpc0ZvcndhcmRQbGF5YmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGFwc2VkID0gbG9vcEVsYXBzZWQoZWxhcHNlZCwgY29tcHV0ZWREdXJhdGlvbiwgcmVwZWF0RGVsYXkpO1xuICAgICAgICAgICAgaWYgKHJlcGVhdFR5cGUgPT09IFwibWlycm9yXCIpXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLmZsaXBUYXJnZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBpc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIG9uUmVwZWF0ICYmIG9uUmVwZWF0KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgICBkcml2ZXJDb250cm9scy5zdG9wKCk7XG4gICAgICAgIG9uQ29tcGxldGUgJiYgb25Db21wbGV0ZSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGUoZGVsdGEpIHtcbiAgICAgICAgaWYgKCFpc0ZvcndhcmRQbGF5YmFjaylcbiAgICAgICAgICAgIGRlbHRhID0gLWRlbHRhO1xuICAgICAgICBlbGFwc2VkICs9IGRlbHRhO1xuICAgICAgICBpZiAoIWlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gYW5pbWF0aW9uLm5leHQoTWF0aC5tYXgoMCwgZWxhcHNlZCkpO1xuICAgICAgICAgICAgbGF0ZXN0ID0gc3RhdGUudmFsdWU7XG4gICAgICAgICAgICBpZiAoaW50ZXJwb2xhdGVGcm9tTnVtYmVyKVxuICAgICAgICAgICAgICAgIGxhdGVzdCA9IGludGVycG9sYXRlRnJvbU51bWJlcihsYXRlc3QpO1xuICAgICAgICAgICAgaXNDb21wbGV0ZSA9IGlzRm9yd2FyZFBsYXliYWNrID8gc3RhdGUuZG9uZSA6IGVsYXBzZWQgPD0gMDtcbiAgICAgICAgfVxuICAgICAgICBvblVwZGF0ZSA9PT0gbnVsbCB8fCBvblVwZGF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25VcGRhdGUobGF0ZXN0KTtcbiAgICAgICAgaWYgKGlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIGlmIChyZXBlYXRDb3VudCA9PT0gMClcbiAgICAgICAgICAgICAgICBjb21wdXRlZER1cmF0aW9uICE9PSBudWxsICYmIGNvbXB1dGVkRHVyYXRpb24gIT09IHZvaWQgMCA/IGNvbXB1dGVkRHVyYXRpb24gOiAoY29tcHV0ZWREdXJhdGlvbiA9IGVsYXBzZWQpO1xuICAgICAgICAgICAgaWYgKHJlcGVhdENvdW50IDwgcmVwZWF0TWF4KSB7XG4gICAgICAgICAgICAgICAgaGFzUmVwZWF0RGVsYXlFbGFwc2VkKGVsYXBzZWQsIGNvbXB1dGVkRHVyYXRpb24sIHJlcGVhdERlbGF5LCBpc0ZvcndhcmRQbGF5YmFjaykgJiYgcmVwZWF0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgICAgIG9uUGxheSA9PT0gbnVsbCB8fCBvblBsYXkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uUGxheSgpO1xuICAgICAgICBkcml2ZXJDb250cm9scyA9IGRyaXZlcih1cGRhdGUpO1xuICAgICAgICBkcml2ZXJDb250cm9scy5zdGFydCgpO1xuICAgIH1cbiAgICBhdXRvcGxheSAmJiBwbGF5KCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RvcDogKCkgPT4ge1xuICAgICAgICAgICAgb25TdG9wID09PSBudWxsIHx8IG9uU3RvcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25TdG9wKCk7XG4gICAgICAgICAgICBkcml2ZXJDb250cm9scy5zdG9wKCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cblxuZXhwb3J0IHsgYW5pbWF0ZSB9O1xuIiwiZnVuY3Rpb24gdmVsb2NpdHlQZXJTZWNvbmQodmVsb2NpdHksIGZyYW1lRHVyYXRpb24pIHtcbiAgICByZXR1cm4gZnJhbWVEdXJhdGlvbiA/IHZlbG9jaXR5ICogKDEwMDAgLyBmcmFtZUR1cmF0aW9uKSA6IDA7XG59XG5cbmV4cG9ydCB7IHZlbG9jaXR5UGVyU2Vjb25kIH07XG4iLCIvKipcbiAqIENvbnZlcnRzIHNlY29uZHMgdG8gbWlsbGlzZWNvbmRzXG4gKlxuICogQHBhcmFtIHNlY29uZHMgLSBUaW1lIGluIHNlY29uZHMuXG4gKiBAcmV0dXJuIG1pbGxpc2Vjb25kcyAtIENvbnZlcnRlZCB0aW1lIGluIG1pbGxpc2Vjb25kcy5cbiAqL1xuY29uc3Qgc2Vjb25kc1RvTWlsbGlzZWNvbmRzID0gKHNlY29uZHMpID0+IHNlY29uZHMgKiAxMDAwO1xuXG5leHBvcnQgeyBzZWNvbmRzVG9NaWxsaXNlY29uZHMgfTtcbiIsImltcG9ydCB7IGxpbmVhciB9IGZyb20gJy4vaW5kZXgubWpzJztcblxuY29uc3QgYSA9IChhMSwgYTIpID0+IDEuMCAtIDMuMCAqIGEyICsgMy4wICogYTE7XG5jb25zdCBiID0gKGExLCBhMikgPT4gMy4wICogYTIgLSA2LjAgKiBhMTtcbmNvbnN0IGMgPSAoYTEpID0+IDMuMCAqIGExO1xuY29uc3QgY2FsY0JlemllciA9ICh0LCBhMSwgYTIpID0+ICgoYShhMSwgYTIpICogdCArIGIoYTEsIGEyKSkgKiB0ICsgYyhhMSkpICogdDtcbmNvbnN0IGdldFNsb3BlID0gKHQsIGExLCBhMikgPT4gMy4wICogYShhMSwgYTIpICogdCAqIHQgKyAyLjAgKiBiKGExLCBhMikgKiB0ICsgYyhhMSk7XG5jb25zdCBzdWJkaXZpc2lvblByZWNpc2lvbiA9IDAuMDAwMDAwMTtcbmNvbnN0IHN1YmRpdmlzaW9uTWF4SXRlcmF0aW9ucyA9IDEwO1xuZnVuY3Rpb24gYmluYXJ5U3ViZGl2aWRlKGFYLCBhQSwgYUIsIG1YMSwgbVgyKSB7XG4gICAgbGV0IGN1cnJlbnRYO1xuICAgIGxldCBjdXJyZW50VDtcbiAgICBsZXQgaSA9IDA7XG4gICAgZG8ge1xuICAgICAgICBjdXJyZW50VCA9IGFBICsgKGFCIC0gYUEpIC8gMi4wO1xuICAgICAgICBjdXJyZW50WCA9IGNhbGNCZXppZXIoY3VycmVudFQsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgICBpZiAoY3VycmVudFggPiAwLjApIHtcbiAgICAgICAgICAgIGFCID0gY3VycmVudFQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhQSA9IGN1cnJlbnRUO1xuICAgICAgICB9XG4gICAgfSB3aGlsZSAoTWF0aC5hYnMoY3VycmVudFgpID4gc3ViZGl2aXNpb25QcmVjaXNpb24gJiZcbiAgICAgICAgKytpIDwgc3ViZGl2aXNpb25NYXhJdGVyYXRpb25zKTtcbiAgICByZXR1cm4gY3VycmVudFQ7XG59XG5jb25zdCBuZXd0b25JdGVyYXRpb25zID0gODtcbmNvbnN0IG5ld3Rvbk1pblNsb3BlID0gMC4wMDE7XG5mdW5jdGlvbiBuZXd0b25SYXBoc29uSXRlcmF0ZShhWCwgYUd1ZXNzVCwgbVgxLCBtWDIpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld3Rvbkl0ZXJhdGlvbnM7ICsraSkge1xuICAgICAgICBjb25zdCBjdXJyZW50U2xvcGUgPSBnZXRTbG9wZShhR3Vlc3NULCBtWDEsIG1YMik7XG4gICAgICAgIGlmIChjdXJyZW50U2xvcGUgPT09IDAuMCkge1xuICAgICAgICAgICAgcmV0dXJuIGFHdWVzc1Q7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VycmVudFggPSBjYWxjQmV6aWVyKGFHdWVzc1QsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgICBhR3Vlc3NUIC09IGN1cnJlbnRYIC8gY3VycmVudFNsb3BlO1xuICAgIH1cbiAgICByZXR1cm4gYUd1ZXNzVDtcbn1cbmNvbnN0IGtTcGxpbmVUYWJsZVNpemUgPSAxMTtcbmNvbnN0IGtTYW1wbGVTdGVwU2l6ZSA9IDEuMCAvIChrU3BsaW5lVGFibGVTaXplIC0gMS4wKTtcbmZ1bmN0aW9uIGN1YmljQmV6aWVyKG1YMSwgbVkxLCBtWDIsIG1ZMikge1xuICAgIGlmIChtWDEgPT09IG1ZMSAmJiBtWDIgPT09IG1ZMilcbiAgICAgICAgcmV0dXJuIGxpbmVhcjtcbiAgICBjb25zdCBzYW1wbGVWYWx1ZXMgPSBuZXcgRmxvYXQzMkFycmF5KGtTcGxpbmVUYWJsZVNpemUpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga1NwbGluZVRhYmxlU2l6ZTsgKytpKSB7XG4gICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGNhbGNCZXppZXIoaSAqIGtTYW1wbGVTdGVwU2l6ZSwgbVgxLCBtWDIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRURm9yWChhWCkge1xuICAgICAgICBsZXQgaW50ZXJ2YWxTdGFydCA9IDAuMDtcbiAgICAgICAgbGV0IGN1cnJlbnRTYW1wbGUgPSAxO1xuICAgICAgICBjb25zdCBsYXN0U2FtcGxlID0ga1NwbGluZVRhYmxlU2l6ZSAtIDE7XG4gICAgICAgIGZvciAoOyBjdXJyZW50U2FtcGxlICE9PSBsYXN0U2FtcGxlICYmIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSA8PSBhWDsgKytjdXJyZW50U2FtcGxlKSB7XG4gICAgICAgICAgICBpbnRlcnZhbFN0YXJ0ICs9IGtTYW1wbGVTdGVwU2l6ZTtcbiAgICAgICAgfVxuICAgICAgICAtLWN1cnJlbnRTYW1wbGU7XG4gICAgICAgIGNvbnN0IGRpc3QgPSAoYVggLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pIC9cbiAgICAgICAgICAgIChzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZSArIDFdIC0gc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdKTtcbiAgICAgICAgY29uc3QgZ3Vlc3NGb3JUID0gaW50ZXJ2YWxTdGFydCArIGRpc3QgKiBrU2FtcGxlU3RlcFNpemU7XG4gICAgICAgIGNvbnN0IGluaXRpYWxTbG9wZSA9IGdldFNsb3BlKGd1ZXNzRm9yVCwgbVgxLCBtWDIpO1xuICAgICAgICBpZiAoaW5pdGlhbFNsb3BlID49IG5ld3Rvbk1pblNsb3BlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3dG9uUmFwaHNvbkl0ZXJhdGUoYVgsIGd1ZXNzRm9yVCwgbVgxLCBtWDIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGluaXRpYWxTbG9wZSA9PT0gMC4wKSB7XG4gICAgICAgICAgICByZXR1cm4gZ3Vlc3NGb3JUO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGJpbmFyeVN1YmRpdmlkZShhWCwgaW50ZXJ2YWxTdGFydCwgaW50ZXJ2YWxTdGFydCArIGtTYW1wbGVTdGVwU2l6ZSwgbVgxLCBtWDIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAodCkgPT4gdCA9PT0gMCB8fCB0ID09PSAxID8gdCA6IGNhbGNCZXppZXIoZ2V0VEZvclgodCksIG1ZMSwgbVkyKTtcbn1cblxuZXhwb3J0IHsgY3ViaWNCZXppZXIgfTtcbiIsImltcG9ydCB7IGludmFyaWFudCB9IGZyb20gJ2hleS1saXN0ZW4nO1xuaW1wb3J0IHsgY3ViaWNCZXppZXIsIGxpbmVhciwgZWFzZUluLCBlYXNlSW5PdXQsIGVhc2VPdXQsIGNpcmNJbiwgY2lyY0luT3V0LCBjaXJjT3V0LCBiYWNrSW4sIGJhY2tJbk91dCwgYmFja091dCwgYW50aWNpcGF0ZSwgYm91bmNlSW4sIGJvdW5jZUluT3V0LCBib3VuY2VPdXQgfSBmcm9tICdwb3Btb3Rpb24nO1xuXG5jb25zdCBlYXNpbmdMb29rdXAgPSB7XG4gICAgbGluZWFyLFxuICAgIGVhc2VJbixcbiAgICBlYXNlSW5PdXQsXG4gICAgZWFzZU91dCxcbiAgICBjaXJjSW4sXG4gICAgY2lyY0luT3V0LFxuICAgIGNpcmNPdXQsXG4gICAgYmFja0luLFxuICAgIGJhY2tJbk91dCxcbiAgICBiYWNrT3V0LFxuICAgIGFudGljaXBhdGUsXG4gICAgYm91bmNlSW4sXG4gICAgYm91bmNlSW5PdXQsXG4gICAgYm91bmNlT3V0LFxufTtcbmNvbnN0IGVhc2luZ0RlZmluaXRpb25Ub0Z1bmN0aW9uID0gKGRlZmluaXRpb24pID0+IHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShkZWZpbml0aW9uKSkge1xuICAgICAgICAvLyBJZiBjdWJpYyBiZXppZXIgZGVmaW5pdGlvbiwgY3JlYXRlIGJlemllciBjdXJ2ZVxuICAgICAgICBpbnZhcmlhbnQoZGVmaW5pdGlvbi5sZW5ndGggPT09IDQsIGBDdWJpYyBiZXppZXIgYXJyYXlzIG11c3QgY29udGFpbiBmb3VyIG51bWVyaWNhbCB2YWx1ZXMuYCk7XG4gICAgICAgIGNvbnN0IFt4MSwgeTEsIHgyLCB5Ml0gPSBkZWZpbml0aW9uO1xuICAgICAgICByZXR1cm4gY3ViaWNCZXppZXIoeDEsIHkxLCB4MiwgeTIpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZGVmaW5pdGlvbiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAvLyBFbHNlIGxvb2t1cCBmcm9tIHRhYmxlXG4gICAgICAgIGludmFyaWFudChlYXNpbmdMb29rdXBbZGVmaW5pdGlvbl0gIT09IHVuZGVmaW5lZCwgYEludmFsaWQgZWFzaW5nIHR5cGUgJyR7ZGVmaW5pdGlvbn0nYCk7XG4gICAgICAgIHJldHVybiBlYXNpbmdMb29rdXBbZGVmaW5pdGlvbl07XG4gICAgfVxuICAgIHJldHVybiBkZWZpbml0aW9uO1xufTtcbmNvbnN0IGlzRWFzaW5nQXJyYXkgPSAoZWFzZSkgPT4ge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGVhc2UpICYmIHR5cGVvZiBlYXNlWzBdICE9PSBcIm51bWJlclwiO1xufTtcblxuZXhwb3J0IHsgZWFzaW5nRGVmaW5pdGlvblRvRnVuY3Rpb24sIGlzRWFzaW5nQXJyYXkgfTtcbiIsImltcG9ydCB7IGNvbXBsZXggfSBmcm9tICdzdHlsZS12YWx1ZS10eXBlcyc7XG5cbi8qKlxuICogQ2hlY2sgaWYgYSB2YWx1ZSBpcyBhbmltYXRhYmxlLiBFeGFtcGxlczpcbiAqXG4gKiDinIU6IDEwMCwgXCIxMDBweFwiLCBcIiNmZmZcIlxuICog4p2MOiBcImJsb2NrXCIsIFwidXJsKDIuanBnKVwiXG4gKiBAcGFyYW0gdmFsdWVcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgaXNBbmltYXRhYmxlID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICAvLyBJZiB0aGUgbGlzdCBvZiBrZXlzIHRhdCBtaWdodCBiZSBub24tYW5pbWF0YWJsZSBncm93cywgcmVwbGFjZSB3aXRoIFNldFxuICAgIGlmIChrZXkgPT09IFwiekluZGV4XCIpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAvLyBJZiBpdCdzIGEgbnVtYmVyIG9yIGEga2V5ZnJhbWVzIGFycmF5LCB3ZSBjYW4gYW5pbWF0ZSBpdC4gV2UgbWlnaHQgYXQgc29tZSBwb2ludFxuICAgIC8vIG5lZWQgdG8gZG8gYSBkZWVwIGlzQW5pbWF0YWJsZSBjaGVjayBvZiBrZXlmcmFtZXMsIG9yIGxldCBQb3Btb3Rpb24gaGFuZGxlIHRoaXMsXG4gICAgLy8gYnV0IGZvciBub3cgbGV0cyBsZWF2ZSBpdCBsaWtlIHRoaXMgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnNcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiIHx8IEFycmF5LmlzQXJyYXkodmFsdWUpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIC8vIEl0J3MgYW5pbWF0YWJsZSBpZiB3ZSBoYXZlIGEgc3RyaW5nXG4gICAgICAgIGNvbXBsZXgudGVzdCh2YWx1ZSkgJiYgLy8gQW5kIGl0IGNvbnRhaW5zIG51bWJlcnMgYW5kL29yIGNvbG9yc1xuICAgICAgICAhdmFsdWUuc3RhcnRzV2l0aChcInVybChcIikgLy8gVW5sZXNzIGl0IHN0YXJ0cyB3aXRoIFwidXJsKFwiXG4gICAgKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5leHBvcnQgeyBpc0FuaW1hdGFibGUgfTtcbiIsImltcG9ydCB7IGlzS2V5ZnJhbWVzVGFyZ2V0IH0gZnJvbSAnLi9pcy1rZXlmcmFtZXMtdGFyZ2V0Lm1qcyc7XG5cbmNvbnN0IHVuZGVyRGFtcGVkU3ByaW5nID0gKCkgPT4gKHtcbiAgICB0eXBlOiBcInNwcmluZ1wiLFxuICAgIHN0aWZmbmVzczogNTAwLFxuICAgIGRhbXBpbmc6IDI1LFxuICAgIHJlc3RTcGVlZDogMTAsXG59KTtcbmNvbnN0IGNyaXRpY2FsbHlEYW1wZWRTcHJpbmcgPSAodG8pID0+ICh7XG4gICAgdHlwZTogXCJzcHJpbmdcIixcbiAgICBzdGlmZm5lc3M6IDU1MCxcbiAgICBkYW1waW5nOiB0byA9PT0gMCA/IDIgKiBNYXRoLnNxcnQoNTUwKSA6IDMwLFxuICAgIHJlc3RTcGVlZDogMTAsXG59KTtcbmNvbnN0IGxpbmVhclR3ZWVuID0gKCkgPT4gKHtcbiAgICB0eXBlOiBcImtleWZyYW1lc1wiLFxuICAgIGVhc2U6IFwibGluZWFyXCIsXG4gICAgZHVyYXRpb246IDAuMyxcbn0pO1xuY29uc3Qga2V5ZnJhbWVzID0gKHZhbHVlcykgPT4gKHtcbiAgICB0eXBlOiBcImtleWZyYW1lc1wiLFxuICAgIGR1cmF0aW9uOiAwLjgsXG4gICAgdmFsdWVzLFxufSk7XG5jb25zdCBkZWZhdWx0VHJhbnNpdGlvbnMgPSB7XG4gICAgeDogdW5kZXJEYW1wZWRTcHJpbmcsXG4gICAgeTogdW5kZXJEYW1wZWRTcHJpbmcsXG4gICAgejogdW5kZXJEYW1wZWRTcHJpbmcsXG4gICAgcm90YXRlOiB1bmRlckRhbXBlZFNwcmluZyxcbiAgICByb3RhdGVYOiB1bmRlckRhbXBlZFNwcmluZyxcbiAgICByb3RhdGVZOiB1bmRlckRhbXBlZFNwcmluZyxcbiAgICByb3RhdGVaOiB1bmRlckRhbXBlZFNwcmluZyxcbiAgICBzY2FsZVg6IGNyaXRpY2FsbHlEYW1wZWRTcHJpbmcsXG4gICAgc2NhbGVZOiBjcml0aWNhbGx5RGFtcGVkU3ByaW5nLFxuICAgIHNjYWxlOiBjcml0aWNhbGx5RGFtcGVkU3ByaW5nLFxuICAgIG9wYWNpdHk6IGxpbmVhclR3ZWVuLFxuICAgIGJhY2tncm91bmRDb2xvcjogbGluZWFyVHdlZW4sXG4gICAgY29sb3I6IGxpbmVhclR3ZWVuLFxuICAgIGRlZmF1bHQ6IGNyaXRpY2FsbHlEYW1wZWRTcHJpbmcsXG59O1xuY29uc3QgZ2V0RGVmYXVsdFRyYW5zaXRpb24gPSAodmFsdWVLZXksIHRvKSA9PiB7XG4gICAgbGV0IHRyYW5zaXRpb25GYWN0b3J5O1xuICAgIGlmIChpc0tleWZyYW1lc1RhcmdldCh0bykpIHtcbiAgICAgICAgdHJhbnNpdGlvbkZhY3RvcnkgPSBrZXlmcmFtZXM7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0cmFuc2l0aW9uRmFjdG9yeSA9XG4gICAgICAgICAgICBkZWZhdWx0VHJhbnNpdGlvbnNbdmFsdWVLZXldIHx8IGRlZmF1bHRUcmFuc2l0aW9ucy5kZWZhdWx0O1xuICAgIH1cbiAgICByZXR1cm4geyB0bywgLi4udHJhbnNpdGlvbkZhY3RvcnkodG8pIH07XG59O1xuXG5leHBvcnQgeyBjcml0aWNhbGx5RGFtcGVkU3ByaW5nLCBnZXREZWZhdWx0VHJhbnNpdGlvbiwgbGluZWFyVHdlZW4sIHVuZGVyRGFtcGVkU3ByaW5nIH07XG4iLCJpbXBvcnQgeyBjb21wbGV4IH0gZnJvbSAnLi9pbmRleC5tanMnO1xuaW1wb3J0IHsgZmxvYXRSZWdleCB9IGZyb20gJy4uL3V0aWxzLm1qcyc7XG5cbmNvbnN0IG1heERlZmF1bHRzID0gbmV3IFNldChbJ2JyaWdodG5lc3MnLCAnY29udHJhc3QnLCAnc2F0dXJhdGUnLCAnb3BhY2l0eSddKTtcbmZ1bmN0aW9uIGFwcGx5RGVmYXVsdEZpbHRlcih2KSB7XG4gICAgbGV0IFtuYW1lLCB2YWx1ZV0gPSB2LnNsaWNlKDAsIC0xKS5zcGxpdCgnKCcpO1xuICAgIGlmIChuYW1lID09PSAnZHJvcC1zaGFkb3cnKVxuICAgICAgICByZXR1cm4gdjtcbiAgICBjb25zdCBbbnVtYmVyXSA9IHZhbHVlLm1hdGNoKGZsb2F0UmVnZXgpIHx8IFtdO1xuICAgIGlmICghbnVtYmVyKVxuICAgICAgICByZXR1cm4gdjtcbiAgICBjb25zdCB1bml0ID0gdmFsdWUucmVwbGFjZShudW1iZXIsICcnKTtcbiAgICBsZXQgZGVmYXVsdFZhbHVlID0gbWF4RGVmYXVsdHMuaGFzKG5hbWUpID8gMSA6IDA7XG4gICAgaWYgKG51bWJlciAhPT0gdmFsdWUpXG4gICAgICAgIGRlZmF1bHRWYWx1ZSAqPSAxMDA7XG4gICAgcmV0dXJuIG5hbWUgKyAnKCcgKyBkZWZhdWx0VmFsdWUgKyB1bml0ICsgJyknO1xufVxuY29uc3QgZnVuY3Rpb25SZWdleCA9IC8oW2Etei1dKilcXCguKj9cXCkvZztcbmNvbnN0IGZpbHRlciA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY29tcGxleCksIHsgZ2V0QW5pbWF0YWJsZU5vbmU6ICh2KSA9PiB7XG4gICAgICAgIGNvbnN0IGZ1bmN0aW9ucyA9IHYubWF0Y2goZnVuY3Rpb25SZWdleCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbnMgPyBmdW5jdGlvbnMubWFwKGFwcGx5RGVmYXVsdEZpbHRlcikuam9pbignICcpIDogdjtcbiAgICB9IH0pO1xuXG5leHBvcnQgeyBmaWx0ZXIgfTtcbiIsImltcG9ydCB7IGNvbG9yLCBmaWx0ZXIgfSBmcm9tICdzdHlsZS12YWx1ZS10eXBlcyc7XG5pbXBvcnQgeyBudW1iZXJWYWx1ZVR5cGVzIH0gZnJvbSAnLi9udW1iZXIubWpzJztcblxuLyoqXG4gKiBBIG1hcCBvZiBkZWZhdWx0IHZhbHVlIHR5cGVzIGZvciBjb21tb24gdmFsdWVzXG4gKi9cbmNvbnN0IGRlZmF1bHRWYWx1ZVR5cGVzID0ge1xuICAgIC4uLm51bWJlclZhbHVlVHlwZXMsXG4gICAgLy8gQ29sb3IgcHJvcHNcbiAgICBjb2xvcixcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLFxuICAgIG91dGxpbmVDb2xvcjogY29sb3IsXG4gICAgZmlsbDogY29sb3IsXG4gICAgc3Ryb2tlOiBjb2xvcixcbiAgICAvLyBCb3JkZXIgcHJvcHNcbiAgICBib3JkZXJDb2xvcjogY29sb3IsXG4gICAgYm9yZGVyVG9wQ29sb3I6IGNvbG9yLFxuICAgIGJvcmRlclJpZ2h0Q29sb3I6IGNvbG9yLFxuICAgIGJvcmRlckJvdHRvbUNvbG9yOiBjb2xvcixcbiAgICBib3JkZXJMZWZ0Q29sb3I6IGNvbG9yLFxuICAgIGZpbHRlcixcbiAgICBXZWJraXRGaWx0ZXI6IGZpbHRlcixcbn07XG4vKipcbiAqIEdldHMgdGhlIGRlZmF1bHQgVmFsdWVUeXBlIGZvciB0aGUgcHJvdmlkZWQgdmFsdWUga2V5XG4gKi9cbmNvbnN0IGdldERlZmF1bHRWYWx1ZVR5cGUgPSAoa2V5KSA9PiBkZWZhdWx0VmFsdWVUeXBlc1trZXldO1xuXG5leHBvcnQgeyBkZWZhdWx0VmFsdWVUeXBlcywgZ2V0RGVmYXVsdFZhbHVlVHlwZSB9O1xuIiwiaW1wb3J0IHsgZmlsdGVyLCBjb21wbGV4IH0gZnJvbSAnc3R5bGUtdmFsdWUtdHlwZXMnO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdFZhbHVlVHlwZSB9IGZyb20gJy4vZGVmYXVsdHMubWpzJztcblxuZnVuY3Rpb24gZ2V0QW5pbWF0YWJsZU5vbmUoa2V5LCB2YWx1ZSkge1xuICAgIHZhciBfYTtcbiAgICBsZXQgZGVmYXVsdFZhbHVlVHlwZSA9IGdldERlZmF1bHRWYWx1ZVR5cGUoa2V5KTtcbiAgICBpZiAoZGVmYXVsdFZhbHVlVHlwZSAhPT0gZmlsdGVyKVxuICAgICAgICBkZWZhdWx0VmFsdWVUeXBlID0gY29tcGxleDtcbiAgICAvLyBJZiB2YWx1ZSBpcyBub3QgcmVjb2duaXNlZCBhcyBhbmltYXRhYmxlLCBpZSBcIm5vbmVcIiwgY3JlYXRlIGFuIGFuaW1hdGFibGUgdmVyc2lvbiBvcmlnaW4gYmFzZWQgb24gdGhlIHRhcmdldFxuICAgIHJldHVybiAoX2EgPSBkZWZhdWx0VmFsdWVUeXBlLmdldEFuaW1hdGFibGVOb25lKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChkZWZhdWx0VmFsdWVUeXBlLCB2YWx1ZSk7XG59XG5cbmV4cG9ydCB7IGdldEFuaW1hdGFibGVOb25lIH07XG4iLCJpbXBvcnQgeyBpbmVydGlhLCBhbmltYXRlIH0gZnJvbSAncG9wbW90aW9uJztcbmltcG9ydCB7IHNlY29uZHNUb01pbGxpc2Vjb25kcyB9IGZyb20gJy4uLy4uL3V0aWxzL3RpbWUtY29udmVyc2lvbi5tanMnO1xuaW1wb3J0IHsgaXNFYXNpbmdBcnJheSwgZWFzaW5nRGVmaW5pdGlvblRvRnVuY3Rpb24gfSBmcm9tICcuL2Vhc2luZy5tanMnO1xuaW1wb3J0IHsgaXNBbmltYXRhYmxlIH0gZnJvbSAnLi9pcy1hbmltYXRhYmxlLm1qcyc7XG5pbXBvcnQgeyBnZXREZWZhdWx0VHJhbnNpdGlvbiB9IGZyb20gJy4vZGVmYXVsdC10cmFuc2l0aW9ucy5tanMnO1xuaW1wb3J0IHsgd2FybmluZyB9IGZyb20gJ2hleS1saXN0ZW4nO1xuaW1wb3J0IHsgZ2V0QW5pbWF0YWJsZU5vbmUgfSBmcm9tICcuLi8uLi9yZW5kZXIvZG9tL3ZhbHVlLXR5cGVzL2FuaW1hdGFibGUtbm9uZS5tanMnO1xuaW1wb3J0IHsgaW5zdGFudEFuaW1hdGlvblN0YXRlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLWluc3RhbnQtdHJhbnNpdGlvbi1zdGF0ZS5tanMnO1xuaW1wb3J0IHsgcmVzb2x2ZUZpbmFsVmFsdWVJbktleWZyYW1lcyB9IGZyb20gJy4uLy4uL3V0aWxzL3Jlc29sdmUtdmFsdWUubWpzJztcblxuLyoqXG4gKiBEZWNpZGUgd2hldGhlciBhIHRyYW5zaXRpb24gaXMgZGVmaW5lZCBvbiBhIGdpdmVuIFRyYW5zaXRpb24uXG4gKiBUaGlzIGZpbHRlcnMgb3V0IG9yY2hlc3RyYXRpb24gb3B0aW9ucyBhbmQgcmV0dXJucyB0cnVlXG4gKiBpZiBhbnkgb3B0aW9ucyBhcmUgbGVmdC5cbiAqL1xuZnVuY3Rpb24gaXNUcmFuc2l0aW9uRGVmaW5lZCh7IHdoZW4sIGRlbGF5LCBkZWxheUNoaWxkcmVuLCBzdGFnZ2VyQ2hpbGRyZW4sIHN0YWdnZXJEaXJlY3Rpb24sIHJlcGVhdCwgcmVwZWF0VHlwZSwgcmVwZWF0RGVsYXksIGZyb20sIC4uLnRyYW5zaXRpb24gfSkge1xuICAgIHJldHVybiAhIU9iamVjdC5rZXlzKHRyYW5zaXRpb24pLmxlbmd0aDtcbn1cbmxldCBsZWdhY3lSZXBlYXRXYXJuaW5nID0gZmFsc2U7XG4vKipcbiAqIENvbnZlcnQgRnJhbWVyIE1vdGlvbidzIFRyYW5zaXRpb24gdHlwZSBpbnRvIFBvcG1vdGlvbi1jb21wYXRpYmxlIG9wdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRUcmFuc2l0aW9uVG9BbmltYXRpb25PcHRpb25zKHsgZWFzZSwgdGltZXMsIHlveW8sIGZsaXAsIGxvb3AsIC4uLnRyYW5zaXRpb24gfSkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7IC4uLnRyYW5zaXRpb24gfTtcbiAgICBpZiAodGltZXMpXG4gICAgICAgIG9wdGlvbnNbXCJvZmZzZXRcIl0gPSB0aW1lcztcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGFueSBleGlzdGluZyBkdXJhdGlvbnMgZnJvbSBzZWNvbmRzIHRvIG1pbGxpc2Vjb25kc1xuICAgICAqL1xuICAgIGlmICh0cmFuc2l0aW9uLmR1cmF0aW9uKVxuICAgICAgICBvcHRpb25zW1wiZHVyYXRpb25cIl0gPSBzZWNvbmRzVG9NaWxsaXNlY29uZHModHJhbnNpdGlvbi5kdXJhdGlvbik7XG4gICAgaWYgKHRyYW5zaXRpb24ucmVwZWF0RGVsYXkpXG4gICAgICAgIG9wdGlvbnMucmVwZWF0RGVsYXkgPSBzZWNvbmRzVG9NaWxsaXNlY29uZHModHJhbnNpdGlvbi5yZXBlYXREZWxheSk7XG4gICAgLyoqXG4gICAgICogTWFwIGVhc2luZyBuYW1lcyB0byBQb3Btb3Rpb24ncyBlYXNpbmcgZnVuY3Rpb25zXG4gICAgICovXG4gICAgaWYgKGVhc2UpIHtcbiAgICAgICAgb3B0aW9uc1tcImVhc2VcIl0gPSBpc0Vhc2luZ0FycmF5KGVhc2UpXG4gICAgICAgICAgICA/IGVhc2UubWFwKGVhc2luZ0RlZmluaXRpb25Ub0Z1bmN0aW9uKVxuICAgICAgICAgICAgOiBlYXNpbmdEZWZpbml0aW9uVG9GdW5jdGlvbihlYXNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3VwcG9ydCBsZWdhY3kgdHJhbnNpdGlvbiBBUElcbiAgICAgKi9cbiAgICBpZiAodHJhbnNpdGlvbi50eXBlID09PSBcInR3ZWVuXCIpXG4gICAgICAgIG9wdGlvbnMudHlwZSA9IFwia2V5ZnJhbWVzXCI7XG4gICAgLyoqXG4gICAgICogVE9ETzogVGhlc2Ugb3B0aW9ucyBhcmUgb2ZmaWNpYWxseSByZW1vdmVkIGZyb20gdGhlIEFQSS5cbiAgICAgKi9cbiAgICBpZiAoeW95byB8fCBsb29wIHx8IGZsaXApIHtcbiAgICAgICAgd2FybmluZyghbGVnYWN5UmVwZWF0V2FybmluZywgXCJ5b3lvLCBsb29wIGFuZCBmbGlwIGhhdmUgYmVlbiByZW1vdmVkIGZyb20gdGhlIEFQSS4gUmVwbGFjZSB3aXRoIHJlcGVhdCBhbmQgcmVwZWF0VHlwZSBvcHRpb25zLlwiKTtcbiAgICAgICAgbGVnYWN5UmVwZWF0V2FybmluZyA9IHRydWU7XG4gICAgICAgIGlmICh5b3lvKSB7XG4gICAgICAgICAgICBvcHRpb25zLnJlcGVhdFR5cGUgPSBcInJldmVyc2VcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsb29wKSB7XG4gICAgICAgICAgICBvcHRpb25zLnJlcGVhdFR5cGUgPSBcImxvb3BcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmbGlwKSB7XG4gICAgICAgICAgICBvcHRpb25zLnJlcGVhdFR5cGUgPSBcIm1pcnJvclwiO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMucmVwZWF0ID0gbG9vcCB8fCB5b3lvIHx8IGZsaXAgfHwgdHJhbnNpdGlvbi5yZXBlYXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRPRE86IFBvcG1vdGlvbiA5IGhhcyB0aGUgYWJpbGl0eSB0byBhdXRvbWF0aWNhbGx5IGRldGVjdCB3aGV0aGVyIHRvIHVzZVxuICAgICAqIGEga2V5ZnJhbWVzIG9yIHNwcmluZyBhbmltYXRpb24sIGJ1dCBkb2VzIHNvIGJ5IGRldGVjdGluZyB2ZWxvY2l0eSBhbmQgb3RoZXIgc3ByaW5nIG9wdGlvbnMuXG4gICAgICogSXQnZCBiZSBnb29kIHRvIGludHJvZHVjZSBhIHNpbWlsYXIgdGhpbmcgaGVyZS5cbiAgICAgKi9cbiAgICBpZiAodHJhbnNpdGlvbi50eXBlICE9PSBcInNwcmluZ1wiKVxuICAgICAgICBvcHRpb25zLnR5cGUgPSBcImtleWZyYW1lc1wiO1xuICAgIHJldHVybiBvcHRpb25zO1xufVxuLyoqXG4gKiBHZXQgdGhlIGRlbGF5IGZvciBhIHZhbHVlIGJ5IGNoZWNraW5nIFRyYW5zaXRpb24gd2l0aCBkZWNyZWFzaW5nIHNwZWNpZmljaXR5LlxuICovXG5mdW5jdGlvbiBnZXREZWxheUZyb21UcmFuc2l0aW9uKHRyYW5zaXRpb24sIGtleSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgdmFsdWVUcmFuc2l0aW9uID0gZ2V0VmFsdWVUcmFuc2l0aW9uKHRyYW5zaXRpb24sIGtleSkgfHwge307XG4gICAgcmV0dXJuIChfYiA9IChfYSA9IHZhbHVlVHJhbnNpdGlvbi5kZWxheSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdHJhbnNpdGlvbi5kZWxheSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMDtcbn1cbmZ1bmN0aW9uIGh5ZHJhdGVLZXlmcmFtZXMob3B0aW9ucykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMudG8pICYmIG9wdGlvbnMudG9bMF0gPT09IG51bGwpIHtcbiAgICAgICAgb3B0aW9ucy50byA9IFsuLi5vcHRpb25zLnRvXTtcbiAgICAgICAgb3B0aW9ucy50b1swXSA9IG9wdGlvbnMuZnJvbTtcbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbnM7XG59XG5mdW5jdGlvbiBnZXRQb3Btb3Rpb25BbmltYXRpb25PcHRpb25zKHRyYW5zaXRpb24sIG9wdGlvbnMsIGtleSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMudG8pICYmIHRyYW5zaXRpb24uZHVyYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0cmFuc2l0aW9uLmR1cmF0aW9uID0gMC44O1xuICAgIH1cbiAgICBoeWRyYXRlS2V5ZnJhbWVzKG9wdGlvbnMpO1xuICAgIC8qKlxuICAgICAqIEdldCBhIGRlZmF1bHQgdHJhbnNpdGlvbiBpZiBub25lIGlzIGRldGVybWluZWQgdG8gYmUgZGVmaW5lZC5cbiAgICAgKi9cbiAgICBpZiAoIWlzVHJhbnNpdGlvbkRlZmluZWQodHJhbnNpdGlvbikpIHtcbiAgICAgICAgdHJhbnNpdGlvbiA9IHtcbiAgICAgICAgICAgIC4uLnRyYW5zaXRpb24sXG4gICAgICAgICAgICAuLi5nZXREZWZhdWx0VHJhbnNpdGlvbihrZXksIG9wdGlvbnMudG8pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAuLi5jb252ZXJ0VHJhbnNpdGlvblRvQW5pbWF0aW9uT3B0aW9ucyh0cmFuc2l0aW9uKSxcbiAgICB9O1xufVxuLyoqXG4gKlxuICovXG5mdW5jdGlvbiBnZXRBbmltYXRpb24oa2V5LCB2YWx1ZSwgdGFyZ2V0LCB0cmFuc2l0aW9uLCBvbkNvbXBsZXRlKSB7XG4gICAgY29uc3QgdmFsdWVUcmFuc2l0aW9uID0gZ2V0VmFsdWVUcmFuc2l0aW9uKHRyYW5zaXRpb24sIGtleSkgfHwge307XG4gICAgbGV0IG9yaWdpbiA9IHZhbHVlVHJhbnNpdGlvbi5mcm9tICE9PSB1bmRlZmluZWQgPyB2YWx1ZVRyYW5zaXRpb24uZnJvbSA6IHZhbHVlLmdldCgpO1xuICAgIGNvbnN0IGlzVGFyZ2V0QW5pbWF0YWJsZSA9IGlzQW5pbWF0YWJsZShrZXksIHRhcmdldCk7XG4gICAgaWYgKG9yaWdpbiA9PT0gXCJub25lXCIgJiYgaXNUYXJnZXRBbmltYXRhYmxlICYmIHR5cGVvZiB0YXJnZXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHdlJ3JlIHRyeWluZyB0byBhbmltYXRlIGZyb20gXCJub25lXCIsIHRyeSBhbmQgZ2V0IGFuIGFuaW1hdGFibGUgdmVyc2lvblxuICAgICAgICAgKiBvZiB0aGUgdGFyZ2V0LiBUaGlzIGNvdWxkIGJlIGltcHJvdmVkIHRvIHdvcmsgYm90aCB3YXlzLlxuICAgICAgICAgKi9cbiAgICAgICAgb3JpZ2luID0gZ2V0QW5pbWF0YWJsZU5vbmUoa2V5LCB0YXJnZXQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1plcm8ob3JpZ2luKSAmJiB0eXBlb2YgdGFyZ2V0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIG9yaWdpbiA9IGdldFplcm9Vbml0KHRhcmdldCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KHRhcmdldCkgJiZcbiAgICAgICAgaXNaZXJvKHRhcmdldCkgJiZcbiAgICAgICAgdHlwZW9mIG9yaWdpbiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0YXJnZXQgPSBnZXRaZXJvVW5pdChvcmlnaW4pO1xuICAgIH1cbiAgICBjb25zdCBpc09yaWdpbkFuaW1hdGFibGUgPSBpc0FuaW1hdGFibGUoa2V5LCBvcmlnaW4pO1xuICAgIHdhcm5pbmcoaXNPcmlnaW5BbmltYXRhYmxlID09PSBpc1RhcmdldEFuaW1hdGFibGUsIGBZb3UgYXJlIHRyeWluZyB0byBhbmltYXRlICR7a2V5fSBmcm9tIFwiJHtvcmlnaW59XCIgdG8gXCIke3RhcmdldH1cIi4gJHtvcmlnaW59IGlzIG5vdCBhbiBhbmltYXRhYmxlIHZhbHVlIC0gdG8gZW5hYmxlIHRoaXMgYW5pbWF0aW9uIHNldCAke29yaWdpbn0gdG8gYSB2YWx1ZSBhbmltYXRhYmxlIHRvICR7dGFyZ2V0fSB2aWEgdGhlIFxcYHN0eWxlXFxgIHByb3BlcnR5LmApO1xuICAgIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgZnJvbTogb3JpZ2luLFxuICAgICAgICAgICAgdG86IHRhcmdldCxcbiAgICAgICAgICAgIHZlbG9jaXR5OiB2YWx1ZS5nZXRWZWxvY2l0eSgpLFxuICAgICAgICAgICAgb25Db21wbGV0ZSxcbiAgICAgICAgICAgIG9uVXBkYXRlOiAodikgPT4gdmFsdWUuc2V0KHYpLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdmFsdWVUcmFuc2l0aW9uLnR5cGUgPT09IFwiaW5lcnRpYVwiIHx8XG4gICAgICAgICAgICB2YWx1ZVRyYW5zaXRpb24udHlwZSA9PT0gXCJkZWNheVwiXG4gICAgICAgICAgICA/IGluZXJ0aWEoeyAuLi5vcHRpb25zLCAuLi52YWx1ZVRyYW5zaXRpb24gfSlcbiAgICAgICAgICAgIDogYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgLi4uZ2V0UG9wbW90aW9uQW5pbWF0aW9uT3B0aW9ucyh2YWx1ZVRyYW5zaXRpb24sIG9wdGlvbnMsIGtleSksXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6ICh2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25VcGRhdGUodik7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlVHJhbnNpdGlvbi5vblVwZGF0ZSAmJiB2YWx1ZVRyYW5zaXRpb24ub25VcGRhdGUodik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZVRyYW5zaXRpb24ub25Db21wbGV0ZSAmJiB2YWx1ZVRyYW5zaXRpb24ub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0KCkge1xuICAgICAgICBjb25zdCBmaW5hbFRhcmdldCA9IHJlc29sdmVGaW5hbFZhbHVlSW5LZXlmcmFtZXModGFyZ2V0KTtcbiAgICAgICAgdmFsdWUuc2V0KGZpbmFsVGFyZ2V0KTtcbiAgICAgICAgb25Db21wbGV0ZSgpO1xuICAgICAgICB2YWx1ZVRyYW5zaXRpb24ub25VcGRhdGUgJiYgdmFsdWVUcmFuc2l0aW9uLm9uVXBkYXRlKGZpbmFsVGFyZ2V0KTtcbiAgICAgICAgdmFsdWVUcmFuc2l0aW9uLm9uQ29tcGxldGUgJiYgdmFsdWVUcmFuc2l0aW9uLm9uQ29tcGxldGUoKTtcbiAgICAgICAgcmV0dXJuIHsgc3RvcDogKCkgPT4geyB9IH07XG4gICAgfVxuICAgIHJldHVybiAhaXNPcmlnaW5BbmltYXRhYmxlIHx8XG4gICAgICAgICFpc1RhcmdldEFuaW1hdGFibGUgfHxcbiAgICAgICAgdmFsdWVUcmFuc2l0aW9uLnR5cGUgPT09IGZhbHNlXG4gICAgICAgID8gc2V0XG4gICAgICAgIDogc3RhcnQ7XG59XG5mdW5jdGlvbiBpc1plcm8odmFsdWUpIHtcbiAgICByZXR1cm4gKHZhbHVlID09PSAwIHx8XG4gICAgICAgICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICAgIHBhcnNlRmxvYXQodmFsdWUpID09PSAwICYmXG4gICAgICAgICAgICB2YWx1ZS5pbmRleE9mKFwiIFwiKSA9PT0gLTEpKTtcbn1cbmZ1bmN0aW9uIGdldFplcm9Vbml0KHBvdGVudGlhbFVuaXRUeXBlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBwb3RlbnRpYWxVbml0VHlwZSA9PT0gXCJudW1iZXJcIlxuICAgICAgICA/IDBcbiAgICAgICAgOiBnZXRBbmltYXRhYmxlTm9uZShcIlwiLCBwb3RlbnRpYWxVbml0VHlwZSk7XG59XG5mdW5jdGlvbiBnZXRWYWx1ZVRyYW5zaXRpb24odHJhbnNpdGlvbiwga2V5KSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25ba2V5XSB8fCB0cmFuc2l0aW9uW1wiZGVmYXVsdFwiXSB8fCB0cmFuc2l0aW9uO1xufVxuLyoqXG4gKiBTdGFydCBhbmltYXRpb24gb24gYSBNb3Rpb25WYWx1ZS4gVGhpcyBmdW5jdGlvbiBpcyBhbiBpbnRlcmZhY2UgYmV0d2VlblxuICogRnJhbWVyIE1vdGlvbiBhbmQgUG9wbW90aW9uXG4gKi9cbmZ1bmN0aW9uIHN0YXJ0QW5pbWF0aW9uKGtleSwgdmFsdWUsIHRhcmdldCwgdHJhbnNpdGlvbiA9IHt9KSB7XG4gICAgaWYgKGluc3RhbnRBbmltYXRpb25TdGF0ZS5jdXJyZW50KSB7XG4gICAgICAgIHRyYW5zaXRpb24gPSB7IHR5cGU6IGZhbHNlIH07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZS5zdGFydCgob25Db21wbGV0ZSkgPT4ge1xuICAgICAgICBsZXQgZGVsYXlUaW1lcjtcbiAgICAgICAgbGV0IGNvbnRyb2xzO1xuICAgICAgICBjb25zdCBhbmltYXRpb24gPSBnZXRBbmltYXRpb24oa2V5LCB2YWx1ZSwgdGFyZ2V0LCB0cmFuc2l0aW9uLCBvbkNvbXBsZXRlKTtcbiAgICAgICAgY29uc3QgZGVsYXkgPSBnZXREZWxheUZyb21UcmFuc2l0aW9uKHRyYW5zaXRpb24sIGtleSk7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gKCkgPT4gKGNvbnRyb2xzID0gYW5pbWF0aW9uKCkpO1xuICAgICAgICBpZiAoZGVsYXkpIHtcbiAgICAgICAgICAgIGRlbGF5VGltZXIgPSB3aW5kb3cuc2V0VGltZW91dChzdGFydCwgc2Vjb25kc1RvTWlsbGlzZWNvbmRzKGRlbGF5KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdGFydCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoZGVsYXlUaW1lcik7XG4gICAgICAgICAgICBjb250cm9scyAmJiBjb250cm9scy5zdG9wKCk7XG4gICAgICAgIH07XG4gICAgfSk7XG59XG5cbmV4cG9ydCB7IGNvbnZlcnRUcmFuc2l0aW9uVG9BbmltYXRpb25PcHRpb25zLCBnZXREZWxheUZyb21UcmFuc2l0aW9uLCBnZXRQb3Btb3Rpb25BbmltYXRpb25PcHRpb25zLCBnZXRWYWx1ZVRyYW5zaXRpb24sIGdldFplcm9Vbml0LCBoeWRyYXRlS2V5ZnJhbWVzLCBpc1RyYW5zaXRpb25EZWZpbmVkLCBpc1plcm8sIHN0YXJ0QW5pbWF0aW9uIH07XG4iLCJpbXBvcnQgeyBhbmltYXRlIH0gZnJvbSAnLi9pbmRleC5tanMnO1xuaW1wb3J0IHsgdmVsb2NpdHlQZXJTZWNvbmQgfSBmcm9tICcuLi91dGlscy92ZWxvY2l0eS1wZXItc2Vjb25kLm1qcyc7XG5pbXBvcnQgeyBnZXRGcmFtZURhdGEgfSBmcm9tICdmcmFtZXN5bmMnO1xuXG5mdW5jdGlvbiBpbmVydGlhKHsgZnJvbSA9IDAsIHZlbG9jaXR5ID0gMCwgbWluLCBtYXgsIHBvd2VyID0gMC44LCB0aW1lQ29uc3RhbnQgPSA3NTAsIGJvdW5jZVN0aWZmbmVzcyA9IDUwMCwgYm91bmNlRGFtcGluZyA9IDEwLCByZXN0RGVsdGEgPSAxLCBtb2RpZnlUYXJnZXQsIGRyaXZlciwgb25VcGRhdGUsIG9uQ29tcGxldGUsIG9uU3RvcCwgfSkge1xuICAgIGxldCBjdXJyZW50QW5pbWF0aW9uO1xuICAgIGZ1bmN0aW9uIGlzT3V0T2ZCb3VuZHModikge1xuICAgICAgICByZXR1cm4gKG1pbiAhPT0gdW5kZWZpbmVkICYmIHYgPCBtaW4pIHx8IChtYXggIT09IHVuZGVmaW5lZCAmJiB2ID4gbWF4KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYm91bmRhcnlOZWFyZXN0KHYpIHtcbiAgICAgICAgaWYgKG1pbiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIG1heDtcbiAgICAgICAgaWYgKG1heCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIG1pbjtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKG1pbiAtIHYpIDwgTWF0aC5hYnMobWF4IC0gdikgPyBtaW4gOiBtYXg7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0YXJ0QW5pbWF0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgY3VycmVudEFuaW1hdGlvbiA9PT0gbnVsbCB8fCBjdXJyZW50QW5pbWF0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJyZW50QW5pbWF0aW9uLnN0b3AoKTtcbiAgICAgICAgY3VycmVudEFuaW1hdGlvbiA9IGFuaW1hdGUoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyBkcml2ZXIsIG9uVXBkYXRlOiAodikgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBvblVwZGF0ZSA9PT0gbnVsbCB8fCBvblVwZGF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25VcGRhdGUodik7XG4gICAgICAgICAgICAgICAgKF9hID0gb3B0aW9ucy5vblVwZGF0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwob3B0aW9ucywgdik7XG4gICAgICAgICAgICB9LCBvbkNvbXBsZXRlLFxuICAgICAgICAgICAgb25TdG9wIH0pKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RhcnRTcHJpbmcob3B0aW9ucykge1xuICAgICAgICBzdGFydEFuaW1hdGlvbihPYmplY3QuYXNzaWduKHsgdHlwZTogXCJzcHJpbmdcIiwgc3RpZmZuZXNzOiBib3VuY2VTdGlmZm5lc3MsIGRhbXBpbmc6IGJvdW5jZURhbXBpbmcsIHJlc3REZWx0YSB9LCBvcHRpb25zKSk7XG4gICAgfVxuICAgIGlmIChpc091dE9mQm91bmRzKGZyb20pKSB7XG4gICAgICAgIHN0YXJ0U3ByaW5nKHsgZnJvbSwgdmVsb2NpdHksIHRvOiBib3VuZGFyeU5lYXJlc3QoZnJvbSkgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgdGFyZ2V0ID0gcG93ZXIgKiB2ZWxvY2l0eSArIGZyb207XG4gICAgICAgIGlmICh0eXBlb2YgbW9kaWZ5VGFyZ2V0ICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgdGFyZ2V0ID0gbW9kaWZ5VGFyZ2V0KHRhcmdldCk7XG4gICAgICAgIGNvbnN0IGJvdW5kYXJ5ID0gYm91bmRhcnlOZWFyZXN0KHRhcmdldCk7XG4gICAgICAgIGNvbnN0IGhlYWRpbmcgPSBib3VuZGFyeSA9PT0gbWluID8gLTEgOiAxO1xuICAgICAgICBsZXQgcHJldjtcbiAgICAgICAgbGV0IGN1cnJlbnQ7XG4gICAgICAgIGNvbnN0IGNoZWNrQm91bmRhcnkgPSAodikgPT4ge1xuICAgICAgICAgICAgcHJldiA9IGN1cnJlbnQ7XG4gICAgICAgICAgICBjdXJyZW50ID0gdjtcbiAgICAgICAgICAgIHZlbG9jaXR5ID0gdmVsb2NpdHlQZXJTZWNvbmQodiAtIHByZXYsIGdldEZyYW1lRGF0YSgpLmRlbHRhKTtcbiAgICAgICAgICAgIGlmICgoaGVhZGluZyA9PT0gMSAmJiB2ID4gYm91bmRhcnkpIHx8XG4gICAgICAgICAgICAgICAgKGhlYWRpbmcgPT09IC0xICYmIHYgPCBib3VuZGFyeSkpIHtcbiAgICAgICAgICAgICAgICBzdGFydFNwcmluZyh7IGZyb206IHYsIHRvOiBib3VuZGFyeSwgdmVsb2NpdHkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHN0YXJ0QW5pbWF0aW9uKHtcbiAgICAgICAgICAgIHR5cGU6IFwiZGVjYXlcIixcbiAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICB2ZWxvY2l0eSxcbiAgICAgICAgICAgIHRpbWVDb25zdGFudCxcbiAgICAgICAgICAgIHBvd2VyLFxuICAgICAgICAgICAgcmVzdERlbHRhLFxuICAgICAgICAgICAgbW9kaWZ5VGFyZ2V0LFxuICAgICAgICAgICAgb25VcGRhdGU6IGlzT3V0T2ZCb3VuZHModGFyZ2V0KSA/IGNoZWNrQm91bmRhcnkgOiB1bmRlZmluZWQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzdG9wOiAoKSA9PiBjdXJyZW50QW5pbWF0aW9uID09PSBudWxsIHx8IGN1cnJlbnRBbmltYXRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnRBbmltYXRpb24uc3RvcCgpLFxuICAgIH07XG59XG5cbmV4cG9ydCB7IGluZXJ0aWEgfTtcbiIsImZ1bmN0aW9uIGFkZFVuaXF1ZUl0ZW0oYXJyLCBpdGVtKSB7XG4gICAgaWYgKGFyci5pbmRleE9mKGl0ZW0pID09PSAtMSlcbiAgICAgICAgYXJyLnB1c2goaXRlbSk7XG59XG5mdW5jdGlvbiByZW1vdmVJdGVtKGFyciwgaXRlbSkge1xuICAgIGNvbnN0IGluZGV4ID0gYXJyLmluZGV4T2YoaXRlbSk7XG4gICAgaWYgKGluZGV4ID4gLTEpXG4gICAgICAgIGFyci5zcGxpY2UoaW5kZXgsIDEpO1xufVxuLy8gQWRhcHRlZCBmcm9tIGFycmF5LW1vdmVcbmZ1bmN0aW9uIG1vdmVJdGVtKFsuLi5hcnJdLCBmcm9tSW5kZXgsIHRvSW5kZXgpIHtcbiAgICBjb25zdCBzdGFydEluZGV4ID0gZnJvbUluZGV4IDwgMCA/IGFyci5sZW5ndGggKyBmcm9tSW5kZXggOiBmcm9tSW5kZXg7XG4gICAgaWYgKHN0YXJ0SW5kZXggPj0gMCAmJiBzdGFydEluZGV4IDwgYXJyLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBlbmRJbmRleCA9IHRvSW5kZXggPCAwID8gYXJyLmxlbmd0aCArIHRvSW5kZXggOiB0b0luZGV4O1xuICAgICAgICBjb25zdCBbaXRlbV0gPSBhcnIuc3BsaWNlKGZyb21JbmRleCwgMSk7XG4gICAgICAgIGFyci5zcGxpY2UoZW5kSW5kZXgsIDAsIGl0ZW0pO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xufVxuXG5leHBvcnQgeyBhZGRVbmlxdWVJdGVtLCBtb3ZlSXRlbSwgcmVtb3ZlSXRlbSB9O1xuIiwiaW1wb3J0IHsgYWRkVW5pcXVlSXRlbSwgcmVtb3ZlSXRlbSB9IGZyb20gJy4vYXJyYXkubWpzJztcblxuY2xhc3MgU3Vic2NyaXB0aW9uTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgIH1cbiAgICBhZGQoaGFuZGxlcikge1xuICAgICAgICBhZGRVbmlxdWVJdGVtKHRoaXMuc3Vic2NyaXB0aW9ucywgaGFuZGxlcik7XG4gICAgICAgIHJldHVybiAoKSA9PiByZW1vdmVJdGVtKHRoaXMuc3Vic2NyaXB0aW9ucywgaGFuZGxlcik7XG4gICAgfVxuICAgIG5vdGlmeShhLCBiLCBjKSB7XG4gICAgICAgIGNvbnN0IG51bVN1YnNjcmlwdGlvbnMgPSB0aGlzLnN1YnNjcmlwdGlvbnMubGVuZ3RoO1xuICAgICAgICBpZiAoIW51bVN1YnNjcmlwdGlvbnMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChudW1TdWJzY3JpcHRpb25zID09PSAxKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoZXJlJ3Mgb25seSBhIHNpbmdsZSBoYW5kbGVyIHdlIGNhbiBqdXN0IGNhbGwgaXQgd2l0aG91dCBpbnZva2luZyBhIGxvb3AuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uc1swXShhLCBiLCBjKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtU3Vic2NyaXB0aW9uczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ2hlY2sgd2hldGhlciB0aGUgaGFuZGxlciBleGlzdHMgYmVmb3JlIGZpcmluZyBhcyBpdCdzIHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgICogdGhlIHN1YnNjcmlwdGlvbnMgd2VyZSBtb2RpZmllZCBkdXJpbmcgdGhpcyBsb29wIHJ1bm5pbmcuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuc3Vic2NyaXB0aW9uc1tpXTtcbiAgICAgICAgICAgICAgICBoYW5kbGVyICYmIGhhbmRsZXIoYSwgYiwgYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9ucy5sZW5ndGg7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMubGVuZ3RoID0gMDtcbiAgICB9XG59XG5cbmV4cG9ydCB7IFN1YnNjcmlwdGlvbk1hbmFnZXIgfTtcbiIsImltcG9ydCBzeW5jLCB7IGdldEZyYW1lRGF0YSB9IGZyb20gJ2ZyYW1lc3luYyc7XG5pbXBvcnQgeyB2ZWxvY2l0eVBlclNlY29uZCB9IGZyb20gJ3BvcG1vdGlvbic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb25NYW5hZ2VyIH0gZnJvbSAnLi4vdXRpbHMvc3Vic2NyaXB0aW9uLW1hbmFnZXIubWpzJztcblxuY29uc3QgaXNGbG9hdCA9ICh2YWx1ZSkgPT4ge1xuICAgIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdCh2YWx1ZSkpO1xufTtcbi8qKlxuICogYE1vdGlvblZhbHVlYCBpcyB1c2VkIHRvIHRyYWNrIHRoZSBzdGF0ZSBhbmQgdmVsb2NpdHkgb2YgbW90aW9uIHZhbHVlcy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmNsYXNzIE1vdGlvblZhbHVlIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gaW5pdCAtIFRoZSBpbml0aWF0aW5nIHZhbHVlXG4gICAgICogQHBhcmFtIGNvbmZpZyAtIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICAgICAqXG4gICAgICogLSAgYHRyYW5zZm9ybWVyYDogQSBmdW5jdGlvbiB0byB0cmFuc2Zvcm0gaW5jb21pbmcgdmFsdWVzIHdpdGguXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihpbml0KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgYmUgcmVwbGFjZWQgYnkgdGhlIGJ1aWxkIHN0ZXAgd2l0aCB0aGUgbGF0ZXN0IHZlcnNpb24gbnVtYmVyLlxuICAgICAgICAgKiBXaGVuIE1vdGlvblZhbHVlcyBhcmUgcHJvdmlkZWQgdG8gbW90aW9uIGNvbXBvbmVudHMsIHdhcm4gaWYgdmVyc2lvbnMgYXJlIG1peGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJzaW9uID0gXCI3LjMuMlwiO1xuICAgICAgICAvKipcbiAgICAgICAgICogRHVyYXRpb24sIGluIG1pbGxpc2Vjb25kcywgc2luY2UgbGFzdCB1cGRhdGluZyBmcmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpbWVEZWx0YSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaW1lc3RhbXAgb2YgdGhlIGxhc3QgdGltZSB0aGlzIGBNb3Rpb25WYWx1ZWAgd2FzIHVwZGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sYXN0VXBkYXRlZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbnMgdG8gbm90aWZ5IHdoZW4gdGhlIGBNb3Rpb25WYWx1ZWAgdXBkYXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVwZGF0ZVN1YnNjcmliZXJzID0gbmV3IFN1YnNjcmlwdGlvbk1hbmFnZXIoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9ucyB0byBub3RpZnkgd2hlbiB0aGUgdmVsb2NpdHkgdXBkYXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlbG9jaXR5VXBkYXRlU3Vic2NyaWJlcnMgPSBuZXcgU3Vic2NyaXB0aW9uTWFuYWdlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb25zIHRvIG5vdGlmeSB3aGVuIHRoZSBgTW90aW9uVmFsdWVgIHVwZGF0ZXMgYW5kIGByZW5kZXJgIGlzIHNldCB0byBgdHJ1ZWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJTdWJzY3JpYmVycyA9IG5ldyBTdWJzY3JpcHRpb25NYW5hZ2VyKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFja3Mgd2hldGhlciB0aGlzIHZhbHVlIGNhbiBvdXRwdXQgYSB2ZWxvY2l0eS4gQ3VycmVudGx5IHRoaXMgaXMgb25seSB0cnVlXG4gICAgICAgICAqIGlmIHRoZSB2YWx1ZSBpcyBudW1lcmljYWwsIGJ1dCB3ZSBtaWdodCBiZSBhYmxlIHRvIHdpZGVuIHRoZSBzY29wZSBoZXJlIGFuZCBzdXBwb3J0XG4gICAgICAgICAqIG90aGVyIHZhbHVlIHR5cGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FuVHJhY2tWZWxvY2l0eSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnVwZGF0ZUFuZE5vdGlmeSA9ICh2LCByZW5kZXIgPSB0cnVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByZXYgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICAgICAgLy8gVXBkYXRlIHRpbWVzdGFtcFxuICAgICAgICAgICAgY29uc3QgeyBkZWx0YSwgdGltZXN0YW1wIH0gPSBnZXRGcmFtZURhdGEoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RVcGRhdGVkICE9PSB0aW1lc3RhbXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVEZWx0YSA9IGRlbHRhO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFVwZGF0ZWQgPSB0aW1lc3RhbXA7XG4gICAgICAgICAgICAgICAgc3luYy5wb3N0UmVuZGVyKHRoaXMuc2NoZWR1bGVWZWxvY2l0eUNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFVwZGF0ZSB1cGRhdGUgc3Vic2NyaWJlcnNcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgIT09IHRoaXMuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3Vic2NyaWJlcnMubm90aWZ5KHRoaXMuY3VycmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBVcGRhdGUgdmVsb2NpdHkgc3Vic2NyaWJlcnNcbiAgICAgICAgICAgIGlmICh0aGlzLnZlbG9jaXR5VXBkYXRlU3Vic2NyaWJlcnMuZ2V0U2l6ZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52ZWxvY2l0eVVwZGF0ZVN1YnNjcmliZXJzLm5vdGlmeSh0aGlzLmdldFZlbG9jaXR5KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVXBkYXRlIHJlbmRlciBzdWJzY3JpYmVyc1xuICAgICAgICAgICAgaWYgKHJlbmRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyU3Vic2NyaWJlcnMubm90aWZ5KHRoaXMuY3VycmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2hlZHVsZSBhIHZlbG9jaXR5IGNoZWNrIGZvciB0aGUgbmV4dCBmcmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBpcyBhbiBpbnN0YW5jZWQgYW5kIGJvdW5kIGZ1bmN0aW9uIHRvIHByZXZlbnQgZ2VuZXJhdGluZyBhIG5ld1xuICAgICAgICAgKiBmdW5jdGlvbiBvbmNlIHBlciBmcmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjaGVkdWxlVmVsb2NpdHlDaGVjayA9ICgpID0+IHN5bmMucG9zdFJlbmRlcih0aGlzLnZlbG9jaXR5Q2hlY2spO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlcyBgcHJldmAgd2l0aCBgY3VycmVudGAgaWYgdGhlIHZhbHVlIGhhc24ndCBiZWVuIHVwZGF0ZWQgdGhpcyBmcmFtZS5cbiAgICAgICAgICogVGhpcyBlbnN1cmVzIHZlbG9jaXR5IGNhbGN1bGF0aW9ucyByZXR1cm4gYDBgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGlzIGFuIGluc3RhbmNlZCBhbmQgYm91bmQgZnVuY3Rpb24gdG8gcHJldmVudCBnZW5lcmF0aW5nIGEgbmV3XG4gICAgICAgICAqIGZ1bmN0aW9uIG9uY2UgcGVyIGZyYW1lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVsb2NpdHlDaGVjayA9ICh7IHRpbWVzdGFtcCB9KSA9PiB7XG4gICAgICAgICAgICBpZiAodGltZXN0YW1wICE9PSB0aGlzLmxhc3RVcGRhdGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2ID0gdGhpcy5jdXJyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMudmVsb2NpdHlVcGRhdGVTdWJzY3JpYmVycy5ub3RpZnkodGhpcy5nZXRWZWxvY2l0eSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYXNBbmltYXRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnByZXYgPSB0aGlzLmN1cnJlbnQgPSBpbml0O1xuICAgICAgICB0aGlzLmNhblRyYWNrVmVsb2NpdHkgPSBpc0Zsb2F0KHRoaXMuY3VycmVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgbm90aWZpZWQgd2hlbiB0aGUgYE1vdGlvblZhbHVlYCBpcyB1cGRhdGVkLlxuICAgICAqXG4gICAgICogSXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLCB3aWxsIGNhbmNlbCB0aGUgc3Vic2NyaXB0aW9uLlxuICAgICAqXG4gICAgICogV2hlbiBjYWxsaW5nIGBvbkNoYW5nZWAgaW5zaWRlIGEgUmVhY3QgY29tcG9uZW50LCBpdCBzaG91bGQgYmUgd3JhcHBlZCB3aXRoIHRoZVxuICAgICAqIGB1c2VFZmZlY3RgIGhvb2suIEFzIGl0IHJldHVybnMgYW4gdW5zdWJzY3JpYmUgZnVuY3Rpb24sIHRoaXMgc2hvdWxkIGJlIHJldHVybmVkXG4gICAgICogZnJvbSB0aGUgYHVzZUVmZmVjdGAgZnVuY3Rpb24gdG8gZW5zdXJlIHlvdSBkb24ndCBhZGQgZHVwbGljYXRlIHN1YnNjcmliZXJzLi5cbiAgICAgKlxuICAgICAqIGBgYGpzeFxuICAgICAqIGV4cG9ydCBjb25zdCBNeUNvbXBvbmVudCA9ICgpID0+IHtcbiAgICAgKiAgIGNvbnN0IHggPSB1c2VNb3Rpb25WYWx1ZSgwKVxuICAgICAqICAgY29uc3QgeSA9IHVzZU1vdGlvblZhbHVlKDApXG4gICAgICogICBjb25zdCBvcGFjaXR5ID0gdXNlTW90aW9uVmFsdWUoMSlcbiAgICAgKlxuICAgICAqICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgKiAgICAgZnVuY3Rpb24gdXBkYXRlT3BhY2l0eSgpIHtcbiAgICAgKiAgICAgICBjb25zdCBtYXhYWSA9IE1hdGgubWF4KHguZ2V0KCksIHkuZ2V0KCkpXG4gICAgICogICAgICAgY29uc3QgbmV3T3BhY2l0eSA9IHRyYW5zZm9ybShtYXhYWSwgWzAsIDEwMF0sIFsxLCAwXSlcbiAgICAgKiAgICAgICBvcGFjaXR5LnNldChuZXdPcGFjaXR5KVxuICAgICAqICAgICB9XG4gICAgICpcbiAgICAgKiAgICAgY29uc3QgdW5zdWJzY3JpYmVYID0geC5vbkNoYW5nZSh1cGRhdGVPcGFjaXR5KVxuICAgICAqICAgICBjb25zdCB1bnN1YnNjcmliZVkgPSB5Lm9uQ2hhbmdlKHVwZGF0ZU9wYWNpdHkpXG4gICAgICpcbiAgICAgKiAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgKiAgICAgICB1bnN1YnNjcmliZVgoKVxuICAgICAqICAgICAgIHVuc3Vic2NyaWJlWSgpXG4gICAgICogICAgIH1cbiAgICAgKiAgIH0sIFtdKVxuICAgICAqXG4gICAgICogICByZXR1cm4gPG1vdGlvbi5kaXYgc3R5bGU9e3sgeCB9fSAvPlxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwcml2YXRlUmVtYXJrc1xuICAgICAqXG4gICAgICogV2UgY291bGQgbG9vayBpbnRvIGEgYHVzZU9uQ2hhbmdlYCBob29rIGlmIHRoZSBhYm92ZSBsaWZlY3ljbGUgbWFuYWdlbWVudCBwcm92ZXMgY29uZnVzaW5nLlxuICAgICAqXG4gICAgICogYGBganN4XG4gICAgICogdXNlT25DaGFuZ2UoeCwgKCkgPT4ge30pXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3Vic2NyaWJlciAtIEEgZnVuY3Rpb24gdGhhdCByZWNlaXZlcyB0aGUgbGF0ZXN0IHZhbHVlLlxuICAgICAqIEByZXR1cm5zIEEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsIHdpbGwgY2FuY2VsIHRoaXMgc3Vic2NyaXB0aW9uLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIG9uQ2hhbmdlKHN1YnNjcmlwdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVTdWJzY3JpYmVycy5hZGQoc3Vic2NyaXB0aW9uKTtcbiAgICB9XG4gICAgY2xlYXJMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlU3Vic2NyaWJlcnMuY2xlYXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBub3RpZmllZCB3aGVuIHRoZSBgTW90aW9uVmFsdWVgIHJlcXVlc3RzIGEgcmVuZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHN1YnNjcmliZXIgLSBBIGZ1bmN0aW9uIHRoYXQncyBwcm92aWRlZCB0aGUgbGF0ZXN0IHZhbHVlLlxuICAgICAqIEByZXR1cm5zIEEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsIHdpbGwgY2FuY2VsIHRoaXMgc3Vic2NyaXB0aW9uLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgb25SZW5kZXJSZXF1ZXN0KHN1YnNjcmlwdGlvbikge1xuICAgICAgICAvLyBSZW5kZXIgaW1tZWRpYXRlbHlcbiAgICAgICAgc3Vic2NyaXB0aW9uKHRoaXMuZ2V0KCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJTdWJzY3JpYmVycy5hZGQoc3Vic2NyaXB0aW9uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgYSBwYXNzaXZlIGVmZmVjdCB0byB0aGUgYE1vdGlvblZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGF0dGFjaChwYXNzaXZlRWZmZWN0KSB7XG4gICAgICAgIHRoaXMucGFzc2l2ZUVmZmVjdCA9IHBhc3NpdmVFZmZlY3Q7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0YXRlIG9mIHRoZSBgTW90aW9uVmFsdWVgLlxuICAgICAqXG4gICAgICogQHJlbWFya3NcbiAgICAgKlxuICAgICAqIGBgYGpzeFxuICAgICAqIGNvbnN0IHggPSB1c2VNb3Rpb25WYWx1ZSgwKVxuICAgICAqIHguc2V0KDEwKVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGxhdGVzdCAtIExhdGVzdCB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHJlbmRlciAtIFdoZXRoZXIgdG8gbm90aWZ5IHJlbmRlciBzdWJzY3JpYmVycy4gRGVmYXVsdHMgdG8gYHRydWVgXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgc2V0KHYsIHJlbmRlciA9IHRydWUpIHtcbiAgICAgICAgaWYgKCFyZW5kZXIgfHwgIXRoaXMucGFzc2l2ZUVmZmVjdCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBbmROb3RpZnkodiwgcmVuZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGFzc2l2ZUVmZmVjdCh2LCB0aGlzLnVwZGF0ZUFuZE5vdGlmeSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGF0ZXN0IHN0YXRlIG9mIGBNb3Rpb25WYWx1ZWBcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIC0gVGhlIGxhdGVzdCBzdGF0ZSBvZiBgTW90aW9uVmFsdWVgXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZ2V0UHJldmlvdXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZXY7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxhdGVzdCB2ZWxvY2l0eSBvZiBgTW90aW9uVmFsdWVgXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyAtIFRoZSBsYXRlc3QgdmVsb2NpdHkgb2YgYE1vdGlvblZhbHVlYC4gUmV0dXJucyBgMGAgaWYgdGhlIHN0YXRlIGlzIG5vbi1udW1lcmljYWwuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZ2V0VmVsb2NpdHkoKSB7XG4gICAgICAgIC8vIFRoaXMgY291bGQgYmUgaXNGbG9hdCh0aGlzLnByZXYpICYmIGlzRmxvYXQodGhpcy5jdXJyZW50KSwgYnV0IHRoYXQgd291bGQgYmUgd2FzdGVmdWxcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FuVHJhY2tWZWxvY2l0eVxuICAgICAgICAgICAgPyAvLyBUaGVzZSBjYXN0cyBjb3VsZCBiZSBhdm9pZGVkIGlmIHBhcnNlRmxvYXQgd291bGQgYmUgdHlwZWQgYmV0dGVyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHlQZXJTZWNvbmQocGFyc2VGbG9hdCh0aGlzLmN1cnJlbnQpIC1cbiAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdCh0aGlzLnByZXYpLCB0aGlzLnRpbWVEZWx0YSlcbiAgICAgICAgICAgIDogMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgbmV3IGFuaW1hdGlvbiB0byBjb250cm9sIHRoaXMgYE1vdGlvblZhbHVlYC4gT25seSBvbmVcbiAgICAgKiBhbmltYXRpb24gY2FuIGRyaXZlIGEgYE1vdGlvblZhbHVlYCBhdCBvbmUgdGltZS5cbiAgICAgKlxuICAgICAqIGBgYGpzeFxuICAgICAqIHZhbHVlLnN0YXJ0KClcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBhbmltYXRpb24gLSBBIGZ1bmN0aW9uIHRoYXQgc3RhcnRzIHRoZSBwcm92aWRlZCBhbmltYXRpb25cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHN0YXJ0KGFuaW1hdGlvbikge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhc0FuaW1hdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc3RvcEFuaW1hdGlvbiA9IGFuaW1hdGlvbihyZXNvbHZlKTtcbiAgICAgICAgfSkudGhlbigoKSA9PiB0aGlzLmNsZWFyQW5pbWF0aW9uKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdG9wIHRoZSBjdXJyZW50bHkgYWN0aXZlIGFuaW1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAodGhpcy5zdG9wQW5pbWF0aW9uKVxuICAgICAgICAgICAgdGhpcy5zdG9wQW5pbWF0aW9uKCk7XG4gICAgICAgIHRoaXMuY2xlYXJBbmltYXRpb24oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhpcyB2YWx1ZSBpcyBjdXJyZW50bHkgYW5pbWF0aW5nLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGlzQW5pbWF0aW5nKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLnN0b3BBbmltYXRpb247XG4gICAgfVxuICAgIGNsZWFyQW5pbWF0aW9uKCkge1xuICAgICAgICB0aGlzLnN0b3BBbmltYXRpb24gPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBjbGVhbiB1cCBzdWJzY3JpYmVycyB0byB0aGlzIGBNb3Rpb25WYWx1ZWAuXG4gICAgICpcbiAgICAgKiBUaGUgYE1vdGlvblZhbHVlYCBob29rcyBsaWtlIGB1c2VNb3Rpb25WYWx1ZWAgYW5kIGB1c2VUcmFuc2Zvcm1gIGF1dG9tYXRpY2FsbHlcbiAgICAgKiBoYW5kbGUgdGhlIGxpZmVjeWNsZSBvZiB0aGUgcmV0dXJuZWQgYE1vdGlvblZhbHVlYCwgc28gdGhpcyBtZXRob2QgaXMgb25seSBuZWNlc3NhcnkgaWYgeW91J3ZlIG1hbnVhbGx5XG4gICAgICogY3JlYXRlZCBhIGBNb3Rpb25WYWx1ZWAgdmlhIHRoZSBgbW90aW9uVmFsdWVgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMudXBkYXRlU3Vic2NyaWJlcnMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJTdWJzY3JpYmVycy5jbGVhcigpO1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBtb3Rpb25WYWx1ZShpbml0KSB7XG4gICAgcmV0dXJuIG5ldyBNb3Rpb25WYWx1ZShpbml0KTtcbn1cblxuZXhwb3J0IHsgTW90aW9uVmFsdWUsIG1vdGlvblZhbHVlIH07XG4iLCIvKipcbiAqIFRlc3RzIGEgcHJvdmlkZWQgdmFsdWUgYWdhaW5zdCBhIFZhbHVlVHlwZVxuICovXG5jb25zdCB0ZXN0VmFsdWVUeXBlID0gKHYpID0+ICh0eXBlKSA9PiB0eXBlLnRlc3Qodik7XG5cbmV4cG9ydCB7IHRlc3RWYWx1ZVR5cGUgfTtcbiIsImltcG9ydCB7IG51bWJlciwgcHgsIHBlcmNlbnQsIGRlZ3JlZXMsIHZ3LCB2aCB9IGZyb20gJ3N0eWxlLXZhbHVlLXR5cGVzJztcbmltcG9ydCB7IHRlc3RWYWx1ZVR5cGUgfSBmcm9tICcuL3Rlc3QubWpzJztcbmltcG9ydCB7IGF1dG8gfSBmcm9tICcuL3R5cGUtYXV0by5tanMnO1xuXG4vKipcbiAqIEEgbGlzdCBvZiB2YWx1ZSB0eXBlcyBjb21tb25seSB1c2VkIGZvciBkaW1lbnNpb25zXG4gKi9cbmNvbnN0IGRpbWVuc2lvblZhbHVlVHlwZXMgPSBbbnVtYmVyLCBweCwgcGVyY2VudCwgZGVncmVlcywgdncsIHZoLCBhdXRvXTtcbi8qKlxuICogVGVzdHMgYSBkaW1lbnNpb25hbCB2YWx1ZSBhZ2FpbnN0IHRoZSBsaXN0IG9mIGRpbWVuc2lvbiBWYWx1ZVR5cGVzXG4gKi9cbmNvbnN0IGZpbmREaW1lbnNpb25WYWx1ZVR5cGUgPSAodikgPT4gZGltZW5zaW9uVmFsdWVUeXBlcy5maW5kKHRlc3RWYWx1ZVR5cGUodikpO1xuXG5leHBvcnQgeyBkaW1lbnNpb25WYWx1ZVR5cGVzLCBmaW5kRGltZW5zaW9uVmFsdWVUeXBlIH07XG4iLCIvKipcbiAqIFZhbHVlVHlwZSBmb3IgXCJhdXRvXCJcbiAqL1xuY29uc3QgYXV0byA9IHtcbiAgICB0ZXN0OiAodikgPT4gdiA9PT0gXCJhdXRvXCIsXG4gICAgcGFyc2U6ICh2KSA9PiB2LFxufTtcblxuZXhwb3J0IHsgYXV0byB9O1xuIiwiaW1wb3J0IHsgY29sb3IsIGNvbXBsZXggfSBmcm9tICdzdHlsZS12YWx1ZS10eXBlcyc7XG5pbXBvcnQgeyBkaW1lbnNpb25WYWx1ZVR5cGVzIH0gZnJvbSAnLi9kaW1lbnNpb25zLm1qcyc7XG5pbXBvcnQgeyB0ZXN0VmFsdWVUeXBlIH0gZnJvbSAnLi90ZXN0Lm1qcyc7XG5cbi8qKlxuICogQSBsaXN0IG9mIGFsbCBWYWx1ZVR5cGVzXG4gKi9cbmNvbnN0IHZhbHVlVHlwZXMgPSBbLi4uZGltZW5zaW9uVmFsdWVUeXBlcywgY29sb3IsIGNvbXBsZXhdO1xuLyoqXG4gKiBUZXN0cyBhIHZhbHVlIGFnYWluc3QgdGhlIGxpc3Qgb2YgVmFsdWVUeXBlc1xuICovXG5jb25zdCBmaW5kVmFsdWVUeXBlID0gKHYpID0+IHZhbHVlVHlwZXMuZmluZCh0ZXN0VmFsdWVUeXBlKHYpKTtcblxuZXhwb3J0IHsgZmluZFZhbHVlVHlwZSB9O1xuIiwiaW1wb3J0IHsgcmVzb2x2ZVZhcmlhbnRGcm9tUHJvcHMgfSBmcm9tICcuL3Jlc29sdmUtdmFyaWFudHMubWpzJztcblxuLyoqXG4gKiBDcmVhdGVzIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBsYXRlc3Qgc3RhdGUgb2YgZXZlcnkgTW90aW9uVmFsdWUgb24gYSBWaXN1YWxFbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGdldEN1cnJlbnQodmlzdWFsRWxlbWVudCkge1xuICAgIGNvbnN0IGN1cnJlbnQgPSB7fTtcbiAgICB2aXN1YWxFbGVtZW50LmZvckVhY2hWYWx1ZSgodmFsdWUsIGtleSkgPT4gKGN1cnJlbnRba2V5XSA9IHZhbHVlLmdldCgpKSk7XG4gICAgcmV0dXJuIGN1cnJlbnQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGxhdGVzdCB2ZWxvY2l0eSBvZiBldmVyeSBNb3Rpb25WYWx1ZSBvbiBhIFZpc3VhbEVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0VmVsb2NpdHkodmlzdWFsRWxlbWVudCkge1xuICAgIGNvbnN0IHZlbG9jaXR5ID0ge307XG4gICAgdmlzdWFsRWxlbWVudC5mb3JFYWNoVmFsdWUoKHZhbHVlLCBrZXkpID0+ICh2ZWxvY2l0eVtrZXldID0gdmFsdWUuZ2V0VmVsb2NpdHkoKSkpO1xuICAgIHJldHVybiB2ZWxvY2l0eTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVWYXJpYW50KHZpc3VhbEVsZW1lbnQsIGRlZmluaXRpb24sIGN1c3RvbSkge1xuICAgIGNvbnN0IHByb3BzID0gdmlzdWFsRWxlbWVudC5nZXRQcm9wcygpO1xuICAgIHJldHVybiByZXNvbHZlVmFyaWFudEZyb21Qcm9wcyhwcm9wcywgZGVmaW5pdGlvbiwgY3VzdG9tICE9PSB1bmRlZmluZWQgPyBjdXN0b20gOiBwcm9wcy5jdXN0b20sIGdldEN1cnJlbnQodmlzdWFsRWxlbWVudCksIGdldFZlbG9jaXR5KHZpc3VhbEVsZW1lbnQpKTtcbn1cblxuZXhwb3J0IHsgcmVzb2x2ZVZhcmlhbnQgfTtcbiIsImltcG9ydCB7IGNvbXBsZXggfSBmcm9tICdzdHlsZS12YWx1ZS10eXBlcyc7XG5pbXBvcnQgeyBpc051bWVyaWNhbFN0cmluZyB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLW51bWVyaWNhbC1zdHJpbmcubWpzJztcbmltcG9ydCB7IGlzWmVyb1ZhbHVlU3RyaW5nIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMtemVyby12YWx1ZS1zdHJpbmcubWpzJztcbmltcG9ydCB7IHJlc29sdmVGaW5hbFZhbHVlSW5LZXlmcmFtZXMgfSBmcm9tICcuLi8uLi91dGlscy9yZXNvbHZlLXZhbHVlLm1qcyc7XG5pbXBvcnQgeyBtb3Rpb25WYWx1ZSB9IGZyb20gJy4uLy4uL3ZhbHVlL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBnZXRBbmltYXRhYmxlTm9uZSB9IGZyb20gJy4uL2RvbS92YWx1ZS10eXBlcy9hbmltYXRhYmxlLW5vbmUubWpzJztcbmltcG9ydCB7IGZpbmRWYWx1ZVR5cGUgfSBmcm9tICcuLi9kb20vdmFsdWUtdHlwZXMvZmluZC5tanMnO1xuaW1wb3J0IHsgcmVzb2x2ZVZhcmlhbnQgfSBmcm9tICcuL3Jlc29sdmUtZHluYW1pYy12YXJpYW50cy5tanMnO1xuXG4vKipcbiAqIFNldCBWaXN1YWxFbGVtZW50J3MgTW90aW9uVmFsdWUsIGNyZWF0aW5nIGEgbmV3IE1vdGlvblZhbHVlIGZvciBpdCBpZlxuICogaXQgZG9lc24ndCBleGlzdC5cbiAqL1xuZnVuY3Rpb24gc2V0TW90aW9uVmFsdWUodmlzdWFsRWxlbWVudCwga2V5LCB2YWx1ZSkge1xuICAgIGlmICh2aXN1YWxFbGVtZW50Lmhhc1ZhbHVlKGtleSkpIHtcbiAgICAgICAgdmlzdWFsRWxlbWVudC5nZXRWYWx1ZShrZXkpLnNldCh2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2aXN1YWxFbGVtZW50LmFkZFZhbHVlKGtleSwgbW90aW9uVmFsdWUodmFsdWUpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZXRUYXJnZXQodmlzdWFsRWxlbWVudCwgZGVmaW5pdGlvbikge1xuICAgIGNvbnN0IHJlc29sdmVkID0gcmVzb2x2ZVZhcmlhbnQodmlzdWFsRWxlbWVudCwgZGVmaW5pdGlvbik7XG4gICAgbGV0IHsgdHJhbnNpdGlvbkVuZCA9IHt9LCB0cmFuc2l0aW9uID0ge30sIC4uLnRhcmdldCB9ID0gcmVzb2x2ZWQgPyB2aXN1YWxFbGVtZW50Lm1ha2VUYXJnZXRBbmltYXRhYmxlKHJlc29sdmVkLCBmYWxzZSkgOiB7fTtcbiAgICB0YXJnZXQgPSB7IC4uLnRhcmdldCwgLi4udHJhbnNpdGlvbkVuZCB9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHRhcmdldCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHJlc29sdmVGaW5hbFZhbHVlSW5LZXlmcmFtZXModGFyZ2V0W2tleV0pO1xuICAgICAgICBzZXRNb3Rpb25WYWx1ZSh2aXN1YWxFbGVtZW50LCBrZXksIHZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZXRWYXJpYW50cyh2aXN1YWxFbGVtZW50LCB2YXJpYW50TGFiZWxzKSB7XG4gICAgY29uc3QgcmV2ZXJzZWRMYWJlbHMgPSBbLi4udmFyaWFudExhYmVsc10ucmV2ZXJzZSgpO1xuICAgIHJldmVyc2VkTGFiZWxzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHZhcmlhbnQgPSB2aXN1YWxFbGVtZW50LmdldFZhcmlhbnQoa2V5KTtcbiAgICAgICAgdmFyaWFudCAmJiBzZXRUYXJnZXQodmlzdWFsRWxlbWVudCwgdmFyaWFudCk7XG4gICAgICAgIChfYSA9IHZpc3VhbEVsZW1lbnQudmFyaWFudENoaWxkcmVuKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgICAgIHNldFZhcmlhbnRzKGNoaWxkLCB2YXJpYW50TGFiZWxzKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBzZXRWYWx1ZXModmlzdWFsRWxlbWVudCwgZGVmaW5pdGlvbikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGRlZmluaXRpb24pKSB7XG4gICAgICAgIHJldHVybiBzZXRWYXJpYW50cyh2aXN1YWxFbGVtZW50LCBkZWZpbml0aW9uKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGRlZmluaXRpb24gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHNldFZhcmlhbnRzKHZpc3VhbEVsZW1lbnQsIFtkZWZpbml0aW9uXSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzZXRUYXJnZXQodmlzdWFsRWxlbWVudCwgZGVmaW5pdGlvbik7XG4gICAgfVxufVxuZnVuY3Rpb24gY2hlY2tUYXJnZXRGb3JOZXdWYWx1ZXModmlzdWFsRWxlbWVudCwgdGFyZ2V0LCBvcmlnaW4pIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IG5ld1ZhbHVlS2V5cyA9IE9iamVjdC5rZXlzKHRhcmdldCkuZmlsdGVyKChrZXkpID0+ICF2aXN1YWxFbGVtZW50Lmhhc1ZhbHVlKGtleSkpO1xuICAgIGNvbnN0IG51bU5ld1ZhbHVlcyA9IG5ld1ZhbHVlS2V5cy5sZW5ndGg7XG4gICAgaWYgKCFudW1OZXdWYWx1ZXMpXG4gICAgICAgIHJldHVybjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bU5ld1ZhbHVlczsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IG5ld1ZhbHVlS2V5c1tpXTtcbiAgICAgICAgY29uc3QgdGFyZ2V0VmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICAgICAgbGV0IHZhbHVlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSB0YXJnZXQgaXMgYSBzZXJpZXMgb2Yga2V5ZnJhbWVzLCB3ZSBjYW4gdXNlIHRoZSBmaXJzdCB2YWx1ZVxuICAgICAgICAgKiBpbiB0aGUgYXJyYXkuIElmIHRoaXMgZmlyc3QgdmFsdWUgaXMgbnVsbCwgd2UnbGwgc3RpbGwgbmVlZCB0byByZWFkIGZyb20gdGhlIERPTS5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldFZhbHVlKSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0YXJnZXRWYWx1ZVswXTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIHRhcmdldCBpc24ndCBrZXlmcmFtZXMsIG9yIHRoZSBmaXJzdCBrZXlmcmFtZSB3YXMgbnVsbCwgd2UgbmVlZCB0b1xuICAgICAgICAgKiBmaXJzdCBjaGVjayBpZiBhbiBvcmlnaW4gdmFsdWUgd2FzIGV4cGxpY2l0bHkgZGVmaW5lZCBpbiB0aGUgdHJhbnNpdGlvbiBhcyBcImZyb21cIixcbiAgICAgICAgICogaWYgbm90IHJlYWQgdGhlIHZhbHVlIGZyb20gdGhlIERPTS4gQXMgYW4gYWJzb2x1dGUgZmFsbGJhY2ssIHRha2UgdGhlIGRlZmluZWQgdGFyZ2V0IHZhbHVlLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IChfYiA9IChfYSA9IG9yaWdpbltrZXldKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB2aXN1YWxFbGVtZW50LnJlYWRWYWx1ZShrZXkpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0YXJnZXRba2V5XTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdmFsdWUgaXMgc3RpbGwgdW5kZWZpbmVkIG9yIG51bGwsIGlnbm9yZSBpdC4gUHJlZmVyYWJseSB0aGlzIHdvdWxkIHRocm93LFxuICAgICAgICAgKiBidXQgdGhpcyB3YXMgY2F1c2luZyBpc3N1ZXMgaW4gRnJhbWVyLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgKGlzTnVtZXJpY2FsU3RyaW5nKHZhbHVlKSB8fCBpc1plcm9WYWx1ZVN0cmluZyh2YWx1ZSkpKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGlzIGlzIGEgbnVtYmVyIHJlYWQgYXMgYSBzdHJpbmcsIGllIFwiMFwiIG9yIFwiMjAwXCIsIGNvbnZlcnQgaXQgdG8gYSBudW1iZXJcbiAgICAgICAgICAgIHZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWZpbmRWYWx1ZVR5cGUodmFsdWUpICYmIGNvbXBsZXgudGVzdCh0YXJnZXRWYWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gZ2V0QW5pbWF0YWJsZU5vbmUoa2V5LCB0YXJnZXRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmlzdWFsRWxlbWVudC5hZGRWYWx1ZShrZXksIG1vdGlvblZhbHVlKHZhbHVlKSk7XG4gICAgICAgIGlmIChvcmlnaW5ba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvcmlnaW5ba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHZpc3VhbEVsZW1lbnQuc2V0QmFzZVRhcmdldChrZXksIHZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRPcmlnaW5Gcm9tVHJhbnNpdGlvbihrZXksIHRyYW5zaXRpb24pIHtcbiAgICBpZiAoIXRyYW5zaXRpb24pXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCB2YWx1ZVRyYW5zaXRpb24gPSB0cmFuc2l0aW9uW2tleV0gfHwgdHJhbnNpdGlvbltcImRlZmF1bHRcIl0gfHwgdHJhbnNpdGlvbjtcbiAgICByZXR1cm4gdmFsdWVUcmFuc2l0aW9uLmZyb207XG59XG5mdW5jdGlvbiBnZXRPcmlnaW4odGFyZ2V0LCB0cmFuc2l0aW9uLCB2aXN1YWxFbGVtZW50KSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IG9yaWdpbiA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHRhcmdldCkge1xuICAgICAgICBjb25zdCB0cmFuc2l0aW9uT3JpZ2luID0gZ2V0T3JpZ2luRnJvbVRyYW5zaXRpb24oa2V5LCB0cmFuc2l0aW9uKTtcbiAgICAgICAgb3JpZ2luW2tleV0gPVxuICAgICAgICAgICAgdHJhbnNpdGlvbk9yaWdpbiAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyB0cmFuc2l0aW9uT3JpZ2luXG4gICAgICAgICAgICAgICAgOiAoX2EgPSB2aXN1YWxFbGVtZW50LmdldFZhbHVlKGtleSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXQoKTtcbiAgICB9XG4gICAgcmV0dXJuIG9yaWdpbjtcbn1cblxuZXhwb3J0IHsgY2hlY2tUYXJnZXRGb3JOZXdWYWx1ZXMsIGdldE9yaWdpbiwgZ2V0T3JpZ2luRnJvbVRyYW5zaXRpb24sIHNldFRhcmdldCwgc2V0VmFsdWVzIH07XG4iLCJpbXBvcnQgeyBpc01vdGlvblZhbHVlIH0gZnJvbSAnLi4vdXRpbHMvaXMtbW90aW9uLXZhbHVlLm1qcyc7XG5cbmZ1bmN0aW9uIGlzV2lsbENoYW5nZU1vdGlvblZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4oaXNNb3Rpb25WYWx1ZSh2YWx1ZSkgJiYgdmFsdWUuYWRkKTtcbn1cblxuZXhwb3J0IHsgaXNXaWxsQ2hhbmdlTW90aW9uVmFsdWUgfTtcbiIsImltcG9ydCB7IHN0YXJ0QW5pbWF0aW9uIH0gZnJvbSAnLi4vLi4vYW5pbWF0aW9uL3V0aWxzL3RyYW5zaXRpb25zLm1qcyc7XG5pbXBvcnQgeyBzZXRUYXJnZXQgfSBmcm9tICcuL3NldHRlcnMubWpzJztcbmltcG9ydCB7IHJlc29sdmVWYXJpYW50IH0gZnJvbSAnLi9yZXNvbHZlLWR5bmFtaWMtdmFyaWFudHMubWpzJztcbmltcG9ydCB7IHRyYW5zZm9ybVByb3BzIH0gZnJvbSAnLi4vaHRtbC91dGlscy90cmFuc2Zvcm0ubWpzJztcbmltcG9ydCB7IGlzV2lsbENoYW5nZU1vdGlvblZhbHVlIH0gZnJvbSAnLi4vLi4vdmFsdWUvdXNlLXdpbGwtY2hhbmdlL2lzLm1qcyc7XG5cbmZ1bmN0aW9uIGFuaW1hdGVWaXN1YWxFbGVtZW50KHZpc3VhbEVsZW1lbnQsIGRlZmluaXRpb24sIG9wdGlvbnMgPSB7fSkge1xuICAgIHZpc3VhbEVsZW1lbnQubm90aWZ5QW5pbWF0aW9uU3RhcnQoZGVmaW5pdGlvbik7XG4gICAgbGV0IGFuaW1hdGlvbjtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShkZWZpbml0aW9uKSkge1xuICAgICAgICBjb25zdCBhbmltYXRpb25zID0gZGVmaW5pdGlvbi5tYXAoKHZhcmlhbnQpID0+IGFuaW1hdGVWYXJpYW50KHZpc3VhbEVsZW1lbnQsIHZhcmlhbnQsIG9wdGlvbnMpKTtcbiAgICAgICAgYW5pbWF0aW9uID0gUHJvbWlzZS5hbGwoYW5pbWF0aW9ucyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBkZWZpbml0aW9uID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGFuaW1hdGlvbiA9IGFuaW1hdGVWYXJpYW50KHZpc3VhbEVsZW1lbnQsIGRlZmluaXRpb24sIG9wdGlvbnMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWREZWZpbml0aW9uID0gdHlwZW9mIGRlZmluaXRpb24gPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgPyByZXNvbHZlVmFyaWFudCh2aXN1YWxFbGVtZW50LCBkZWZpbml0aW9uLCBvcHRpb25zLmN1c3RvbSlcbiAgICAgICAgICAgIDogZGVmaW5pdGlvbjtcbiAgICAgICAgYW5pbWF0aW9uID0gYW5pbWF0ZVRhcmdldCh2aXN1YWxFbGVtZW50LCByZXNvbHZlZERlZmluaXRpb24sIG9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gYW5pbWF0aW9uLnRoZW4oKCkgPT4gdmlzdWFsRWxlbWVudC5ub3RpZnlBbmltYXRpb25Db21wbGV0ZShkZWZpbml0aW9uKSk7XG59XG5mdW5jdGlvbiBhbmltYXRlVmFyaWFudCh2aXN1YWxFbGVtZW50LCB2YXJpYW50LCBvcHRpb25zID0ge30pIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgcmVzb2x2ZWQgPSByZXNvbHZlVmFyaWFudCh2aXN1YWxFbGVtZW50LCB2YXJpYW50LCBvcHRpb25zLmN1c3RvbSk7XG4gICAgbGV0IHsgdHJhbnNpdGlvbiA9IHZpc3VhbEVsZW1lbnQuZ2V0RGVmYXVsdFRyYW5zaXRpb24oKSB8fCB7fSB9ID0gcmVzb2x2ZWQgfHwge307XG4gICAgaWYgKG9wdGlvbnMudHJhbnNpdGlvbk92ZXJyaWRlKSB7XG4gICAgICAgIHRyYW5zaXRpb24gPSBvcHRpb25zLnRyYW5zaXRpb25PdmVycmlkZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgd2UgaGF2ZSBhIHZhcmlhbnQsIGNyZWF0ZSBhIGNhbGxiYWNrIHRoYXQgcnVucyBpdCBhcyBhbiBhbmltYXRpb24uXG4gICAgICogT3RoZXJ3aXNlLCB3ZSByZXNvbHZlIGEgUHJvbWlzZSBpbW1lZGlhdGVseSBmb3IgYSBjb21wb3NhYmxlIG5vLW9wLlxuICAgICAqL1xuICAgIGNvbnN0IGdldEFuaW1hdGlvbiA9IHJlc29sdmVkXG4gICAgICAgID8gKCkgPT4gYW5pbWF0ZVRhcmdldCh2aXN1YWxFbGVtZW50LCByZXNvbHZlZCwgb3B0aW9ucylcbiAgICAgICAgOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAvKipcbiAgICAgKiBJZiB3ZSBoYXZlIGNoaWxkcmVuLCBjcmVhdGUgYSBjYWxsYmFjayB0aGF0IHJ1bnMgYWxsIHRoZWlyIGFuaW1hdGlvbnMuXG4gICAgICogT3RoZXJ3aXNlLCB3ZSByZXNvbHZlIGEgUHJvbWlzZSBpbW1lZGlhdGVseSBmb3IgYSBjb21wb3NhYmxlIG5vLW9wLlxuICAgICAqL1xuICAgIGNvbnN0IGdldENoaWxkQW5pbWF0aW9ucyA9ICgoX2EgPSB2aXN1YWxFbGVtZW50LnZhcmlhbnRDaGlsZHJlbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNpemUpXG4gICAgICAgID8gKGZvcndhcmREZWxheSA9IDApID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGVsYXlDaGlsZHJlbiA9IDAsIHN0YWdnZXJDaGlsZHJlbiwgc3RhZ2dlckRpcmVjdGlvbiwgfSA9IHRyYW5zaXRpb247XG4gICAgICAgICAgICByZXR1cm4gYW5pbWF0ZUNoaWxkcmVuKHZpc3VhbEVsZW1lbnQsIHZhcmlhbnQsIGRlbGF5Q2hpbGRyZW4gKyBmb3J3YXJkRGVsYXksIHN0YWdnZXJDaGlsZHJlbiwgc3RhZ2dlckRpcmVjdGlvbiwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAvKipcbiAgICAgKiBJZiB0aGUgdHJhbnNpdGlvbiBleHBsaWNpdGx5IGRlZmluZXMgYSBcIndoZW5cIiBvcHRpb24sIHdlIG5lZWQgdG8gcmVzb2x2ZSBlaXRoZXJcbiAgICAgKiB0aGlzIGFuaW1hdGlvbiBvciBhbGwgY2hpbGRyZW4gYW5pbWF0aW9ucyBiZWZvcmUgcGxheWluZyB0aGUgb3RoZXIuXG4gICAgICovXG4gICAgY29uc3QgeyB3aGVuIH0gPSB0cmFuc2l0aW9uO1xuICAgIGlmICh3aGVuKSB7XG4gICAgICAgIGNvbnN0IFtmaXJzdCwgbGFzdF0gPSB3aGVuID09PSBcImJlZm9yZUNoaWxkcmVuXCJcbiAgICAgICAgICAgID8gW2dldEFuaW1hdGlvbiwgZ2V0Q2hpbGRBbmltYXRpb25zXVxuICAgICAgICAgICAgOiBbZ2V0Q2hpbGRBbmltYXRpb25zLCBnZXRBbmltYXRpb25dO1xuICAgICAgICByZXR1cm4gZmlyc3QoKS50aGVuKGxhc3QpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtnZXRBbmltYXRpb24oKSwgZ2V0Q2hpbGRBbmltYXRpb25zKG9wdGlvbnMuZGVsYXkpXSk7XG4gICAgfVxufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gYW5pbWF0ZVRhcmdldCh2aXN1YWxFbGVtZW50LCBkZWZpbml0aW9uLCB7IGRlbGF5ID0gMCwgdHJhbnNpdGlvbk92ZXJyaWRlLCB0eXBlIH0gPSB7fSkge1xuICAgIHZhciBfYTtcbiAgICBsZXQgeyB0cmFuc2l0aW9uID0gdmlzdWFsRWxlbWVudC5nZXREZWZhdWx0VHJhbnNpdGlvbigpLCB0cmFuc2l0aW9uRW5kLCAuLi50YXJnZXQgfSA9IHZpc3VhbEVsZW1lbnQubWFrZVRhcmdldEFuaW1hdGFibGUoZGVmaW5pdGlvbik7XG4gICAgY29uc3Qgd2lsbENoYW5nZSA9IHZpc3VhbEVsZW1lbnQuZ2V0VmFsdWUoXCJ3aWxsQ2hhbmdlXCIpO1xuICAgIGlmICh0cmFuc2l0aW9uT3ZlcnJpZGUpXG4gICAgICAgIHRyYW5zaXRpb24gPSB0cmFuc2l0aW9uT3ZlcnJpZGU7XG4gICAgY29uc3QgYW5pbWF0aW9ucyA9IFtdO1xuICAgIGNvbnN0IGFuaW1hdGlvblR5cGVTdGF0ZSA9IHR5cGUgJiYgKChfYSA9IHZpc3VhbEVsZW1lbnQuYW5pbWF0aW9uU3RhdGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRTdGF0ZSgpW3R5cGVdKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0YXJnZXQpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB2aXN1YWxFbGVtZW50LmdldFZhbHVlKGtleSk7XG4gICAgICAgIGNvbnN0IHZhbHVlVGFyZ2V0ID0gdGFyZ2V0W2tleV07XG4gICAgICAgIGlmICghdmFsdWUgfHxcbiAgICAgICAgICAgIHZhbHVlVGFyZ2V0ID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIChhbmltYXRpb25UeXBlU3RhdGUgJiZcbiAgICAgICAgICAgICAgICBzaG91bGRCbG9ja0FuaW1hdGlvbihhbmltYXRpb25UeXBlU3RhdGUsIGtleSkpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdmFsdWVUcmFuc2l0aW9uID0geyBkZWxheSwgLi4udHJhbnNpdGlvbiB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFrZSBhbmltYXRpb24gaW5zdGFudCBpZiB0aGlzIGlzIGEgdHJhbnNmb3JtIHByb3AgYW5kIHdlIHNob3VsZCByZWR1Y2UgbW90aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHZpc3VhbEVsZW1lbnQuc2hvdWxkUmVkdWNlTW90aW9uICYmIHRyYW5zZm9ybVByb3BzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB2YWx1ZVRyYW5zaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgLi4udmFsdWVUcmFuc2l0aW9uLFxuICAgICAgICAgICAgICAgIHR5cGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRlbGF5OiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYW5pbWF0aW9uID0gc3RhcnRBbmltYXRpb24oa2V5LCB2YWx1ZSwgdmFsdWVUYXJnZXQsIHZhbHVlVHJhbnNpdGlvbik7XG4gICAgICAgIGlmIChpc1dpbGxDaGFuZ2VNb3Rpb25WYWx1ZSh3aWxsQ2hhbmdlKSkge1xuICAgICAgICAgICAgd2lsbENoYW5nZS5hZGQoa2V5KTtcbiAgICAgICAgICAgIGFuaW1hdGlvbiA9IGFuaW1hdGlvbi50aGVuKCgpID0+IHdpbGxDaGFuZ2UucmVtb3ZlKGtleSkpO1xuICAgICAgICB9XG4gICAgICAgIGFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoYW5pbWF0aW9ucykudGhlbigoKSA9PiB7XG4gICAgICAgIHRyYW5zaXRpb25FbmQgJiYgc2V0VGFyZ2V0KHZpc3VhbEVsZW1lbnQsIHRyYW5zaXRpb25FbmQpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gYW5pbWF0ZUNoaWxkcmVuKHZpc3VhbEVsZW1lbnQsIHZhcmlhbnQsIGRlbGF5Q2hpbGRyZW4gPSAwLCBzdGFnZ2VyQ2hpbGRyZW4gPSAwLCBzdGFnZ2VyRGlyZWN0aW9uID0gMSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGFuaW1hdGlvbnMgPSBbXTtcbiAgICBjb25zdCBtYXhTdGFnZ2VyRHVyYXRpb24gPSAodmlzdWFsRWxlbWVudC52YXJpYW50Q2hpbGRyZW4uc2l6ZSAtIDEpICogc3RhZ2dlckNoaWxkcmVuO1xuICAgIGNvbnN0IGdlbmVyYXRlU3RhZ2dlckR1cmF0aW9uID0gc3RhZ2dlckRpcmVjdGlvbiA9PT0gMVxuICAgICAgICA/IChpID0gMCkgPT4gaSAqIHN0YWdnZXJDaGlsZHJlblxuICAgICAgICA6IChpID0gMCkgPT4gbWF4U3RhZ2dlckR1cmF0aW9uIC0gaSAqIHN0YWdnZXJDaGlsZHJlbjtcbiAgICBBcnJheS5mcm9tKHZpc3VhbEVsZW1lbnQudmFyaWFudENoaWxkcmVuKVxuICAgICAgICAuc29ydChzb3J0QnlUcmVlT3JkZXIpXG4gICAgICAgIC5mb3JFYWNoKChjaGlsZCwgaSkgPT4ge1xuICAgICAgICBhbmltYXRpb25zLnB1c2goYW5pbWF0ZVZhcmlhbnQoY2hpbGQsIHZhcmlhbnQsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBkZWxheTogZGVsYXlDaGlsZHJlbiArIGdlbmVyYXRlU3RhZ2dlckR1cmF0aW9uKGkpLFxuICAgICAgICB9KS50aGVuKCgpID0+IGNoaWxkLm5vdGlmeUFuaW1hdGlvbkNvbXBsZXRlKHZhcmlhbnQpKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKGFuaW1hdGlvbnMpO1xufVxuZnVuY3Rpb24gc3RvcEFuaW1hdGlvbih2aXN1YWxFbGVtZW50KSB7XG4gICAgdmlzdWFsRWxlbWVudC5mb3JFYWNoVmFsdWUoKHZhbHVlKSA9PiB2YWx1ZS5zdG9wKCkpO1xufVxuZnVuY3Rpb24gc29ydEJ5VHJlZU9yZGVyKGEsIGIpIHtcbiAgICByZXR1cm4gYS5zb3J0Tm9kZVBvc2l0aW9uKGIpO1xufVxuLyoqXG4gKiBEZWNpZGUgd2hldGhlciB3ZSBzaG91bGQgYmxvY2sgdGhpcyBhbmltYXRpb24uIFByZXZpb3VzbHksIHdlIGFjaGlldmVkIHRoaXNcbiAqIGp1c3QgYnkgY2hlY2tpbmcgd2hldGhlciB0aGUga2V5IHdhcyBsaXN0ZWQgaW4gcHJvdGVjdGVkS2V5cywgYnV0IHRoaXNcbiAqIHBvc2VkIHByb2JsZW1zIGlmIGFuIGFuaW1hdGlvbiB3YXMgdHJpZ2dlcmVkIGJ5IGFmdGVyQ2hpbGRyZW4gYW5kIHByb3RlY3RlZEtleXNcbiAqIGhhZCBiZWVuIHNldCB0byB0cnVlIGluIHRoZSBtZWFudGltZS5cbiAqL1xuZnVuY3Rpb24gc2hvdWxkQmxvY2tBbmltYXRpb24oeyBwcm90ZWN0ZWRLZXlzLCBuZWVkc0FuaW1hdGluZyB9LCBrZXkpIHtcbiAgICBjb25zdCBzaG91bGRCbG9jayA9IHByb3RlY3RlZEtleXMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBuZWVkc0FuaW1hdGluZ1trZXldICE9PSB0cnVlO1xuICAgIG5lZWRzQW5pbWF0aW5nW2tleV0gPSBmYWxzZTtcbiAgICByZXR1cm4gc2hvdWxkQmxvY2s7XG59XG5cbmV4cG9ydCB7IGFuaW1hdGVWaXN1YWxFbGVtZW50LCBzb3J0QnlUcmVlT3JkZXIsIHN0b3BBbmltYXRpb24gfTtcbiIsImltcG9ydCB7IGlzQW5pbWF0aW9uQ29udHJvbHMgfSBmcm9tICcuLi8uLi9hbmltYXRpb24vdXRpbHMvaXMtYW5pbWF0aW9uLWNvbnRyb2xzLm1qcyc7XG5pbXBvcnQgeyBpc0tleWZyYW1lc1RhcmdldCB9IGZyb20gJy4uLy4uL2FuaW1hdGlvbi91dGlscy9pcy1rZXlmcmFtZXMtdGFyZ2V0Lm1qcyc7XG5pbXBvcnQgeyBzaGFsbG93Q29tcGFyZSB9IGZyb20gJy4uLy4uL3V0aWxzL3NoYWxsb3ctY29tcGFyZS5tanMnO1xuaW1wb3J0IHsgYW5pbWF0ZVZpc3VhbEVsZW1lbnQgfSBmcm9tICcuL2FuaW1hdGlvbi5tanMnO1xuaW1wb3J0IHsgaXNWYXJpYW50TGFiZWwgfSBmcm9tICcuL2lzLXZhcmlhbnQtbGFiZWwubWpzJztcbmltcG9ydCB7IEFuaW1hdGlvblR5cGUgfSBmcm9tICcuL3R5cGVzLm1qcyc7XG5pbXBvcnQgeyByZXNvbHZlVmFyaWFudCB9IGZyb20gJy4vcmVzb2x2ZS1keW5hbWljLXZhcmlhbnRzLm1qcyc7XG5cbmNvbnN0IHZhcmlhbnRQcmlvcml0eU9yZGVyID0gW1xuICAgIEFuaW1hdGlvblR5cGUuQW5pbWF0ZSxcbiAgICBBbmltYXRpb25UeXBlLkluVmlldyxcbiAgICBBbmltYXRpb25UeXBlLkZvY3VzLFxuICAgIEFuaW1hdGlvblR5cGUuSG92ZXIsXG4gICAgQW5pbWF0aW9uVHlwZS5UYXAsXG4gICAgQW5pbWF0aW9uVHlwZS5EcmFnLFxuICAgIEFuaW1hdGlvblR5cGUuRXhpdCxcbl07XG5jb25zdCByZXZlcnNlUHJpb3JpdHlPcmRlciA9IFsuLi52YXJpYW50UHJpb3JpdHlPcmRlcl0ucmV2ZXJzZSgpO1xuY29uc3QgbnVtQW5pbWF0aW9uVHlwZXMgPSB2YXJpYW50UHJpb3JpdHlPcmRlci5sZW5ndGg7XG5mdW5jdGlvbiBhbmltYXRlTGlzdCh2aXN1YWxFbGVtZW50KSB7XG4gICAgcmV0dXJuIChhbmltYXRpb25zKSA9PiBQcm9taXNlLmFsbChhbmltYXRpb25zLm1hcCgoeyBhbmltYXRpb24sIG9wdGlvbnMgfSkgPT4gYW5pbWF0ZVZpc3VhbEVsZW1lbnQodmlzdWFsRWxlbWVudCwgYW5pbWF0aW9uLCBvcHRpb25zKSkpO1xufVxuZnVuY3Rpb24gY3JlYXRlQW5pbWF0aW9uU3RhdGUodmlzdWFsRWxlbWVudCkge1xuICAgIGxldCBhbmltYXRlID0gYW5pbWF0ZUxpc3QodmlzdWFsRWxlbWVudCk7XG4gICAgY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSgpO1xuICAgIGxldCBpc0luaXRpYWxSZW5kZXIgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSB1c2VkIHRvIHJlZHVjZSB0aGUgYW5pbWF0aW9uIGRlZmluaXRpb25zIGZvclxuICAgICAqIGVhY2ggYWN0aXZlIGFuaW1hdGlvbiB0eXBlIGludG8gYW4gb2JqZWN0IG9mIHJlc29sdmVkIHZhbHVlcyBmb3IgaXQuXG4gICAgICovXG4gICAgY29uc3QgYnVpbGRSZXNvbHZlZFR5cGVWYWx1ZXMgPSAoYWNjLCBkZWZpbml0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc29sdmVkID0gcmVzb2x2ZVZhcmlhbnQodmlzdWFsRWxlbWVudCwgZGVmaW5pdGlvbik7XG4gICAgICAgIGlmIChyZXNvbHZlZCkge1xuICAgICAgICAgICAgY29uc3QgeyB0cmFuc2l0aW9uLCB0cmFuc2l0aW9uRW5kLCAuLi50YXJnZXQgfSA9IHJlc29sdmVkO1xuICAgICAgICAgICAgYWNjID0geyAuLi5hY2MsIC4uLnRhcmdldCwgLi4udHJhbnNpdGlvbkVuZCB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGp1c3QgYWxsb3dzIHVzIHRvIGluamVjdCBtb2NrZWQgYW5pbWF0aW9uIGZ1bmN0aW9uc1xuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldEFuaW1hdGVGdW5jdGlvbihtYWtlQW5pbWF0b3IpIHtcbiAgICAgICAgYW5pbWF0ZSA9IG1ha2VBbmltYXRvcih2aXN1YWxFbGVtZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hlbiB3ZSByZWNlaXZlIG5ldyBwcm9wcywgd2UgbmVlZCB0bzpcbiAgICAgKiAxLiBDcmVhdGUgYSBsaXN0IG9mIHByb3RlY3RlZCBrZXlzIGZvciBlYWNoIHR5cGUuIFRoaXMgaXMgYSBkaXJlY3Rvcnkgb2ZcbiAgICAgKiAgICB2YWx1ZSBrZXlzIHRoYXQgYXJlIGN1cnJlbnRseSBiZWluZyBcImhhbmRsZWRcIiBieSB0eXBlcyBvZiBhIGhpZ2hlciBwcmlvcml0eVxuICAgICAqICAgIHNvIHRoYXQgd2hlbmV2ZXIgYW4gYW5pbWF0aW9uIGlzIHBsYXllZCBvZiBhIGdpdmVuIHR5cGUsIHRoZXNlIHZhbHVlcyBhcmVcbiAgICAgKiAgICBwcm90ZWN0ZWQgZnJvbSBiZWluZyBhbmltYXRlZC5cbiAgICAgKiAyLiBEZXRlcm1pbmUgaWYgYW4gYW5pbWF0aW9uIHR5cGUgbmVlZHMgYW5pbWF0aW5nLlxuICAgICAqIDMuIERldGVybWluZSBpZiBhbnkgdmFsdWVzIGhhdmUgYmVlbiByZW1vdmVkIGZyb20gYSB0eXBlIGFuZCBmaWd1cmUgb3V0XG4gICAgICogICAgd2hhdCB0byBhbmltYXRlIHRob3NlIHRvLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFuaW1hdGVDaGFuZ2VzKG9wdGlvbnMsIGNoYW5nZWRBY3RpdmVUeXBlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgcHJvcHMgPSB2aXN1YWxFbGVtZW50LmdldFByb3BzKCk7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB2aXN1YWxFbGVtZW50LmdldFZhcmlhbnRDb250ZXh0KHRydWUpIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIGFuaW1hdGlvbnMgdGhhdCB3ZSdsbCBidWlsZCBpbnRvIGFzIHdlIGl0ZXJhdGUgdGhyb3VnaCB0aGUgYW5pbWF0aW9uXG4gICAgICAgICAqIHR5cGVzLiBUaGlzIHdpbGwgZ2V0IGV4ZWN1dGVkIGF0IHRoZSBlbmQgb2YgdGhlIGZ1bmN0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgYW5pbWF0aW9ucyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogS2VlcCB0cmFjayBvZiB3aGljaCB2YWx1ZXMgaGF2ZSBiZWVuIHJlbW92ZWQuIFRoZW4sIGFzIHdlIGhpdCBsb3dlciBwcmlvcml0eVxuICAgICAgICAgKiBhbmltYXRpb24gdHlwZXMsIHdlIGNhbiBjaGVjayBpZiB0aGV5IGNvbnRhaW4gcmVtb3ZlZCB2YWx1ZXMgYW5kIGFuaW1hdGUgdG8gdGhhdC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHJlbW92ZWRLZXlzID0gbmV3IFNldCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBkaWN0aW9uYXJ5IG9mIGFsbCBlbmNvdW50ZXJlZCBrZXlzLiBUaGlzIGlzIGFuIG9iamVjdCB0byBsZXQgdXMgYnVpbGQgaW50byBhbmRcbiAgICAgICAgICogY29weSBpdCB3aXRob3V0IGl0ZXJhdGlvbi4gRWFjaCB0aW1lIHdlIGhpdCBhbiBhbmltYXRpb24gdHlwZSB3ZSBzZXQgaXRzIHByb3RlY3RlZFxuICAgICAgICAgKiBrZXlzIC0gdGhlIGtleXMgaXRzIG5vdCBhbGxvd2VkIHRvIGFuaW1hdGUgLSB0byB0aGUgbGF0ZXN0IHZlcnNpb24gb2YgdGhpcyBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICBsZXQgZW5jb3VudGVyZWRLZXlzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBhIHZhcmlhbnQgaGFzIGJlZW4gcmVtb3ZlZCBhdCBhIGdpdmVuIGluZGV4LCBhbmQgdGhpcyBjb21wb25lbnQgaXMgY29udHJvbGxpbmdcbiAgICAgICAgICogdmFyaWFudCBhbmltYXRpb25zLCB3ZSB3YW50IHRvIGVuc3VyZSBsb3dlci1wcmlvcml0eSB2YXJpYW50cyBhcmUgZm9yY2VkIHRvIGFuaW1hdGUuXG4gICAgICAgICAqL1xuICAgICAgICBsZXQgcmVtb3ZlZFZhcmlhbnRJbmRleCA9IEluZmluaXR5O1xuICAgICAgICAvKipcbiAgICAgICAgICogSXRlcmF0ZSB0aHJvdWdoIGFsbCBhbmltYXRpb24gdHlwZXMgaW4gcmV2ZXJzZSBwcmlvcml0eSBvcmRlci4gRm9yIGVhY2gsIHdlIHdhbnQgdG9cbiAgICAgICAgICogZGV0ZWN0IHdoaWNoIHZhbHVlcyBpdCdzIGhhbmRsaW5nIGFuZCB3aGV0aGVyIG9yIG5vdCB0aGV5J3ZlIGNoYW5nZWQgKGFuZCB0aGVyZWZvcmVcbiAgICAgICAgICogbmVlZCB0byBiZSBhbmltYXRlZCkuIElmIGFueSB2YWx1ZXMgaGF2ZSBiZWVuIHJlbW92ZWQsIHdlIHdhbnQgdG8gZGV0ZWN0IHRob3NlIGluXG4gICAgICAgICAqIGxvd2VyIHByaW9yaXR5IHByb3BzIGFuZCBmbGFnIGZvciBhbmltYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUFuaW1hdGlvblR5cGVzOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSByZXZlcnNlUHJpb3JpdHlPcmRlcltpXTtcbiAgICAgICAgICAgIGNvbnN0IHR5cGVTdGF0ZSA9IHN0YXRlW3R5cGVdO1xuICAgICAgICAgICAgY29uc3QgcHJvcCA9IChfYSA9IHByb3BzW3R5cGVdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjb250ZXh0W3R5cGVdO1xuICAgICAgICAgICAgY29uc3QgcHJvcElzVmFyaWFudCA9IGlzVmFyaWFudExhYmVsKHByb3ApO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0aGlzIHR5cGUgaGFzICpqdXN0KiBjaGFuZ2VkIGlzQWN0aXZlIHN0YXR1cywgc2V0IGFjdGl2ZURlbHRhXG4gICAgICAgICAgICAgKiB0byB0aGF0IHN0YXR1cy4gT3RoZXJ3aXNlIHNldCB0byBudWxsLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBhY3RpdmVEZWx0YSA9IHR5cGUgPT09IGNoYW5nZWRBY3RpdmVUeXBlID8gdHlwZVN0YXRlLmlzQWN0aXZlIDogbnVsbDtcbiAgICAgICAgICAgIGlmIChhY3RpdmVEZWx0YSA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgcmVtb3ZlZFZhcmlhbnRJbmRleCA9IGk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoaXMgcHJvcCBpcyBhbiBpbmhlcml0ZWQgdmFyaWFudCwgcmF0aGVyIHRoYW4gYmVlbiBzZXQgZGlyZWN0bHkgb24gdGhlXG4gICAgICAgICAgICAgKiBjb21wb25lbnQgaXRzZWxmLCB3ZSB3YW50IHRvIG1ha2Ugc3VyZSB3ZSBhbGxvdyB0aGUgcGFyZW50IHRvIHRyaWdnZXIgYW5pbWF0aW9ucy5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBUT0RPOiBDYW4gcHJvYmFibHkgY2hhbmdlIHRoaXMgdG8gYSAhaXNDb250cm9sbGluZ1ZhcmlhbnRzIGNoZWNrXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGxldCBpc0luaGVyaXRlZCA9IHByb3AgPT09IGNvbnRleHRbdHlwZV0gJiYgcHJvcCAhPT0gcHJvcHNbdHlwZV0gJiYgcHJvcElzVmFyaWFudDtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKGlzSW5oZXJpdGVkICYmXG4gICAgICAgICAgICAgICAgaXNJbml0aWFsUmVuZGVyICYmXG4gICAgICAgICAgICAgICAgdmlzdWFsRWxlbWVudC5tYW51YWxseUFuaW1hdGVPbk1vdW50KSB7XG4gICAgICAgICAgICAgICAgaXNJbmhlcml0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2V0IGFsbCBlbmNvdW50ZXJlZCBrZXlzIHNvIGZhciBhcyB0aGUgcHJvdGVjdGVkIGtleXMgZm9yIHRoaXMgdHlwZS4gVGhpcyB3aWxsXG4gICAgICAgICAgICAgKiBiZSBhbnkga2V5IHRoYXQgaGFzIGJlZW4gYW5pbWF0ZWQgb3Igb3RoZXJ3aXNlIGhhbmRsZWQgYnkgYWN0aXZlLCBoaWdoZXItcHJpb3J0aXkgdHlwZXMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHR5cGVTdGF0ZS5wcm90ZWN0ZWRLZXlzID0geyAuLi5lbmNvdW50ZXJlZEtleXMgfTtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlIGNhbiBza2lwIGFuYWx5c2luZyB0aGlzIHByb3AgZWFybHlcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIC8vIElmIGl0IGlzbid0IGFjdGl2ZSBhbmQgaGFzbid0ICpqdXN0KiBiZWVuIHNldCBhcyBpbmFjdGl2ZVxuICAgICAgICAgICAgKCF0eXBlU3RhdGUuaXNBY3RpdmUgJiYgYWN0aXZlRGVsdGEgPT09IG51bGwpIHx8XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgZGlkbid0IGFuZCBkb24ndCBoYXZlIGFueSBkZWZpbmVkIHByb3AgZm9yIHRoaXMgYW5pbWF0aW9uIHR5cGVcbiAgICAgICAgICAgICAgICAoIXByb3AgJiYgIXR5cGVTdGF0ZS5wcmV2UHJvcCkgfHxcbiAgICAgICAgICAgICAgICAvLyBPciBpZiB0aGUgcHJvcCBkb2Vzbid0IGRlZmluZSBhbiBhbmltYXRpb25cbiAgICAgICAgICAgICAgICBpc0FuaW1hdGlvbkNvbnRyb2xzKHByb3ApIHx8XG4gICAgICAgICAgICAgICAgdHlwZW9mIHByb3AgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFzIHdlIGdvIGxvb2sgdGhyb3VnaCB0aGUgdmFsdWVzIGRlZmluZWQgb24gdGhpcyB0eXBlLCBpZiB3ZSBkZXRlY3RcbiAgICAgICAgICAgICAqIGEgY2hhbmdlZCB2YWx1ZSBvciBhIHZhbHVlIHRoYXQgd2FzIHJlbW92ZWQgaW4gYSBoaWdoZXIgcHJpb3JpdHksIHdlIHNldFxuICAgICAgICAgICAgICogdGhpcyB0byB0cnVlIGFuZCBhZGQgdGhpcyBwcm9wIHRvIHRoZSBhbmltYXRpb24gbGlzdC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgdmFyaWFudERpZENoYW5nZSA9IGNoZWNrVmFyaWFudHNEaWRDaGFuZ2UodHlwZVN0YXRlLnByZXZQcm9wLCBwcm9wKTtcbiAgICAgICAgICAgIGxldCBzaG91bGRBbmltYXRlVHlwZSA9IHZhcmlhbnREaWRDaGFuZ2UgfHxcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSdyZSBtYWtpbmcgdGhpcyB2YXJpYW50IGFjdGl2ZSwgd2Ugd2FudCB0byBhbHdheXMgbWFrZSBpdCBhY3RpdmVcbiAgICAgICAgICAgICAgICAodHlwZSA9PT0gY2hhbmdlZEFjdGl2ZVR5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgdHlwZVN0YXRlLmlzQWN0aXZlICYmXG4gICAgICAgICAgICAgICAgICAgICFpc0luaGVyaXRlZCAmJlxuICAgICAgICAgICAgICAgICAgICBwcm9wSXNWYXJpYW50KSB8fFxuICAgICAgICAgICAgICAgIC8vIElmIHdlIHJlbW92ZWQgYSBoaWdoZXItcHJpb3JpdHkgdmFyaWFudCAoaSBpcyBpbiByZXZlcnNlIG9yZGVyKVxuICAgICAgICAgICAgICAgIChpID4gcmVtb3ZlZFZhcmlhbnRJbmRleCAmJiBwcm9wSXNWYXJpYW50KTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQXMgYW5pbWF0aW9ucyBjYW4gYmUgc2V0IGFzIHZhcmlhbnQgbGlzdHMsIHZhcmlhbnRzIG9yIHRhcmdldCBvYmplY3RzLCB3ZVxuICAgICAgICAgICAgICogY29lcmNlIGV2ZXJ5dGhpbmcgdG8gYW4gYXJyYXkgaWYgaXQgaXNuJ3Qgb25lIGFscmVhZHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgZGVmaW5pdGlvbkxpc3QgPSBBcnJheS5pc0FycmF5KHByb3ApID8gcHJvcCA6IFtwcm9wXTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQnVpbGQgYW4gb2JqZWN0IG9mIGFsbCB0aGUgcmVzb2x2ZWQgdmFsdWVzLiBXZSdsbCB1c2UgdGhpcyBpbiB0aGUgc3Vic2VxdWVudFxuICAgICAgICAgICAgICogYW5pbWF0ZUNoYW5nZXMgY2FsbHMgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYSB2YWx1ZSBoYXMgY2hhbmdlZC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbGV0IHJlc29sdmVkVmFsdWVzID0gZGVmaW5pdGlvbkxpc3QucmVkdWNlKGJ1aWxkUmVzb2x2ZWRUeXBlVmFsdWVzLCB7fSk7XG4gICAgICAgICAgICBpZiAoYWN0aXZlRGVsdGEgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgIHJlc29sdmVkVmFsdWVzID0ge307XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIE5vdyB3ZSBuZWVkIHRvIGxvb3AgdGhyb3VnaCBhbGwgdGhlIGtleXMgaW4gdGhlIHByZXYgcHJvcCBhbmQgdGhpcyBwcm9wLFxuICAgICAgICAgICAgICogYW5kIGRlY2lkZTpcbiAgICAgICAgICAgICAqIDEuIElmIHRoZSB2YWx1ZSBoYXMgY2hhbmdlZCwgYW5kIG5lZWRzIGFuaW1hdGluZ1xuICAgICAgICAgICAgICogMi4gSWYgaXQgaGFzIGJlZW4gcmVtb3ZlZCwgYW5kIG5lZWRzIGFkZGluZyB0byB0aGUgcmVtb3ZlZEtleXMgc2V0XG4gICAgICAgICAgICAgKiAzLiBJZiBpdCBoYXMgYmVlbiByZW1vdmVkIGluIGEgaGlnaGVyIHByaW9yaXR5IHR5cGUgYW5kIG5lZWRzIGFuaW1hdGluZ1xuICAgICAgICAgICAgICogNC4gSWYgaXQgaGFzbid0IGJlZW4gcmVtb3ZlZCBpbiBhIGhpZ2hlciBwcmlvcml0eSBidXQgaGFzbid0IGNoYW5nZWQsIGFuZFxuICAgICAgICAgICAgICogICAgbmVlZHMgYWRkaW5nIHRvIHRoZSB0eXBlJ3MgcHJvdGVjdGVkS2V5cyBsaXN0LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCB7IHByZXZSZXNvbHZlZFZhbHVlcyA9IHt9IH0gPSB0eXBlU3RhdGU7XG4gICAgICAgICAgICBjb25zdCBhbGxLZXlzID0ge1xuICAgICAgICAgICAgICAgIC4uLnByZXZSZXNvbHZlZFZhbHVlcyxcbiAgICAgICAgICAgICAgICAuLi5yZXNvbHZlZFZhbHVlcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBtYXJrVG9BbmltYXRlID0gKGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIHNob3VsZEFuaW1hdGVUeXBlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZW1vdmVkS2V5cy5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgICAgICB0eXBlU3RhdGUubmVlZHNBbmltYXRpbmdba2V5XSA9IHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYWxsS2V5cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSByZXNvbHZlZFZhbHVlc1trZXldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBwcmV2UmVzb2x2ZWRWYWx1ZXNba2V5XTtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGhhbmRsZWQgdGhpcyB3ZSBjYW4ganVzdCBza2lwIGFoZWFkXG4gICAgICAgICAgICAgICAgaWYgKGVuY291bnRlcmVkS2V5cy5oYXNPd25Qcm9wZXJ0eShrZXkpKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBJZiB0aGUgdmFsdWUgaGFzIGNoYW5nZWQsIHdlIHByb2JhYmx5IHdhbnQgdG8gYW5pbWF0ZSBpdC5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAobmV4dCAhPT0gcHJldikge1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogSWYgYm90aCB2YWx1ZXMgYXJlIGtleWZyYW1lcywgd2UgbmVlZCB0byBzaGFsbG93IGNvbXBhcmUgdGhlbSB0b1xuICAgICAgICAgICAgICAgICAgICAgKiBkZXRlY3Qgd2hldGhlciBhbnkgdmFsdWUgaGFzIGNoYW5nZWQuIElmIGl0IGhhcywgd2UgYW5pbWF0ZSBpdC5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0tleWZyYW1lc1RhcmdldChuZXh0KSAmJiBpc0tleWZyYW1lc1RhcmdldChwcmV2KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzaGFsbG93Q29tcGFyZShuZXh0LCBwcmV2KSB8fCB2YXJpYW50RGlkQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya1RvQW5pbWF0ZShrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogSWYgaXQgaGFzbid0IGNoYW5nZWQsIHdlIHdhbnQgdG8gZW5zdXJlIGl0IGRvZXNuJ3QgYW5pbWF0ZSBieVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGFkZGluZyBpdCB0byB0aGUgbGlzdCBvZiBwcm90ZWN0ZWQga2V5cy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlU3RhdGUucHJvdGVjdGVkS2V5c1trZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXh0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIG5leHQgaXMgZGVmaW5lZCBhbmQgZG9lc24ndCBlcXVhbCBwcmV2LCBpdCBuZWVkcyBhbmltYXRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtUb0FuaW1hdGUoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgdW5kZWZpbmVkLCBpdCdzIGJlZW4gcmVtb3ZlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZWRLZXlzLmFkZChrZXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5leHQgIT09IHVuZGVmaW5lZCAmJiByZW1vdmVkS2V5cy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogSWYgbmV4dCBoYXNuJ3QgY2hhbmdlZCBhbmQgaXQgaXNuJ3QgdW5kZWZpbmVkLCB3ZSB3YW50IHRvIGNoZWNrIGlmIGl0J3NcbiAgICAgICAgICAgICAgICAgICAgICogYmVlbiByZW1vdmVkIGJ5IGEgaGlnaGVyIHByaW9yaXR5XG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBtYXJrVG9BbmltYXRlKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogSWYgaXQgaGFzbid0IGNoYW5nZWQsIHdlIGFkZCBpdCB0byB0aGUgbGlzdCBvZiBwcm90ZWN0ZWQgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAqIHRvIGVuc3VyZSBpdCBkb2Vzbid0IGdldCBhbmltYXRlZC5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIHR5cGVTdGF0ZS5wcm90ZWN0ZWRLZXlzW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVXBkYXRlIHRoZSB0eXBlU3RhdGUgc28gbmV4dCB0aW1lIGFuaW1hdGVDaGFuZ2VzIGlzIGNhbGxlZCB3ZSBjYW4gY29tcGFyZSB0aGVcbiAgICAgICAgICAgICAqIGxhdGVzdCBwcm9wIGFuZCByZXNvbHZlZFZhbHVlcyB0byB0aGVzZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdHlwZVN0YXRlLnByZXZQcm9wID0gcHJvcDtcbiAgICAgICAgICAgIHR5cGVTdGF0ZS5wcmV2UmVzb2x2ZWRWYWx1ZXMgPSByZXNvbHZlZFZhbHVlcztcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHR5cGVTdGF0ZS5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgICAgIGVuY291bnRlcmVkS2V5cyA9IHsgLi4uZW5jb3VudGVyZWRLZXlzLCAuLi5yZXNvbHZlZFZhbHVlcyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzSW5pdGlhbFJlbmRlciAmJiB2aXN1YWxFbGVtZW50LmJsb2NrSW5pdGlhbEFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgIHNob3VsZEFuaW1hdGVUeXBlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoaXMgaXMgYW4gaW5oZXJpdGVkIHByb3Agd2Ugd2FudCB0byBoYXJkLWJsb2NrIGFuaW1hdGlvbnNcbiAgICAgICAgICAgICAqIFRPRE86IFRlc3QgYXMgdGhpcyBzaG91bGQgcHJvYmFibHkgc3RpbGwgaGFuZGxlIGFuaW1hdGlvbnMgdHJpZ2dlcmVkXG4gICAgICAgICAgICAgKiBieSByZW1vdmVkIHZhbHVlcz9cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHNob3VsZEFuaW1hdGVUeXBlICYmICFpc0luaGVyaXRlZCkge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMucHVzaCguLi5kZWZpbml0aW9uTGlzdC5tYXAoKGFuaW1hdGlvbikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBhbmltYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsgdHlwZSwgLi4ub3B0aW9ucyB9LFxuICAgICAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZXJlIGFyZSBzb21lIHJlbW92ZWQgdmFsdWUgdGhhdCBoYXZlbid0IGJlZW4gZGVhbHQgd2l0aCxcbiAgICAgICAgICogd2UgbmVlZCB0byBjcmVhdGUgYSBuZXcgYW5pbWF0aW9uIHRoYXQgZmFsbHMgYmFjayBlaXRoZXIgdG8gdGhlIHZhbHVlXG4gICAgICAgICAqIGRlZmluZWQgaW4gdGhlIHN0eWxlIHByb3AsIG9yIHRoZSBsYXN0IHJlYWQgdmFsdWUuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAocmVtb3ZlZEtleXMuc2l6ZSkge1xuICAgICAgICAgICAgY29uc3QgZmFsbGJhY2tBbmltYXRpb24gPSB7fTtcbiAgICAgICAgICAgIHJlbW92ZWRLZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrVGFyZ2V0ID0gdmlzdWFsRWxlbWVudC5nZXRCYXNlVGFyZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKGZhbGxiYWNrVGFyZ2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmFsbGJhY2tBbmltYXRpb25ba2V5XSA9IGZhbGxiYWNrVGFyZ2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYW5pbWF0aW9ucy5wdXNoKHsgYW5pbWF0aW9uOiBmYWxsYmFja0FuaW1hdGlvbiB9KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2hvdWxkQW5pbWF0ZSA9IEJvb2xlYW4oYW5pbWF0aW9ucy5sZW5ndGgpO1xuICAgICAgICBpZiAoaXNJbml0aWFsUmVuZGVyICYmXG4gICAgICAgICAgICBwcm9wcy5pbml0aWFsID09PSBmYWxzZSAmJlxuICAgICAgICAgICAgIXZpc3VhbEVsZW1lbnQubWFudWFsbHlBbmltYXRlT25Nb3VudCkge1xuICAgICAgICAgICAgc2hvdWxkQW5pbWF0ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlzSW5pdGlhbFJlbmRlciA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gc2hvdWxkQW5pbWF0ZSA/IGFuaW1hdGUoYW5pbWF0aW9ucykgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlIHdoZXRoZXIgYSBjZXJ0YWluIGFuaW1hdGlvbiB0eXBlIGlzIGFjdGl2ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRBY3RpdmUodHlwZSwgaXNBY3RpdmUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAvLyBJZiB0aGUgYWN0aXZlIHN0YXRlIGhhc24ndCBjaGFuZ2VkLCB3ZSBjYW4gc2FmZWx5IGRvIG5vdGhpbmcgaGVyZVxuICAgICAgICBpZiAoc3RhdGVbdHlwZV0uaXNBY3RpdmUgPT09IGlzQWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAvLyBQcm9wYWdhdGUgYWN0aXZlIGNoYW5nZSB0byBjaGlsZHJlblxuICAgICAgICAoX2EgPSB2aXN1YWxFbGVtZW50LnZhcmlhbnRDaGlsZHJlbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2goKGNoaWxkKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IGNoaWxkLmFuaW1hdGlvblN0YXRlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0QWN0aXZlKHR5cGUsIGlzQWN0aXZlKTsgfSk7XG4gICAgICAgIHN0YXRlW3R5cGVdLmlzQWN0aXZlID0gaXNBY3RpdmU7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbnMgPSBhbmltYXRlQ2hhbmdlcyhvcHRpb25zLCB0eXBlKTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc3RhdGUpIHtcbiAgICAgICAgICAgIHN0YXRlW2tleV0ucHJvdGVjdGVkS2V5cyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhbmltYXRpb25zO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhbmltYXRlQ2hhbmdlcyxcbiAgICAgICAgc2V0QWN0aXZlLFxuICAgICAgICBzZXRBbmltYXRlRnVuY3Rpb24sXG4gICAgICAgIGdldFN0YXRlOiAoKSA9PiBzdGF0ZSxcbiAgICB9O1xufVxuZnVuY3Rpb24gY2hlY2tWYXJpYW50c0RpZENoYW5nZShwcmV2LCBuZXh0KSB7XG4gICAgaWYgKHR5cGVvZiBuZXh0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBuZXh0ICE9PSBwcmV2O1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KG5leHQpKSB7XG4gICAgICAgIHJldHVybiAhc2hhbGxvd0NvbXBhcmUobmV4dCwgcHJldik7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVR5cGVTdGF0ZShpc0FjdGl2ZSA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaXNBY3RpdmUsXG4gICAgICAgIHByb3RlY3RlZEtleXM6IHt9LFxuICAgICAgICBuZWVkc0FuaW1hdGluZzoge30sXG4gICAgICAgIHByZXZSZXNvbHZlZFZhbHVlczoge30sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIFtBbmltYXRpb25UeXBlLkFuaW1hdGVdOiBjcmVhdGVUeXBlU3RhdGUodHJ1ZSksXG4gICAgICAgIFtBbmltYXRpb25UeXBlLkluVmlld106IGNyZWF0ZVR5cGVTdGF0ZSgpLFxuICAgICAgICBbQW5pbWF0aW9uVHlwZS5Ib3Zlcl06IGNyZWF0ZVR5cGVTdGF0ZSgpLFxuICAgICAgICBbQW5pbWF0aW9uVHlwZS5UYXBdOiBjcmVhdGVUeXBlU3RhdGUoKSxcbiAgICAgICAgW0FuaW1hdGlvblR5cGUuRHJhZ106IGNyZWF0ZVR5cGVTdGF0ZSgpLFxuICAgICAgICBbQW5pbWF0aW9uVHlwZS5Gb2N1c106IGNyZWF0ZVR5cGVTdGF0ZSgpLFxuICAgICAgICBbQW5pbWF0aW9uVHlwZS5FeGl0XTogY3JlYXRlVHlwZVN0YXRlKCksXG4gICAgfTtcbn1cblxuZXhwb3J0IHsgY2hlY2tWYXJpYW50c0RpZENoYW5nZSwgY3JlYXRlQW5pbWF0aW9uU3RhdGUsIHZhcmlhbnRQcmlvcml0eU9yZGVyIH07XG4iLCJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBpc0FuaW1hdGlvbkNvbnRyb2xzIH0gZnJvbSAnLi4vLi4vYW5pbWF0aW9uL3V0aWxzL2lzLWFuaW1hdGlvbi1jb250cm9scy5tanMnO1xuaW1wb3J0IHsgdXNlUHJlc2VuY2UgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL0FuaW1hdGVQcmVzZW5jZS91c2UtcHJlc2VuY2UubWpzJztcbmltcG9ydCB7IFByZXNlbmNlQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvUHJlc2VuY2VDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbmltYXRpb25TdGF0ZSB9IGZyb20gJy4uLy4uL3JlbmRlci91dGlscy9hbmltYXRpb24tc3RhdGUubWpzJztcbmltcG9ydCB7IEFuaW1hdGlvblR5cGUgfSBmcm9tICcuLi8uLi9yZW5kZXIvdXRpbHMvdHlwZXMubWpzJztcbmltcG9ydCB7IG1ha2VSZW5kZXJsZXNzQ29tcG9uZW50IH0gZnJvbSAnLi4vdXRpbHMvbWFrZS1yZW5kZXJsZXNzLWNvbXBvbmVudC5tanMnO1xuXG5jb25zdCBhbmltYXRpb25zID0ge1xuICAgIGFuaW1hdGlvbjogbWFrZVJlbmRlcmxlc3NDb21wb25lbnQoKHsgdmlzdWFsRWxlbWVudCwgYW5pbWF0ZSB9KSA9PiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXZSBkeW5hbWljYWxseSBnZW5lcmF0ZSB0aGUgQW5pbWF0aW9uU3RhdGUgbWFuYWdlciBhcyBpdCBjb250YWlucyBhIHJlZmVyZW5jZVxuICAgICAgICAgKiB0byB0aGUgdW5kZXJseWluZyBhbmltYXRpb24gbGlicmFyeS4gV2Ugb25seSB3YW50IHRvIGxvYWQgdGhhdCBpZiB3ZSBsb2FkIHRoaXMsXG4gICAgICAgICAqIHNvIHBlb3BsZSBjYW4gb3B0aW9uYWxseSBjb2RlIHNwbGl0IGl0IG91dCB1c2luZyB0aGUgYG1gIGNvbXBvbmVudC5cbiAgICAgICAgICovXG4gICAgICAgIHZpc3VhbEVsZW1lbnQuYW5pbWF0aW9uU3RhdGUgfHwgKHZpc3VhbEVsZW1lbnQuYW5pbWF0aW9uU3RhdGUgPSBjcmVhdGVBbmltYXRpb25TdGF0ZSh2aXN1YWxFbGVtZW50KSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdWJzY3JpYmUgYW55IHByb3ZpZGVkIEFuaW1hdGlvbkNvbnRyb2xzIHRvIHRoZSBjb21wb25lbnQncyBWaXN1YWxFbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICBpZiAoaXNBbmltYXRpb25Db250cm9scyhhbmltYXRlKSkge1xuICAgICAgICAgICAgdXNlRWZmZWN0KCgpID0+IGFuaW1hdGUuc3Vic2NyaWJlKHZpc3VhbEVsZW1lbnQpLCBbYW5pbWF0ZV0pO1xuICAgICAgICB9XG4gICAgfSksXG4gICAgZXhpdDogbWFrZVJlbmRlcmxlc3NDb21wb25lbnQoKHByb3BzKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgY3VzdG9tLCB2aXN1YWxFbGVtZW50IH0gPSBwcm9wcztcbiAgICAgICAgY29uc3QgW2lzUHJlc2VudCwgc2FmZVRvUmVtb3ZlXSA9IHVzZVByZXNlbmNlKCk7XG4gICAgICAgIGNvbnN0IHByZXNlbmNlQ29udGV4dCA9IHVzZUNvbnRleHQoUHJlc2VuY2VDb250ZXh0KTtcbiAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQuaXNQcmVzZW50ID0gaXNQcmVzZW50O1xuICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gdmlzdWFsRWxlbWVudC5hbmltYXRpb25TdGF0ZSAmJlxuICAgICAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQuYW5pbWF0aW9uU3RhdGUuc2V0QWN0aXZlKEFuaW1hdGlvblR5cGUuRXhpdCwgIWlzUHJlc2VudCwge1xuICAgICAgICAgICAgICAgICAgICBjdXN0b206IChwcmVzZW5jZUNvbnRleHQgJiYgcHJlc2VuY2VDb250ZXh0LmN1c3RvbSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChhbmltYXRpb24gJiYgIWlzUHJlc2VudCkge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi50aGVuKHNhZmVUb1JlbW92ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIFtpc1ByZXNlbnRdKTtcbiAgICB9KSxcbn07XG5cbmV4cG9ydCB7IGFuaW1hdGlvbnMgfTtcbiIsImNvbnN0IGlzUG9pbnQgPSAocG9pbnQpID0+IHBvaW50Lmhhc093blByb3BlcnR5KCd4JykgJiYgcG9pbnQuaGFzT3duUHJvcGVydHkoJ3knKTtcblxuZXhwb3J0IHsgaXNQb2ludCB9O1xuIiwiaW1wb3J0IHsgaXNQb2ludCB9IGZyb20gJy4vaXMtcG9pbnQubWpzJztcblxuY29uc3QgaXNQb2ludDNEID0gKHBvaW50KSA9PiBpc1BvaW50KHBvaW50KSAmJiBwb2ludC5oYXNPd25Qcm9wZXJ0eSgneicpO1xuXG5leHBvcnQgeyBpc1BvaW50M0QgfTtcbiIsImltcG9ydCB7IGlzUG9pbnQgfSBmcm9tICcuL2lzLXBvaW50Lm1qcyc7XG5pbXBvcnQgeyBpc1BvaW50M0QgfSBmcm9tICcuL2lzLXBvaW50LTNkLm1qcyc7XG5pbXBvcnQgeyBpc051bSB9IGZyb20gJy4vaW5jLm1qcyc7XG5cbmNvbnN0IGRpc3RhbmNlMUQgPSAoYSwgYikgPT4gTWF0aC5hYnMoYSAtIGIpO1xuZnVuY3Rpb24gZGlzdGFuY2UoYSwgYikge1xuICAgIGlmIChpc051bShhKSAmJiBpc051bShiKSkge1xuICAgICAgICByZXR1cm4gZGlzdGFuY2UxRChhLCBiKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNQb2ludChhKSAmJiBpc1BvaW50KGIpKSB7XG4gICAgICAgIGNvbnN0IHhEZWx0YSA9IGRpc3RhbmNlMUQoYS54LCBiLngpO1xuICAgICAgICBjb25zdCB5RGVsdGEgPSBkaXN0YW5jZTFEKGEueSwgYi55KTtcbiAgICAgICAgY29uc3QgekRlbHRhID0gaXNQb2ludDNEKGEpICYmIGlzUG9pbnQzRChiKSA/IGRpc3RhbmNlMUQoYS56LCBiLnopIDogMDtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyh4RGVsdGEsIDIpICsgTWF0aC5wb3coeURlbHRhLCAyKSArIE1hdGgucG93KHpEZWx0YSwgMikpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgZGlzdGFuY2UgfTtcbiIsImltcG9ydCB7IGlzTW91c2VFdmVudCwgaXNUb3VjaEV2ZW50IH0gZnJvbSAnLi91dGlscy9ldmVudC10eXBlLm1qcyc7XG5pbXBvcnQgeyBleHRyYWN0RXZlbnRJbmZvIH0gZnJvbSAnLi4vZXZlbnRzL2V2ZW50LWluZm8ubWpzJztcbmltcG9ydCBzeW5jLCB7IGdldEZyYW1lRGF0YSwgY2FuY2VsU3luYyB9IGZyb20gJ2ZyYW1lc3luYyc7XG5pbXBvcnQgeyBzZWNvbmRzVG9NaWxsaXNlY29uZHMgfSBmcm9tICcuLi91dGlscy90aW1lLWNvbnZlcnNpb24ubWpzJztcbmltcG9ydCB7IGFkZFBvaW50ZXJFdmVudCB9IGZyb20gJy4uL2V2ZW50cy91c2UtcG9pbnRlci1ldmVudC5tanMnO1xuaW1wb3J0IHsgZGlzdGFuY2UsIHBpcGUgfSBmcm9tICdwb3Btb3Rpb24nO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5jbGFzcyBQYW5TZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcihldmVudCwgaGFuZGxlcnMsIHsgdHJhbnNmb3JtUGFnZVBvaW50IH0gPSB7fSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0RXZlbnQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxhc3RNb3ZlRXZlbnQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxhc3RNb3ZlRXZlbnRJbmZvID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuICAgICAgICB0aGlzLnVwZGF0ZVBvaW50ID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCEodGhpcy5sYXN0TW92ZUV2ZW50ICYmIHRoaXMubGFzdE1vdmVFdmVudEluZm8pKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IGluZm8gPSBnZXRQYW5JbmZvKHRoaXMubGFzdE1vdmVFdmVudEluZm8sIHRoaXMuaGlzdG9yeSk7XG4gICAgICAgICAgICBjb25zdCBpc1BhblN0YXJ0ZWQgPSB0aGlzLnN0YXJ0RXZlbnQgIT09IG51bGw7XG4gICAgICAgICAgICAvLyBPbmx5IHN0YXJ0IHBhbm5pbmcgaWYgdGhlIG9mZnNldCBpcyBsYXJnZXIgdGhhbiAzIHBpeGVscy4gSWYgd2UgbWFrZSBpdFxuICAgICAgICAgICAgLy8gYW55IGxhcmdlciB0aGFuIHRoaXMgd2UnbGwgd2FudCB0byByZXNldCB0aGUgcG9pbnRlciBoaXN0b3J5XG4gICAgICAgICAgICAvLyBvbiB0aGUgZmlyc3QgdXBkYXRlIHRvIGF2b2lkIHZpc3VhbCBzbmFwcGluZyB0byB0aGUgY3Vyc29lLlxuICAgICAgICAgICAgY29uc3QgaXNEaXN0YW5jZVBhc3RUaHJlc2hvbGQgPSBkaXN0YW5jZShpbmZvLm9mZnNldCwgeyB4OiAwLCB5OiAwIH0pID49IDM7XG4gICAgICAgICAgICBpZiAoIWlzUGFuU3RhcnRlZCAmJiAhaXNEaXN0YW5jZVBhc3RUaHJlc2hvbGQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgeyBwb2ludCB9ID0gaW5mbztcbiAgICAgICAgICAgIGNvbnN0IHsgdGltZXN0YW1wIH0gPSBnZXRGcmFtZURhdGEoKTtcbiAgICAgICAgICAgIHRoaXMuaGlzdG9yeS5wdXNoKHsgLi4ucG9pbnQsIHRpbWVzdGFtcCB9KTtcbiAgICAgICAgICAgIGNvbnN0IHsgb25TdGFydCwgb25Nb3ZlIH0gPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICAgICAgaWYgKCFpc1BhblN0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICBvblN0YXJ0ICYmIG9uU3RhcnQodGhpcy5sYXN0TW92ZUV2ZW50LCBpbmZvKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0RXZlbnQgPSB0aGlzLmxhc3RNb3ZlRXZlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvbk1vdmUgJiYgb25Nb3ZlKHRoaXMubGFzdE1vdmVFdmVudCwgaW5mbyk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlUG9pbnRlck1vdmUgPSAoZXZlbnQsIGluZm8pID0+IHtcbiAgICAgICAgICAgIHRoaXMubGFzdE1vdmVFdmVudCA9IGV2ZW50O1xuICAgICAgICAgICAgdGhpcy5sYXN0TW92ZUV2ZW50SW5mbyA9IHRyYW5zZm9ybVBvaW50KGluZm8sIHRoaXMudHJhbnNmb3JtUGFnZVBvaW50KTtcbiAgICAgICAgICAgIC8vIEJlY2F1c2UgU2FmYXJpIGRvZXNuJ3QgdHJpZ2dlciBtb3VzZXVwIGV2ZW50cyB3aGVuIGl0J3MgYWJvdmUgYSBgPHNlbGVjdD5gXG4gICAgICAgICAgICBpZiAoaXNNb3VzZUV2ZW50KGV2ZW50KSAmJiBldmVudC5idXR0b25zID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVQb2ludGVyVXAoZXZlbnQsIGluZm8pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRocm90dGxlIG1vdXNlIG1vdmUgZXZlbnQgdG8gb25jZSBwZXIgZnJhbWVcbiAgICAgICAgICAgIHN5bmMudXBkYXRlKHRoaXMudXBkYXRlUG9pbnQsIHRydWUpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZVBvaW50ZXJVcCA9IChldmVudCwgaW5mbykgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbmQoKTtcbiAgICAgICAgICAgIGNvbnN0IHsgb25FbmQsIG9uU2Vzc2lvbkVuZCB9ID0gdGhpcy5oYW5kbGVycztcbiAgICAgICAgICAgIGNvbnN0IHBhbkluZm8gPSBnZXRQYW5JbmZvKHRyYW5zZm9ybVBvaW50KGluZm8sIHRoaXMudHJhbnNmb3JtUGFnZVBvaW50KSwgdGhpcy5oaXN0b3J5KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXJ0RXZlbnQgJiYgb25FbmQpIHtcbiAgICAgICAgICAgICAgICBvbkVuZChldmVudCwgcGFuSW5mbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvblNlc3Npb25FbmQgJiYgb25TZXNzaW9uRW5kKGV2ZW50LCBwYW5JbmZvKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBtb3JlIHRoYW4gb25lIHRvdWNoLCBkb24ndCBzdGFydCBkZXRlY3RpbmcgdGhpcyBnZXN0dXJlXG4gICAgICAgIGlmIChpc1RvdWNoRXZlbnQoZXZlbnQpICYmIGV2ZW50LnRvdWNoZXMubGVuZ3RoID4gMSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IGhhbmRsZXJzO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybVBhZ2VQb2ludCA9IHRyYW5zZm9ybVBhZ2VQb2ludDtcbiAgICAgICAgY29uc3QgaW5mbyA9IGV4dHJhY3RFdmVudEluZm8oZXZlbnQpO1xuICAgICAgICBjb25zdCBpbml0aWFsSW5mbyA9IHRyYW5zZm9ybVBvaW50KGluZm8sIHRoaXMudHJhbnNmb3JtUGFnZVBvaW50KTtcbiAgICAgICAgY29uc3QgeyBwb2ludCB9ID0gaW5pdGlhbEluZm87XG4gICAgICAgIGNvbnN0IHsgdGltZXN0YW1wIH0gPSBnZXRGcmFtZURhdGEoKTtcbiAgICAgICAgdGhpcy5oaXN0b3J5ID0gW3sgLi4ucG9pbnQsIHRpbWVzdGFtcCB9XTtcbiAgICAgICAgY29uc3QgeyBvblNlc3Npb25TdGFydCB9ID0gaGFuZGxlcnM7XG4gICAgICAgIG9uU2Vzc2lvblN0YXJ0ICYmXG4gICAgICAgICAgICBvblNlc3Npb25TdGFydChldmVudCwgZ2V0UGFuSW5mbyhpbml0aWFsSW5mbywgdGhpcy5oaXN0b3J5KSk7XG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXJzID0gcGlwZShhZGRQb2ludGVyRXZlbnQod2luZG93LCBcInBvaW50ZXJtb3ZlXCIsIHRoaXMuaGFuZGxlUG9pbnRlck1vdmUpLCBhZGRQb2ludGVyRXZlbnQod2luZG93LCBcInBvaW50ZXJ1cFwiLCB0aGlzLmhhbmRsZVBvaW50ZXJVcCksIGFkZFBvaW50ZXJFdmVudCh3aW5kb3csIFwicG9pbnRlcmNhbmNlbFwiLCB0aGlzLmhhbmRsZVBvaW50ZXJVcCkpO1xuICAgIH1cbiAgICB1cGRhdGVIYW5kbGVycyhoYW5kbGVycykge1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gaGFuZGxlcnM7XG4gICAgfVxuICAgIGVuZCgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcnMgJiYgdGhpcy5yZW1vdmVMaXN0ZW5lcnMoKTtcbiAgICAgICAgY2FuY2VsU3luYy51cGRhdGUodGhpcy51cGRhdGVQb2ludCk7XG4gICAgfVxufVxuZnVuY3Rpb24gdHJhbnNmb3JtUG9pbnQoaW5mbywgdHJhbnNmb3JtUGFnZVBvaW50KSB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybVBhZ2VQb2ludCA/IHsgcG9pbnQ6IHRyYW5zZm9ybVBhZ2VQb2ludChpbmZvLnBvaW50KSB9IDogaW5mbztcbn1cbmZ1bmN0aW9uIHN1YnRyYWN0UG9pbnQoYSwgYikge1xuICAgIHJldHVybiB7IHg6IGEueCAtIGIueCwgeTogYS55IC0gYi55IH07XG59XG5mdW5jdGlvbiBnZXRQYW5JbmZvKHsgcG9pbnQgfSwgaGlzdG9yeSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHBvaW50LFxuICAgICAgICBkZWx0YTogc3VidHJhY3RQb2ludChwb2ludCwgbGFzdERldmljZVBvaW50KGhpc3RvcnkpKSxcbiAgICAgICAgb2Zmc2V0OiBzdWJ0cmFjdFBvaW50KHBvaW50LCBzdGFydERldmljZVBvaW50KGhpc3RvcnkpKSxcbiAgICAgICAgdmVsb2NpdHk6IGdldFZlbG9jaXR5KGhpc3RvcnksIDAuMSksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHN0YXJ0RGV2aWNlUG9pbnQoaGlzdG9yeSkge1xuICAgIHJldHVybiBoaXN0b3J5WzBdO1xufVxuZnVuY3Rpb24gbGFzdERldmljZVBvaW50KGhpc3RvcnkpIHtcbiAgICByZXR1cm4gaGlzdG9yeVtoaXN0b3J5Lmxlbmd0aCAtIDFdO1xufVxuZnVuY3Rpb24gZ2V0VmVsb2NpdHkoaGlzdG9yeSwgdGltZURlbHRhKSB7XG4gICAgaWYgKGhpc3RvcnkubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAwIH07XG4gICAgfVxuICAgIGxldCBpID0gaGlzdG9yeS5sZW5ndGggLSAxO1xuICAgIGxldCB0aW1lc3RhbXBlZFBvaW50ID0gbnVsbDtcbiAgICBjb25zdCBsYXN0UG9pbnQgPSBsYXN0RGV2aWNlUG9pbnQoaGlzdG9yeSk7XG4gICAgd2hpbGUgKGkgPj0gMCkge1xuICAgICAgICB0aW1lc3RhbXBlZFBvaW50ID0gaGlzdG9yeVtpXTtcbiAgICAgICAgaWYgKGxhc3RQb2ludC50aW1lc3RhbXAgLSB0aW1lc3RhbXBlZFBvaW50LnRpbWVzdGFtcCA+XG4gICAgICAgICAgICBzZWNvbmRzVG9NaWxsaXNlY29uZHModGltZURlbHRhKSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaS0tO1xuICAgIH1cbiAgICBpZiAoIXRpbWVzdGFtcGVkUG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCB9O1xuICAgIH1cbiAgICBjb25zdCB0aW1lID0gKGxhc3RQb2ludC50aW1lc3RhbXAgLSB0aW1lc3RhbXBlZFBvaW50LnRpbWVzdGFtcCkgLyAxMDAwO1xuICAgIGlmICh0aW1lID09PSAwKSB7XG4gICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAgfTtcbiAgICB9XG4gICAgY29uc3QgY3VycmVudFZlbG9jaXR5ID0ge1xuICAgICAgICB4OiAobGFzdFBvaW50LnggLSB0aW1lc3RhbXBlZFBvaW50LngpIC8gdGltZSxcbiAgICAgICAgeTogKGxhc3RQb2ludC55IC0gdGltZXN0YW1wZWRQb2ludC55KSAvIHRpbWUsXG4gICAgfTtcbiAgICBpZiAoY3VycmVudFZlbG9jaXR5LnggPT09IEluZmluaXR5KSB7XG4gICAgICAgIGN1cnJlbnRWZWxvY2l0eS54ID0gMDtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRWZWxvY2l0eS55ID09PSBJbmZpbml0eSkge1xuICAgICAgICBjdXJyZW50VmVsb2NpdHkueSA9IDA7XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50VmVsb2NpdHk7XG59XG5cbmV4cG9ydCB7IFBhblNlc3Npb24gfTtcbiIsImltcG9ydCB7IG1peCwgZGlzdGFuY2UgfSBmcm9tICdwb3Btb3Rpb24nO1xuXG5mdW5jdGlvbiBjYWxjTGVuZ3RoKGF4aXMpIHtcbiAgICByZXR1cm4gYXhpcy5tYXggLSBheGlzLm1pbjtcbn1cbmZ1bmN0aW9uIGlzTmVhcih2YWx1ZSwgdGFyZ2V0ID0gMCwgbWF4RGlzdGFuY2UgPSAwLjAxKSB7XG4gICAgcmV0dXJuIGRpc3RhbmNlKHZhbHVlLCB0YXJnZXQpIDwgbWF4RGlzdGFuY2U7XG59XG5mdW5jdGlvbiBjYWxjQXhpc0RlbHRhKGRlbHRhLCBzb3VyY2UsIHRhcmdldCwgb3JpZ2luID0gMC41KSB7XG4gICAgZGVsdGEub3JpZ2luID0gb3JpZ2luO1xuICAgIGRlbHRhLm9yaWdpblBvaW50ID0gbWl4KHNvdXJjZS5taW4sIHNvdXJjZS5tYXgsIGRlbHRhLm9yaWdpbik7XG4gICAgZGVsdGEuc2NhbGUgPSBjYWxjTGVuZ3RoKHRhcmdldCkgLyBjYWxjTGVuZ3RoKHNvdXJjZSk7XG4gICAgaWYgKGlzTmVhcihkZWx0YS5zY2FsZSwgMSwgMC4wMDAxKSB8fCBpc05hTihkZWx0YS5zY2FsZSkpXG4gICAgICAgIGRlbHRhLnNjYWxlID0gMTtcbiAgICBkZWx0YS50cmFuc2xhdGUgPVxuICAgICAgICBtaXgodGFyZ2V0Lm1pbiwgdGFyZ2V0Lm1heCwgZGVsdGEub3JpZ2luKSAtIGRlbHRhLm9yaWdpblBvaW50O1xuICAgIGlmIChpc05lYXIoZGVsdGEudHJhbnNsYXRlKSB8fCBpc05hTihkZWx0YS50cmFuc2xhdGUpKVxuICAgICAgICBkZWx0YS50cmFuc2xhdGUgPSAwO1xufVxuZnVuY3Rpb24gY2FsY0JveERlbHRhKGRlbHRhLCBzb3VyY2UsIHRhcmdldCwgb3JpZ2luKSB7XG4gICAgY2FsY0F4aXNEZWx0YShkZWx0YS54LCBzb3VyY2UueCwgdGFyZ2V0LngsIG9yaWdpbiA9PT0gbnVsbCB8fCBvcmlnaW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9yaWdpbi5vcmlnaW5YKTtcbiAgICBjYWxjQXhpc0RlbHRhKGRlbHRhLnksIHNvdXJjZS55LCB0YXJnZXQueSwgb3JpZ2luID09PSBudWxsIHx8IG9yaWdpbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3JpZ2luLm9yaWdpblkpO1xufVxuZnVuY3Rpb24gY2FsY1JlbGF0aXZlQXhpcyh0YXJnZXQsIHJlbGF0aXZlLCBwYXJlbnQpIHtcbiAgICB0YXJnZXQubWluID0gcGFyZW50Lm1pbiArIHJlbGF0aXZlLm1pbjtcbiAgICB0YXJnZXQubWF4ID0gdGFyZ2V0Lm1pbiArIGNhbGNMZW5ndGgocmVsYXRpdmUpO1xufVxuZnVuY3Rpb24gY2FsY1JlbGF0aXZlQm94KHRhcmdldCwgcmVsYXRpdmUsIHBhcmVudCkge1xuICAgIGNhbGNSZWxhdGl2ZUF4aXModGFyZ2V0LngsIHJlbGF0aXZlLngsIHBhcmVudC54KTtcbiAgICBjYWxjUmVsYXRpdmVBeGlzKHRhcmdldC55LCByZWxhdGl2ZS55LCBwYXJlbnQueSk7XG59XG5mdW5jdGlvbiBjYWxjUmVsYXRpdmVBeGlzUG9zaXRpb24odGFyZ2V0LCBsYXlvdXQsIHBhcmVudCkge1xuICAgIHRhcmdldC5taW4gPSBsYXlvdXQubWluIC0gcGFyZW50Lm1pbjtcbiAgICB0YXJnZXQubWF4ID0gdGFyZ2V0Lm1pbiArIGNhbGNMZW5ndGgobGF5b3V0KTtcbn1cbmZ1bmN0aW9uIGNhbGNSZWxhdGl2ZVBvc2l0aW9uKHRhcmdldCwgbGF5b3V0LCBwYXJlbnQpIHtcbiAgICBjYWxjUmVsYXRpdmVBeGlzUG9zaXRpb24odGFyZ2V0LngsIGxheW91dC54LCBwYXJlbnQueCk7XG4gICAgY2FsY1JlbGF0aXZlQXhpc1Bvc2l0aW9uKHRhcmdldC55LCBsYXlvdXQueSwgcGFyZW50LnkpO1xufVxuXG5leHBvcnQgeyBjYWxjQXhpc0RlbHRhLCBjYWxjQm94RGVsdGEsIGNhbGNMZW5ndGgsIGNhbGNSZWxhdGl2ZUF4aXMsIGNhbGNSZWxhdGl2ZUF4aXNQb3NpdGlvbiwgY2FsY1JlbGF0aXZlQm94LCBjYWxjUmVsYXRpdmVQb3NpdGlvbiwgaXNOZWFyIH07XG4iLCJpbXBvcnQgeyBtaXgsIHByb2dyZXNzLCBjbGFtcCB9IGZyb20gJ3BvcG1vdGlvbic7XG5pbXBvcnQgeyBjYWxjTGVuZ3RoIH0gZnJvbSAnLi4vLi4vLi4vcHJvamVjdGlvbi9nZW9tZXRyeS9kZWx0YS1jYWxjLm1qcyc7XG5cbi8qKlxuICogQXBwbHkgY29uc3RyYWludHMgdG8gYSBwb2ludC4gVGhlc2UgY29uc3RyYWludHMgYXJlIGJvdGggcGh5c2ljYWwgYWxvbmcgYW5cbiAqIGF4aXMsIGFuZCBhbiBlbGFzdGljIGZhY3RvciB0aGF0IGRldGVybWluZXMgaG93IG11Y2ggdG8gY29uc3RyYWluIHRoZSBwb2ludFxuICogYnkgaWYgaXQgZG9lcyBsaWUgb3V0c2lkZSB0aGUgZGVmaW5lZCBwYXJhbWV0ZXJzLlxuICovXG5mdW5jdGlvbiBhcHBseUNvbnN0cmFpbnRzKHBvaW50LCB7IG1pbiwgbWF4IH0sIGVsYXN0aWMpIHtcbiAgICBpZiAobWluICE9PSB1bmRlZmluZWQgJiYgcG9pbnQgPCBtaW4pIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIG1pbiBwb2ludCBkZWZpbmVkLCBhbmQgdGhpcyBpcyBvdXRzaWRlIG9mIHRoYXQsIGNvbnN0cmFpblxuICAgICAgICBwb2ludCA9IGVsYXN0aWMgPyBtaXgobWluLCBwb2ludCwgZWxhc3RpYy5taW4pIDogTWF0aC5tYXgocG9pbnQsIG1pbik7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1heCAhPT0gdW5kZWZpbmVkICYmIHBvaW50ID4gbWF4KSB7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSBtYXggcG9pbnQgZGVmaW5lZCwgYW5kIHRoaXMgaXMgb3V0c2lkZSBvZiB0aGF0LCBjb25zdHJhaW5cbiAgICAgICAgcG9pbnQgPSBlbGFzdGljID8gbWl4KG1heCwgcG9pbnQsIGVsYXN0aWMubWF4KSA6IE1hdGgubWluKHBvaW50LCBtYXgpO1xuICAgIH1cbiAgICByZXR1cm4gcG9pbnQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZSBjb25zdHJhaW50cyBpbiB0ZXJtcyBvZiB0aGUgdmlld3BvcnQgd2hlbiBkZWZpbmVkIHJlbGF0aXZlbHkgdG8gdGhlXG4gKiBtZWFzdXJlZCBheGlzLiBUaGlzIGlzIG1lYXN1cmVkIGZyb20gdGhlIG5lYXJlc3QgZWRnZSwgc28gYSBtYXggY29uc3RyYWludCBvZiAyMDBcbiAqIG9uIGFuIGF4aXMgd2l0aCBhIG1heCB2YWx1ZSBvZiAzMDAgd291bGQgcmV0dXJuIGEgY29uc3RyYWludCBvZiA1MDAgLSBheGlzIGxlbmd0aFxuICovXG5mdW5jdGlvbiBjYWxjUmVsYXRpdmVBeGlzQ29uc3RyYWludHMoYXhpcywgbWluLCBtYXgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBtaW46IG1pbiAhPT0gdW5kZWZpbmVkID8gYXhpcy5taW4gKyBtaW4gOiB1bmRlZmluZWQsXG4gICAgICAgIG1heDogbWF4ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gYXhpcy5tYXggKyBtYXggLSAoYXhpcy5tYXggLSBheGlzLm1pbilcbiAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgIH07XG59XG4vKipcbiAqIENhbGN1bGF0ZSBjb25zdHJhaW50cyBpbiB0ZXJtcyBvZiB0aGUgdmlld3BvcnQgd2hlblxuICogZGVmaW5lZCByZWxhdGl2ZWx5IHRvIHRoZSBtZWFzdXJlZCBib3VuZGluZyBib3guXG4gKi9cbmZ1bmN0aW9uIGNhbGNSZWxhdGl2ZUNvbnN0cmFpbnRzKGxheW91dEJveCwgeyB0b3AsIGxlZnQsIGJvdHRvbSwgcmlnaHQgfSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IGNhbGNSZWxhdGl2ZUF4aXNDb25zdHJhaW50cyhsYXlvdXRCb3gueCwgbGVmdCwgcmlnaHQpLFxuICAgICAgICB5OiBjYWxjUmVsYXRpdmVBeGlzQ29uc3RyYWludHMobGF5b3V0Qm94LnksIHRvcCwgYm90dG9tKSxcbiAgICB9O1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgdmlld3BvcnQgY29uc3RyYWludHMgd2hlbiBkZWZpbmVkIGFzIGFub3RoZXIgdmlld3BvcnQtcmVsYXRpdmUgYXhpc1xuICovXG5mdW5jdGlvbiBjYWxjVmlld3BvcnRBeGlzQ29uc3RyYWludHMobGF5b3V0QXhpcywgY29uc3RyYWludHNBeGlzKSB7XG4gICAgbGV0IG1pbiA9IGNvbnN0cmFpbnRzQXhpcy5taW4gLSBsYXlvdXRBeGlzLm1pbjtcbiAgICBsZXQgbWF4ID0gY29uc3RyYWludHNBeGlzLm1heCAtIGxheW91dEF4aXMubWF4O1xuICAgIC8vIElmIHRoZSBjb25zdHJhaW50cyBheGlzIGlzIGFjdHVhbGx5IHNtYWxsZXIgdGhhbiB0aGUgbGF5b3V0IGF4aXMgdGhlbiB3ZSBjYW5cbiAgICAvLyBmbGlwIHRoZSBjb25zdHJhaW50c1xuICAgIGlmIChjb25zdHJhaW50c0F4aXMubWF4IC0gY29uc3RyYWludHNBeGlzLm1pbiA8XG4gICAgICAgIGxheW91dEF4aXMubWF4IC0gbGF5b3V0QXhpcy5taW4pIHtcbiAgICAgICAgW21pbiwgbWF4XSA9IFttYXgsIG1pbl07XG4gICAgfVxuICAgIHJldHVybiB7IG1pbiwgbWF4IH07XG59XG4vKipcbiAqIENhbGN1bGF0ZSB2aWV3cG9ydCBjb25zdHJhaW50cyB3aGVuIGRlZmluZWQgYXMgYW5vdGhlciB2aWV3cG9ydC1yZWxhdGl2ZSBib3hcbiAqL1xuZnVuY3Rpb24gY2FsY1ZpZXdwb3J0Q29uc3RyYWludHMobGF5b3V0Qm94LCBjb25zdHJhaW50c0JveCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IGNhbGNWaWV3cG9ydEF4aXNDb25zdHJhaW50cyhsYXlvdXRCb3gueCwgY29uc3RyYWludHNCb3gueCksXG4gICAgICAgIHk6IGNhbGNWaWV3cG9ydEF4aXNDb25zdHJhaW50cyhsYXlvdXRCb3gueSwgY29uc3RyYWludHNCb3gueSksXG4gICAgfTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlIGEgdHJhbnNmb3JtIG9yaWdpbiByZWxhdGl2ZSB0byB0aGUgc291cmNlIGF4aXMsIGJldHdlZW4gMC0xLCB0aGF0IHJlc3VsdHNcbiAqIGluIGFuIGFzdGhldGljYWxseSBwbGVhc2luZyBzY2FsZS90cmFuc2Zvcm0gbmVlZGVkIHRvIHByb2plY3QgZnJvbSBzb3VyY2UgdG8gdGFyZ2V0LlxuICovXG5mdW5jdGlvbiBjYWxjT3JpZ2luKHNvdXJjZSwgdGFyZ2V0KSB7XG4gICAgbGV0IG9yaWdpbiA9IDAuNTtcbiAgICBjb25zdCBzb3VyY2VMZW5ndGggPSBjYWxjTGVuZ3RoKHNvdXJjZSk7XG4gICAgY29uc3QgdGFyZ2V0TGVuZ3RoID0gY2FsY0xlbmd0aCh0YXJnZXQpO1xuICAgIGlmICh0YXJnZXRMZW5ndGggPiBzb3VyY2VMZW5ndGgpIHtcbiAgICAgICAgb3JpZ2luID0gcHJvZ3Jlc3ModGFyZ2V0Lm1pbiwgdGFyZ2V0Lm1heCAtIHNvdXJjZUxlbmd0aCwgc291cmNlLm1pbik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNvdXJjZUxlbmd0aCA+IHRhcmdldExlbmd0aCkge1xuICAgICAgICBvcmlnaW4gPSBwcm9ncmVzcyhzb3VyY2UubWluLCBzb3VyY2UubWF4IC0gdGFyZ2V0TGVuZ3RoLCB0YXJnZXQubWluKTtcbiAgICB9XG4gICAgcmV0dXJuIGNsYW1wKDAsIDEsIG9yaWdpbik7XG59XG4vKipcbiAqIFJlYmFzZSB0aGUgY2FsY3VsYXRlZCB2aWV3cG9ydCBjb25zdHJhaW50cyByZWxhdGl2ZSB0byB0aGUgbGF5b3V0Lm1pbiBwb2ludC5cbiAqL1xuZnVuY3Rpb24gcmViYXNlQXhpc0NvbnN0cmFpbnRzKGxheW91dCwgY29uc3RyYWludHMpIHtcbiAgICBjb25zdCByZWxhdGl2ZUNvbnN0cmFpbnRzID0ge307XG4gICAgaWYgKGNvbnN0cmFpbnRzLm1pbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlbGF0aXZlQ29uc3RyYWludHMubWluID0gY29uc3RyYWludHMubWluIC0gbGF5b3V0Lm1pbjtcbiAgICB9XG4gICAgaWYgKGNvbnN0cmFpbnRzLm1heCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlbGF0aXZlQ29uc3RyYWludHMubWF4ID0gY29uc3RyYWludHMubWF4IC0gbGF5b3V0Lm1pbjtcbiAgICB9XG4gICAgcmV0dXJuIHJlbGF0aXZlQ29uc3RyYWludHM7XG59XG5jb25zdCBkZWZhdWx0RWxhc3RpYyA9IDAuMzU7XG4vKipcbiAqIEFjY2VwdHMgYSBkcmFnRWxhc3RpYyBwcm9wIGFuZCByZXR1cm5zIHJlc29sdmVkIGVsYXN0aWMgdmFsdWVzIGZvciBlYWNoIGF4aXMuXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVEcmFnRWxhc3RpYyhkcmFnRWxhc3RpYyA9IGRlZmF1bHRFbGFzdGljKSB7XG4gICAgaWYgKGRyYWdFbGFzdGljID09PSBmYWxzZSkge1xuICAgICAgICBkcmFnRWxhc3RpYyA9IDA7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRyYWdFbGFzdGljID09PSB0cnVlKSB7XG4gICAgICAgIGRyYWdFbGFzdGljID0gZGVmYXVsdEVsYXN0aWM7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHJlc29sdmVBeGlzRWxhc3RpYyhkcmFnRWxhc3RpYywgXCJsZWZ0XCIsIFwicmlnaHRcIiksXG4gICAgICAgIHk6IHJlc29sdmVBeGlzRWxhc3RpYyhkcmFnRWxhc3RpYywgXCJ0b3BcIiwgXCJib3R0b21cIiksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVBeGlzRWxhc3RpYyhkcmFnRWxhc3RpYywgbWluTGFiZWwsIG1heExhYmVsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWluOiByZXNvbHZlUG9pbnRFbGFzdGljKGRyYWdFbGFzdGljLCBtaW5MYWJlbCksXG4gICAgICAgIG1heDogcmVzb2x2ZVBvaW50RWxhc3RpYyhkcmFnRWxhc3RpYywgbWF4TGFiZWwpLFxuICAgIH07XG59XG5mdW5jdGlvbiByZXNvbHZlUG9pbnRFbGFzdGljKGRyYWdFbGFzdGljLCBsYWJlbCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gdHlwZW9mIGRyYWdFbGFzdGljID09PSBcIm51bWJlclwiXG4gICAgICAgID8gZHJhZ0VsYXN0aWNcbiAgICAgICAgOiAoX2EgPSBkcmFnRWxhc3RpY1tsYWJlbF0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDA7XG59XG5cbmV4cG9ydCB7IGFwcGx5Q29uc3RyYWludHMsIGNhbGNPcmlnaW4sIGNhbGNSZWxhdGl2ZUF4aXNDb25zdHJhaW50cywgY2FsY1JlbGF0aXZlQ29uc3RyYWludHMsIGNhbGNWaWV3cG9ydEF4aXNDb25zdHJhaW50cywgY2FsY1ZpZXdwb3J0Q29uc3RyYWludHMsIGRlZmF1bHRFbGFzdGljLCByZWJhc2VBeGlzQ29uc3RyYWludHMsIHJlc29sdmVBeGlzRWxhc3RpYywgcmVzb2x2ZURyYWdFbGFzdGljLCByZXNvbHZlUG9pbnRFbGFzdGljIH07XG4iLCJmdW5jdGlvbiBlYWNoQXhpcyhjYWxsYmFjaykge1xuICAgIHJldHVybiBbY2FsbGJhY2soXCJ4XCIpLCBjYWxsYmFjayhcInlcIildO1xufVxuXG5leHBvcnQgeyBlYWNoQXhpcyB9O1xuIiwiLyoqXG4gKiBCb3VuZGluZyBib3hlcyB0ZW5kIHRvIGJlIGRlZmluZWQgYXMgdG9wLCBsZWZ0LCByaWdodCwgYm90dG9tLiBGb3IgdmFyaW91cyBvcGVyYXRpb25zXG4gKiBpdCdzIGVhc2llciB0byBjb25zaWRlciBlYWNoIGF4aXMgaW5kaXZpZHVhbGx5LiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgYSBib3VuZGluZyBib3hcbiAqIGFzIGEgbWFwIG9mIHNpbmdsZS1heGlzIG1pbi9tYXggdmFsdWVzLlxuICovXG5mdW5jdGlvbiBjb252ZXJ0Qm91bmRpbmdCb3hUb0JveCh7IHRvcCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgfSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHsgbWluOiBsZWZ0LCBtYXg6IHJpZ2h0IH0sXG4gICAgICAgIHk6IHsgbWluOiB0b3AsIG1heDogYm90dG9tIH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRCb3hUb0JvdW5kaW5nQm94KHsgeCwgeSB9KSB7XG4gICAgcmV0dXJuIHsgdG9wOiB5Lm1pbiwgcmlnaHQ6IHgubWF4LCBib3R0b206IHkubWF4LCBsZWZ0OiB4Lm1pbiB9O1xufVxuLyoqXG4gKiBBcHBsaWVzIGEgVHJhbnNmb3JtUG9pbnQgZnVuY3Rpb24gdG8gYSBib3VuZGluZyBib3guIFRyYW5zZm9ybVBvaW50IGlzIHVzdWFsbHkgYSBmdW5jdGlvblxuICogcHJvdmlkZWQgYnkgRnJhbWVyIHRvIGFsbG93IG1lYXN1cmVkIHBvaW50cyB0byBiZSBjb3JyZWN0ZWQgZm9yIGRldmljZSBzY2FsaW5nLiBUaGlzIGlzIHVzZWRcbiAqIHdoZW4gbWVhc3VyaW5nIERPTSBlbGVtZW50cyBhbmQgRE9NIGV2ZW50IHBvaW50cy5cbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtQm94UG9pbnRzKHBvaW50LCB0cmFuc2Zvcm1Qb2ludCkge1xuICAgIGlmICghdHJhbnNmb3JtUG9pbnQpXG4gICAgICAgIHJldHVybiBwb2ludDtcbiAgICBjb25zdCB0b3BMZWZ0ID0gdHJhbnNmb3JtUG9pbnQoeyB4OiBwb2ludC5sZWZ0LCB5OiBwb2ludC50b3AgfSk7XG4gICAgY29uc3QgYm90dG9tUmlnaHQgPSB0cmFuc2Zvcm1Qb2ludCh7IHg6IHBvaW50LnJpZ2h0LCB5OiBwb2ludC5ib3R0b20gfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiB0b3BMZWZ0LnksXG4gICAgICAgIGxlZnQ6IHRvcExlZnQueCxcbiAgICAgICAgYm90dG9tOiBib3R0b21SaWdodC55LFxuICAgICAgICByaWdodDogYm90dG9tUmlnaHQueCxcbiAgICB9O1xufVxuXG5leHBvcnQgeyBjb252ZXJ0Qm91bmRpbmdCb3hUb0JveCwgY29udmVydEJveFRvQm91bmRpbmdCb3gsIHRyYW5zZm9ybUJveFBvaW50cyB9O1xuIiwiZnVuY3Rpb24gaXNJZGVudGl0eVNjYWxlKHNjYWxlKSB7XG4gICAgcmV0dXJuIHNjYWxlID09PSB1bmRlZmluZWQgfHwgc2NhbGUgPT09IDE7XG59XG5mdW5jdGlvbiBoYXNTY2FsZSh7IHNjYWxlLCBzY2FsZVgsIHNjYWxlWSB9KSB7XG4gICAgcmV0dXJuICghaXNJZGVudGl0eVNjYWxlKHNjYWxlKSB8fFxuICAgICAgICAhaXNJZGVudGl0eVNjYWxlKHNjYWxlWCkgfHxcbiAgICAgICAgIWlzSWRlbnRpdHlTY2FsZShzY2FsZVkpKTtcbn1cbmZ1bmN0aW9uIGhhc1RyYW5zZm9ybSh2YWx1ZXMpIHtcbiAgICByZXR1cm4gKGhhc1NjYWxlKHZhbHVlcykgfHxcbiAgICAgICAgaGFzVHJhbnNsYXRlKHZhbHVlcy54KSB8fFxuICAgICAgICBoYXNUcmFuc2xhdGUodmFsdWVzLnkpIHx8XG4gICAgICAgIHZhbHVlcy56IHx8XG4gICAgICAgIHZhbHVlcy5yb3RhdGUgfHxcbiAgICAgICAgdmFsdWVzLnJvdGF0ZVggfHxcbiAgICAgICAgdmFsdWVzLnJvdGF0ZVkpO1xufVxuZnVuY3Rpb24gaGFzVHJhbnNsYXRlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIHZhbHVlICE9PSBcIjAlXCI7XG59XG5cbmV4cG9ydCB7IGhhc1NjYWxlLCBoYXNUcmFuc2Zvcm0gfTtcbiIsImltcG9ydCB7IG1peCB9IGZyb20gJ3BvcG1vdGlvbic7XG5pbXBvcnQgeyBoYXNUcmFuc2Zvcm0gfSBmcm9tICcuLi91dGlscy9oYXMtdHJhbnNmb3JtLm1qcyc7XG5cbi8qKlxuICogU2NhbGVzIGEgcG9pbnQgYmFzZWQgb24gYSBmYWN0b3IgYW5kIGFuIG9yaWdpblBvaW50XG4gKi9cbmZ1bmN0aW9uIHNjYWxlUG9pbnQocG9pbnQsIHNjYWxlLCBvcmlnaW5Qb2ludCkge1xuICAgIGNvbnN0IGRpc3RhbmNlRnJvbU9yaWdpbiA9IHBvaW50IC0gb3JpZ2luUG9pbnQ7XG4gICAgY29uc3Qgc2NhbGVkID0gc2NhbGUgKiBkaXN0YW5jZUZyb21PcmlnaW47XG4gICAgcmV0dXJuIG9yaWdpblBvaW50ICsgc2NhbGVkO1xufVxuLyoqXG4gKiBBcHBsaWVzIGEgdHJhbnNsYXRlL3NjYWxlIGRlbHRhIHRvIGEgcG9pbnRcbiAqL1xuZnVuY3Rpb24gYXBwbHlQb2ludERlbHRhKHBvaW50LCB0cmFuc2xhdGUsIHNjYWxlLCBvcmlnaW5Qb2ludCwgYm94U2NhbGUpIHtcbiAgICBpZiAoYm94U2NhbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwb2ludCA9IHNjYWxlUG9pbnQocG9pbnQsIGJveFNjYWxlLCBvcmlnaW5Qb2ludCk7XG4gICAgfVxuICAgIHJldHVybiBzY2FsZVBvaW50KHBvaW50LCBzY2FsZSwgb3JpZ2luUG9pbnQpICsgdHJhbnNsYXRlO1xufVxuLyoqXG4gKiBBcHBsaWVzIGEgdHJhbnNsYXRlL3NjYWxlIGRlbHRhIHRvIGFuIGF4aXNcbiAqL1xuZnVuY3Rpb24gYXBwbHlBeGlzRGVsdGEoYXhpcywgdHJhbnNsYXRlID0gMCwgc2NhbGUgPSAxLCBvcmlnaW5Qb2ludCwgYm94U2NhbGUpIHtcbiAgICBheGlzLm1pbiA9IGFwcGx5UG9pbnREZWx0YShheGlzLm1pbiwgdHJhbnNsYXRlLCBzY2FsZSwgb3JpZ2luUG9pbnQsIGJveFNjYWxlKTtcbiAgICBheGlzLm1heCA9IGFwcGx5UG9pbnREZWx0YShheGlzLm1heCwgdHJhbnNsYXRlLCBzY2FsZSwgb3JpZ2luUG9pbnQsIGJveFNjYWxlKTtcbn1cbi8qKlxuICogQXBwbGllcyBhIHRyYW5zbGF0ZS9zY2FsZSBkZWx0YSB0byBhIGJveFxuICovXG5mdW5jdGlvbiBhcHBseUJveERlbHRhKGJveCwgeyB4LCB5IH0pIHtcbiAgICBhcHBseUF4aXNEZWx0YShib3gueCwgeC50cmFuc2xhdGUsIHguc2NhbGUsIHgub3JpZ2luUG9pbnQpO1xuICAgIGFwcGx5QXhpc0RlbHRhKGJveC55LCB5LnRyYW5zbGF0ZSwgeS5zY2FsZSwgeS5vcmlnaW5Qb2ludCk7XG59XG4vKipcbiAqIEFwcGx5IGEgdHJlZSBvZiBkZWx0YXMgdG8gYSBib3guIFdlIGRvIHRoaXMgdG8gY2FsY3VsYXRlIHRoZSBlZmZlY3Qgb2YgYWxsIHRoZSB0cmFuc2Zvcm1zXG4gKiBpbiBhIHRyZWUgdXBvbiBvdXIgYm94IGJlZm9yZSB0aGVuIGNhbGN1bGF0aW5nIGhvdyB0byBwcm9qZWN0IGl0IGludG8gb3VyIGRlc2lyZWQgdmlld3BvcnQtcmVsYXRpdmUgYm94XG4gKlxuICogVGhpcyBpcyB0aGUgZmluYWwgbmVzdGVkIGxvb3Agd2l0aGluIHVwZGF0ZUxheW91dERlbHRhIGZvciBmdXR1cmUgcmVmYWN0b3JpbmdcbiAqL1xuZnVuY3Rpb24gYXBwbHlUcmVlRGVsdGFzKGJveCwgdHJlZVNjYWxlLCB0cmVlUGF0aCwgaXNTaGFyZWRUcmFuc2l0aW9uID0gZmFsc2UpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IHRyZWVMZW5ndGggPSB0cmVlUGF0aC5sZW5ndGg7XG4gICAgaWYgKCF0cmVlTGVuZ3RoKVxuICAgICAgICByZXR1cm47XG4gICAgLy8gUmVzZXQgdGhlIHRyZWVTY2FsZVxuICAgIHRyZWVTY2FsZS54ID0gdHJlZVNjYWxlLnkgPSAxO1xuICAgIGxldCBub2RlO1xuICAgIGxldCBkZWx0YTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyZWVMZW5ndGg7IGkrKykge1xuICAgICAgICBub2RlID0gdHJlZVBhdGhbaV07XG4gICAgICAgIGRlbHRhID0gbm9kZS5wcm9qZWN0aW9uRGVsdGE7XG4gICAgICAgIGlmICgoKF9iID0gKF9hID0gbm9kZS5pbnN0YW5jZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN0eWxlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZGlzcGxheSkgPT09IFwiY29udGVudHNcIilcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAoaXNTaGFyZWRUcmFuc2l0aW9uICYmXG4gICAgICAgICAgICBub2RlLm9wdGlvbnMubGF5b3V0U2Nyb2xsICYmXG4gICAgICAgICAgICBub2RlLnNjcm9sbCAmJlxuICAgICAgICAgICAgbm9kZSAhPT0gbm9kZS5yb290KSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm1Cb3goYm94LCB7IHg6IC1ub2RlLnNjcm9sbC54LCB5OiAtbm9kZS5zY3JvbGwueSB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsdGEpIHtcbiAgICAgICAgICAgIC8vIEluY29wb3JhdGUgZWFjaCBhbmNlc3RvcidzIHNjYWxlIGludG8gYSBjdWxtdWxhdGl2ZSB0cmVlU2NhbGUgZm9yIHRoaXMgY29tcG9uZW50XG4gICAgICAgICAgICB0cmVlU2NhbGUueCAqPSBkZWx0YS54LnNjYWxlO1xuICAgICAgICAgICAgdHJlZVNjYWxlLnkgKj0gZGVsdGEueS5zY2FsZTtcbiAgICAgICAgICAgIC8vIEFwcGx5IGVhY2ggYW5jZXN0b3IncyBjYWxjdWxhdGVkIGRlbHRhIGludG8gdGhpcyBjb21wb25lbnQncyByZWNvcmRlZCBsYXlvdXQgYm94XG4gICAgICAgICAgICBhcHBseUJveERlbHRhKGJveCwgZGVsdGEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1NoYXJlZFRyYW5zaXRpb24gJiYgaGFzVHJhbnNmb3JtKG5vZGUubGF0ZXN0VmFsdWVzKSkge1xuICAgICAgICAgICAgdHJhbnNmb3JtQm94KGJveCwgbm9kZS5sYXRlc3RWYWx1ZXMpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gdHJhbnNsYXRlQXhpcyhheGlzLCBkaXN0YW5jZSkge1xuICAgIGF4aXMubWluID0gYXhpcy5taW4gKyBkaXN0YW5jZTtcbiAgICBheGlzLm1heCA9IGF4aXMubWF4ICsgZGlzdGFuY2U7XG59XG4vKipcbiAqIEFwcGx5IGEgdHJhbnNmb3JtIHRvIGFuIGF4aXMgZnJvbSB0aGUgbGF0ZXN0IHJlc29sdmVkIG1vdGlvbiB2YWx1ZXMuXG4gKiBUaGlzIGZ1bmN0aW9uIGJhc2ljYWxseSBhY3RzIGFzIGEgYnJpZGdlIGJldHdlZW4gYSBmbGF0IG1vdGlvbiB2YWx1ZSBtYXBcbiAqIGFuZCBhcHBseUF4aXNEZWx0YVxuICovXG5mdW5jdGlvbiB0cmFuc2Zvcm1BeGlzKGF4aXMsIHRyYW5zZm9ybXMsIFtrZXksIHNjYWxlS2V5LCBvcmlnaW5LZXldKSB7XG4gICAgY29uc3QgYXhpc09yaWdpbiA9IHRyYW5zZm9ybXNbb3JpZ2luS2V5XSAhPT0gdW5kZWZpbmVkID8gdHJhbnNmb3Jtc1tvcmlnaW5LZXldIDogMC41O1xuICAgIGNvbnN0IG9yaWdpblBvaW50ID0gbWl4KGF4aXMubWluLCBheGlzLm1heCwgYXhpc09yaWdpbik7XG4gICAgLy8gQXBwbHkgdGhlIGF4aXMgZGVsdGEgdG8gdGhlIGZpbmFsIGF4aXNcbiAgICBhcHBseUF4aXNEZWx0YShheGlzLCB0cmFuc2Zvcm1zW2tleV0sIHRyYW5zZm9ybXNbc2NhbGVLZXldLCBvcmlnaW5Qb2ludCwgdHJhbnNmb3Jtcy5zY2FsZSk7XG59XG4vKipcbiAqIFRoZSBuYW1lcyBvZiB0aGUgbW90aW9uIHZhbHVlcyB3ZSB3YW50IHRvIGFwcGx5IGFzIHRyYW5zbGF0aW9uLCBzY2FsZSBhbmQgb3JpZ2luLlxuICovXG5jb25zdCB4S2V5cyA9IFtcInhcIiwgXCJzY2FsZVhcIiwgXCJvcmlnaW5YXCJdO1xuY29uc3QgeUtleXMgPSBbXCJ5XCIsIFwic2NhbGVZXCIsIFwib3JpZ2luWVwiXTtcbi8qKlxuICogQXBwbHkgYSB0cmFuc2Zvcm0gdG8gYSBib3ggZnJvbSB0aGUgbGF0ZXN0IHJlc29sdmVkIG1vdGlvbiB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIHRyYW5zZm9ybUJveChib3gsIHRyYW5zZm9ybSkge1xuICAgIHRyYW5zZm9ybUF4aXMoYm94LngsIHRyYW5zZm9ybSwgeEtleXMpO1xuICAgIHRyYW5zZm9ybUF4aXMoYm94LnksIHRyYW5zZm9ybSwgeUtleXMpO1xufVxuXG5leHBvcnQgeyBhcHBseUF4aXNEZWx0YSwgYXBwbHlCb3hEZWx0YSwgYXBwbHlQb2ludERlbHRhLCBhcHBseVRyZWVEZWx0YXMsIHNjYWxlUG9pbnQsIHRyYW5zZm9ybUF4aXMsIHRyYW5zZm9ybUJveCwgdHJhbnNsYXRlQXhpcyB9O1xuIiwiaW1wb3J0IHsgY29udmVydEJvdW5kaW5nQm94VG9Cb3gsIHRyYW5zZm9ybUJveFBvaW50cyB9IGZyb20gJy4uL2dlb21ldHJ5L2NvbnZlcnNpb24ubWpzJztcbmltcG9ydCB7IHRyYW5zbGF0ZUF4aXMgfSBmcm9tICcuLi9nZW9tZXRyeS9kZWx0YS1hcHBseS5tanMnO1xuXG5mdW5jdGlvbiBtZWFzdXJlVmlld3BvcnRCb3goaW5zdGFuY2UsIHRyYW5zZm9ybVBvaW50KSB7XG4gICAgcmV0dXJuIGNvbnZlcnRCb3VuZGluZ0JveFRvQm94KHRyYW5zZm9ybUJveFBvaW50cyhpbnN0YW5jZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdHJhbnNmb3JtUG9pbnQpKTtcbn1cbmZ1bmN0aW9uIG1lYXN1cmVQYWdlQm94KGVsZW1lbnQsIHJvb3RQcm9qZWN0aW9uTm9kZSwgdHJhbnNmb3JtUGFnZVBvaW50KSB7XG4gICAgY29uc3Qgdmlld3BvcnRCb3ggPSBtZWFzdXJlVmlld3BvcnRCb3goZWxlbWVudCwgdHJhbnNmb3JtUGFnZVBvaW50KTtcbiAgICBjb25zdCB7IHNjcm9sbCB9ID0gcm9vdFByb2plY3Rpb25Ob2RlO1xuICAgIGlmIChzY3JvbGwpIHtcbiAgICAgICAgdHJhbnNsYXRlQXhpcyh2aWV3cG9ydEJveC54LCBzY3JvbGwueCk7XG4gICAgICAgIHRyYW5zbGF0ZUF4aXModmlld3BvcnRCb3gueSwgc2Nyb2xsLnkpO1xuICAgIH1cbiAgICByZXR1cm4gdmlld3BvcnRCb3g7XG59XG5cbmV4cG9ydCB7IG1lYXN1cmVQYWdlQm94LCBtZWFzdXJlVmlld3BvcnRCb3ggfTtcbiIsImltcG9ydCB7IGludmFyaWFudCB9IGZyb20gJ2hleS1saXN0ZW4nO1xuaW1wb3J0IHsgUGFuU2Vzc2lvbiB9IGZyb20gJy4uL1BhblNlc3Npb24ubWpzJztcbmltcG9ydCB7IGdldEdsb2JhbExvY2sgfSBmcm9tICcuL3V0aWxzL2xvY2subWpzJztcbmltcG9ydCB7IGlzUmVmT2JqZWN0IH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMtcmVmLW9iamVjdC5tanMnO1xuaW1wb3J0IHsgYWRkUG9pbnRlckV2ZW50IH0gZnJvbSAnLi4vLi4vZXZlbnRzL3VzZS1wb2ludGVyLWV2ZW50Lm1qcyc7XG5pbXBvcnQgeyBhcHBseUNvbnN0cmFpbnRzLCBjYWxjUmVsYXRpdmVDb25zdHJhaW50cywgcmVzb2x2ZURyYWdFbGFzdGljLCByZWJhc2VBeGlzQ29uc3RyYWludHMsIGNhbGNWaWV3cG9ydENvbnN0cmFpbnRzLCBjYWxjT3JpZ2luLCBkZWZhdWx0RWxhc3RpYyB9IGZyb20gJy4vdXRpbHMvY29uc3RyYWludHMubWpzJztcbmltcG9ydCB7IEFuaW1hdGlvblR5cGUgfSBmcm9tICcuLi8uLi9yZW5kZXIvdXRpbHMvdHlwZXMubWpzJztcbmltcG9ydCB7IGNyZWF0ZUJveCB9IGZyb20gJy4uLy4uL3Byb2plY3Rpb24vZ2VvbWV0cnkvbW9kZWxzLm1qcyc7XG5pbXBvcnQgeyBlYWNoQXhpcyB9IGZyb20gJy4uLy4uL3Byb2plY3Rpb24vdXRpbHMvZWFjaC1heGlzLm1qcyc7XG5pbXBvcnQgeyBtZWFzdXJlUGFnZUJveCB9IGZyb20gJy4uLy4uL3Byb2plY3Rpb24vdXRpbHMvbWVhc3VyZS5tanMnO1xuaW1wb3J0IHsgZXh0cmFjdEV2ZW50SW5mbyB9IGZyb20gJy4uLy4uL2V2ZW50cy9ldmVudC1pbmZvLm1qcyc7XG5pbXBvcnQgeyBzdGFydEFuaW1hdGlvbiB9IGZyb20gJy4uLy4uL2FuaW1hdGlvbi91dGlscy90cmFuc2l0aW9ucy5tanMnO1xuaW1wb3J0IHsgY29udmVydEJveFRvQm91bmRpbmdCb3gsIGNvbnZlcnRCb3VuZGluZ0JveFRvQm94IH0gZnJvbSAnLi4vLi4vcHJvamVjdGlvbi9nZW9tZXRyeS9jb252ZXJzaW9uLm1qcyc7XG5pbXBvcnQgeyBhZGREb21FdmVudCB9IGZyb20gJy4uLy4uL2V2ZW50cy91c2UtZG9tLWV2ZW50Lm1qcyc7XG5pbXBvcnQgeyBtaXggfSBmcm9tICdwb3Btb3Rpb24nO1xuaW1wb3J0IHsgcGVyY2VudCB9IGZyb20gJ3N0eWxlLXZhbHVlLXR5cGVzJztcbmltcG9ydCB7IGNhbGNMZW5ndGggfSBmcm9tICcuLi8uLi9wcm9qZWN0aW9uL2dlb21ldHJ5L2RlbHRhLWNhbGMubWpzJztcblxuY29uc3QgZWxlbWVudERyYWdDb250cm9scyA9IG5ldyBXZWFrTWFwKCk7XG4vKipcbiAqXG4gKi9cbi8vIGxldCBsYXRlc3RQb2ludGVyRXZlbnQ6IEFueVBvaW50ZXJFdmVudFxuY2xhc3MgVmlzdWFsRWxlbWVudERyYWdDb250cm9scyB7XG4gICAgY29uc3RydWN0b3IodmlzdWFsRWxlbWVudCkge1xuICAgICAgICAvLyBUaGlzIGlzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgZHJhZyBnZXN0dXJlIGxvY2ssIGVuc3VyaW5nIG9ubHkgb25lIGNvbXBvbmVudFxuICAgICAgICAvLyBjYW4gXCJjYXB0dXJlXCIgdGhlIGRyYWcgb2Ygb25lIG9yIGJvdGggYXhlcy5cbiAgICAgICAgLy8gVE9ETzogTG9vayBpbnRvIG1vdmluZyB0aGlzIGludG8gcGFuc2Vzc2lvbj9cbiAgICAgICAgdGhpcy5vcGVuR2xvYmFsTG9jayA9IG51bGw7XG4gICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmN1cnJlbnREaXJlY3Rpb24gPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpblBvaW50ID0geyB4OiAwLCB5OiAwIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGVybWl0dGVkIGJvdW5kYXJpZXMgb2YgdHJhdmVsLCBpbiBwaXhlbHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnN0cmFpbnRzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGFzTXV0YXRlZENvbnN0cmFpbnRzID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGVyLWF4aXMgcmVzb2x2ZWQgZWxhc3RpYyB2YWx1ZXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVsYXN0aWMgPSBjcmVhdGVCb3goKTtcbiAgICAgICAgdGhpcy52aXN1YWxFbGVtZW50ID0gdmlzdWFsRWxlbWVudDtcbiAgICB9XG4gICAgc3RhcnQob3JpZ2luRXZlbnQsIHsgc25hcFRvQ3Vyc29yID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb24ndCBzdGFydCBkcmFnZ2luZyBpZiB0aGlzIGNvbXBvbmVudCBpcyBleGl0aW5nXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy52aXN1YWxFbGVtZW50LmlzUHJlc2VudCA9PT0gZmFsc2UpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IG9uU2Vzc2lvblN0YXJ0ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAvLyBTdG9wIGFueSBhbmltYXRpb25zIG9uIGJvdGggYXhpcyB2YWx1ZXMgaW1tZWRpYXRlbHkuIFRoaXMgYWxsb3dzIHRoZSB1c2VyIHRvIHRocm93IGFuZCBjYXRjaFxuICAgICAgICAgICAgLy8gdGhlIGNvbXBvbmVudC5cbiAgICAgICAgICAgIHRoaXMuc3RvcEFuaW1hdGlvbigpO1xuICAgICAgICAgICAgaWYgKHNuYXBUb0N1cnNvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuc25hcFRvQ3Vyc29yKGV4dHJhY3RFdmVudEluZm8oZXZlbnQsIFwicGFnZVwiKS5wb2ludCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG9uU3RhcnQgPSAoZXZlbnQsIGluZm8pID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIC8vIEF0dGVtcHQgdG8gZ3JhYiB0aGUgZ2xvYmFsIGRyYWcgZ2VzdHVyZSBsb2NrIC0gbWF5YmUgbWFrZSB0aGlzIHBhcnQgb2YgUGFuU2Vzc2lvblxuICAgICAgICAgICAgY29uc3QgeyBkcmFnLCBkcmFnUHJvcGFnYXRpb24sIG9uRHJhZ1N0YXJ0IH0gPSB0aGlzLmdldFByb3BzKCk7XG4gICAgICAgICAgICBpZiAoZHJhZyAmJiAhZHJhZ1Byb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3Blbkdsb2JhbExvY2spXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3Blbkdsb2JhbExvY2soKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5HbG9iYWxMb2NrID0gZ2V0R2xvYmFsTG9jayhkcmFnKTtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBkb24gJ3QgaGF2ZSB0aGUgbG9jaywgZG9uJ3Qgc3RhcnQgZHJhZ2dpbmdcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3Blbkdsb2JhbExvY2spXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnREaXJlY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlQ29uc3RyYWludHMoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnZpc3VhbEVsZW1lbnQucHJvamVjdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMudmlzdWFsRWxlbWVudC5wcm9qZWN0aW9uLmlzQW5pbWF0aW9uQmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy52aXN1YWxFbGVtZW50LnByb2plY3Rpb24udGFyZ2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZWNvcmQgZ2VzdHVyZSBvcmlnaW5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZWFjaEF4aXMoKGF4aXMpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5nZXRBeGlzTW90aW9uVmFsdWUoYXhpcykuZ2V0KCkgfHwgMDtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBJZiB0aGUgTW90aW9uVmFsdWUgaXMgYSBwZXJjZW50YWdlIHZhbHVlIGNvbnZlcnQgdG8gcHhcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAocGVyY2VudC50ZXN0KGN1cnJlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lYXN1cmVkQXhpcyA9IChfYiA9IChfYSA9IHRoaXMudmlzdWFsRWxlbWVudC5wcm9qZWN0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGF5b3V0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYWN0dWFsW2F4aXNdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVhc3VyZWRBeGlzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSBjYWxjTGVuZ3RoKG1lYXN1cmVkQXhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gbGVuZ3RoICogKHBhcnNlRmxvYXQoY3VycmVudCkgLyAxMDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luUG9pbnRbYXhpc10gPSBjdXJyZW50O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBGaXJlIG9uRHJhZ1N0YXJ0IGV2ZW50XG4gICAgICAgICAgICBvbkRyYWdTdGFydCA9PT0gbnVsbCB8fCBvbkRyYWdTdGFydCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25EcmFnU3RhcnQoZXZlbnQsIGluZm8pO1xuICAgICAgICAgICAgKF9hID0gdGhpcy52aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0QWN0aXZlKEFuaW1hdGlvblR5cGUuRHJhZywgdHJ1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG9uTW92ZSA9IChldmVudCwgaW5mbykgPT4ge1xuICAgICAgICAgICAgLy8gbGF0ZXN0UG9pbnRlckV2ZW50ID0gZXZlbnRcbiAgICAgICAgICAgIGNvbnN0IHsgZHJhZ1Byb3BhZ2F0aW9uLCBkcmFnRGlyZWN0aW9uTG9jaywgb25EaXJlY3Rpb25Mb2NrLCBvbkRyYWcsIH0gPSB0aGlzLmdldFByb3BzKCk7XG4gICAgICAgICAgICAvLyBJZiB3ZSBkaWRuJ3Qgc3VjY2Vzc2Z1bGx5IHJlY2VpdmUgdGhlIGdlc3R1cmUgbG9jaywgZWFybHkgcmV0dXJuLlxuICAgICAgICAgICAgaWYgKCFkcmFnUHJvcGFnYXRpb24gJiYgIXRoaXMub3Blbkdsb2JhbExvY2spXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgeyBvZmZzZXQgfSA9IGluZm87XG4gICAgICAgICAgICAvLyBBdHRlbXB0IHRvIGRldGVjdCBkcmFnIGRpcmVjdGlvbiBpZiBkaXJlY3Rpb25Mb2NrIGlzIHRydWVcbiAgICAgICAgICAgIGlmIChkcmFnRGlyZWN0aW9uTG9jayAmJiB0aGlzLmN1cnJlbnREaXJlY3Rpb24gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnREaXJlY3Rpb24gPSBnZXRDdXJyZW50RGlyZWN0aW9uKG9mZnNldCk7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UndmUgc3VjY2Vzc2Z1bGx5IHNldCBhIGRpcmVjdGlvbiwgbm90aWZ5IGxpc3RlbmVyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudERpcmVjdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBvbkRpcmVjdGlvbkxvY2sgPT09IG51bGwgfHwgb25EaXJlY3Rpb25Mb2NrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkRpcmVjdGlvbkxvY2sodGhpcy5jdXJyZW50RGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVXBkYXRlIGVhY2ggcG9pbnQgd2l0aCB0aGUgbGF0ZXN0IHBvc2l0aW9uXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUF4aXMoXCJ4XCIsIGluZm8ucG9pbnQsIG9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUF4aXMoXCJ5XCIsIGluZm8ucG9pbnQsIG9mZnNldCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElkZWFsbHkgd2Ugd291bGQgbGVhdmUgdGhlIHJlbmRlcmVyIHRvIGZpcmUgbmF0dXJhbGx5IGF0IHRoZSBlbmQgb2ZcbiAgICAgICAgICAgICAqIHRoaXMgZnJhbWUgYnV0IGlmIHRoZSBlbGVtZW50IGlzIGFib3V0IHRvIGNoYW5nZSBsYXlvdXQgYXMgdGhlIHJlc3VsdFxuICAgICAgICAgICAgICogb2YgYSByZS1yZW5kZXIgd2Ugd2FudCB0byBlbnN1cmUgdGhlIGJyb3dzZXIgY2FuIHJlYWQgdGhlIGxhdGVzdFxuICAgICAgICAgICAgICogYm91bmRpbmcgYm94IHRvIGVuc3VyZSB0aGUgcG9pbnRlciBhbmQgZWxlbWVudCBkb24ndCBmYWxsIG91dCBvZiBzeW5jLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnZpc3VhbEVsZW1lbnQuc3luY1JlbmRlcigpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUaGlzIG11c3QgZmlyZSBhZnRlciB0aGUgc3luY1JlbmRlciBjYWxsIGFzIGl0IG1pZ2h0IHRyaWdnZXIgYSBzdGF0ZVxuICAgICAgICAgICAgICogY2hhbmdlIHdoaWNoIGl0c2VsZiBtaWdodCB0cmlnZ2VyIGEgbGF5b3V0IHVwZGF0ZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgb25EcmFnID09PSBudWxsIHx8IG9uRHJhZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25EcmFnKGV2ZW50LCBpbmZvKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgb25TZXNzaW9uRW5kID0gKGV2ZW50LCBpbmZvKSA9PiB0aGlzLnN0b3AoZXZlbnQsIGluZm8pO1xuICAgICAgICB0aGlzLnBhblNlc3Npb24gPSBuZXcgUGFuU2Vzc2lvbihvcmlnaW5FdmVudCwge1xuICAgICAgICAgICAgb25TZXNzaW9uU3RhcnQsXG4gICAgICAgICAgICBvblN0YXJ0LFxuICAgICAgICAgICAgb25Nb3ZlLFxuICAgICAgICAgICAgb25TZXNzaW9uRW5kLFxuICAgICAgICB9LCB7IHRyYW5zZm9ybVBhZ2VQb2ludDogdGhpcy52aXN1YWxFbGVtZW50LmdldFRyYW5zZm9ybVBhZ2VQb2ludCgpIH0pO1xuICAgIH1cbiAgICBzdG9wKGV2ZW50LCBpbmZvKSB7XG4gICAgICAgIGNvbnN0IGlzRHJhZ2dpbmcgPSB0aGlzLmlzRHJhZ2dpbmc7XG4gICAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICAgIGlmICghaXNEcmFnZ2luZylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgeyB2ZWxvY2l0eSB9ID0gaW5mbztcbiAgICAgICAgdGhpcy5zdGFydEFuaW1hdGlvbih2ZWxvY2l0eSk7XG4gICAgICAgIGNvbnN0IHsgb25EcmFnRW5kIH0gPSB0aGlzLmdldFByb3BzKCk7XG4gICAgICAgIG9uRHJhZ0VuZCA9PT0gbnVsbCB8fCBvbkRyYWdFbmQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uRHJhZ0VuZChldmVudCwgaW5mbyk7XG4gICAgfVxuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnZpc3VhbEVsZW1lbnQucHJvamVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy52aXN1YWxFbGVtZW50LnByb2plY3Rpb24uaXNBbmltYXRpb25CbG9ja2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgKF9hID0gdGhpcy5wYW5TZXNzaW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW5kKCk7XG4gICAgICAgIHRoaXMucGFuU2Vzc2lvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgeyBkcmFnUHJvcGFnYXRpb24gfSA9IHRoaXMuZ2V0UHJvcHMoKTtcbiAgICAgICAgaWYgKCFkcmFnUHJvcGFnYXRpb24gJiYgdGhpcy5vcGVuR2xvYmFsTG9jaykge1xuICAgICAgICAgICAgdGhpcy5vcGVuR2xvYmFsTG9jaygpO1xuICAgICAgICAgICAgdGhpcy5vcGVuR2xvYmFsTG9jayA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgKF9iID0gdGhpcy52aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc2V0QWN0aXZlKEFuaW1hdGlvblR5cGUuRHJhZywgZmFsc2UpO1xuICAgIH1cbiAgICB1cGRhdGVBeGlzKGF4aXMsIF9wb2ludCwgb2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IHsgZHJhZyB9ID0gdGhpcy5nZXRQcm9wcygpO1xuICAgICAgICAvLyBJZiB3ZSdyZSBub3QgZHJhZ2dpbmcgdGhpcyBheGlzLCBkbyBhbiBlYXJseSByZXR1cm4uXG4gICAgICAgIGlmICghb2Zmc2V0IHx8ICFzaG91bGREcmFnKGF4aXMsIGRyYWcsIHRoaXMuY3VycmVudERpcmVjdGlvbikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGF4aXNWYWx1ZSA9IHRoaXMuZ2V0QXhpc01vdGlvblZhbHVlKGF4aXMpO1xuICAgICAgICBsZXQgbmV4dCA9IHRoaXMub3JpZ2luUG9pbnRbYXhpc10gKyBvZmZzZXRbYXhpc107XG4gICAgICAgIC8vIEFwcGx5IGNvbnN0cmFpbnRzXG4gICAgICAgIGlmICh0aGlzLmNvbnN0cmFpbnRzICYmIHRoaXMuY29uc3RyYWludHNbYXhpc10pIHtcbiAgICAgICAgICAgIG5leHQgPSBhcHBseUNvbnN0cmFpbnRzKG5leHQsIHRoaXMuY29uc3RyYWludHNbYXhpc10sIHRoaXMuZWxhc3RpY1theGlzXSk7XG4gICAgICAgIH1cbiAgICAgICAgYXhpc1ZhbHVlLnNldChuZXh0KTtcbiAgICB9XG4gICAgcmVzb2x2ZUNvbnN0cmFpbnRzKCkge1xuICAgICAgICBjb25zdCB7IGRyYWdDb25zdHJhaW50cywgZHJhZ0VsYXN0aWMgfSA9IHRoaXMuZ2V0UHJvcHMoKTtcbiAgICAgICAgY29uc3QgeyBsYXlvdXQgfSA9IHRoaXMudmlzdWFsRWxlbWVudC5wcm9qZWN0aW9uIHx8IHt9O1xuICAgICAgICBjb25zdCBwcmV2Q29uc3RyYWludHMgPSB0aGlzLmNvbnN0cmFpbnRzO1xuICAgICAgICBpZiAoZHJhZ0NvbnN0cmFpbnRzICYmIGlzUmVmT2JqZWN0KGRyYWdDb25zdHJhaW50cykpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jb25zdHJhaW50cykge1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludHMgPSB0aGlzLnJlc29sdmVSZWZDb25zdHJhaW50cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGRyYWdDb25zdHJhaW50cyAmJiBsYXlvdXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnRzID0gY2FsY1JlbGF0aXZlQ29uc3RyYWludHMobGF5b3V0LmFjdHVhbCwgZHJhZ0NvbnN0cmFpbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludHMgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVsYXN0aWMgPSByZXNvbHZlRHJhZ0VsYXN0aWMoZHJhZ0VsYXN0aWMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgd2UncmUgb3V0cHV0dGluZyB0byBleHRlcm5hbCBNb3Rpb25WYWx1ZXMsIHdlIHdhbnQgdG8gcmViYXNlIHRoZSBtZWFzdXJlZCBjb25zdHJhaW50c1xuICAgICAgICAgKiBmcm9tIHZpZXdwb3J0LXJlbGF0aXZlIHRvIGNvbXBvbmVudC1yZWxhdGl2ZS5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChwcmV2Q29uc3RyYWludHMgIT09IHRoaXMuY29uc3RyYWludHMgJiZcbiAgICAgICAgICAgIGxheW91dCAmJlxuICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50cyAmJlxuICAgICAgICAgICAgIXRoaXMuaGFzTXV0YXRlZENvbnN0cmFpbnRzKSB7XG4gICAgICAgICAgICBlYWNoQXhpcygoYXhpcykgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldEF4aXNNb3Rpb25WYWx1ZShheGlzKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnRzW2F4aXNdID0gcmViYXNlQXhpc0NvbnN0cmFpbnRzKGxheW91dC5hY3R1YWxbYXhpc10sIHRoaXMuY29uc3RyYWludHNbYXhpc10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlc29sdmVSZWZDb25zdHJhaW50cygpIHtcbiAgICAgICAgY29uc3QgeyBkcmFnQ29uc3RyYWludHM6IGNvbnN0cmFpbnRzLCBvbk1lYXN1cmVEcmFnQ29uc3RyYWludHMgfSA9IHRoaXMuZ2V0UHJvcHMoKTtcbiAgICAgICAgaWYgKCFjb25zdHJhaW50cyB8fCAhaXNSZWZPYmplY3QoY29uc3RyYWludHMpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCBjb25zdHJhaW50c0VsZW1lbnQgPSBjb25zdHJhaW50cy5jdXJyZW50O1xuICAgICAgICBpbnZhcmlhbnQoY29uc3RyYWludHNFbGVtZW50ICE9PSBudWxsLCBcIklmIGBkcmFnQ29uc3RyYWludHNgIGlzIHNldCBhcyBhIFJlYWN0IHJlZiwgdGhhdCByZWYgbXVzdCBiZSBwYXNzZWQgdG8gYW5vdGhlciBjb21wb25lbnQncyBgcmVmYCBwcm9wLlwiKTtcbiAgICAgICAgY29uc3QgeyBwcm9qZWN0aW9uIH0gPSB0aGlzLnZpc3VhbEVsZW1lbnQ7XG4gICAgICAgIC8vIFRPRE9cbiAgICAgICAgaWYgKCFwcm9qZWN0aW9uIHx8ICFwcm9qZWN0aW9uLmxheW91dClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgY29uc3RyYWludHNCb3ggPSBtZWFzdXJlUGFnZUJveChjb25zdHJhaW50c0VsZW1lbnQsIHByb2plY3Rpb24ucm9vdCwgdGhpcy52aXN1YWxFbGVtZW50LmdldFRyYW5zZm9ybVBhZ2VQb2ludCgpKTtcbiAgICAgICAgbGV0IG1lYXN1cmVkQ29uc3RyYWludHMgPSBjYWxjVmlld3BvcnRDb25zdHJhaW50cyhwcm9qZWN0aW9uLmxheW91dC5hY3R1YWwsIGNvbnN0cmFpbnRzQm94KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZXJlJ3MgYW4gb25NZWFzdXJlRHJhZ0NvbnN0cmFpbnRzIGxpc3RlbmVyIHdlIGNhbGwgaXQgYW5kXG4gICAgICAgICAqIGlmIGRpZmZlcmVudCBjb25zdHJhaW50cyBhcmUgcmV0dXJuZWQsIHNldCBjb25zdHJhaW50cyB0byB0aGF0XG4gICAgICAgICAqL1xuICAgICAgICBpZiAob25NZWFzdXJlRHJhZ0NvbnN0cmFpbnRzKSB7XG4gICAgICAgICAgICBjb25zdCB1c2VyQ29uc3RyYWludHMgPSBvbk1lYXN1cmVEcmFnQ29uc3RyYWludHMoY29udmVydEJveFRvQm91bmRpbmdCb3gobWVhc3VyZWRDb25zdHJhaW50cykpO1xuICAgICAgICAgICAgdGhpcy5oYXNNdXRhdGVkQ29uc3RyYWludHMgPSAhIXVzZXJDb25zdHJhaW50cztcbiAgICAgICAgICAgIGlmICh1c2VyQ29uc3RyYWludHMpIHtcbiAgICAgICAgICAgICAgICBtZWFzdXJlZENvbnN0cmFpbnRzID0gY29udmVydEJvdW5kaW5nQm94VG9Cb3godXNlckNvbnN0cmFpbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVhc3VyZWRDb25zdHJhaW50cztcbiAgICB9XG4gICAgc3RhcnRBbmltYXRpb24odmVsb2NpdHkpIHtcbiAgICAgICAgY29uc3QgeyBkcmFnLCBkcmFnTW9tZW50dW0sIGRyYWdFbGFzdGljLCBkcmFnVHJhbnNpdGlvbiwgZHJhZ1NuYXBUb09yaWdpbiwgb25EcmFnVHJhbnNpdGlvbkVuZCwgfSA9IHRoaXMuZ2V0UHJvcHMoKTtcbiAgICAgICAgY29uc3QgY29uc3RyYWludHMgPSB0aGlzLmNvbnN0cmFpbnRzIHx8IHt9O1xuICAgICAgICBjb25zdCBtb21lbnR1bUFuaW1hdGlvbnMgPSBlYWNoQXhpcygoYXhpcykgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKCFzaG91bGREcmFnKGF4aXMsIGRyYWcsIHRoaXMuY3VycmVudERpcmVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdHJhbnNpdGlvbiA9IChfYSA9IGNvbnN0cmFpbnRzID09PSBudWxsIHx8IGNvbnN0cmFpbnRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25zdHJhaW50c1theGlzXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge307XG4gICAgICAgICAgICBpZiAoZHJhZ1NuYXBUb09yaWdpbilcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uID0geyBtaW46IDAsIG1heDogMCB9O1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPdmVyZGFtcCB0aGUgYm91bmRhcnkgc3ByaW5nIGlmIGBkcmFnRWxhc3RpY2AgaXMgZGlzYWJsZWQuIFRoZXJlJ3Mgc3RpbGwgYSBmcmFtZVxuICAgICAgICAgICAgICogb2Ygc3ByaW5nIGFuaW1hdGlvbnMgc28gd2Ugc2hvdWxkIGxvb2sgaW50byBhZGRpbmcgYSBkaXNhYmxlIHNwcmluZyBvcHRpb24gdG8gYGluZXJ0aWFgLlxuICAgICAgICAgICAgICogV2UgY291bGQgZG8gc29tZXRoaW5nIGhlcmUgd2hlcmUgd2UgYWZmZWN0IHRoZSBgYm91bmNlU3RpZmZuZXNzYCBhbmQgYGJvdW5jZURhbXBpbmdgXG4gICAgICAgICAgICAgKiB1c2luZyB0aGUgdmFsdWUgb2YgYGRyYWdFbGFzdGljYC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgYm91bmNlU3RpZmZuZXNzID0gZHJhZ0VsYXN0aWMgPyAyMDAgOiAxMDAwMDAwO1xuICAgICAgICAgICAgY29uc3QgYm91bmNlRGFtcGluZyA9IGRyYWdFbGFzdGljID8gNDAgOiAxMDAwMDAwMDtcbiAgICAgICAgICAgIGNvbnN0IGluZXJ0aWEgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJpbmVydGlhXCIsXG4gICAgICAgICAgICAgICAgdmVsb2NpdHk6IGRyYWdNb21lbnR1bSA/IHZlbG9jaXR5W2F4aXNdIDogMCxcbiAgICAgICAgICAgICAgICBib3VuY2VTdGlmZm5lc3MsXG4gICAgICAgICAgICAgICAgYm91bmNlRGFtcGluZyxcbiAgICAgICAgICAgICAgICB0aW1lQ29uc3RhbnQ6IDc1MCxcbiAgICAgICAgICAgICAgICByZXN0RGVsdGE6IDEsXG4gICAgICAgICAgICAgICAgcmVzdFNwZWVkOiAxMCxcbiAgICAgICAgICAgICAgICAuLi5kcmFnVHJhbnNpdGlvbixcbiAgICAgICAgICAgICAgICAuLi50cmFuc2l0aW9uLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIElmIHdlJ3JlIG5vdCBhbmltYXRpbmcgb24gYW4gZXh0ZXJuYWxseS1wcm92aWRlZCBgTW90aW9uVmFsdWVgIHdlIGNhbiB1c2UgdGhlXG4gICAgICAgICAgICAvLyBjb21wb25lbnQncyBhbmltYXRpb24gY29udHJvbHMgd2hpY2ggd2lsbCBoYW5kbGUgaW50ZXJhY3Rpb25zIHdpdGggd2hpbGVIb3ZlciAoZXRjKSxcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSB3ZSBqdXN0IGhhdmUgdG8gYW5pbWF0ZSB0aGUgYE1vdGlvblZhbHVlYCBpdHNlbGYuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGFydEF4aXNWYWx1ZUFuaW1hdGlvbihheGlzLCBpbmVydGlhKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFJ1biBhbGwgYW5pbWF0aW9ucyBhbmQgdGhlbiByZXNvbHZlIHRoZSBuZXcgZHJhZyBjb25zdHJhaW50cy5cbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKG1vbWVudHVtQW5pbWF0aW9ucykudGhlbihvbkRyYWdUcmFuc2l0aW9uRW5kKTtcbiAgICB9XG4gICAgc3RhcnRBeGlzVmFsdWVBbmltYXRpb24oYXhpcywgdHJhbnNpdGlvbikge1xuICAgICAgICBjb25zdCBheGlzVmFsdWUgPSB0aGlzLmdldEF4aXNNb3Rpb25WYWx1ZShheGlzKTtcbiAgICAgICAgcmV0dXJuIHN0YXJ0QW5pbWF0aW9uKGF4aXMsIGF4aXNWYWx1ZSwgMCwgdHJhbnNpdGlvbik7XG4gICAgfVxuICAgIHN0b3BBbmltYXRpb24oKSB7XG4gICAgICAgIGVhY2hBeGlzKChheGlzKSA9PiB0aGlzLmdldEF4aXNNb3Rpb25WYWx1ZShheGlzKS5zdG9wKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEcmFnIHdvcmtzIGRpZmZlcmVudGx5IGRlcGVuZGluZyBvbiB3aGljaCBwcm9wcyBhcmUgcHJvdmlkZWQuXG4gICAgICpcbiAgICAgKiAtIElmIF9kcmFnWCBhbmQgX2RyYWdZIGFyZSBwcm92aWRlZCwgd2Ugb3V0cHV0IHRoZSBnZXN0dXJlIGRlbHRhIGRpcmVjdGx5IHRvIHRob3NlIG1vdGlvbiB2YWx1ZXMuXG4gICAgICogLSBPdGhlcndpc2UsIHdlIGFwcGx5IHRoZSBkZWx0YSB0byB0aGUgeC95IG1vdGlvbiB2YWx1ZXMuXG4gICAgICovXG4gICAgZ2V0QXhpc01vdGlvblZhbHVlKGF4aXMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgZHJhZ0tleSA9IFwiX2RyYWdcIiArIGF4aXMudG9VcHBlckNhc2UoKTtcbiAgICAgICAgY29uc3QgZXh0ZXJuYWxNb3Rpb25WYWx1ZSA9IHRoaXMudmlzdWFsRWxlbWVudC5nZXRQcm9wcygpW2RyYWdLZXldO1xuICAgICAgICByZXR1cm4gZXh0ZXJuYWxNb3Rpb25WYWx1ZVxuICAgICAgICAgICAgPyBleHRlcm5hbE1vdGlvblZhbHVlXG4gICAgICAgICAgICA6IHRoaXMudmlzdWFsRWxlbWVudC5nZXRWYWx1ZShheGlzLCAoX2IgPSAoX2EgPSB0aGlzLnZpc3VhbEVsZW1lbnQuZ2V0UHJvcHMoKS5pbml0aWFsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbYXhpc10pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDApO1xuICAgIH1cbiAgICBzbmFwVG9DdXJzb3IocG9pbnQpIHtcbiAgICAgICAgZWFjaEF4aXMoKGF4aXMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZHJhZyB9ID0gdGhpcy5nZXRQcm9wcygpO1xuICAgICAgICAgICAgLy8gSWYgd2UncmUgbm90IGRyYWdnaW5nIHRoaXMgYXhpcywgZG8gYW4gZWFybHkgcmV0dXJuLlxuICAgICAgICAgICAgaWYgKCFzaG91bGREcmFnKGF4aXMsIGRyYWcsIHRoaXMuY3VycmVudERpcmVjdGlvbikpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgeyBwcm9qZWN0aW9uIH0gPSB0aGlzLnZpc3VhbEVsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBheGlzVmFsdWUgPSB0aGlzLmdldEF4aXNNb3Rpb25WYWx1ZShheGlzKTtcbiAgICAgICAgICAgIGlmIChwcm9qZWN0aW9uICYmIHByb2plY3Rpb24ubGF5b3V0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBtaW4sIG1heCB9ID0gcHJvamVjdGlvbi5sYXlvdXQuYWN0dWFsW2F4aXNdO1xuICAgICAgICAgICAgICAgIGF4aXNWYWx1ZS5zZXQocG9pbnRbYXhpc10gLSBtaXgobWluLCBtYXgsIDAuNSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgdmlld3BvcnQgcmVzaXplcyB3ZSB3YW50IHRvIGNoZWNrIGlmIHRoZSBtZWFzdXJlZCBjb25zdHJhaW50c1xuICAgICAqIGhhdmUgY2hhbmdlZCBhbmQsIGlmIHNvLCByZXBvc2l0aW9uIHRoZSBlbGVtZW50IHdpdGhpbiB0aG9zZSBuZXcgY29uc3RyYWludHNcbiAgICAgKiByZWxhdGl2ZSB0byB3aGVyZSBpdCB3YXMgYmVmb3JlIHRoZSByZXNpemUuXG4gICAgICovXG4gICAgc2NhbGVQb3NpdGlvbldpdGhpbkNvbnN0cmFpbnRzKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHsgZHJhZywgZHJhZ0NvbnN0cmFpbnRzIH0gPSB0aGlzLmdldFByb3BzKCk7XG4gICAgICAgIGNvbnN0IHsgcHJvamVjdGlvbiB9ID0gdGhpcy52aXN1YWxFbGVtZW50O1xuICAgICAgICBpZiAoIWlzUmVmT2JqZWN0KGRyYWdDb25zdHJhaW50cykgfHwgIXByb2plY3Rpb24gfHwgIXRoaXMuY29uc3RyYWludHMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdG9wIGN1cnJlbnQgYW5pbWF0aW9ucyBhcyB0aGVyZSBjYW4gYmUgdmlzdWFsIGdsaXRjaGluZyBpZiB3ZSB0cnkgdG8gZG9cbiAgICAgICAgICogdGhpcyBtaWQtYW5pbWF0aW9uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0b3BBbmltYXRpb24oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlY29yZCB0aGUgcmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIGRyYWdnZWQgZWxlbWVudCByZWxhdGl2ZSB0byB0aGVcbiAgICAgICAgICogY29uc3RyYWludHMgYm94IGFuZCBzYXZlIGFzIGEgcHJvZ3Jlc3MgdmFsdWUuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBib3hQcm9ncmVzcyA9IHsgeDogMCwgeTogMCB9O1xuICAgICAgICBlYWNoQXhpcygoYXhpcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgYXhpc1ZhbHVlID0gdGhpcy5nZXRBeGlzTW90aW9uVmFsdWUoYXhpcyk7XG4gICAgICAgICAgICBpZiAoYXhpc1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGF0ZXN0ID0gYXhpc1ZhbHVlLmdldCgpO1xuICAgICAgICAgICAgICAgIGJveFByb2dyZXNzW2F4aXNdID0gY2FsY09yaWdpbih7IG1pbjogbGF0ZXN0LCBtYXg6IGxhdGVzdCB9LCB0aGlzLmNvbnN0cmFpbnRzW2F4aXNdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgdGhlIGxheW91dCBvZiB0aGlzIGVsZW1lbnQgYW5kIHJlc29sdmUgdGhlIGxhdGVzdCBkcmFnIGNvbnN0cmFpbnRzXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCB7IHRyYW5zZm9ybVRlbXBsYXRlIH0gPSB0aGlzLnZpc3VhbEVsZW1lbnQuZ2V0UHJvcHMoKTtcbiAgICAgICAgdGhpcy52aXN1YWxFbGVtZW50LmdldEluc3RhbmNlKCkuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtVGVtcGxhdGVcbiAgICAgICAgICAgID8gdHJhbnNmb3JtVGVtcGxhdGUoe30sIFwiXCIpXG4gICAgICAgICAgICA6IFwibm9uZVwiO1xuICAgICAgICAoX2EgPSBwcm9qZWN0aW9uLnJvb3QpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS51cGRhdGVTY3JvbGwoKTtcbiAgICAgICAgcHJvamVjdGlvbi51cGRhdGVMYXlvdXQoKTtcbiAgICAgICAgdGhpcy5yZXNvbHZlQ29uc3RyYWludHMoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZvciBlYWNoIGF4aXMsIGNhbGN1bGF0ZSB0aGUgY3VycmVudCBwcm9ncmVzcyBvZiB0aGUgbGF5b3V0IGF4aXNcbiAgICAgICAgICogd2l0aGluIHRoZSBuZXcgY29uc3RyYWludHMuXG4gICAgICAgICAqL1xuICAgICAgICBlYWNoQXhpcygoYXhpcykgPT4ge1xuICAgICAgICAgICAgaWYgKCFzaG91bGREcmFnKGF4aXMsIGRyYWcsIG51bGwpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2FsY3VsYXRlIGEgbmV3IHRyYW5zZm9ybSBiYXNlZCBvbiB0aGUgcHJldmlvdXMgYm94IHByb2dyZXNzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IGF4aXNWYWx1ZSA9IHRoaXMuZ2V0QXhpc01vdGlvblZhbHVlKGF4aXMpO1xuICAgICAgICAgICAgY29uc3QgeyBtaW4sIG1heCB9ID0gdGhpcy5jb25zdHJhaW50c1theGlzXTtcbiAgICAgICAgICAgIGF4aXNWYWx1ZS5zZXQobWl4KG1pbiwgbWF4LCBib3hQcm9ncmVzc1theGlzXSkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYWRkTGlzdGVuZXJzKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGVsZW1lbnREcmFnQ29udHJvbHMuc2V0KHRoaXMudmlzdWFsRWxlbWVudCwgdGhpcyk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLnZpc3VhbEVsZW1lbnQuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEF0dGFjaCBhIHBvaW50ZXJkb3duIGV2ZW50IGxpc3RlbmVyIG9uIHRoaXMgRE9NIGVsZW1lbnQgdG8gaW5pdGlhdGUgZHJhZyB0cmFja2luZy5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHN0b3BQb2ludGVyTGlzdGVuZXIgPSBhZGRQb2ludGVyRXZlbnQoZWxlbWVudCwgXCJwb2ludGVyZG93blwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZHJhZywgZHJhZ0xpc3RlbmVyID0gdHJ1ZSB9ID0gdGhpcy5nZXRQcm9wcygpO1xuICAgICAgICAgICAgZHJhZyAmJiBkcmFnTGlzdGVuZXIgJiYgdGhpcy5zdGFydChldmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBtZWFzdXJlRHJhZ0NvbnN0cmFpbnRzID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBkcmFnQ29uc3RyYWludHMgfSA9IHRoaXMuZ2V0UHJvcHMoKTtcbiAgICAgICAgICAgIGlmIChpc1JlZk9iamVjdChkcmFnQ29uc3RyYWludHMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50cyA9IHRoaXMucmVzb2x2ZVJlZkNvbnN0cmFpbnRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHsgcHJvamVjdGlvbiB9ID0gdGhpcy52aXN1YWxFbGVtZW50O1xuICAgICAgICBjb25zdCBzdG9wTWVhc3VyZUxheW91dExpc3RlbmVyID0gcHJvamVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwibWVhc3VyZVwiLCBtZWFzdXJlRHJhZ0NvbnN0cmFpbnRzKTtcbiAgICAgICAgaWYgKHByb2plY3Rpb24gJiYgIXByb2plY3Rpb24ubGF5b3V0KSB7XG4gICAgICAgICAgICAoX2EgPSBwcm9qZWN0aW9uLnJvb3QpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS51cGRhdGVTY3JvbGwoKTtcbiAgICAgICAgICAgIHByb2plY3Rpb24udXBkYXRlTGF5b3V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgbWVhc3VyZURyYWdDb25zdHJhaW50cygpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXR0YWNoIGEgd2luZG93IHJlc2l6ZSBsaXN0ZW5lciB0byBzY2FsZSB0aGUgZHJhZ2dhYmxlIHRhcmdldCB3aXRoaW4gaXRzIGRlZmluZWRcbiAgICAgICAgICogY29uc3RyYWludHMgYXMgdGhlIHdpbmRvdyByZXNpemVzLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3Qgc3RvcFJlc2l6ZUxpc3RlbmVyID0gYWRkRG9tRXZlbnQod2luZG93LCBcInJlc2l6ZVwiLCAoKSA9PiB0aGlzLnNjYWxlUG9zaXRpb25XaXRoaW5Db25zdHJhaW50cygpKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBlbGVtZW50J3MgbGF5b3V0IGNoYW5nZXMsIGNhbGN1bGF0ZSB0aGUgZGVsdGEgYW5kIGFwcGx5IHRoYXQgdG9cbiAgICAgICAgICogdGhlIGRyYWcgZ2VzdHVyZSdzIG9yaWdpbiBwb2ludC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHN0b3BMYXlvdXRVcGRhdGVMaXN0ZW5lciA9IHByb2plY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImRpZFVwZGF0ZVwiLCAoKHsgZGVsdGEsIGhhc0xheW91dENoYW5nZWQgfSkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNEcmFnZ2luZyAmJiBoYXNMYXlvdXRDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgZWFjaEF4aXMoKGF4aXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW90aW9uVmFsdWUgPSB0aGlzLmdldEF4aXNNb3Rpb25WYWx1ZShheGlzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtb3Rpb25WYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5Qb2ludFtheGlzXSArPSBkZWx0YVtheGlzXS50cmFuc2xhdGU7XG4gICAgICAgICAgICAgICAgICAgIG1vdGlvblZhbHVlLnNldChtb3Rpb25WYWx1ZS5nZXQoKSArIGRlbHRhW2F4aXNdLnRyYW5zbGF0ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy52aXN1YWxFbGVtZW50LnN5bmNSZW5kZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgc3RvcFJlc2l6ZUxpc3RlbmVyKCk7XG4gICAgICAgICAgICBzdG9wUG9pbnRlckxpc3RlbmVyKCk7XG4gICAgICAgICAgICBzdG9wTWVhc3VyZUxheW91dExpc3RlbmVyKCk7XG4gICAgICAgICAgICBzdG9wTGF5b3V0VXBkYXRlTGlzdGVuZXIgPT09IG51bGwgfHwgc3RvcExheW91dFVwZGF0ZUxpc3RlbmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdG9wTGF5b3V0VXBkYXRlTGlzdGVuZXIoKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0UHJvcHMoKSB7XG4gICAgICAgIGNvbnN0IHByb3BzID0gdGhpcy52aXN1YWxFbGVtZW50LmdldFByb3BzKCk7XG4gICAgICAgIGNvbnN0IHsgZHJhZyA9IGZhbHNlLCBkcmFnRGlyZWN0aW9uTG9jayA9IGZhbHNlLCBkcmFnUHJvcGFnYXRpb24gPSBmYWxzZSwgZHJhZ0NvbnN0cmFpbnRzID0gZmFsc2UsIGRyYWdFbGFzdGljID0gZGVmYXVsdEVsYXN0aWMsIGRyYWdNb21lbnR1bSA9IHRydWUsIH0gPSBwcm9wcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnByb3BzLFxuICAgICAgICAgICAgZHJhZyxcbiAgICAgICAgICAgIGRyYWdEaXJlY3Rpb25Mb2NrLFxuICAgICAgICAgICAgZHJhZ1Byb3BhZ2F0aW9uLFxuICAgICAgICAgICAgZHJhZ0NvbnN0cmFpbnRzLFxuICAgICAgICAgICAgZHJhZ0VsYXN0aWMsXG4gICAgICAgICAgICBkcmFnTW9tZW50dW0sXG4gICAgICAgIH07XG4gICAgfVxufVxuZnVuY3Rpb24gc2hvdWxkRHJhZyhkaXJlY3Rpb24sIGRyYWcsIGN1cnJlbnREaXJlY3Rpb24pIHtcbiAgICByZXR1cm4gKChkcmFnID09PSB0cnVlIHx8IGRyYWcgPT09IGRpcmVjdGlvbikgJiZcbiAgICAgICAgKGN1cnJlbnREaXJlY3Rpb24gPT09IG51bGwgfHwgY3VycmVudERpcmVjdGlvbiA9PT0gZGlyZWN0aW9uKSk7XG59XG4vKipcbiAqIEJhc2VkIG9uIGFuIHgveSBvZmZzZXQgZGV0ZXJtaW5lIHRoZSBjdXJyZW50IGRyYWcgZGlyZWN0aW9uLiBJZiBib3RoIGF4aXMnIG9mZnNldHMgYXJlIGxvd2VyXG4gKiB0aGFuIHRoZSBwcm92aWRlZCB0aHJlc2hvbGQsIHJldHVybiBgbnVsbGAuXG4gKlxuICogQHBhcmFtIG9mZnNldCAtIFRoZSB4L3kgb2Zmc2V0IGZyb20gb3JpZ2luLlxuICogQHBhcmFtIGxvY2tUaHJlc2hvbGQgLSAoT3B0aW9uYWwpIC0gdGhlIG1pbmltdW0gYWJzb2x1dGUgb2Zmc2V0IGJlZm9yZSB3ZSBjYW4gZGV0ZXJtaW5lIGEgZHJhZyBkaXJlY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGdldEN1cnJlbnREaXJlY3Rpb24ob2Zmc2V0LCBsb2NrVGhyZXNob2xkID0gMTApIHtcbiAgICBsZXQgZGlyZWN0aW9uID0gbnVsbDtcbiAgICBpZiAoTWF0aC5hYnMob2Zmc2V0LnkpID4gbG9ja1RocmVzaG9sZCkge1xuICAgICAgICBkaXJlY3Rpb24gPSBcInlcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAoTWF0aC5hYnMob2Zmc2V0LngpID4gbG9ja1RocmVzaG9sZCkge1xuICAgICAgICBkaXJlY3Rpb24gPSBcInhcIjtcbiAgICB9XG4gICAgcmV0dXJuIGRpcmVjdGlvbjtcbn1cblxuZXhwb3J0IHsgVmlzdWFsRWxlbWVudERyYWdDb250cm9scywgZWxlbWVudERyYWdDb250cm9scyB9O1xuIiwiY29uc3QgY3JlYXRlQXhpc0RlbHRhID0gKCkgPT4gKHtcbiAgICB0cmFuc2xhdGU6IDAsXG4gICAgc2NhbGU6IDEsXG4gICAgb3JpZ2luOiAwLFxuICAgIG9yaWdpblBvaW50OiAwLFxufSk7XG5jb25zdCBjcmVhdGVEZWx0YSA9ICgpID0+ICh7XG4gICAgeDogY3JlYXRlQXhpc0RlbHRhKCksXG4gICAgeTogY3JlYXRlQXhpc0RlbHRhKCksXG59KTtcbmNvbnN0IGNyZWF0ZUF4aXMgPSAoKSA9PiAoeyBtaW46IDAsIG1heDogMCB9KTtcbmNvbnN0IGNyZWF0ZUJveCA9ICgpID0+ICh7XG4gICAgeDogY3JlYXRlQXhpcygpLFxuICAgIHk6IGNyZWF0ZUF4aXMoKSxcbn0pO1xuXG5leHBvcnQgeyBjcmVhdGVBeGlzLCBjcmVhdGVBeGlzRGVsdGEsIGNyZWF0ZUJveCwgY3JlYXRlRGVsdGEgfTtcbiIsImltcG9ydCB7IHVzZURyYWcgfSBmcm9tICcuLi8uLi9nZXN0dXJlcy9kcmFnL3VzZS1kcmFnLm1qcyc7XG5pbXBvcnQgeyB1c2VQYW5HZXN0dXJlIH0gZnJvbSAnLi4vLi4vZ2VzdHVyZXMvdXNlLXBhbi1nZXN0dXJlLm1qcyc7XG5pbXBvcnQgeyBtYWtlUmVuZGVybGVzc0NvbXBvbmVudCB9IGZyb20gJy4uL3V0aWxzL21ha2UtcmVuZGVybGVzcy1jb21wb25lbnQubWpzJztcblxuY29uc3QgZHJhZyA9IHtcbiAgICBwYW46IG1ha2VSZW5kZXJsZXNzQ29tcG9uZW50KHVzZVBhbkdlc3R1cmUpLFxuICAgIGRyYWc6IG1ha2VSZW5kZXJsZXNzQ29tcG9uZW50KHVzZURyYWcpLFxufTtcblxuZXhwb3J0IHsgZHJhZyB9O1xuIiwiaW1wb3J0IHsgdXNlUmVmLCB1c2VDb250ZXh0LCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBNb3Rpb25Db25maWdDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9Nb3Rpb25Db25maWdDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyB1c2VVbm1vdW50RWZmZWN0IH0gZnJvbSAnLi4vdXRpbHMvdXNlLXVubW91bnQtZWZmZWN0Lm1qcyc7XG5pbXBvcnQgeyB1c2VQb2ludGVyRXZlbnQgfSBmcm9tICcuLi9ldmVudHMvdXNlLXBvaW50ZXItZXZlbnQubWpzJztcbmltcG9ydCB7IFBhblNlc3Npb24gfSBmcm9tICcuL1BhblNlc3Npb24ubWpzJztcblxuLyoqXG4gKlxuICogQHBhcmFtIGhhbmRsZXJzIC1cbiAqIEBwYXJhbSByZWYgLVxuICpcbiAqIEBwcml2YXRlUmVtYXJrc1xuICogQ3VycmVudGx5IHRoaXMgc2V0cyBuZXcgcGFuIGdlc3R1cmUgZnVuY3Rpb25zIGV2ZXJ5IHJlbmRlci4gVGhlIG1lbW8gcm91dGUgaGFzIGJlZW4gZXhwbG9yZWRcbiAqIGluIHRoZSBwYXN0IGJ1dCB1bHRpbWF0ZWx5IHdlJ3JlIHN0aWxsIGNyZWF0aW5nIG5ldyBmdW5jdGlvbnMgZXZlcnkgcmVuZGVyLiBBbiBvcHRpbWlzYXRpb25cbiAqIHRvIGV4cGxvcmUgaXMgY3JlYXRpbmcgdGhlIHBhbiBnZXN0dXJlcyBhbmQgbG9hZGluZyB0aGVtIGludG8gYSBgcmVmYC5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gdXNlUGFuR2VzdHVyZSh7IG9uUGFuLCBvblBhblN0YXJ0LCBvblBhbkVuZCwgb25QYW5TZXNzaW9uU3RhcnQsIHZpc3VhbEVsZW1lbnQsIH0pIHtcbiAgICBjb25zdCBoYXNQYW5FdmVudHMgPSBvblBhbiB8fCBvblBhblN0YXJ0IHx8IG9uUGFuRW5kIHx8IG9uUGFuU2Vzc2lvblN0YXJ0O1xuICAgIGNvbnN0IHBhblNlc3Npb24gPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgeyB0cmFuc2Zvcm1QYWdlUG9pbnQgfSA9IHVzZUNvbnRleHQoTW90aW9uQ29uZmlnQ29udGV4dCk7XG4gICAgY29uc3QgaGFuZGxlcnMgPSB7XG4gICAgICAgIG9uU2Vzc2lvblN0YXJ0OiBvblBhblNlc3Npb25TdGFydCxcbiAgICAgICAgb25TdGFydDogb25QYW5TdGFydCxcbiAgICAgICAgb25Nb3ZlOiBvblBhbixcbiAgICAgICAgb25FbmQ6IChldmVudCwgaW5mbykgPT4ge1xuICAgICAgICAgICAgcGFuU2Vzc2lvbi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIG9uUGFuRW5kICYmIG9uUGFuRW5kKGV2ZW50LCBpbmZvKTtcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChwYW5TZXNzaW9uLmN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHBhblNlc3Npb24uY3VycmVudC51cGRhdGVIYW5kbGVycyhoYW5kbGVycyk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBmdW5jdGlvbiBvblBvaW50ZXJEb3duKGV2ZW50KSB7XG4gICAgICAgIHBhblNlc3Npb24uY3VycmVudCA9IG5ldyBQYW5TZXNzaW9uKGV2ZW50LCBoYW5kbGVycywge1xuICAgICAgICAgICAgdHJhbnNmb3JtUGFnZVBvaW50LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdXNlUG9pbnRlckV2ZW50KHZpc3VhbEVsZW1lbnQsIFwicG9pbnRlcmRvd25cIiwgaGFzUGFuRXZlbnRzICYmIG9uUG9pbnRlckRvd24pO1xuICAgIHVzZVVubW91bnRFZmZlY3QoKCkgPT4gcGFuU2Vzc2lvbi5jdXJyZW50ICYmIHBhblNlc3Npb24uY3VycmVudC5lbmQoKSk7XG59XG5cbmV4cG9ydCB7IHVzZVBhbkdlc3R1cmUgfTtcbiIsImltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFZpc3VhbEVsZW1lbnREcmFnQ29udHJvbHMgfSBmcm9tICcuL1Zpc3VhbEVsZW1lbnREcmFnQ29udHJvbHMubWpzJztcbmltcG9ydCB7IHVzZUNvbnN0YW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLWNvbnN0YW50Lm1qcyc7XG5cbi8qKlxuICogQSBob29rIHRoYXQgYWxsb3dzIGFuIGVsZW1lbnQgdG8gYmUgZHJhZ2dlZC5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gdXNlRHJhZyhwcm9wcykge1xuICAgIGNvbnN0IHsgZHJhZ0NvbnRyb2xzOiBncm91cERyYWdDb250cm9scywgdmlzdWFsRWxlbWVudCB9ID0gcHJvcHM7XG4gICAgY29uc3QgZHJhZ0NvbnRyb2xzID0gdXNlQ29uc3RhbnQoKCkgPT4gbmV3IFZpc3VhbEVsZW1lbnREcmFnQ29udHJvbHModmlzdWFsRWxlbWVudCkpO1xuICAgIC8vIElmIHdlJ3ZlIGJlZW4gcHJvdmlkZWQgYSBEcmFnQ29udHJvbHMgZm9yIG1hbnVhbCBjb250cm9sIG92ZXIgdGhlIGRyYWcgZ2VzdHVyZSxcbiAgICAvLyBzdWJzY3JpYmUgdGhpcyBjb21wb25lbnQgdG8gaXQgb24gbW91bnQuXG4gICAgdXNlRWZmZWN0KCgpID0+IGdyb3VwRHJhZ0NvbnRyb2xzICYmIGdyb3VwRHJhZ0NvbnRyb2xzLnN1YnNjcmliZShkcmFnQ29udHJvbHMpLCBbZHJhZ0NvbnRyb2xzLCBncm91cERyYWdDb250cm9sc10pO1xuICAgIC8vIEFwcGx5IHRoZSBldmVudCBsaXN0ZW5lcnMgdG8gdGhlIGVsZW1lbnRcbiAgICB1c2VFZmZlY3QoKCkgPT4gZHJhZ0NvbnRyb2xzLmFkZExpc3RlbmVycygpLCBbZHJhZ0NvbnRyb2xzXSk7XG59XG5cbmV4cG9ydCB7IHVzZURyYWcgfTtcbiIsIi8vIERvZXMgdGhpcyBkZXZpY2UgcHJlZmVyIHJlZHVjZWQgbW90aW9uPyBSZXR1cm5zIGBudWxsYCBzZXJ2ZXItc2lkZS5cbmNvbnN0IHByZWZlcnNSZWR1Y2VkTW90aW9uID0geyBjdXJyZW50OiBudWxsIH07XG5jb25zdCBoYXNSZWR1Y2VkTW90aW9uTGlzdGVuZXIgPSB7IGN1cnJlbnQ6IGZhbHNlIH07XG5cbmV4cG9ydCB7IGhhc1JlZHVjZWRNb3Rpb25MaXN0ZW5lciwgcHJlZmVyc1JlZHVjZWRNb3Rpb24gfTtcbiIsImltcG9ydCB7IFN1YnNjcmlwdGlvbk1hbmFnZXIgfSBmcm9tICcuLi8uLi91dGlscy9zdWJzY3JpcHRpb24tbWFuYWdlci5tanMnO1xuXG5jb25zdCBuYW1lcyA9IFtcbiAgICBcIkxheW91dE1lYXN1cmVcIixcbiAgICBcIkJlZm9yZUxheW91dE1lYXN1cmVcIixcbiAgICBcIkxheW91dFVwZGF0ZVwiLFxuICAgIFwiVmlld3BvcnRCb3hVcGRhdGVcIixcbiAgICBcIlVwZGF0ZVwiLFxuICAgIFwiUmVuZGVyXCIsXG4gICAgXCJBbmltYXRpb25Db21wbGV0ZVwiLFxuICAgIFwiTGF5b3V0QW5pbWF0aW9uQ29tcGxldGVcIixcbiAgICBcIkFuaW1hdGlvblN0YXJ0XCIsXG4gICAgXCJMYXlvdXRBbmltYXRpb25TdGFydFwiLFxuICAgIFwiU2V0QXhpc1RhcmdldFwiLFxuICAgIFwiVW5tb3VudFwiLFxuXTtcbmZ1bmN0aW9uIGNyZWF0ZUxpZmVjeWNsZXMoKSB7XG4gICAgY29uc3QgbWFuYWdlcnMgPSBuYW1lcy5tYXAoKCkgPT4gbmV3IFN1YnNjcmlwdGlvbk1hbmFnZXIoKSk7XG4gICAgY29uc3QgcHJvcFN1YnNjcmlwdGlvbnMgPSB7fTtcbiAgICBjb25zdCBsaWZlY3ljbGVzID0ge1xuICAgICAgICBjbGVhckFsbExpc3RlbmVyczogKCkgPT4gbWFuYWdlcnMuZm9yRWFjaCgobWFuYWdlcikgPT4gbWFuYWdlci5jbGVhcigpKSxcbiAgICAgICAgdXBkYXRlUHJvcExpc3RlbmVyczogKHByb3BzKSA9PiB7XG4gICAgICAgICAgICBuYW1lcy5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9uID0gXCJvblwiICsgbmFtZTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9wTGlzdGVuZXIgPSBwcm9wc1tvbl07XG4gICAgICAgICAgICAgICAgLy8gVW5zdWJzY3JpYmUgZXhpc3Rpbmcgc3Vic2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgKF9hID0gcHJvcFN1YnNjcmlwdGlvbnNbbmFtZV0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BTdWJzY3JpcHRpb25zKTtcbiAgICAgICAgICAgICAgICAvLyBBZGQgbmV3IHN1YnNjcmlwdGlvblxuICAgICAgICAgICAgICAgIGlmIChwcm9wTGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcFN1YnNjcmlwdGlvbnNbbmFtZV0gPSBsaWZlY3ljbGVzW29uXShwcm9wTGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgIH07XG4gICAgbWFuYWdlcnMuZm9yRWFjaCgobWFuYWdlciwgaSkgPT4ge1xuICAgICAgICBsaWZlY3ljbGVzW1wib25cIiArIG5hbWVzW2ldXSA9IChoYW5kbGVyKSA9PiBtYW5hZ2VyLmFkZChoYW5kbGVyKTtcbiAgICAgICAgbGlmZWN5Y2xlc1tcIm5vdGlmeVwiICsgbmFtZXNbaV1dID0gKC4uLmFyZ3MpID0+IG1hbmFnZXIubm90aWZ5KC4uLmFyZ3MpO1xuICAgIH0pO1xuICAgIHJldHVybiBsaWZlY3ljbGVzO1xufVxuXG5leHBvcnQgeyBjcmVhdGVMaWZlY3ljbGVzIH07XG4iLCJpbXBvcnQgc3luYywgeyBjYW5jZWxTeW5jIH0gZnJvbSAnZnJhbWVzeW5jJztcbmltcG9ydCB7IGluaXRQcmVmZXJzUmVkdWNlZE1vdGlvbiB9IGZyb20gJy4uL3V0aWxzL3JlZHVjZWQtbW90aW9uL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBoYXNSZWR1Y2VkTW90aW9uTGlzdGVuZXIsIHByZWZlcnNSZWR1Y2VkTW90aW9uIH0gZnJvbSAnLi4vdXRpbHMvcmVkdWNlZC1tb3Rpb24vc3RhdGUubWpzJztcbmltcG9ydCB7IG1vdGlvblZhbHVlIH0gZnJvbSAnLi4vdmFsdWUvaW5kZXgubWpzJztcbmltcG9ydCB7IGlzV2lsbENoYW5nZU1vdGlvblZhbHVlIH0gZnJvbSAnLi4vdmFsdWUvdXNlLXdpbGwtY2hhbmdlL2lzLm1qcyc7XG5pbXBvcnQgeyBpc01vdGlvblZhbHVlIH0gZnJvbSAnLi4vdmFsdWUvdXRpbHMvaXMtbW90aW9uLXZhbHVlLm1qcyc7XG5pbXBvcnQgeyB2YXJpYW50UHJpb3JpdHlPcmRlciB9IGZyb20gJy4vdXRpbHMvYW5pbWF0aW9uLXN0YXRlLm1qcyc7XG5pbXBvcnQgeyBpc1ZhcmlhbnRMYWJlbCB9IGZyb20gJy4vdXRpbHMvaXMtdmFyaWFudC1sYWJlbC5tanMnO1xuaW1wb3J0IHsgY3JlYXRlTGlmZWN5Y2xlcyB9IGZyb20gJy4vdXRpbHMvbGlmZWN5Y2xlcy5tanMnO1xuaW1wb3J0IHsgdXBkYXRlTW90aW9uVmFsdWVzRnJvbVByb3BzIH0gZnJvbSAnLi91dGlscy9tb3Rpb24tdmFsdWVzLm1qcyc7XG5pbXBvcnQgeyBpc0NvbnRyb2xsaW5nVmFyaWFudHMsIGlzVmFyaWFudE5vZGUgfSBmcm9tICcuL3V0aWxzL2lzLWNvbnRyb2xsaW5nLXZhcmlhbnRzLm1qcyc7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuLi91dGlscy9wcm9jZXNzLm1qcyc7XG5pbXBvcnQgeyBpbnZhcmlhbnQgfSBmcm9tICdoZXktbGlzdGVuJztcbmltcG9ydCB7IGZlYXR1cmVEZWZpbml0aW9ucyB9IGZyb20gJy4uL21vdGlvbi9mZWF0dXJlcy9kZWZpbml0aW9ucy5tanMnO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGlzUmVmT2JqZWN0IH0gZnJvbSAnLi4vdXRpbHMvaXMtcmVmLW9iamVjdC5tanMnO1xuXG5jb25zdCBmZWF0dXJlTmFtZXMgPSBPYmplY3Qua2V5cyhmZWF0dXJlRGVmaW5pdGlvbnMpO1xuY29uc3QgbnVtRmVhdHVyZXMgPSBmZWF0dXJlTmFtZXMubGVuZ3RoO1xuY29uc3QgdmlzdWFsRWxlbWVudCA9ICh7IHRyZWVUeXBlID0gXCJcIiwgYnVpbGQsIGdldEJhc2VUYXJnZXQsIG1ha2VUYXJnZXRBbmltYXRhYmxlLCBtZWFzdXJlVmlld3BvcnRCb3gsIHJlbmRlcjogcmVuZGVySW5zdGFuY2UsIHJlYWRWYWx1ZUZyb21JbnN0YW5jZSwgcmVtb3ZlVmFsdWVGcm9tUmVuZGVyU3RhdGUsIHNvcnROb2RlUG9zaXRpb24sIHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcywgfSkgPT4gKHsgcGFyZW50LCBwcm9wcywgcHJlc2VuY2VJZCwgYmxvY2tJbml0aWFsQW5pbWF0aW9uLCB2aXN1YWxTdGF0ZSwgcmVkdWNlZE1vdGlvbkNvbmZpZywgfSwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgbGV0IGlzTW91bnRlZCA9IGZhbHNlO1xuICAgIGNvbnN0IHsgbGF0ZXN0VmFsdWVzLCByZW5kZXJTdGF0ZSB9ID0gdmlzdWFsU3RhdGU7XG4gICAgLyoqXG4gICAgICogVGhlIGluc3RhbmNlIG9mIHRoZSByZW5kZXItc3BlY2lmaWMgbm9kZSB0aGF0IHdpbGwgYmUgaHlkcmF0ZWQgYnkgdGhlXG4gICAgICogZXhwb3NlZCBSZWFjdCByZWYuIFNvIGZvciBleGFtcGxlLCB0aGlzIHZpc3VhbCBlbGVtZW50IGNhbiBob3N0IGFcbiAgICAgKiBIVE1MRWxlbWVudCwgcGxhaW4gb2JqZWN0LCBvciBUaHJlZS5qcyBvYmplY3QuIFRoZSBmdW5jdGlvbnMgcHJvdmlkZWRcbiAgICAgKiBpbiBWaXN1YWxFbGVtZW50Q29uZmlnIGFsbG93IHVzIHRvIGludGVyZmFjZSB3aXRoIHRoaXMgaW5zdGFuY2UuXG4gICAgICovXG4gICAgbGV0IGluc3RhbmNlO1xuICAgIC8qKlxuICAgICAqIE1hbmFnZXMgdGhlIHN1YnNjcmlwdGlvbnMgZm9yIGEgdmlzdWFsIGVsZW1lbnQncyBsaWZlY3ljbGUsIGZvciBpbnN0YW5jZVxuICAgICAqIG9uUmVuZGVyXG4gICAgICovXG4gICAgY29uc3QgbGlmZWN5Y2xlcyA9IGNyZWF0ZUxpZmVjeWNsZXMoKTtcbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiBhbGwgbW90aW9uIHZhbHVlcyBhdHRhY2hlZCB0byB0aGlzIHZpc3VhbCBlbGVtZW50LiBNb3Rpb25cbiAgICAgKiB2YWx1ZXMgYXJlIHNvdXJjZSBvZiB0cnV0aCBmb3IgYW55IGdpdmVuIGFuaW1hdGVkIHZhbHVlLiBBIG1vdGlvblxuICAgICAqIHZhbHVlIG1pZ2h0IGJlIHByb3ZpZGVkIGV4dGVybmFsbHkgYnkgdGhlIGNvbXBvbmVudCB2aWEgcHJvcHMuXG4gICAgICovXG4gICAgY29uc3QgdmFsdWVzID0gbmV3IE1hcCgpO1xuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIGV2ZXJ5IHN1YnNjcmlwdGlvbiB0aGF0IGJpbmRzIHRoZSBwcm92aWRlZCBvciBnZW5lcmF0ZWRcbiAgICAgKiBtb3Rpb24gdmFsdWVzIG9uQ2hhbmdlIGxpc3RlbmVycyB0byB0aGlzIHZpc3VhbCBlbGVtZW50LlxuICAgICAqL1xuICAgIGNvbnN0IHZhbHVlU3Vic2NyaXB0aW9ucyA9IG5ldyBNYXAoKTtcbiAgICAvKipcbiAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgcHJldmlvdXNseS1wcm92aWRlZCBtb3Rpb24gdmFsdWVzIGFzIHJldHVybmVkXG4gICAgICogZnJvbSBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMuIFdlIHVzZSB0aGUga2V5cyBpbiBoZXJlIHRvIGRldGVybWluZVxuICAgICAqIGlmIGFueSBtb3Rpb24gdmFsdWVzIG5lZWQgdG8gYmUgcmVtb3ZlZCBhZnRlciBwcm9wcyBhcmUgdXBkYXRlZC5cbiAgICAgKi9cbiAgICBsZXQgcHJldk1vdGlvblZhbHVlcyA9IHt9O1xuICAgIC8qKlxuICAgICAqIFdoZW4gdmFsdWVzIGFyZSByZW1vdmVkIGZyb20gYWxsIGFuaW1hdGlvbiBwcm9wcyB3ZSBuZWVkIHRvIHNlYXJjaFxuICAgICAqIGZvciBhIGZhbGxiYWNrIHZhbHVlIHRvIGFuaW1hdGUgdG8uIFRoZXNlIHZhbHVlcyBhcmUgdHJhY2tlZCBpbiBiYXNlVGFyZ2V0LlxuICAgICAqL1xuICAgIGNvbnN0IGJhc2VUYXJnZXQgPSB7XG4gICAgICAgIC4uLmxhdGVzdFZhbHVlcyxcbiAgICB9O1xuICAgIC8vIEludGVybmFsIG1ldGhvZHMgPT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogT24gbW91bnQsIHRoaXMgd2lsbCBiZSBoeWRyYXRlZCB3aXRoIGEgY2FsbGJhY2sgdG8gZGlzY29ubmVjdFxuICAgICAqIHRoaXMgdmlzdWFsIGVsZW1lbnQgZnJvbSBpdHMgcGFyZW50IG9uIHVubW91bnQuXG4gICAgICovXG4gICAgbGV0IHJlbW92ZUZyb21WYXJpYW50VHJlZTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIGVsZW1lbnQgd2l0aCB0aGUgbGF0ZXN0IHN0eWxlcyBvdXRzaWRlIG9mIHRoZSBSZWFjdFxuICAgICAqIHJlbmRlciBsaWZlY3ljbGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIGlmICghaW5zdGFuY2UgfHwgIWlzTW91bnRlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdHJpZ2dlckJ1aWxkKCk7XG4gICAgICAgIHJlbmRlckluc3RhbmNlKGluc3RhbmNlLCByZW5kZXJTdGF0ZSwgcHJvcHMuc3R5bGUsIGVsZW1lbnQucHJvamVjdGlvbik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRyaWdnZXJCdWlsZCgpIHtcbiAgICAgICAgYnVpbGQoZWxlbWVudCwgcmVuZGVyU3RhdGUsIGxhdGVzdFZhbHVlcywgb3B0aW9ucywgcHJvcHMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgIGxpZmVjeWNsZXMubm90aWZ5VXBkYXRlKGxhdGVzdFZhbHVlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmluZFRvTW90aW9uVmFsdWUoa2V5LCB2YWx1ZSkge1xuICAgICAgICBjb25zdCByZW1vdmVPbkNoYW5nZSA9IHZhbHVlLm9uQ2hhbmdlKChsYXRlc3RWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgbGF0ZXN0VmFsdWVzW2tleV0gPSBsYXRlc3RWYWx1ZTtcbiAgICAgICAgICAgIHByb3BzLm9uVXBkYXRlICYmIHN5bmMudXBkYXRlKHVwZGF0ZSwgZmFsc2UsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVtb3ZlT25SZW5kZXJSZXF1ZXN0ID0gdmFsdWUub25SZW5kZXJSZXF1ZXN0KGVsZW1lbnQuc2NoZWR1bGVSZW5kZXIpO1xuICAgICAgICB2YWx1ZVN1YnNjcmlwdGlvbnMuc2V0KGtleSwgKCkgPT4ge1xuICAgICAgICAgICAgcmVtb3ZlT25DaGFuZ2UoKTtcbiAgICAgICAgICAgIHJlbW92ZU9uUmVuZGVyUmVxdWVzdCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQW55IG1vdGlvbiB2YWx1ZXMgdGhhdCBhcmUgcHJvdmlkZWQgdG8gdGhlIGVsZW1lbnQgd2hlbiBjcmVhdGVkXG4gICAgICogYXJlbid0IHlldCBib3VuZCB0byB0aGUgZWxlbWVudCwgYXMgdGhpcyB3b3VsZCB0ZWNobmljYWxseSBiZSBpbXB1cmUuXG4gICAgICogSG93ZXZlciwgd2UgaXRlcmF0ZSB0aHJvdWdoIHRoZSBtb3Rpb24gdmFsdWVzIGFuZCBzZXQgdGhlbSB0byB0aGVcbiAgICAgKiBpbml0aWFsIHZhbHVlcyBmb3IgdGhpcyBjb21wb25lbnQuXG4gICAgICpcbiAgICAgKiBUT0RPOiBUaGlzIGlzIGltcHVyZSBhbmQgd2Ugc2hvdWxkIGxvb2sgYXQgY2hhbmdpbmcgdGhpcyB0byBydW4gb24gbW91bnQuXG4gICAgICogRG9pbmcgc28gd2lsbCBicmVhayBzb21lIHRlc3RzIGJ1dCB0aGlzIGlzbid0IG5lY2Nlc3NhcmlseSBhIGJyZWFraW5nIGNoYW5nZSxcbiAgICAgKiBtb3JlIGEgcmVmbGVjdGlvbiBvZiB0aGUgdGVzdC5cbiAgICAgKi9cbiAgICBjb25zdCB7IHdpbGxDaGFuZ2UsIC4uLmluaXRpYWxNb3Rpb25WYWx1ZXMgfSA9IHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyhwcm9wcyk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gaW5pdGlhbE1vdGlvblZhbHVlcykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGluaXRpYWxNb3Rpb25WYWx1ZXNba2V5XTtcbiAgICAgICAgaWYgKGxhdGVzdFZhbHVlc1trZXldICE9PSB1bmRlZmluZWQgJiYgaXNNb3Rpb25WYWx1ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlLnNldChsYXRlc3RWYWx1ZXNba2V5XSwgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKGlzV2lsbENoYW5nZU1vdGlvblZhbHVlKHdpbGxDaGFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgd2lsbENoYW5nZS5hZGQoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgd2hhdCByb2xlIHRoaXMgdmlzdWFsIGVsZW1lbnQgc2hvdWxkIHRha2UgaW4gdGhlIHZhcmlhbnQgdHJlZS5cbiAgICAgKi9cbiAgICBjb25zdCBpc0NvbnRyb2xsaW5nVmFyaWFudHMkMSA9IGlzQ29udHJvbGxpbmdWYXJpYW50cyhwcm9wcyk7XG4gICAgY29uc3QgaXNWYXJpYW50Tm9kZSQxID0gaXNWYXJpYW50Tm9kZShwcm9wcyk7XG4gICAgY29uc3QgZWxlbWVudCA9IHtcbiAgICAgICAgdHJlZVR5cGUsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIGEgbWlycm9yIG9mIHRoZSBpbnRlcm5hbCBpbnN0YW5jZSBwcm9wLCB3aGljaCBrZWVwc1xuICAgICAgICAgKiBWaXN1YWxFbGVtZW50IHR5cGUtY29tcGF0aWJsZSB3aXRoIFJlYWN0J3MgUmVmT2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgY3VycmVudDogbnVsbCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZXB0aCBvZiB0aGlzIHZpc3VhbCBlbGVtZW50IHdpdGhpbiB0aGUgdmlzdWFsIGVsZW1lbnQgdHJlZS5cbiAgICAgICAgICovXG4gICAgICAgIGRlcHRoOiBwYXJlbnQgPyBwYXJlbnQuZGVwdGggKyAxIDogMCxcbiAgICAgICAgcGFyZW50LFxuICAgICAgICBjaGlsZHJlbjogbmV3IFNldCgpLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIHByZXNlbmNlSWQsXG4gICAgICAgIHNob3VsZFJlZHVjZU1vdGlvbjogbnVsbCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoaXMgY29tcG9uZW50IGlzIHBhcnQgb2YgdGhlIHZhcmlhbnQgdHJlZSwgaXQgc2hvdWxkIHRyYWNrXG4gICAgICAgICAqIGFueSBjaGlsZHJlbiB0aGF0IGFyZSBhbHNvIHBhcnQgb2YgdGhlIHRyZWUuIFRoaXMgaXMgZXNzZW50aWFsbHlcbiAgICAgICAgICogYSBzaGFkb3cgdHJlZSB0byBzaW1wbGlmeSBsb2dpYyBhcm91bmQgaG93IHRvIHN0YWdnZXIgb3ZlciBjaGlsZHJlbi5cbiAgICAgICAgICovXG4gICAgICAgIHZhcmlhbnRDaGlsZHJlbjogaXNWYXJpYW50Tm9kZSQxID8gbmV3IFNldCgpIDogdW5kZWZpbmVkLFxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGlzIGluc3RhbmNlIGlzIHZpc2libGUuIFRoaXMgY2FuIGJlIGNoYW5nZWQgaW1wZXJhdGl2ZWx5XG4gICAgICAgICAqIGJ5IHRoZSBwcm9qZWN0aW9uIHRyZWUsIGlzIGFuYWxvZ291cyB0byBDU1MncyB2aXNpYmlsaXR5IGluIHRoYXRcbiAgICAgICAgICogaGlkZGVuIGVsZW1lbnRzIHNob3VsZCB0YWtlIHVwIGxheW91dCwgYW5kIG5lZWRzIGVuYWN0aW5nIGJ5IHRoZSBjb25maWd1cmVkXG4gICAgICAgICAqIHJlbmRlciBmdW5jdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIGlzVmlzaWJsZTogdW5kZWZpbmVkLFxuICAgICAgICAvKipcbiAgICAgICAgICogTm9ybWFsbHksIGlmIGEgY29tcG9uZW50IGlzIGNvbnRyb2xsZWQgYnkgYSBwYXJlbnQncyB2YXJpYW50cywgaXQgY2FuXG4gICAgICAgICAqIHJlbHkgb24gdGhhdCBhbmNlc3RvciB0byB0cmlnZ2VyIGFuaW1hdGlvbnMgZnVydGhlciBkb3duIHRoZSB0cmVlLlxuICAgICAgICAgKiBIb3dldmVyLCBpZiBhIGNvbXBvbmVudCBpcyBjcmVhdGVkIGFmdGVyIGl0cyBwYXJlbnQgaXMgbW91bnRlZCwgdGhlIHBhcmVudFxuICAgICAgICAgKiB3b24ndCB0cmlnZ2VyIHRoYXQgbW91bnQgYW5pbWF0aW9uIHNvIHRoZSBjaGlsZCBuZWVkcyB0by5cbiAgICAgICAgICpcbiAgICAgICAgICogVE9ETzogVGhpcyBtaWdodCBiZSBiZXR0ZXIgcmVwbGFjZWQgd2l0aCBhIG1ldGhvZCBpc1BhcmVudE1vdW50ZWRcbiAgICAgICAgICovXG4gICAgICAgIG1hbnVhbGx5QW5pbWF0ZU9uTW91bnQ6IEJvb2xlYW4ocGFyZW50ID09PSBudWxsIHx8IHBhcmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50LmlzTW91bnRlZCgpKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgY2FuIGJlIHNldCBieSBBbmltYXRlUHJlc2VuY2UgdG8gZm9yY2UgY29tcG9uZW50cyB0aGF0IG1vdW50XG4gICAgICAgICAqIGF0IHRoZSBzYW1lIHRpbWUgYXMgaXQgdG8gbW91bnQgYXMgaWYgdGhleSBoYXZlIGluaXRpYWw9e2ZhbHNlfSBzZXQuXG4gICAgICAgICAqL1xuICAgICAgICBibG9ja0luaXRpYWxBbmltYXRpb24sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRlcm1pbmUgd2hldGhlciB0aGlzIGNvbXBvbmVudCBoYXMgbW91bnRlZCB5ZXQuIFRoaXMgaXMgbW9zdGx5IHVzZWRcbiAgICAgICAgICogYnkgdmFyaWFudCBjaGlsZHJlbiB0byBkZXRlcm1pbmUgd2hldGhlciB0aGV5IG5lZWQgdG8gdHJpZ2dlciB0aGVpclxuICAgICAgICAgKiBvd24gYW5pbWF0aW9ucyBvbiBtb3VudC5cbiAgICAgICAgICovXG4gICAgICAgIGlzTW91bnRlZDogKCkgPT4gQm9vbGVhbihpbnN0YW5jZSksXG4gICAgICAgIG1vdW50KG5ld0luc3RhbmNlKSB7XG4gICAgICAgICAgICBpc01vdW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgaW5zdGFuY2UgPSBlbGVtZW50LmN1cnJlbnQgPSBuZXdJbnN0YW5jZTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50LnByb2plY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnByb2plY3Rpb24ubW91bnQobmV3SW5zdGFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzVmFyaWFudE5vZGUkMSAmJiBwYXJlbnQgJiYgIWlzQ29udHJvbGxpbmdWYXJpYW50cyQxKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRnJvbVZhcmlhbnRUcmVlID0gcGFyZW50ID09PSBudWxsIHx8IHBhcmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50LmFkZFZhcmlhbnRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlcy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiBiaW5kVG9Nb3Rpb25WYWx1ZShrZXksIHZhbHVlKSk7XG4gICAgICAgICAgICBpZiAoIWhhc1JlZHVjZWRNb3Rpb25MaXN0ZW5lci5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgaW5pdFByZWZlcnNSZWR1Y2VkTW90aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbGVtZW50LnNob3VsZFJlZHVjZU1vdGlvbiA9XG4gICAgICAgICAgICAgICAgcmVkdWNlZE1vdGlvbkNvbmZpZyA9PT0gXCJuZXZlclwiXG4gICAgICAgICAgICAgICAgICAgID8gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgOiByZWR1Y2VkTW90aW9uQ29uZmlnID09PSBcImFsd2F5c1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcHJlZmVyc1JlZHVjZWRNb3Rpb24uY3VycmVudDtcbiAgICAgICAgICAgIHBhcmVudCA9PT0gbnVsbCB8fCBwYXJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudC5jaGlsZHJlbi5hZGQoZWxlbWVudCk7XG4gICAgICAgICAgICBlbGVtZW50LnNldFByb3BzKHByb3BzKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICB1bm1vdW50KCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gZWxlbWVudC5wcm9qZWN0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudW5tb3VudCgpO1xuICAgICAgICAgICAgY2FuY2VsU3luYy51cGRhdGUodXBkYXRlKTtcbiAgICAgICAgICAgIGNhbmNlbFN5bmMucmVuZGVyKHJlbmRlcik7XG4gICAgICAgICAgICB2YWx1ZVN1YnNjcmlwdGlvbnMuZm9yRWFjaCgocmVtb3ZlKSA9PiByZW1vdmUoKSk7XG4gICAgICAgICAgICByZW1vdmVGcm9tVmFyaWFudFRyZWUgPT09IG51bGwgfHwgcmVtb3ZlRnJvbVZhcmlhbnRUcmVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZW1vdmVGcm9tVmFyaWFudFRyZWUoKTtcbiAgICAgICAgICAgIHBhcmVudCA9PT0gbnVsbCB8fCBwYXJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudC5jaGlsZHJlbi5kZWxldGUoZWxlbWVudCk7XG4gICAgICAgICAgICBsaWZlY3ljbGVzLmNsZWFyQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlzTW91bnRlZCA9IGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBsb2FkRmVhdHVyZXMocmVuZGVyZWRQcm9wcywgaXNTdHJpY3QsIHByZWxvYWRlZEZlYXR1cmVzLCBwcm9qZWN0aW9uSWQsIFByb2plY3Rpb25Ob2RlQ29uc3RydWN0b3IsIGluaXRpYWxMYXlvdXRHcm91cENvbmZpZykge1xuICAgICAgICAgICAgY29uc3QgZmVhdHVyZXMgPSBbXTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgd2UncmUgaW4gZGV2ZWxvcG1lbnQgbW9kZSwgY2hlY2sgdG8gbWFrZSBzdXJlIHdlJ3JlIG5vdCByZW5kZXJpbmcgYSBtb3Rpb24gY29tcG9uZW50XG4gICAgICAgICAgICAgKiBhcyBhIGNoaWxkIG9mIExhenlNb3Rpb24sIGFzIHRoaXMgd2lsbCBicmVhayB0aGUgZmlsZS1zaXplIGJlbmVmaXRzIG9mIHVzaW5nIGl0LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoZW52ICE9PSBcInByb2R1Y3Rpb25cIiAmJiBwcmVsb2FkZWRGZWF0dXJlcyAmJiBpc1N0cmljdCkge1xuICAgICAgICAgICAgICAgIGludmFyaWFudChmYWxzZSwgXCJZb3UgaGF2ZSByZW5kZXJlZCBhIGBtb3Rpb25gIGNvbXBvbmVudCB3aXRoaW4gYSBgTGF6eU1vdGlvbmAgY29tcG9uZW50LiBUaGlzIHdpbGwgYnJlYWsgdHJlZSBzaGFraW5nLiBJbXBvcnQgYW5kIHJlbmRlciBhIGBtYCBjb21wb25lbnQgaW5zdGVhZC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUZlYXR1cmVzOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gZmVhdHVyZU5hbWVzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgaXNFbmFibGVkLCBDb21wb25lbnQgfSA9IGZlYXR1cmVEZWZpbml0aW9uc1tuYW1lXTtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBJdCBtaWdodCBiZSBwb3NzaWJsZSBpbiB0aGUgZnV0dXJlIHRvIHVzZSB0aGlzIG1vbWVudCB0b1xuICAgICAgICAgICAgICAgICAqIGR5bmFtaWNhbGx5IHJlcXVlc3QgZnVuY3Rpb25hbGl0eS4gSW4gaW5pdGlhbCB0ZXN0cyB0aGlzXG4gICAgICAgICAgICAgICAgICogd2FzIHByb2R1Y2luZyBhIGxvdCBvZiBkdXBsaWNhdGlvbiBhbW9uZ3N0IGJ1bmRsZXMuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKGlzRW5hYmxlZChwcm9wcykgJiYgQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzLnB1c2goY3JlYXRlRWxlbWVudChDb21wb25lbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlbmRlcmVkUHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXN1YWxFbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFlbGVtZW50LnByb2plY3Rpb24gJiYgUHJvamVjdGlvbk5vZGVDb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQucHJvamVjdGlvbiA9IG5ldyBQcm9qZWN0aW9uTm9kZUNvbnN0cnVjdG9yKHByb2plY3Rpb25JZCwgZWxlbWVudC5nZXRMYXRlc3RWYWx1ZXMoKSwgcGFyZW50ICYmIHBhcmVudC5wcm9qZWN0aW9uKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGxheW91dElkLCBsYXlvdXQsIGRyYWcsIGRyYWdDb25zdHJhaW50cywgbGF5b3V0U2Nyb2xsLCB9ID0gcmVuZGVyZWRQcm9wcztcbiAgICAgICAgICAgICAgICBlbGVtZW50LnByb2plY3Rpb24uc2V0T3B0aW9ucyh7XG4gICAgICAgICAgICAgICAgICAgIGxheW91dElkLFxuICAgICAgICAgICAgICAgICAgICBsYXlvdXQsXG4gICAgICAgICAgICAgICAgICAgIGFsd2F5c01lYXN1cmVMYXlvdXQ6IEJvb2xlYW4oZHJhZykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChkcmFnQ29uc3RyYWludHMgJiYgaXNSZWZPYmplY3QoZHJhZ0NvbnN0cmFpbnRzKSksXG4gICAgICAgICAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlUmVuZGVyOiAoKSA9PiBlbGVtZW50LnNjaGVkdWxlUmVuZGVyKCksXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBUT0RPOiBVcGRhdGUgb3B0aW9ucyBpbiBhbiBlZmZlY3QuIFRoaXMgY291bGQgYmUgdHJpY2t5IGFzIGl0J2xsIGJlIHRvbyBsYXRlXG4gICAgICAgICAgICAgICAgICAgICAqIHRvIHVwZGF0ZSBieSB0aGUgdGltZSBsYXlvdXQgYW5pbWF0aW9ucyBydW4uXG4gICAgICAgICAgICAgICAgICAgICAqIFdlIGFsc28gbmVlZCB0byBmaXggdGhpcyBzYWZlVG9SZW1vdmUgYnkgbGlua2luZyBpdCB1cCB0byB0aGUgb25lIHJldHVybmVkIGJ5IHVzZVByZXNlbmNlLFxuICAgICAgICAgICAgICAgICAgICAgKiBlbnN1cmluZyBpdCBnZXRzIGNhbGxlZCBpZiB0aGVyZSdzIG5vIHBvdGVudGlhbCBsYXlvdXQgYW5pbWF0aW9ucy5cbiAgICAgICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvblR5cGU6IHR5cGVvZiBsYXlvdXQgPT09IFwic3RyaW5nXCIgPyBsYXlvdXQgOiBcImJvdGhcIixcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFByb21vdGlvbkNvbmZpZzogaW5pdGlhbExheW91dEdyb3VwQ29uZmlnLFxuICAgICAgICAgICAgICAgICAgICBsYXlvdXRTY3JvbGwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmVhdHVyZXM7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgYSBjaGlsZCB2aXN1YWwgZWxlbWVudCB0byBvdXIgc2V0IG9mIGNoaWxkcmVuLlxuICAgICAgICAgKi9cbiAgICAgICAgYWRkVmFyaWFudENoaWxkKGNoaWxkKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCBjbG9zZXN0VmFyaWFudE5vZGUgPSBlbGVtZW50LmdldENsb3Nlc3RWYXJpYW50Tm9kZSgpO1xuICAgICAgICAgICAgaWYgKGNsb3Nlc3RWYXJpYW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIChfYSA9IGNsb3Nlc3RWYXJpYW50Tm9kZS52YXJpYW50Q2hpbGRyZW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hZGQoY2hpbGQpO1xuICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiBjbG9zZXN0VmFyaWFudE5vZGUudmFyaWFudENoaWxkcmVuLmRlbGV0ZShjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNvcnROb2RlUG9zaXRpb24ob3RoZXIpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhlc2Ugbm9kZXMgYXJlbid0IGV2ZW4gb2YgdGhlIHNhbWUgdHlwZSB3ZSBjYW4ndCBjb21wYXJlIHRoZWlyIGRlcHRoLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoIXNvcnROb2RlUG9zaXRpb24gfHwgdHJlZVR5cGUgIT09IG90aGVyLnRyZWVUeXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgcmV0dXJuIHNvcnROb2RlUG9zaXRpb24oZWxlbWVudC5nZXRJbnN0YW5jZSgpLCBvdGhlci5nZXRJbnN0YW5jZSgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIGNsb3Nlc3QgdmFyaWFudCBub2RlIGluIHRoZSB0cmVlIHN0YXJ0aW5nIGZyb21cbiAgICAgICAgICogdGhpcyB2aXN1YWwgZWxlbWVudC5cbiAgICAgICAgICovXG4gICAgICAgIGdldENsb3Nlc3RWYXJpYW50Tm9kZTogKCkgPT4gaXNWYXJpYW50Tm9kZSQxID8gZWxlbWVudCA6IHBhcmVudCA9PT0gbnVsbCB8fCBwYXJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudC5nZXRDbG9zZXN0VmFyaWFudE5vZGUoKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV4cG9zZSB0aGUgbGF0ZXN0IGxheW91dElkIHByb3AuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRMYXlvdXRJZDogKCkgPT4gcHJvcHMubGF5b3V0SWQsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGluc3RhbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0SW5zdGFuY2U6ICgpID0+IGluc3RhbmNlLFxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0L3NldCB0aGUgbGF0ZXN0IHN0YXRpYyB2YWx1ZXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRTdGF0aWNWYWx1ZTogKGtleSkgPT4gbGF0ZXN0VmFsdWVzW2tleV0sXG4gICAgICAgIHNldFN0YXRpY1ZhbHVlOiAoa2V5LCB2YWx1ZSkgPT4gKGxhdGVzdFZhbHVlc1trZXldID0gdmFsdWUpLFxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgbGF0ZXN0IG1vdGlvbiB2YWx1ZSBzdGF0ZS4gQ3VycmVudGx5IG9ubHkgdXNlZCB0byB0YWtlXG4gICAgICAgICAqIGEgc25hcHNob3Qgb2YgdGhlIHZpc3VhbCBlbGVtZW50IC0gcGVyaGFwcyB0aGlzIGNhbiByZXR1cm4gdGhlIHdob2xlXG4gICAgICAgICAqIHZpc3VhbCBzdGF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TGF0ZXN0VmFsdWVzOiAoKSA9PiBsYXRlc3RWYWx1ZXMsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIHZpc2libGl0eSBvZiB0aGUgdmlzdWFsIGVsZW1lbnQuIElmIGl0J3MgY2hhbmdlZCwgc2NoZWR1bGVcbiAgICAgICAgICogYSByZW5kZXIgdG8gcmVmbGVjdCB0aGVzZSBjaGFuZ2VzLlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0VmlzaWJpbGl0eSh2aXNpYmlsaXR5KSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5pc1Zpc2libGUgPT09IHZpc2liaWxpdHkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgZWxlbWVudC5pc1Zpc2libGUgPSB2aXNpYmlsaXR5O1xuICAgICAgICAgICAgZWxlbWVudC5zY2hlZHVsZVJlbmRlcigpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogTWFrZSBhIHRhcmdldCBhbmltYXRhYmxlIGJ5IFBvcG1vdGlvbi4gRm9yIGluc3RhbmNlLCBpZiB3ZSdyZVxuICAgICAgICAgKiB0cnlpbmcgdG8gYW5pbWF0ZSB3aWR0aCBmcm9tIDEwMHB4IHRvIDEwMHZ3IHdlIG5lZWQgdG8gbWVhc3VyZSAxMDB2d1xuICAgICAgICAgKiBpbiBwaXhlbHMgdG8gZGV0ZXJtaW5lIHdoYXQgd2UgcmVhbGx5IG5lZWQgdG8gYW5pbWF0ZSB0by4gVGhpcyBpcyBhbHNvXG4gICAgICAgICAqIHBsdWdnYWJsZSB0byBzdXBwb3J0IEZyYW1lcidzIGN1c3RvbSB2YWx1ZSB0eXBlcyBsaWtlIENvbG9yLFxuICAgICAgICAgKiBhbmQgQ1NTIHZhcmlhYmxlcy5cbiAgICAgICAgICovXG4gICAgICAgIG1ha2VUYXJnZXRBbmltYXRhYmxlKHRhcmdldCwgY2FuTXV0YXRlID0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2VUYXJnZXRBbmltYXRhYmxlKGVsZW1lbnQsIHRhcmdldCwgcHJvcHMsIGNhbk11dGF0ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNZWFzdXJlIHRoZSBjdXJyZW50IHZpZXdwb3J0IGJveCB3aXRoIG9yIHdpdGhvdXQgdHJhbnNmb3Jtcy5cbiAgICAgICAgICogT25seSBtZWFzdXJlcyBheGlzLWFsaWduZWQgYm94ZXMsIHJvdGF0ZSBhbmQgc2tldyBtdXN0IGJlIG1hbnVhbGx5XG4gICAgICAgICAqIHJlbW92ZWQgd2l0aCBhIHJlLXJlbmRlciB0byB3b3JrLlxuICAgICAgICAgKi9cbiAgICAgICAgbWVhc3VyZVZpZXdwb3J0Qm94KCkge1xuICAgICAgICAgICAgcmV0dXJuIG1lYXN1cmVWaWV3cG9ydEJveChpbnN0YW5jZSwgcHJvcHMpO1xuICAgICAgICB9LFxuICAgICAgICAvLyBNb3Rpb24gdmFsdWVzID09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGEgbW90aW9uIHZhbHVlIGFuZCBiaW5kIGl0IHRvIHRoaXMgdmlzdWFsIGVsZW1lbnQuXG4gICAgICAgICAqL1xuICAgICAgICBhZGRWYWx1ZShrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgZXhpc3RpbmcgdmFsdWUgaWYgaXQgZXhpc3RzXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5oYXNWYWx1ZShrZXkpKVxuICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlVmFsdWUoa2V5KTtcbiAgICAgICAgICAgIHZhbHVlcy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICBsYXRlc3RWYWx1ZXNba2V5XSA9IHZhbHVlLmdldCgpO1xuICAgICAgICAgICAgYmluZFRvTW90aW9uVmFsdWUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmUgYSBtb3Rpb24gdmFsdWUgYW5kIHVuYmluZCBhbnkgYWN0aXZlIHN1YnNjcmlwdGlvbnMuXG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmVWYWx1ZShrZXkpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHZhbHVlcy5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgIChfYSA9IHZhbHVlU3Vic2NyaXB0aW9ucy5nZXQoa2V5KSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hKCk7XG4gICAgICAgICAgICB2YWx1ZVN1YnNjcmlwdGlvbnMuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICBkZWxldGUgbGF0ZXN0VmFsdWVzW2tleV07XG4gICAgICAgICAgICByZW1vdmVWYWx1ZUZyb21SZW5kZXJTdGF0ZShrZXksIHJlbmRlclN0YXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoZWNrIHdoZXRoZXIgd2UgaGF2ZSBhIG1vdGlvbiB2YWx1ZSBmb3IgdGhpcyBrZXlcbiAgICAgICAgICovXG4gICAgICAgIGhhc1ZhbHVlOiAoa2V5KSA9PiB2YWx1ZXMuaGFzKGtleSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYSBtb3Rpb24gdmFsdWUgZm9yIHRoaXMga2V5LiBJZiBjYWxsZWQgd2l0aCBhIGRlZmF1bHRcbiAgICAgICAgICogdmFsdWUsIHdlJ2xsIGNyZWF0ZSBvbmUgaWYgbm9uZSBleGlzdHMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRWYWx1ZShrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gdmFsdWVzLmdldChrZXkpO1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG1vdGlvblZhbHVlKGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRWYWx1ZShrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEl0ZXJhdGUgb3ZlciBvdXIgbW90aW9uIHZhbHVlcy5cbiAgICAgICAgICovXG4gICAgICAgIGZvckVhY2hWYWx1ZTogKGNhbGxiYWNrKSA9PiB2YWx1ZXMuZm9yRWFjaChjYWxsYmFjayksXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB3ZSdyZSB0cnlpbmcgdG8gYW5pbWF0ZSB0byBhIHByZXZpb3VzbHkgdW5lbmNvdW50ZXJlZCB2YWx1ZSxcbiAgICAgICAgICogd2UgbmVlZCB0byBjaGVjayBmb3IgaXQgaW4gb3VyIHN0YXRlIGFuZCBhcyBhIGxhc3QgcmVzb3J0IHJlYWQgaXRcbiAgICAgICAgICogZGlyZWN0bHkgZnJvbSB0aGUgaW5zdGFuY2UgKHdoaWNoIG1pZ2h0IGhhdmUgcGVyZm9ybWFuY2UgaW1wbGljYXRpb25zKS5cbiAgICAgICAgICovXG4gICAgICAgIHJlYWRWYWx1ZTogKGtleSkgPT4gbGF0ZXN0VmFsdWVzW2tleV0gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBsYXRlc3RWYWx1ZXNba2V5XVxuICAgICAgICAgICAgOiByZWFkVmFsdWVGcm9tSW5zdGFuY2UoaW5zdGFuY2UsIGtleSwgb3B0aW9ucyksXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIGJhc2UgdGFyZ2V0IHRvIGxhdGVyIGFuaW1hdGUgYmFjayB0by4gVGhpcyBpcyBjdXJyZW50bHlcbiAgICAgICAgICogb25seSBoeWRyYXRlZCBvbiBjcmVhdGlvbiBhbmQgd2hlbiB3ZSBmaXJzdCByZWFkIGEgdmFsdWUuXG4gICAgICAgICAqL1xuICAgICAgICBzZXRCYXNlVGFyZ2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGJhc2VUYXJnZXRba2V5XSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogRmluZCB0aGUgYmFzZSB0YXJnZXQgZm9yIGEgdmFsdWUgdGhhdHMgYmVlbiByZW1vdmVkIGZyb20gYWxsIGFuaW1hdGlvblxuICAgICAgICAgKiBwcm9wcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldEJhc2VUYXJnZXQoa2V5KSB7XG4gICAgICAgICAgICBpZiAoZ2V0QmFzZVRhcmdldCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGdldEJhc2VUYXJnZXQocHJvcHMsIGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCAhPT0gdW5kZWZpbmVkICYmICFpc01vdGlvblZhbHVlKHRhcmdldCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYmFzZVRhcmdldFtrZXldO1xuICAgICAgICB9LFxuICAgICAgICAvLyBMaWZlY3lsZXMgPT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIC4uLmxpZmVjeWNsZXMsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWlsZCB0aGUgcmVuZGVyZXIgc3RhdGUgYmFzZWQgb24gdGhlIGxhdGVzdCB2aXN1YWwgc3RhdGUuXG4gICAgICAgICAqL1xuICAgICAgICBidWlsZCgpIHtcbiAgICAgICAgICAgIHRyaWdnZXJCdWlsZCgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlbmRlclN0YXRlO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogU2NoZWR1bGUgYSByZW5kZXIgb24gdGhlIG5leHQgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAgICAgKi9cbiAgICAgICAgc2NoZWR1bGVSZW5kZXIoKSB7XG4gICAgICAgICAgICBzeW5jLnJlbmRlcihyZW5kZXIsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN5bmNocm9ub3VzbHkgZmlyZSByZW5kZXIuIEl0J3MgcHJlZmVyZWQgdGhhdCB3ZSBiYXRjaCByZW5kZXJzIGJ1dFxuICAgICAgICAgKiBpbiBtYW55IGNpcmN1bXN0YW5jZXMsIGxpa2UgbGF5b3V0IG1lYXN1cmVtZW50LCB3ZSBuZWVkIHRvIHJ1biB0aGlzXG4gICAgICAgICAqIHN5bmNocm9ub3VzbHkuIEhvd2V2ZXIgaW4gdGhvc2UgaW5zdGFuY2VzIG90aGVyIG1lYXN1cmVzIHNob3VsZCBiZSB0YWtlblxuICAgICAgICAgKiB0byBiYXRjaCByZWFkcy93cml0ZXMuXG4gICAgICAgICAqL1xuICAgICAgICBzeW5jUmVuZGVyOiByZW5kZXIsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgdGhlIHByb3ZpZGVkIHByb3BzLiBFbnN1cmUgYW55IG5ld2x5LWFkZGVkIG1vdGlvbiB2YWx1ZXMgYXJlXG4gICAgICAgICAqIGFkZGVkIHRvIG91ciBtYXAsIG9sZCBvbmVzIHJlbW92ZWQsIGFuZCBsaXN0ZW5lcnMgdXBkYXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHNldFByb3BzKG5ld1Byb3BzKSB7XG4gICAgICAgICAgICBpZiAobmV3UHJvcHMudHJhbnNmb3JtVGVtcGxhdGUgfHwgcHJvcHMudHJhbnNmb3JtVGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNjaGVkdWxlUmVuZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9wcyA9IG5ld1Byb3BzO1xuICAgICAgICAgICAgbGlmZWN5Y2xlcy51cGRhdGVQcm9wTGlzdGVuZXJzKG5ld1Byb3BzKTtcbiAgICAgICAgICAgIHByZXZNb3Rpb25WYWx1ZXMgPSB1cGRhdGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMoZWxlbWVudCwgc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzKHByb3BzKSwgcHJldk1vdGlvblZhbHVlcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFByb3BzOiAoKSA9PiBwcm9wcyxcbiAgICAgICAgLy8gVmFyaWFudHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSB2YXJpYW50IGRlZmluaXRpb24gd2l0aCBhIGdpdmVuIG5hbWUuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRWYXJpYW50OiAobmFtZSkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBwcm9wcy52YXJpYW50cykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW25hbWVdOyB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgZGVmaW5lZCBkZWZhdWx0IHRyYW5zaXRpb24gb24gdGhpcyBjb21wb25lbnQuXG4gICAgICAgICAqL1xuICAgICAgICBnZXREZWZhdWx0VHJhbnNpdGlvbjogKCkgPT4gcHJvcHMudHJhbnNpdGlvbixcbiAgICAgICAgZ2V0VHJhbnNmb3JtUGFnZVBvaW50OiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcHMudHJhbnNmb3JtUGFnZVBvaW50O1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBieSBjaGlsZCB2YXJpYW50IG5vZGVzIHRvIGdldCB0aGUgY2xvc2VzdCBhbmNlc3RvciB2YXJpYW50IHByb3BzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VmFyaWFudENvbnRleHQoc3RhcnRBdFBhcmVudCA9IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoc3RhcnRBdFBhcmVudClcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50ID09PSBudWxsIHx8IHBhcmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50LmdldFZhcmlhbnRDb250ZXh0KCk7XG4gICAgICAgICAgICBpZiAoIWlzQ29udHJvbGxpbmdWYXJpYW50cyQxKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IChwYXJlbnQgPT09IG51bGwgfHwgcGFyZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJlbnQuZ2V0VmFyaWFudENvbnRleHQoKSkgfHwge307XG4gICAgICAgICAgICAgICAgaWYgKHByb3BzLmluaXRpYWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmluaXRpYWwgPSBwcm9wcy5pbml0aWFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB7fTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVmFyaWFudFByb3BzOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gdmFyaWFudFByb3BzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3AgPSBwcm9wc1tuYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoaXNWYXJpYW50TGFiZWwocHJvcCkgfHwgcHJvcCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dFtuYW1lXSA9IHByb3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZWxlbWVudDtcbn07XG5jb25zdCB2YXJpYW50UHJvcHMgPSBbXCJpbml0aWFsXCIsIC4uLnZhcmlhbnRQcmlvcml0eU9yZGVyXTtcbmNvbnN0IG51bVZhcmlhbnRQcm9wcyA9IHZhcmlhbnRQcm9wcy5sZW5ndGg7XG5cbmV4cG9ydCB7IHZpc3VhbEVsZW1lbnQgfTtcbiIsImltcG9ydCB7IGlzQnJvd3NlciB9IGZyb20gJy4uL2lzLWJyb3dzZXIubWpzJztcbmltcG9ydCB7IGhhc1JlZHVjZWRNb3Rpb25MaXN0ZW5lciwgcHJlZmVyc1JlZHVjZWRNb3Rpb24gfSBmcm9tICcuL3N0YXRlLm1qcyc7XG5cbmZ1bmN0aW9uIGluaXRQcmVmZXJzUmVkdWNlZE1vdGlvbigpIHtcbiAgICBoYXNSZWR1Y2VkTW90aW9uTGlzdGVuZXIuY3VycmVudCA9IHRydWU7XG4gICAgaWYgKCFpc0Jyb3dzZXIpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEpIHtcbiAgICAgICAgY29uc3QgbW90aW9uTWVkaWFRdWVyeSA9IHdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtcmVkdWNlZC1tb3Rpb24pXCIpO1xuICAgICAgICBjb25zdCBzZXRSZWR1Y2VkTW90aW9uUHJlZmVyZW5jZXMgPSAoKSA9PiAocHJlZmVyc1JlZHVjZWRNb3Rpb24uY3VycmVudCA9IG1vdGlvbk1lZGlhUXVlcnkubWF0Y2hlcyk7XG4gICAgICAgIG1vdGlvbk1lZGlhUXVlcnkuYWRkTGlzdGVuZXIoc2V0UmVkdWNlZE1vdGlvblByZWZlcmVuY2VzKTtcbiAgICAgICAgc2V0UmVkdWNlZE1vdGlvblByZWZlcmVuY2VzKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwcmVmZXJzUmVkdWNlZE1vdGlvbi5jdXJyZW50ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgeyBpbml0UHJlZmVyc1JlZHVjZWRNb3Rpb24gfTtcbiIsImltcG9ydCB7IGlzV2lsbENoYW5nZU1vdGlvblZhbHVlIH0gZnJvbSAnLi4vLi4vdmFsdWUvdXNlLXdpbGwtY2hhbmdlL2lzLm1qcyc7XG5pbXBvcnQgeyB3YXJuT25jZSB9IGZyb20gJy4uLy4uL3V0aWxzL3dhcm4tb25jZS5tanMnO1xuaW1wb3J0IHsgbW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi92YWx1ZS9pbmRleC5tanMnO1xuaW1wb3J0IHsgaXNNb3Rpb25WYWx1ZSB9IGZyb20gJy4uLy4uL3ZhbHVlL3V0aWxzL2lzLW1vdGlvbi12YWx1ZS5tanMnO1xuXG5mdW5jdGlvbiB1cGRhdGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMoZWxlbWVudCwgbmV4dCwgcHJldikge1xuICAgIGNvbnN0IHsgd2lsbENoYW5nZSB9ID0gbmV4dDtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXh0KSB7XG4gICAgICAgIGNvbnN0IG5leHRWYWx1ZSA9IG5leHRba2V5XTtcbiAgICAgICAgY29uc3QgcHJldlZhbHVlID0gcHJldltrZXldO1xuICAgICAgICBpZiAoaXNNb3Rpb25WYWx1ZShuZXh0VmFsdWUpKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoaXMgaXMgYSBtb3Rpb24gdmFsdWUgZm91bmQgaW4gcHJvcHMgb3Igc3R5bGUsIHdlIHdhbnQgdG8gYWRkIGl0XG4gICAgICAgICAgICAgKiB0byBvdXIgdmlzdWFsIGVsZW1lbnQncyBtb3Rpb24gdmFsdWUgbWFwLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBlbGVtZW50LmFkZFZhbHVlKGtleSwgbmV4dFZhbHVlKTtcbiAgICAgICAgICAgIGlmIChpc1dpbGxDaGFuZ2VNb3Rpb25WYWx1ZSh3aWxsQ2hhbmdlKSkge1xuICAgICAgICAgICAgICAgIHdpbGxDaGFuZ2UuYWRkKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENoZWNrIHRoZSB2ZXJzaW9uIG9mIHRoZSBpbmNvbWluZyBtb3Rpb24gdmFsdWUgd2l0aCB0aGlzIHZlcnNpb25cbiAgICAgICAgICAgICAqIGFuZCB3YXJuIGFnYWluc3QgbWlzbWF0Y2hlcy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIpIHtcbiAgICAgICAgICAgICAgICB3YXJuT25jZShuZXh0VmFsdWUudmVyc2lvbiA9PT0gXCI3LjMuMlwiLCBgQXR0ZW1wdGluZyB0byBtaXggRnJhbWVyIE1vdGlvbiB2ZXJzaW9ucyAke25leHRWYWx1ZS52ZXJzaW9ufSB3aXRoIDcuMy4yIG1heSBub3Qgd29yayBhcyBleHBlY3RlZC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc01vdGlvblZhbHVlKHByZXZWYWx1ZSkpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgd2UncmUgc3dhcHBpbmcgZnJvbSBhIG1vdGlvbiB2YWx1ZSB0byBhIHN0YXRpYyB2YWx1ZSxcbiAgICAgICAgICAgICAqIGNyZWF0ZSBhIG5ldyBtb3Rpb24gdmFsdWUgZnJvbSB0aGF0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGVsZW1lbnQuYWRkVmFsdWUoa2V5LCBtb3Rpb25WYWx1ZShuZXh0VmFsdWUpKTtcbiAgICAgICAgICAgIGlmIChpc1dpbGxDaGFuZ2VNb3Rpb25WYWx1ZSh3aWxsQ2hhbmdlKSkge1xuICAgICAgICAgICAgICAgIHdpbGxDaGFuZ2UucmVtb3ZlKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJldlZhbHVlICE9PSBuZXh0VmFsdWUpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhpcyBpcyBhIGZsYXQgdmFsdWUgdGhhdCBoYXMgY2hhbmdlZCwgdXBkYXRlIHRoZSBtb3Rpb24gdmFsdWVcbiAgICAgICAgICAgICAqIG9yIGNyZWF0ZSBvbmUgaWYgaXQgZG9lc24ndCBleGlzdC4gV2Ugb25seSB3YW50IHRvIGRvIHRoaXMgaWYgd2UncmVcbiAgICAgICAgICAgICAqIG5vdCBoYW5kbGluZyB0aGUgdmFsdWUgd2l0aCBvdXIgYW5pbWF0aW9uIHN0YXRlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5oYXNWYWx1ZShrZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdWYWx1ZSA9IGVsZW1lbnQuZ2V0VmFsdWUoa2V5KTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBPbmx5IHVwZGF0ZSB2YWx1ZXMgdGhhdCBhcmVuJ3QgYmVpbmcgYW5pbWF0ZWQgb3IgZXZlbiBsb29rZWQgYXRcbiAgICAgICAgICAgICAgICAhZXhpc3RpbmdWYWx1ZS5oYXNBbmltYXRlZCAmJiBleGlzdGluZ1ZhbHVlLnNldChuZXh0VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGF0ZXN0VmFsdWUgPSBlbGVtZW50LmdldFN0YXRpY1ZhbHVlKGtleSk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRWYWx1ZShrZXksIG1vdGlvblZhbHVlKGxhdGVzdFZhbHVlICE9PSB1bmRlZmluZWQgPyBsYXRlc3RWYWx1ZSA6IG5leHRWYWx1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEhhbmRsZSByZW1vdmVkIHZhbHVlc1xuICAgIGZvciAoY29uc3Qga2V5IGluIHByZXYpIHtcbiAgICAgICAgaWYgKG5leHRba2V5XSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVWYWx1ZShrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV4dDtcbn1cblxuZXhwb3J0IHsgdXBkYXRlTW90aW9uVmFsdWVzRnJvbVByb3BzIH07XG4iLCJpbXBvcnQgeyBpbnZhcmlhbnQgfSBmcm9tICdoZXktbGlzdGVuJztcblxuZnVuY3Rpb24gaXNDU1NWYXJpYWJsZSh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUuc3RhcnRzV2l0aChcInZhcigtLVwiKTtcbn1cbi8qKlxuICogUGFyc2UgRnJhbWVyJ3Mgc3BlY2lhbCBDU1MgdmFyaWFibGUgZm9ybWF0IGludG8gYSBDU1MgdG9rZW4gYW5kIGEgZmFsbGJhY2suXG4gKlxuICogYGBgXG4gKiBgdmFyKC0tZm9vLCAjZmZmKWAgPT4gW2AtLWZvb2AsICcjZmZmJ11cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBjdXJyZW50XG4gKi9cbmNvbnN0IGNzc1ZhcmlhYmxlUmVnZXggPSAvdmFyXFwoKC0tW2EtekEtWjAtOS1fXSspLD8gPyhbYS16QS1aMC05ICgpJSMuLC1dKyk/XFwpLztcbmZ1bmN0aW9uIHBhcnNlQ1NTVmFyaWFibGUoY3VycmVudCkge1xuICAgIGNvbnN0IG1hdGNoID0gY3NzVmFyaWFibGVSZWdleC5leGVjKGN1cnJlbnQpO1xuICAgIGlmICghbWF0Y2gpXG4gICAgICAgIHJldHVybiBbLF07XG4gICAgY29uc3QgWywgdG9rZW4sIGZhbGxiYWNrXSA9IG1hdGNoO1xuICAgIHJldHVybiBbdG9rZW4sIGZhbGxiYWNrXTtcbn1cbmNvbnN0IG1heERlcHRoID0gNDtcbmZ1bmN0aW9uIGdldFZhcmlhYmxlVmFsdWUoY3VycmVudCwgZWxlbWVudCwgZGVwdGggPSAxKSB7XG4gICAgaW52YXJpYW50KGRlcHRoIDw9IG1heERlcHRoLCBgTWF4IENTUyB2YXJpYWJsZSBmYWxsYmFjayBkZXB0aCBkZXRlY3RlZCBpbiBwcm9wZXJ0eSBcIiR7Y3VycmVudH1cIi4gVGhpcyBtYXkgaW5kaWNhdGUgYSBjaXJjdWxhciBmYWxsYmFjayBkZXBlbmRlbmN5LmApO1xuICAgIGNvbnN0IFt0b2tlbiwgZmFsbGJhY2tdID0gcGFyc2VDU1NWYXJpYWJsZShjdXJyZW50KTtcbiAgICAvLyBObyBDU1MgdmFyaWFibGUgZGV0ZWN0ZWRcbiAgICBpZiAoIXRva2VuKVxuICAgICAgICByZXR1cm47XG4gICAgLy8gQXR0ZW1wdCB0byByZWFkIHRoaXMgQ1NTIHZhcmlhYmxlIG9mZiB0aGUgZWxlbWVudFxuICAgIGNvbnN0IHJlc29sdmVkID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZSh0b2tlbik7XG4gICAgaWYgKHJlc29sdmVkKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlZC50cmltKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQ1NTVmFyaWFibGUoZmFsbGJhY2spKSB7XG4gICAgICAgIC8vIFRoZSBmYWxsYmFjayBtaWdodCBpdHNlbGYgYmUgYSBDU1MgdmFyaWFibGUsIGluIHdoaWNoIGNhc2Ugd2UgYXR0ZW1wdCB0byByZXNvbHZlIGl0IHRvby5cbiAgICAgICAgcmV0dXJuIGdldFZhcmlhYmxlVmFsdWUoZmFsbGJhY2ssIGVsZW1lbnQsIGRlcHRoICsgMSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsbGJhY2s7XG4gICAgfVxufVxuLyoqXG4gKiBSZXNvbHZlIENTUyB2YXJpYWJsZXMgZnJvbVxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiByZXNvbHZlQ1NTVmFyaWFibGVzKHZpc3VhbEVsZW1lbnQsIHsgLi4udGFyZ2V0IH0sIHRyYW5zaXRpb25FbmQpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gdmlzdWFsRWxlbWVudC5nZXRJbnN0YW5jZSgpO1xuICAgIGlmICghKGVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50KSlcbiAgICAgICAgcmV0dXJuIHsgdGFyZ2V0LCB0cmFuc2l0aW9uRW5kIH07XG4gICAgLy8gSWYgYHRyYW5zaXRpb25FbmRgIGlzbid0IGB1bmRlZmluZWRgLCBjbG9uZSBpdC4gV2UgY291bGQgY2xvbmUgYHRhcmdldGAgYW5kIGB0cmFuc2l0aW9uRW5kYFxuICAgIC8vIG9ubHkgaWYgdGhleSBjaGFuZ2UgYnV0IEkgdGhpbmsgdGhpcyByZWFkcyBjbGVhcmVyIGFuZCB0aGlzIGlzbid0IGEgcGVyZm9ybWFuY2UtY3JpdGljYWwgcGF0aC5cbiAgICBpZiAodHJhbnNpdGlvbkVuZCkge1xuICAgICAgICB0cmFuc2l0aW9uRW5kID0geyAuLi50cmFuc2l0aW9uRW5kIH07XG4gICAgfVxuICAgIC8vIEdvIHRocm91Z2ggZXhpc3RpbmcgYE1vdGlvblZhbHVlYHMgYW5kIGVuc3VyZSBhbnkgZXhpc3RpbmcgQ1NTIHZhcmlhYmxlcyBhcmUgcmVzb2x2ZWRcbiAgICB2aXN1YWxFbGVtZW50LmZvckVhY2hWYWx1ZSgodmFsdWUpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IHZhbHVlLmdldCgpO1xuICAgICAgICBpZiAoIWlzQ1NTVmFyaWFibGUoY3VycmVudCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHJlc29sdmVkID0gZ2V0VmFyaWFibGVWYWx1ZShjdXJyZW50LCBlbGVtZW50KTtcbiAgICAgICAgaWYgKHJlc29sdmVkKVxuICAgICAgICAgICAgdmFsdWUuc2V0KHJlc29sdmVkKTtcbiAgICB9KTtcbiAgICAvLyBDeWNsZSB0aHJvdWdoIGV2ZXJ5IHRhcmdldCBwcm9wZXJ0eSBhbmQgcmVzb2x2ZSBDU1MgdmFyaWFibGVzLiBDdXJyZW50bHlcbiAgICAvLyB3ZSBvbmx5IHJlYWQgc2luZ2xlLXZhciBwcm9wZXJ0aWVzIGxpa2UgYHZhcigtLWZvbylgLCBub3QgYGNhbGModmFyKC0tZm9vKSArIDIwcHgpYFxuICAgIGZvciAoY29uc3Qga2V5IGluIHRhcmdldCkge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gdGFyZ2V0W2tleV07XG4gICAgICAgIGlmICghaXNDU1NWYXJpYWJsZShjdXJyZW50KSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCByZXNvbHZlZCA9IGdldFZhcmlhYmxlVmFsdWUoY3VycmVudCwgZWxlbWVudCk7XG4gICAgICAgIGlmICghcmVzb2x2ZWQpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgLy8gQ2xvbmUgdGFyZ2V0IGlmIGl0IGhhc24ndCBhbHJlYWR5IGJlZW5cbiAgICAgICAgdGFyZ2V0W2tleV0gPSByZXNvbHZlZDtcbiAgICAgICAgLy8gSWYgdGhlIHVzZXIgaGFzbid0IGFscmVhZHkgc2V0IHRoaXMga2V5IG9uIGB0cmFuc2l0aW9uRW5kYCwgc2V0IGl0IHRvIHRoZSB1bnJlc29sdmVkXG4gICAgICAgIC8vIENTUyB2YXJpYWJsZS4gVGhpcyB3aWxsIGVuc3VyZSB0aGF0IGFmdGVyIHRoZSBhbmltYXRpb24gdGhlIGNvbXBvbmVudCB3aWxsIHJlZmxlY3RcbiAgICAgICAgLy8gY2hhbmdlcyBpbiB0aGUgdmFsdWUgb2YgdGhlIENTUyB2YXJpYWJsZS5cbiAgICAgICAgaWYgKHRyYW5zaXRpb25FbmQgJiYgdHJhbnNpdGlvbkVuZFtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRyYW5zaXRpb25FbmRba2V5XSA9IGN1cnJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgdGFyZ2V0LCB0cmFuc2l0aW9uRW5kIH07XG59XG5cbmV4cG9ydCB7IGNzc1ZhcmlhYmxlUmVnZXgsIHBhcnNlQ1NTVmFyaWFibGUsIHJlc29sdmVDU1NWYXJpYWJsZXMgfTtcbiIsImltcG9ydCB7IHB4LCBudW1iZXIgfSBmcm9tICdzdHlsZS12YWx1ZS10eXBlcyc7XG5pbXBvcnQgeyBpc0tleWZyYW1lc1RhcmdldCB9IGZyb20gJy4uLy4uLy4uL2FuaW1hdGlvbi91dGlscy9pcy1rZXlmcmFtZXMtdGFyZ2V0Lm1qcyc7XG5pbXBvcnQgeyBpbnZhcmlhbnQgfSBmcm9tICdoZXktbGlzdGVuJztcbmltcG9ydCB7IHRyYW5zZm9ybVByb3BPcmRlciB9IGZyb20gJy4uLy4uL2h0bWwvdXRpbHMvdHJhbnNmb3JtLm1qcyc7XG5pbXBvcnQgeyBmaW5kRGltZW5zaW9uVmFsdWVUeXBlIH0gZnJvbSAnLi4vdmFsdWUtdHlwZXMvZGltZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgaXNCcm93c2VyIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvaXMtYnJvd3Nlci5tanMnO1xuXG5jb25zdCBwb3NpdGlvbmFsS2V5cyA9IG5ldyBTZXQoW1xuICAgIFwid2lkdGhcIixcbiAgICBcImhlaWdodFwiLFxuICAgIFwidG9wXCIsXG4gICAgXCJsZWZ0XCIsXG4gICAgXCJyaWdodFwiLFxuICAgIFwiYm90dG9tXCIsXG4gICAgXCJ4XCIsXG4gICAgXCJ5XCIsXG5dKTtcbmNvbnN0IGlzUG9zaXRpb25hbEtleSA9IChrZXkpID0+IHBvc2l0aW9uYWxLZXlzLmhhcyhrZXkpO1xuY29uc3QgaGFzUG9zaXRpb25hbEtleSA9ICh0YXJnZXQpID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGFyZ2V0KS5zb21lKGlzUG9zaXRpb25hbEtleSk7XG59O1xuY29uc3Qgc2V0QW5kUmVzZXRWZWxvY2l0eSA9ICh2YWx1ZSwgdG8pID0+IHtcbiAgICAvLyBMb29rcyBvZGQgYnV0IHNldHRpbmcgaXQgdHdpY2UgZG9lc24ndCByZW5kZXIsIGl0J2xsIGp1c3RcbiAgICAvLyBzZXQgYm90aCBwcmV2IGFuZCBjdXJyZW50IHRvIHRoZSBsYXRlc3QgdmFsdWVcbiAgICB2YWx1ZS5zZXQodG8sIGZhbHNlKTtcbiAgICB2YWx1ZS5zZXQodG8pO1xufTtcbmNvbnN0IGlzTnVtT3JQeFR5cGUgPSAodikgPT4gdiA9PT0gbnVtYmVyIHx8IHYgPT09IHB4O1xudmFyIEJvdW5kaW5nQm94RGltZW5zaW9uO1xuKGZ1bmN0aW9uIChCb3VuZGluZ0JveERpbWVuc2lvbikge1xuICAgIEJvdW5kaW5nQm94RGltZW5zaW9uW1wid2lkdGhcIl0gPSBcIndpZHRoXCI7XG4gICAgQm91bmRpbmdCb3hEaW1lbnNpb25bXCJoZWlnaHRcIl0gPSBcImhlaWdodFwiO1xuICAgIEJvdW5kaW5nQm94RGltZW5zaW9uW1wibGVmdFwiXSA9IFwibGVmdFwiO1xuICAgIEJvdW5kaW5nQm94RGltZW5zaW9uW1wicmlnaHRcIl0gPSBcInJpZ2h0XCI7XG4gICAgQm91bmRpbmdCb3hEaW1lbnNpb25bXCJ0b3BcIl0gPSBcInRvcFwiO1xuICAgIEJvdW5kaW5nQm94RGltZW5zaW9uW1wiYm90dG9tXCJdID0gXCJib3R0b21cIjtcbn0pKEJvdW5kaW5nQm94RGltZW5zaW9uIHx8IChCb3VuZGluZ0JveERpbWVuc2lvbiA9IHt9KSk7XG5jb25zdCBnZXRQb3NGcm9tTWF0cml4ID0gKG1hdHJpeCwgcG9zKSA9PiBwYXJzZUZsb2F0KG1hdHJpeC5zcGxpdChcIiwgXCIpW3Bvc10pO1xuY29uc3QgZ2V0VHJhbnNsYXRlRnJvbU1hdHJpeCA9IChwb3MyLCBwb3MzKSA9PiAoX2Jib3gsIHsgdHJhbnNmb3JtIH0pID0+IHtcbiAgICBpZiAodHJhbnNmb3JtID09PSBcIm5vbmVcIiB8fCAhdHJhbnNmb3JtKVxuICAgICAgICByZXR1cm4gMDtcbiAgICBjb25zdCBtYXRyaXgzZCA9IHRyYW5zZm9ybS5tYXRjaCgvXm1hdHJpeDNkXFwoKC4rKVxcKSQvKTtcbiAgICBpZiAobWF0cml4M2QpIHtcbiAgICAgICAgcmV0dXJuIGdldFBvc0Zyb21NYXRyaXgobWF0cml4M2RbMV0sIHBvczMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gdHJhbnNmb3JtLm1hdGNoKC9ebWF0cml4XFwoKC4rKVxcKSQvKTtcbiAgICAgICAgaWYgKG1hdHJpeCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldFBvc0Zyb21NYXRyaXgobWF0cml4WzFdLCBwb3MyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IHRyYW5zZm9ybUtleXMgPSBuZXcgU2V0KFtcInhcIiwgXCJ5XCIsIFwielwiXSk7XG5jb25zdCBub25UcmFuc2xhdGlvbmFsVHJhbnNmb3JtS2V5cyA9IHRyYW5zZm9ybVByb3BPcmRlci5maWx0ZXIoKGtleSkgPT4gIXRyYW5zZm9ybUtleXMuaGFzKGtleSkpO1xuZnVuY3Rpb24gcmVtb3ZlTm9uVHJhbnNsYXRpb25hbFRyYW5zZm9ybSh2aXN1YWxFbGVtZW50KSB7XG4gICAgY29uc3QgcmVtb3ZlZFRyYW5zZm9ybXMgPSBbXTtcbiAgICBub25UcmFuc2xhdGlvbmFsVHJhbnNmb3JtS2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB2aXN1YWxFbGVtZW50LmdldFZhbHVlKGtleSk7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZW1vdmVkVHJhbnNmb3Jtcy5wdXNoKFtrZXksIHZhbHVlLmdldCgpXSk7XG4gICAgICAgICAgICB2YWx1ZS5zZXQoa2V5LnN0YXJ0c1dpdGgoXCJzY2FsZVwiKSA/IDEgOiAwKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vIEFwcGx5IGNoYW5nZXMgdG8gZWxlbWVudCBiZWZvcmUgbWVhc3VyZW1lbnRcbiAgICBpZiAocmVtb3ZlZFRyYW5zZm9ybXMubGVuZ3RoKVxuICAgICAgICB2aXN1YWxFbGVtZW50LnN5bmNSZW5kZXIoKTtcbiAgICByZXR1cm4gcmVtb3ZlZFRyYW5zZm9ybXM7XG59XG5jb25zdCBwb3NpdGlvbmFsVmFsdWVzID0ge1xuICAgIC8vIERpbWVuc2lvbnNcbiAgICB3aWR0aDogKHsgeCB9LCB7IHBhZGRpbmdMZWZ0ID0gXCIwXCIsIHBhZGRpbmdSaWdodCA9IFwiMFwiIH0pID0+IHgubWF4IC0geC5taW4gLSBwYXJzZUZsb2F0KHBhZGRpbmdMZWZ0KSAtIHBhcnNlRmxvYXQocGFkZGluZ1JpZ2h0KSxcbiAgICBoZWlnaHQ6ICh7IHkgfSwgeyBwYWRkaW5nVG9wID0gXCIwXCIsIHBhZGRpbmdCb3R0b20gPSBcIjBcIiB9KSA9PiB5Lm1heCAtIHkubWluIC0gcGFyc2VGbG9hdChwYWRkaW5nVG9wKSAtIHBhcnNlRmxvYXQocGFkZGluZ0JvdHRvbSksXG4gICAgdG9wOiAoX2Jib3gsIHsgdG9wIH0pID0+IHBhcnNlRmxvYXQodG9wKSxcbiAgICBsZWZ0OiAoX2Jib3gsIHsgbGVmdCB9KSA9PiBwYXJzZUZsb2F0KGxlZnQpLFxuICAgIGJvdHRvbTogKHsgeSB9LCB7IHRvcCB9KSA9PiBwYXJzZUZsb2F0KHRvcCkgKyAoeS5tYXggLSB5Lm1pbiksXG4gICAgcmlnaHQ6ICh7IHggfSwgeyBsZWZ0IH0pID0+IHBhcnNlRmxvYXQobGVmdCkgKyAoeC5tYXggLSB4Lm1pbiksXG4gICAgLy8gVHJhbnNmb3JtXG4gICAgeDogZ2V0VHJhbnNsYXRlRnJvbU1hdHJpeCg0LCAxMyksXG4gICAgeTogZ2V0VHJhbnNsYXRlRnJvbU1hdHJpeCg1LCAxNCksXG59O1xuY29uc3QgY29udmVydENoYW5nZWRWYWx1ZVR5cGVzID0gKHRhcmdldCwgdmlzdWFsRWxlbWVudCwgY2hhbmdlZEtleXMpID0+IHtcbiAgICBjb25zdCBvcmlnaW5CYm94ID0gdmlzdWFsRWxlbWVudC5tZWFzdXJlVmlld3BvcnRCb3goKTtcbiAgICBjb25zdCBlbGVtZW50ID0gdmlzdWFsRWxlbWVudC5nZXRJbnN0YW5jZSgpO1xuICAgIGNvbnN0IGVsZW1lbnRDb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICBjb25zdCB7IGRpc3BsYXkgfSA9IGVsZW1lbnRDb21wdXRlZFN0eWxlO1xuICAgIGNvbnN0IG9yaWdpbiA9IHt9O1xuICAgIC8vIElmIHRoZSBlbGVtZW50IGlzIGN1cnJlbnRseSBzZXQgdG8gZGlzcGxheTogXCJub25lXCIsIG1ha2UgaXQgdmlzaWJsZSBiZWZvcmVcbiAgICAvLyBtZWFzdXJpbmcgdGhlIHRhcmdldCBib3VuZGluZyBib3hcbiAgICBpZiAoZGlzcGxheSA9PT0gXCJub25lXCIpIHtcbiAgICAgICAgdmlzdWFsRWxlbWVudC5zZXRTdGF0aWNWYWx1ZShcImRpc3BsYXlcIiwgdGFyZ2V0LmRpc3BsYXkgfHwgXCJibG9ja1wiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVjb3JkIG9yaWdpbnMgYmVmb3JlIHdlIHJlbmRlciBhbmQgdXBkYXRlIHN0eWxlc1xuICAgICAqL1xuICAgIGNoYW5nZWRLZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBvcmlnaW5ba2V5XSA9IHBvc2l0aW9uYWxWYWx1ZXNba2V5XShvcmlnaW5CYm94LCBlbGVtZW50Q29tcHV0ZWRTdHlsZSk7XG4gICAgfSk7XG4gICAgLy8gQXBwbHkgdGhlIGxhdGVzdCB2YWx1ZXMgKGFzIHNldCBpbiBjaGVja0FuZENvbnZlcnRDaGFuZ2VkVmFsdWVUeXBlcylcbiAgICB2aXN1YWxFbGVtZW50LnN5bmNSZW5kZXIoKTtcbiAgICBjb25zdCB0YXJnZXRCYm94ID0gdmlzdWFsRWxlbWVudC5tZWFzdXJlVmlld3BvcnRCb3goKTtcbiAgICBjaGFuZ2VkS2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgLy8gUmVzdG9yZSBzdHlsZXMgdG8gdGhlaXIgKipjYWxjdWxhdGVkIGNvbXB1dGVkIHN0eWxlKiosIG5vdCB0aGVpciBhY3R1YWxcbiAgICAgICAgLy8gb3JpZ2luYWxseSBzZXQgc3R5bGUuIFRoaXMgYWxsb3dzIHVzIHRvIGFuaW1hdGUgYmV0d2VlbiBlcXVpdmFsZW50IHBpeGVsIHVuaXRzLlxuICAgICAgICBjb25zdCB2YWx1ZSA9IHZpc3VhbEVsZW1lbnQuZ2V0VmFsdWUoa2V5KTtcbiAgICAgICAgc2V0QW5kUmVzZXRWZWxvY2l0eSh2YWx1ZSwgb3JpZ2luW2tleV0pO1xuICAgICAgICB0YXJnZXRba2V5XSA9IHBvc2l0aW9uYWxWYWx1ZXNba2V5XSh0YXJnZXRCYm94LCBlbGVtZW50Q29tcHV0ZWRTdHlsZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRhcmdldDtcbn07XG5jb25zdCBjaGVja0FuZENvbnZlcnRDaGFuZ2VkVmFsdWVUeXBlcyA9ICh2aXN1YWxFbGVtZW50LCB0YXJnZXQsIG9yaWdpbiA9IHt9LCB0cmFuc2l0aW9uRW5kID0ge30pID0+IHtcbiAgICB0YXJnZXQgPSB7IC4uLnRhcmdldCB9O1xuICAgIHRyYW5zaXRpb25FbmQgPSB7IC4uLnRyYW5zaXRpb25FbmQgfTtcbiAgICBjb25zdCB0YXJnZXRQb3NpdGlvbmFsS2V5cyA9IE9iamVjdC5rZXlzKHRhcmdldCkuZmlsdGVyKGlzUG9zaXRpb25hbEtleSk7XG4gICAgLy8gV2Ugd2FudCB0byByZW1vdmUgYW55IHRyYW5zZm9ybSB2YWx1ZXMgdGhhdCBjb3VsZCBhZmZlY3QgdGhlIGVsZW1lbnQncyBib3VuZGluZyBib3ggYmVmb3JlXG4gICAgLy8gaXQncyBtZWFzdXJlZC4gV2UnbGwgcmVhcHBseSB0aGVzZSBsYXRlci5cbiAgICBsZXQgcmVtb3ZlZFRyYW5zZm9ybVZhbHVlcyA9IFtdO1xuICAgIGxldCBoYXNBdHRlbXB0ZWRUb1JlbW92ZVRyYW5zZm9ybVZhbHVlcyA9IGZhbHNlO1xuICAgIGNvbnN0IGNoYW5nZWRWYWx1ZVR5cGVLZXlzID0gW107XG4gICAgdGFyZ2V0UG9zaXRpb25hbEtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdmlzdWFsRWxlbWVudC5nZXRWYWx1ZShrZXkpO1xuICAgICAgICBpZiAoIXZpc3VhbEVsZW1lbnQuaGFzVmFsdWUoa2V5KSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGZyb20gPSBvcmlnaW5ba2V5XTtcbiAgICAgICAgbGV0IGZyb21UeXBlID0gZmluZERpbWVuc2lvblZhbHVlVHlwZShmcm9tKTtcbiAgICAgICAgY29uc3QgdG8gPSB0YXJnZXRba2V5XTtcbiAgICAgICAgbGV0IHRvVHlwZTtcbiAgICAgICAgLy8gVE9ETzogVGhlIGN1cnJlbnQgaW1wbGVtZW50YXRpb24gb2YgdGhpcyBiYXNpY2FsbHkgdGhyb3dzIGFuIGVycm9yXG4gICAgICAgIC8vIGlmIHlvdSB0cnkgYW5kIGRvIHZhbHVlIGNvbnZlcnNpb24gdmlhIGtleWZyYW1lcy4gVGhlcmUncyBwcm9iYWJseVxuICAgICAgICAvLyBhIHdheSBvZiBkb2luZyB0aGlzIGJ1dCB0aGUgcGVyZm9ybWFuY2UgaW1wbGljYXRpb25zIHdvdWxkIG5lZWQgZ3JlYXRlciBzY3J1dGlueSxcbiAgICAgICAgLy8gYXMgaXQnZCBiZSBkb2luZyBtdWx0aXBsZSByZXNpemUtcmVtZWFzdXJlIG9wZXJhdGlvbnMuXG4gICAgICAgIGlmIChpc0tleWZyYW1lc1RhcmdldCh0bykpIHtcbiAgICAgICAgICAgIGNvbnN0IG51bUtleWZyYW1lcyA9IHRvLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGZyb21JbmRleCA9IHRvWzBdID09PSBudWxsID8gMSA6IDA7XG4gICAgICAgICAgICBmcm9tID0gdG9bZnJvbUluZGV4XTtcbiAgICAgICAgICAgIGZyb21UeXBlID0gZmluZERpbWVuc2lvblZhbHVlVHlwZShmcm9tKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBmcm9tSW5kZXg7IGkgPCBudW1LZXlmcmFtZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICghdG9UeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvVHlwZSA9IGZpbmREaW1lbnNpb25WYWx1ZVR5cGUodG9baV0pO1xuICAgICAgICAgICAgICAgICAgICBpbnZhcmlhbnQodG9UeXBlID09PSBmcm9tVHlwZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKGlzTnVtT3JQeFR5cGUoZnJvbVR5cGUpICYmIGlzTnVtT3JQeFR5cGUodG9UeXBlKSksIFwiS2V5ZnJhbWVzIG11c3QgYmUgb2YgdGhlIHNhbWUgZGltZW5zaW9uIGFzIHRoZSBjdXJyZW50IHZhbHVlXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaW52YXJpYW50KGZpbmREaW1lbnNpb25WYWx1ZVR5cGUodG9baV0pID09PSB0b1R5cGUsIFwiQWxsIGtleWZyYW1lcyBtdXN0IGJlIG9mIHRoZSBzYW1lIHR5cGVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdG9UeXBlID0gZmluZERpbWVuc2lvblZhbHVlVHlwZSh0byk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyb21UeXBlICE9PSB0b1R5cGUpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZXkncmUgYm90aCBqdXN0IG51bWJlciBvciBweCwgY29udmVydCB0aGVtIGJvdGggdG8gbnVtYmVycyByYXRoZXIgdGhhblxuICAgICAgICAgICAgLy8gcmVseWluZyBvbiByZXNpemUvcmVtZWFzdXJlIHRvIGNvbnZlcnQgKHdoaWNoIGlzIHdhc3RlZnVsIGluIHRoaXMgc2l0dWF0aW9uKVxuICAgICAgICAgICAgaWYgKGlzTnVtT3JQeFR5cGUoZnJvbVR5cGUpICYmIGlzTnVtT3JQeFR5cGUodG9UeXBlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSB2YWx1ZS5nZXQoKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGN1cnJlbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUuc2V0KHBhcnNlRmxvYXQoY3VycmVudCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gcGFyc2VGbG9hdCh0byk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodG8pICYmIHRvVHlwZSA9PT0gcHgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSB0by5tYXAocGFyc2VGbG9hdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKGZyb21UeXBlID09PSBudWxsIHx8IGZyb21UeXBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmcm9tVHlwZS50cmFuc2Zvcm0pICYmXG4gICAgICAgICAgICAgICAgKHRvVHlwZSA9PT0gbnVsbCB8fCB0b1R5cGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRvVHlwZS50cmFuc2Zvcm0pICYmXG4gICAgICAgICAgICAgICAgKGZyb20gPT09IDAgfHwgdG8gPT09IDApKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgb25lIG9yIHRoZSBvdGhlciB2YWx1ZSBpcyAwLCBpdCdzIHNhZmUgdG8gY29lcmNlIGl0IHRvIHRoZVxuICAgICAgICAgICAgICAgIC8vIHR5cGUgb2YgdGhlIG90aGVyIHdpdGhvdXQgbWVhc3VyZW1lbnRcbiAgICAgICAgICAgICAgICBpZiAoZnJvbSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5zZXQodG9UeXBlLnRyYW5zZm9ybShmcm9tKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IGZyb21UeXBlLnRyYW5zZm9ybSh0byk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UncmUgZ29pbmcgdG8gZG8gdmFsdWUgY29udmVyc2lvbiB2aWEgRE9NIG1lYXN1cmVtZW50cywgd2UgZmlyc3RcbiAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIHJlbW92ZSBub24tcG9zaXRpb25hbCB0cmFuc2Zvcm0gdmFsdWVzIHRoYXQgY291bGQgYWZmZWN0IHRoZSBiYm94IG1lYXN1cmVtZW50cy5cbiAgICAgICAgICAgICAgICBpZiAoIWhhc0F0dGVtcHRlZFRvUmVtb3ZlVHJhbnNmb3JtVmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZWRUcmFuc2Zvcm1WYWx1ZXMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTm9uVHJhbnNsYXRpb25hbFRyYW5zZm9ybSh2aXN1YWxFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgaGFzQXR0ZW1wdGVkVG9SZW1vdmVUcmFuc2Zvcm1WYWx1ZXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjaGFuZ2VkVmFsdWVUeXBlS2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbkVuZFtrZXldID1cbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbkVuZFtrZXldICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdHJhbnNpdGlvbkVuZFtrZXldXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRhcmdldFtrZXldO1xuICAgICAgICAgICAgICAgIHNldEFuZFJlc2V0VmVsb2NpdHkodmFsdWUsIHRvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChjaGFuZ2VkVmFsdWVUeXBlS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3Qgc2Nyb2xsWSA9IGNoYW5nZWRWYWx1ZVR5cGVLZXlzLmluZGV4T2YoXCJoZWlnaHRcIikgPj0gMFxuICAgICAgICAgICAgPyB3aW5kb3cucGFnZVlPZmZzZXRcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgY29uc3QgY29udmVydGVkVGFyZ2V0ID0gY29udmVydENoYW5nZWRWYWx1ZVR5cGVzKHRhcmdldCwgdmlzdWFsRWxlbWVudCwgY2hhbmdlZFZhbHVlVHlwZUtleXMpO1xuICAgICAgICAvLyBJZiB3ZSByZW1vdmVkIHRyYW5zZm9ybSB2YWx1ZXMsIHJlYXBwbHkgdGhlbSBiZWZvcmUgdGhlIG5leHQgcmVuZGVyXG4gICAgICAgIGlmIChyZW1vdmVkVHJhbnNmb3JtVmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVtb3ZlZFRyYW5zZm9ybVZhbHVlcy5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgICAgICB2aXN1YWxFbGVtZW50LmdldFZhbHVlKGtleSkuc2V0KHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlYXBwbHkgb3JpZ2luYWwgdmFsdWVzXG4gICAgICAgIHZpc3VhbEVsZW1lbnQuc3luY1JlbmRlcigpO1xuICAgICAgICAvLyBSZXN0b3JlIHNjcm9sbCBwb3NpdGlvblxuICAgICAgICBpZiAoaXNCcm93c2VyICYmIHNjcm9sbFkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogc2Nyb2xsWSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB0YXJnZXQ6IGNvbnZlcnRlZFRhcmdldCwgdHJhbnNpdGlvbkVuZCB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHsgdGFyZ2V0LCB0cmFuc2l0aW9uRW5kIH07XG4gICAgfVxufTtcbi8qKlxuICogQ29udmVydCB2YWx1ZSB0eXBlcyBmb3IgeC95L3dpZHRoL2hlaWdodC90b3AvbGVmdC9ib3R0b20vcmlnaHRcbiAqXG4gKiBBbGxvd3MgYW5pbWF0aW9uIGJldHdlZW4gYCdhdXRvJ2AgLT4gYCcxMDAlJ2Agb3IgYDBgIC0+IGAnY2FsYyg1MCUgLSAxMHZ3KSdgXG4gKlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIHVuaXRDb252ZXJzaW9uKHZpc3VhbEVsZW1lbnQsIHRhcmdldCwgb3JpZ2luLCB0cmFuc2l0aW9uRW5kKSB7XG4gICAgcmV0dXJuIGhhc1Bvc2l0aW9uYWxLZXkodGFyZ2V0KVxuICAgICAgICA/IGNoZWNrQW5kQ29udmVydENoYW5nZWRWYWx1ZVR5cGVzKHZpc3VhbEVsZW1lbnQsIHRhcmdldCwgb3JpZ2luLCB0cmFuc2l0aW9uRW5kKVxuICAgICAgICA6IHsgdGFyZ2V0LCB0cmFuc2l0aW9uRW5kIH07XG59XG5cbmV4cG9ydCB7IEJvdW5kaW5nQm94RGltZW5zaW9uLCBwb3NpdGlvbmFsVmFsdWVzLCB1bml0Q29udmVyc2lvbiB9O1xuIiwiaW1wb3J0IHsgcmVzb2x2ZUNTU1ZhcmlhYmxlcyB9IGZyb20gJy4vY3NzLXZhcmlhYmxlcy1jb252ZXJzaW9uLm1qcyc7XG5pbXBvcnQgeyB1bml0Q29udmVyc2lvbiB9IGZyb20gJy4vdW5pdC1jb252ZXJzaW9uLm1qcyc7XG5cbi8qKlxuICogUGFyc2UgYSBET00gdmFyaWFudCB0byBtYWtlIGl0IGFuaW1hdGFibGUuIFRoaXMgaW52b2x2ZXMgcmVzb2x2aW5nIENTUyB2YXJpYWJsZXNcbiAqIGFuZCBlbnN1cmluZyBhbmltYXRpb25zIGxpa2UgXCIyMCVcIiA9PiBcImNhbGMoNTB2dylcIiBhcmUgcGVyZm9ybWVkIGluIHBpeGVscy5cbiAqL1xuY29uc3QgcGFyc2VEb21WYXJpYW50ID0gKHZpc3VhbEVsZW1lbnQsIHRhcmdldCwgb3JpZ2luLCB0cmFuc2l0aW9uRW5kKSA9PiB7XG4gICAgY29uc3QgcmVzb2x2ZWQgPSByZXNvbHZlQ1NTVmFyaWFibGVzKHZpc3VhbEVsZW1lbnQsIHRhcmdldCwgdHJhbnNpdGlvbkVuZCk7XG4gICAgdGFyZ2V0ID0gcmVzb2x2ZWQudGFyZ2V0O1xuICAgIHRyYW5zaXRpb25FbmQgPSByZXNvbHZlZC50cmFuc2l0aW9uRW5kO1xuICAgIHJldHVybiB1bml0Q29udmVyc2lvbih2aXN1YWxFbGVtZW50LCB0YXJnZXQsIG9yaWdpbiwgdHJhbnNpdGlvbkVuZCk7XG59O1xuXG5leHBvcnQgeyBwYXJzZURvbVZhcmlhbnQgfTtcbiIsImltcG9ydCB7IHZpc3VhbEVsZW1lbnQgfSBmcm9tICcuLi9pbmRleC5tanMnO1xuaW1wb3J0IHsgZ2V0T3JpZ2luLCBjaGVja1RhcmdldEZvck5ld1ZhbHVlcyB9IGZyb20gJy4uL3V0aWxzL3NldHRlcnMubWpzJztcbmltcG9ydCB7IGJ1aWxkSFRNTFN0eWxlcyB9IGZyb20gJy4vdXRpbHMvYnVpbGQtc3R5bGVzLm1qcyc7XG5pbXBvcnQgeyBpc0NTU1ZhcmlhYmxlIH0gZnJvbSAnLi4vZG9tL3V0aWxzL2lzLWNzcy12YXJpYWJsZS5tanMnO1xuaW1wb3J0IHsgcGFyc2VEb21WYXJpYW50IH0gZnJvbSAnLi4vZG9tL3V0aWxzL3BhcnNlLWRvbS12YXJpYW50Lm1qcyc7XG5pbXBvcnQgeyB0cmFuc2Zvcm1Qcm9wcyB9IGZyb20gJy4vdXRpbHMvdHJhbnNmb3JtLm1qcyc7XG5pbXBvcnQgeyBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMgfSBmcm9tICcuL3V0aWxzL3NjcmFwZS1tb3Rpb24tdmFsdWVzLm1qcyc7XG5pbXBvcnQgeyByZW5kZXJIVE1MIH0gZnJvbSAnLi91dGlscy9yZW5kZXIubWpzJztcbmltcG9ydCB7IGdldERlZmF1bHRWYWx1ZVR5cGUgfSBmcm9tICcuLi9kb20vdmFsdWUtdHlwZXMvZGVmYXVsdHMubWpzJztcbmltcG9ydCB7IG1lYXN1cmVWaWV3cG9ydEJveCB9IGZyb20gJy4uLy4uL3Byb2plY3Rpb24vdXRpbHMvbWVhc3VyZS5tanMnO1xuXG5mdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG59XG5jb25zdCBodG1sQ29uZmlnID0ge1xuICAgIHRyZWVUeXBlOiBcImRvbVwiLFxuICAgIHJlYWRWYWx1ZUZyb21JbnN0YW5jZShkb21FbGVtZW50LCBrZXkpIHtcbiAgICAgICAgaWYgKHRyYW5zZm9ybVByb3BzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0VHlwZSA9IGdldERlZmF1bHRWYWx1ZVR5cGUoa2V5KTtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VHlwZSA/IGRlZmF1bHRUeXBlLmRlZmF1bHQgfHwgMCA6IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShkb21FbGVtZW50KTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gKGlzQ1NTVmFyaWFibGUoa2V5KVxuICAgICAgICAgICAgICAgID8gY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKGtleSlcbiAgICAgICAgICAgICAgICA6IGNvbXB1dGVkU3R5bGVba2V5XSkgfHwgMDtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyB2YWx1ZS50cmltKCkgOiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc29ydE5vZGVQb3NpdGlvbihhLCBiKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiByZXR1cm5zIGEgYml0bWFzaywgYnkgdXNpbmcgdGhlIGJpdHdpc2UgJlxuICAgICAgICAgKiB3ZSdyZSByZXR1cm5pbmcgdHJ1ZSBpZiAyIGluIHRoYXQgYml0bWFzayBpcyBzZXQgdG8gdHJ1ZS4gMiBpcyBzZXRcbiAgICAgICAgICogdG8gdHJ1ZSBpZiBiIHByZWNlZWRzIGEuXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKSAmIDIgPyAxIDogLTE7XG4gICAgfSxcbiAgICBnZXRCYXNlVGFyZ2V0KHByb3BzLCBrZXkpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9hID0gcHJvcHMuc3R5bGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtrZXldO1xuICAgIH0sXG4gICAgbWVhc3VyZVZpZXdwb3J0Qm94KGVsZW1lbnQsIHsgdHJhbnNmb3JtUGFnZVBvaW50IH0pIHtcbiAgICAgICAgcmV0dXJuIG1lYXN1cmVWaWV3cG9ydEJveChlbGVtZW50LCB0cmFuc2Zvcm1QYWdlUG9pbnQpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIHRyYW5zZm9ybSBvbiB0aGUgY3VycmVudCBFbGVtZW50LiBUaGlzIGlzIGNhbGxlZCBhcyBwYXJ0XG4gICAgICogb2YgYSBiYXRjaGVkIHByb2Nlc3MgYWNyb3NzIHRoZSBlbnRpcmUgbGF5b3V0IHRyZWUuIFRvIHJlbW92ZSB0aGlzIHdyaXRlXG4gICAgICogY3ljbGUgaXQnZCBiZSBpbnRlcmVzdGluZyB0byBzZWUgaWYgaXQncyBwb3NzaWJsZSB0byBcInVuZG9cIiBhbGwgdGhlIGN1cnJlbnRcbiAgICAgKiBsYXlvdXQgdHJhbnNmb3JtcyB1cCB0aGUgdHJlZSBpbiB0aGUgc2FtZSB3YXkgdGhpcy5nZXRCb3VuZGluZ0JveFdpdGhvdXRUcmFuc2Zvcm1zXG4gICAgICogd29ya3NcbiAgICAgKi9cbiAgICByZXNldFRyYW5zZm9ybShlbGVtZW50LCBkb21FbGVtZW50LCBwcm9wcykge1xuICAgICAgICBjb25zdCB7IHRyYW5zZm9ybVRlbXBsYXRlIH0gPSBwcm9wcztcbiAgICAgICAgZG9tRWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1UZW1wbGF0ZVxuICAgICAgICAgICAgPyB0cmFuc2Zvcm1UZW1wbGF0ZSh7fSwgXCJcIilcbiAgICAgICAgICAgIDogXCJub25lXCI7XG4gICAgICAgIC8vIEVuc3VyZSB0aGF0IHdoYXRldmVyIGhhcHBlbnMgbmV4dCwgd2UgcmVzdG9yZSBvdXIgdHJhbnNmb3JtIG9uIHRoZSBuZXh0IGZyYW1lXG4gICAgICAgIGVsZW1lbnQuc2NoZWR1bGVSZW5kZXIoKTtcbiAgICB9LFxuICAgIHJlc3RvcmVUcmFuc2Zvcm0oaW5zdGFuY2UsIG11dGFibGVTdGF0ZSkge1xuICAgICAgICBpbnN0YW5jZS5zdHlsZS50cmFuc2Zvcm0gPSBtdXRhYmxlU3RhdGUuc3R5bGUudHJhbnNmb3JtO1xuICAgIH0sXG4gICAgcmVtb3ZlVmFsdWVGcm9tUmVuZGVyU3RhdGUoa2V5LCB7IHZhcnMsIHN0eWxlIH0pIHtcbiAgICAgICAgZGVsZXRlIHZhcnNba2V5XTtcbiAgICAgICAgZGVsZXRlIHN0eWxlW2tleV07XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBFbnN1cmUgdGhhdCBIVE1MIGFuZCBGcmFtZXItc3BlY2lmaWMgdmFsdWUgdHlwZXMgbGlrZSBgcHhgLT5gJWAgYW5kIGBDb2xvcmBcbiAgICAgKiBjYW4gYmUgYW5pbWF0ZWQgYnkgTW90aW9uLlxuICAgICAqL1xuICAgIG1ha2VUYXJnZXRBbmltYXRhYmxlKGVsZW1lbnQsIHsgdHJhbnNpdGlvbiwgdHJhbnNpdGlvbkVuZCwgLi4udGFyZ2V0IH0sIHsgdHJhbnNmb3JtVmFsdWVzIH0sIGlzTW91bnRlZCA9IHRydWUpIHtcbiAgICAgICAgbGV0IG9yaWdpbiA9IGdldE9yaWdpbih0YXJnZXQsIHRyYW5zaXRpb24gfHwge30sIGVsZW1lbnQpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgRnJhbWVyIGhhcyBwcm92aWRlZCBhIGZ1bmN0aW9uIHRvIGNvbnZlcnQgYENvbG9yYCBldGMgdmFsdWUgdHlwZXMsIGNvbnZlcnQgdGhlbVxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHRyYW5zZm9ybVZhbHVlcykge1xuICAgICAgICAgICAgaWYgKHRyYW5zaXRpb25FbmQpXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbkVuZCA9IHRyYW5zZm9ybVZhbHVlcyh0cmFuc2l0aW9uRW5kKTtcbiAgICAgICAgICAgIGlmICh0YXJnZXQpXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdHJhbnNmb3JtVmFsdWVzKHRhcmdldCk7XG4gICAgICAgICAgICBpZiAob3JpZ2luKVxuICAgICAgICAgICAgICAgIG9yaWdpbiA9IHRyYW5zZm9ybVZhbHVlcyhvcmlnaW4pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc01vdW50ZWQpIHtcbiAgICAgICAgICAgIGNoZWNrVGFyZ2V0Rm9yTmV3VmFsdWVzKGVsZW1lbnQsIHRhcmdldCwgb3JpZ2luKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlRG9tVmFyaWFudChlbGVtZW50LCB0YXJnZXQsIG9yaWdpbiwgdHJhbnNpdGlvbkVuZCk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uRW5kID0gcGFyc2VkLnRyYW5zaXRpb25FbmQ7XG4gICAgICAgICAgICB0YXJnZXQgPSBwYXJzZWQudGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uLFxuICAgICAgICAgICAgdHJhbnNpdGlvbkVuZCxcbiAgICAgICAgICAgIC4uLnRhcmdldCxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyxcbiAgICBidWlsZChlbGVtZW50LCByZW5kZXJTdGF0ZSwgbGF0ZXN0VmFsdWVzLCBvcHRpb25zLCBwcm9wcykge1xuICAgICAgICBpZiAoZWxlbWVudC5pc1Zpc2libGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVuZGVyU3RhdGUuc3R5bGUudmlzaWJpbGl0eSA9IGVsZW1lbnQuaXNWaXNpYmxlXG4gICAgICAgICAgICAgICAgPyBcInZpc2libGVcIlxuICAgICAgICAgICAgICAgIDogXCJoaWRkZW5cIjtcbiAgICAgICAgfVxuICAgICAgICBidWlsZEhUTUxTdHlsZXMocmVuZGVyU3RhdGUsIGxhdGVzdFZhbHVlcywgb3B0aW9ucywgcHJvcHMudHJhbnNmb3JtVGVtcGxhdGUpO1xuICAgIH0sXG4gICAgcmVuZGVyOiByZW5kZXJIVE1MLFxufTtcbmNvbnN0IGh0bWxWaXN1YWxFbGVtZW50ID0gdmlzdWFsRWxlbWVudChodG1sQ29uZmlnKTtcblxuZXhwb3J0IHsgZ2V0Q29tcHV0ZWRTdHlsZSwgaHRtbENvbmZpZywgaHRtbFZpc3VhbEVsZW1lbnQgfTtcbiIsIi8qKlxuICogQ2hlY2sgaWYgdmFsdWUgaXMgYSBudW1lcmljYWwgc3RyaW5nLCBpZSBhIHN0cmluZyB0aGF0IGlzIHB1cmVseSBhIG51bWJlciBlZyBcIjEwMFwiIG9yIFwiLTEwMC4xXCJcbiAqL1xuY29uc3QgaXNOdW1lcmljYWxTdHJpbmcgPSAodikgPT4gL15cXC0/XFxkKlxcLj9cXGQrJC8udGVzdCh2KTtcblxuZXhwb3J0IHsgaXNOdW1lcmljYWxTdHJpbmcgfTtcbiIsIi8qKlxuICogQ2hlY2sgaWYgdGhlIHZhbHVlIGlzIGEgemVybyB2YWx1ZSBzdHJpbmcgbGlrZSBcIjBweFwiIG9yIFwiMCVcIlxuICovXG5jb25zdCBpc1plcm9WYWx1ZVN0cmluZyA9ICh2KSA9PiAvXjBbXi5cXHNdKyQvLnRlc3Qodik7XG5cbmV4cG9ydCB7IGlzWmVyb1ZhbHVlU3RyaW5nIH07XG4iLCJpbXBvcnQgeyB2aXN1YWxFbGVtZW50IH0gZnJvbSAnLi4vaW5kZXgubWpzJztcbmltcG9ydCB7IHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyB9IGZyb20gJy4vdXRpbHMvc2NyYXBlLW1vdGlvbi12YWx1ZXMubWpzJztcbmltcG9ydCB7IGh0bWxDb25maWcgfSBmcm9tICcuLi9odG1sL3Zpc3VhbC1lbGVtZW50Lm1qcyc7XG5pbXBvcnQgeyBidWlsZFNWR0F0dHJzIH0gZnJvbSAnLi91dGlscy9idWlsZC1hdHRycy5tanMnO1xuaW1wb3J0IHsgY2FtZWxUb0Rhc2ggfSBmcm9tICcuLi9kb20vdXRpbHMvY2FtZWwtdG8tZGFzaC5tanMnO1xuaW1wb3J0IHsgY2FtZWxDYXNlQXR0cmlidXRlcyB9IGZyb20gJy4vdXRpbHMvY2FtZWwtY2FzZS1hdHRycy5tanMnO1xuaW1wb3J0IHsgdHJhbnNmb3JtUHJvcHMgfSBmcm9tICcuLi9odG1sL3V0aWxzL3RyYW5zZm9ybS5tanMnO1xuaW1wb3J0IHsgcmVuZGVyU1ZHIH0gZnJvbSAnLi91dGlscy9yZW5kZXIubWpzJztcbmltcG9ydCB7IGdldERlZmF1bHRWYWx1ZVR5cGUgfSBmcm9tICcuLi9kb20vdmFsdWUtdHlwZXMvZGVmYXVsdHMubWpzJztcblxuY29uc3Qgc3ZnVmlzdWFsRWxlbWVudCA9IHZpc3VhbEVsZW1lbnQoe1xuICAgIC4uLmh0bWxDb25maWcsXG4gICAgZ2V0QmFzZVRhcmdldChwcm9wcywga2V5KSB7XG4gICAgICAgIHJldHVybiBwcm9wc1trZXldO1xuICAgIH0sXG4gICAgcmVhZFZhbHVlRnJvbUluc3RhbmNlKGRvbUVsZW1lbnQsIGtleSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0cmFuc2Zvcm1Qcm9wcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuICgoX2EgPSBnZXREZWZhdWx0VmFsdWVUeXBlKGtleSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZWZhdWx0KSB8fCAwO1xuICAgICAgICB9XG4gICAgICAgIGtleSA9ICFjYW1lbENhc2VBdHRyaWJ1dGVzLmhhcyhrZXkpID8gY2FtZWxUb0Rhc2goa2V5KSA6IGtleTtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW1lbnQuZ2V0QXR0cmlidXRlKGtleSk7XG4gICAgfSxcbiAgICBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMsXG4gICAgYnVpbGQoX2VsZW1lbnQsIHJlbmRlclN0YXRlLCBsYXRlc3RWYWx1ZXMsIG9wdGlvbnMsIHByb3BzKSB7XG4gICAgICAgIGJ1aWxkU1ZHQXR0cnMocmVuZGVyU3RhdGUsIGxhdGVzdFZhbHVlcywgb3B0aW9ucywgcHJvcHMudHJhbnNmb3JtVGVtcGxhdGUpO1xuICAgIH0sXG4gICAgcmVuZGVyOiByZW5kZXJTVkcsXG59KTtcblxuZXhwb3J0IHsgc3ZnVmlzdWFsRWxlbWVudCB9O1xuIiwiaW1wb3J0IHsgaHRtbFZpc3VhbEVsZW1lbnQgfSBmcm9tICcuLi9odG1sL3Zpc3VhbC1lbGVtZW50Lm1qcyc7XG5pbXBvcnQgeyBzdmdWaXN1YWxFbGVtZW50IH0gZnJvbSAnLi4vc3ZnL3Zpc3VhbC1lbGVtZW50Lm1qcyc7XG5pbXBvcnQgeyBpc1NWR0NvbXBvbmVudCB9IGZyb20gJy4vdXRpbHMvaXMtc3ZnLWNvbXBvbmVudC5tanMnO1xuXG5jb25zdCBjcmVhdGVEb21WaXN1YWxFbGVtZW50ID0gKENvbXBvbmVudCwgb3B0aW9ucykgPT4ge1xuICAgIHJldHVybiBpc1NWR0NvbXBvbmVudChDb21wb25lbnQpXG4gICAgICAgID8gc3ZnVmlzdWFsRWxlbWVudChvcHRpb25zLCB7IGVuYWJsZUhhcmR3YXJlQWNjZWxlcmF0aW9uOiBmYWxzZSB9KVxuICAgICAgICA6IGh0bWxWaXN1YWxFbGVtZW50KG9wdGlvbnMsIHsgZW5hYmxlSGFyZHdhcmVBY2NlbGVyYXRpb246IHRydWUgfSk7XG59O1xuXG5leHBvcnQgeyBjcmVhdGVEb21WaXN1YWxFbGVtZW50IH07XG4iLCJpbXBvcnQgeyBweCB9IGZyb20gJ3N0eWxlLXZhbHVlLXR5cGVzJztcblxuZnVuY3Rpb24gcGl4ZWxzVG9QZXJjZW50KHBpeGVscywgYXhpcykge1xuICAgIGlmIChheGlzLm1heCA9PT0gYXhpcy5taW4pXG4gICAgICAgIHJldHVybiAwO1xuICAgIHJldHVybiAocGl4ZWxzIC8gKGF4aXMubWF4IC0gYXhpcy5taW4pKSAqIDEwMDtcbn1cbi8qKlxuICogV2UgYWx3YXlzIGNvcnJlY3QgYm9yZGVyUmFkaXVzIGFzIGEgcGVyY2VudGFnZSByYXRoZXIgdGhhbiBwaXhlbHMgdG8gcmVkdWNlIHBhaW50cy5cbiAqIEZvciBleGFtcGxlLCBpZiB5b3UgYXJlIHByb2plY3RpbmcgYSBib3ggdGhhdCBpcyAxMDBweCB3aWRlIHdpdGggYSAxMHB4IGJvcmRlclJhZGl1c1xuICogaW50byBhIGJveCB0aGF0IGlzIDIwMHB4IHdpZGUgd2l0aCBhIDIwcHggYm9yZGVyUmFkaXVzLCB0aGF0IGlzIGFjdHVhbGx5IGEgMTAlXG4gKiBib3JkZXJSYWRpdXMgaW4gYm90aCBzdGF0ZXMuIElmIHdlIGFuaW1hdGUgYmV0d2VlbiB0aGUgdHdvIGluIHBpeGVscyB0aGF0IHdpbGwgdHJpZ2dlclxuICogYSBwYWludCBlYWNoIHRpbWUuIElmIHdlIGFuaW1hdGUgYmV0d2VlbiB0aGUgdHdvIGluIHBlcmNlbnRhZ2Ugd2UnbGwgYXZvaWQgYSBwYWludC5cbiAqL1xuY29uc3QgY29ycmVjdEJvcmRlclJhZGl1cyA9IHtcbiAgICBjb3JyZWN0OiAobGF0ZXN0LCBub2RlKSA9PiB7XG4gICAgICAgIGlmICghbm9kZS50YXJnZXQpXG4gICAgICAgICAgICByZXR1cm4gbGF0ZXN0O1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgbGF0ZXN0IGlzIGEgc3RyaW5nLCBpZiBpdCdzIGEgcGVyY2VudGFnZSB3ZSBjYW4gcmV0dXJuIGltbWVkaWF0ZWx5IGFzIGl0J3NcbiAgICAgICAgICogZ29pbmcgdG8gYmUgc3RyZXRjaGVkIGFwcHJvcHJpYXRlbHkuIE90aGVyd2lzZSwgaWYgaXQncyBhIHBpeGVsLCBjb252ZXJ0IGl0IHRvIGEgbnVtYmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHR5cGVvZiBsYXRlc3QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGlmIChweC50ZXN0KGxhdGVzdCkpIHtcbiAgICAgICAgICAgICAgICBsYXRlc3QgPSBwYXJzZUZsb2F0KGxhdGVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGF0ZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBsYXRlc3QgaXMgYSBudW1iZXIsIGl0J3MgYSBwaXhlbCB2YWx1ZS4gV2UgdXNlIHRoZSBjdXJyZW50IHZpZXdwb3J0Qm94IHRvIGNhbGN1bGF0ZSB0aGF0XG4gICAgICAgICAqIHBpeGVsIHZhbHVlIGFzIGEgcGVyY2VudGFnZSBvZiBlYWNoIGF4aXNcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHggPSBwaXhlbHNUb1BlcmNlbnQobGF0ZXN0LCBub2RlLnRhcmdldC54KTtcbiAgICAgICAgY29uc3QgeSA9IHBpeGVsc1RvUGVyY2VudChsYXRlc3QsIG5vZGUudGFyZ2V0LnkpO1xuICAgICAgICByZXR1cm4gYCR7eH0lICR7eX0lYDtcbiAgICB9LFxufTtcblxuZXhwb3J0IHsgY29ycmVjdEJvcmRlclJhZGl1cywgcGl4ZWxzVG9QZXJjZW50IH07XG4iLCJpbXBvcnQgeyBtaXggfSBmcm9tICdwb3Btb3Rpb24nO1xuaW1wb3J0IHsgY29tcGxleCB9IGZyb20gJ3N0eWxlLXZhbHVlLXR5cGVzJztcbmltcG9ydCB7IGNzc1ZhcmlhYmxlUmVnZXggfSBmcm9tICcuLi8uLi9yZW5kZXIvZG9tL3V0aWxzL2Nzcy12YXJpYWJsZXMtY29udmVyc2lvbi5tanMnO1xuXG5jb25zdCB2YXJUb2tlbiA9IFwiXyRjc3NcIjtcbmNvbnN0IGNvcnJlY3RCb3hTaGFkb3cgPSB7XG4gICAgY29ycmVjdDogKGxhdGVzdCwgeyB0cmVlU2NhbGUsIHByb2plY3Rpb25EZWx0YSB9KSA9PiB7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsID0gbGF0ZXN0O1xuICAgICAgICAvKipcbiAgICAgICAgICogV2UgbmVlZCB0byBmaXJzdCBzdHJpcCBhbmQgc3RvcmUgQ1NTIHZhcmlhYmxlcyBmcm9tIHRoZSBzdHJpbmcuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBjb250YWluc0NTU1ZhcmlhYmxlcyA9IGxhdGVzdC5pbmNsdWRlcyhcInZhcihcIik7XG4gICAgICAgIGNvbnN0IGNzc1ZhcmlhYmxlcyA9IFtdO1xuICAgICAgICBpZiAoY29udGFpbnNDU1NWYXJpYWJsZXMpIHtcbiAgICAgICAgICAgIGxhdGVzdCA9IGxhdGVzdC5yZXBsYWNlKGNzc1ZhcmlhYmxlUmVnZXgsIChtYXRjaCkgPT4ge1xuICAgICAgICAgICAgICAgIGNzc1ZhcmlhYmxlcy5wdXNoKG1hdGNoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFyVG9rZW47XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaGFkb3cgPSBjb21wbGV4LnBhcnNlKGxhdGVzdCk7XG4gICAgICAgIC8vIFRPRE86IERvZXNuJ3Qgc3VwcG9ydCBtdWx0aXBsZSBzaGFkb3dzXG4gICAgICAgIGlmIChzaGFkb3cubGVuZ3RoID4gNSlcbiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbDtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBjb21wbGV4LmNyZWF0ZVRyYW5zZm9ybWVyKGxhdGVzdCk7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHR5cGVvZiBzaGFkb3dbMF0gIT09IFwibnVtYmVyXCIgPyAxIDogMDtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBvdmVyYWxsIGNvbnRleHQgc2NhbGVcbiAgICAgICAgY29uc3QgeFNjYWxlID0gcHJvamVjdGlvbkRlbHRhLnguc2NhbGUgKiB0cmVlU2NhbGUueDtcbiAgICAgICAgY29uc3QgeVNjYWxlID0gcHJvamVjdGlvbkRlbHRhLnkuc2NhbGUgKiB0cmVlU2NhbGUueTtcbiAgICAgICAgc2hhZG93WzAgKyBvZmZzZXRdIC89IHhTY2FsZTtcbiAgICAgICAgc2hhZG93WzEgKyBvZmZzZXRdIC89IHlTY2FsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElkZWFsbHkgd2UnZCBjb3JyZWN0IHggYW5kIHkgc2NhbGVzIGluZGl2aWR1YWxseSwgYnV0IGJlY2F1c2UgYmx1ciBhbmRcbiAgICAgICAgICogc3ByZWFkIGFwcGx5IHRvIGJvdGggd2UgaGF2ZSB0byB0YWtlIGEgc2NhbGUgYXZlcmFnZSBhbmQgYXBwbHkgdGhhdCBpbnN0ZWFkLlxuICAgICAgICAgKiBXZSBjb3VsZCBwb3RlbnRpYWxseSBpbXByb3ZlIHRoZSBvdXRjb21lIG9mIHRoaXMgYnkgaW5jb3Jwb3JhdGluZyB0aGUgcmF0aW8gYmV0d2VlblxuICAgICAgICAgKiB0aGUgdHdvIHNjYWxlcy5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGF2ZXJhZ2VTY2FsZSA9IG1peCh4U2NhbGUsIHlTY2FsZSwgMC41KTtcbiAgICAgICAgLy8gQmx1clxuICAgICAgICBpZiAodHlwZW9mIHNoYWRvd1syICsgb2Zmc2V0XSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgIHNoYWRvd1syICsgb2Zmc2V0XSAvPSBhdmVyYWdlU2NhbGU7XG4gICAgICAgIC8vIFNwcmVhZFxuICAgICAgICBpZiAodHlwZW9mIHNoYWRvd1szICsgb2Zmc2V0XSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgIHNoYWRvd1szICsgb2Zmc2V0XSAvPSBhdmVyYWdlU2NhbGU7XG4gICAgICAgIGxldCBvdXRwdXQgPSB0ZW1wbGF0ZShzaGFkb3cpO1xuICAgICAgICBpZiAoY29udGFpbnNDU1NWYXJpYWJsZXMpIHtcbiAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dC5yZXBsYWNlKHZhclRva2VuLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3NzVmFyaWFibGUgPSBjc3NWYXJpYWJsZXNbaV07XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIHJldHVybiBjc3NWYXJpYWJsZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfSxcbn07XG5cbmV4cG9ydCB7IGNvcnJlY3RCb3hTaGFkb3cgfTtcbiIsImltcG9ydCBzeW5jIGZyb20gJ2ZyYW1lc3luYyc7XG5pbXBvcnQgUmVhY3RfX2RlZmF1bHQsIHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVByZXNlbmNlIH0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9BbmltYXRlUHJlc2VuY2UvdXNlLXByZXNlbmNlLm1qcyc7XG5pbXBvcnQgeyBMYXlvdXRHcm91cENvbnRleHQgfSBmcm9tICcuLi8uLi8uLi9jb250ZXh0L0xheW91dEdyb3VwQ29udGV4dC5tanMnO1xuaW1wb3J0IHsgU3dpdGNoTGF5b3V0R3JvdXBDb250ZXh0IH0gZnJvbSAnLi4vLi4vLi4vY29udGV4dC9Td2l0Y2hMYXlvdXRHcm91cENvbnRleHQubWpzJztcbmltcG9ydCB7IGdsb2JhbFByb2plY3Rpb25TdGF0ZSB9IGZyb20gJy4uLy4uLy4uL3Byb2plY3Rpb24vbm9kZS9zdGF0ZS5tanMnO1xuaW1wb3J0IHsgY29ycmVjdEJvcmRlclJhZGl1cyB9IGZyb20gJy4uLy4uLy4uL3Byb2plY3Rpb24vc3R5bGVzL3NjYWxlLWJvcmRlci1yYWRpdXMubWpzJztcbmltcG9ydCB7IGNvcnJlY3RCb3hTaGFkb3cgfSBmcm9tICcuLi8uLi8uLi9wcm9qZWN0aW9uL3N0eWxlcy9zY2FsZS1ib3gtc2hhZG93Lm1qcyc7XG5pbXBvcnQgeyBhZGRTY2FsZUNvcnJlY3RvciB9IGZyb20gJy4uLy4uLy4uL3Byb2plY3Rpb24vc3R5bGVzL3NjYWxlLWNvcnJlY3Rpb24ubWpzJztcblxuY2xhc3MgTWVhc3VyZUxheW91dFdpdGhDb250ZXh0IGV4dGVuZHMgUmVhY3RfX2RlZmF1bHQuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBUaGlzIG9ubHkgbW91bnRzIHByb2plY3Rpb24gbm9kZXMgZm9yIGNvbXBvbmVudHMgdGhhdFxuICAgICAqIG5lZWQgbWVhc3VyaW5nLCB3ZSBtaWdodCB3YW50IHRvIGRvIGl0IGZvciBhbGwgY29tcG9uZW50c1xuICAgICAqIGluIG9yZGVyIHRvIGluY29ycG9yYXRlIHRyYW5zZm9ybXNcbiAgICAgKi9cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgY29uc3QgeyB2aXN1YWxFbGVtZW50LCBsYXlvdXRHcm91cCwgc3dpdGNoTGF5b3V0R3JvdXAsIGxheW91dElkIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBjb25zdCB7IHByb2plY3Rpb24gfSA9IHZpc3VhbEVsZW1lbnQ7XG4gICAgICAgIGFkZFNjYWxlQ29ycmVjdG9yKGRlZmF1bHRTY2FsZUNvcnJlY3RvcnMpO1xuICAgICAgICBpZiAocHJvamVjdGlvbikge1xuICAgICAgICAgICAgaWYgKGxheW91dEdyb3VwLmdyb3VwKVxuICAgICAgICAgICAgICAgIGxheW91dEdyb3VwLmdyb3VwLmFkZChwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIGlmIChzd2l0Y2hMYXlvdXRHcm91cCAmJiBzd2l0Y2hMYXlvdXRHcm91cC5yZWdpc3RlciAmJiBsYXlvdXRJZCkge1xuICAgICAgICAgICAgICAgIHN3aXRjaExheW91dEdyb3VwLnJlZ2lzdGVyKHByb2plY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvamVjdGlvbi5yb290LmRpZFVwZGF0ZSgpO1xuICAgICAgICAgICAgcHJvamVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uQ29tcGxldGVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2FmZVRvUmVtb3ZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHByb2plY3Rpb24uc2V0T3B0aW9ucyh7XG4gICAgICAgICAgICAgICAgLi4ucHJvamVjdGlvbi5vcHRpb25zLFxuICAgICAgICAgICAgICAgIG9uRXhpdENvbXBsZXRlOiAoKSA9PiB0aGlzLnNhZmVUb1JlbW92ZSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2xvYmFsUHJvamVjdGlvblN0YXRlLmhhc0V2ZXJVcGRhdGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICAgIGNvbnN0IHsgbGF5b3V0RGVwZW5kZW5jeSwgdmlzdWFsRWxlbWVudCwgZHJhZywgaXNQcmVzZW50IH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBjb25zdCBwcm9qZWN0aW9uID0gdmlzdWFsRWxlbWVudC5wcm9qZWN0aW9uO1xuICAgICAgICBpZiAoIXByb2plY3Rpb24pXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRPRE86IFdlIHVzZSB0aGlzIGRhdGEgaW4gcmVsZWdhdGUgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdG9cbiAgICAgICAgICogcHJvbW90ZSBhIHByZXZpb3VzIGVsZW1lbnQuIFRoZXJlJ3Mgbm8gZ3VhcmFudGVlIGl0cyBwcmVzZW5jZSBkYXRhXG4gICAgICAgICAqIHdpbGwgaGF2ZSB1cGRhdGVkIGJ5IHRoaXMgcG9pbnQgLSBpZiBhIGJ1ZyBsaWtlIHRoaXMgYXJpc2VzIGl0IHdpbGxcbiAgICAgICAgICogaGF2ZSB0byBiZSB0aGF0IHdlIG1hcmtGb3JSZWxlZ2F0aW9uIGFuZCB0aGVuIGZpbmQgYSBuZXcgbGVhZCBzb21lIG90aGVyIHdheSxcbiAgICAgICAgICogcGVyaGFwcyBpbiBkaWRVcGRhdGVcbiAgICAgICAgICovXG4gICAgICAgIHByb2plY3Rpb24uaXNQcmVzZW50ID0gaXNQcmVzZW50O1xuICAgICAgICBpZiAoZHJhZyB8fFxuICAgICAgICAgICAgcHJldlByb3BzLmxheW91dERlcGVuZGVuY3kgIT09IGxheW91dERlcGVuZGVuY3kgfHxcbiAgICAgICAgICAgIGxheW91dERlcGVuZGVuY3kgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcHJvamVjdGlvbi53aWxsVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNhZmVUb1JlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2UHJvcHMuaXNQcmVzZW50ICE9PSBpc1ByZXNlbnQpIHtcbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQpIHtcbiAgICAgICAgICAgICAgICBwcm9qZWN0aW9uLnByb21vdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFwcm9qZWN0aW9uLnJlbGVnYXRlKCkpIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBJZiB0aGVyZSdzIGFub3RoZXIgc3RhY2sgbWVtYmVyIHRha2luZyBvdmVyIGZyb20gdGhpcyBvbmUsXG4gICAgICAgICAgICAgICAgICogaXQncyBpbiBjaGFyZ2Ugb2YgdGhlIGV4aXQgYW5pbWF0aW9uIGFuZCB0aGVyZWZvcmUgc2hvdWxkXG4gICAgICAgICAgICAgICAgICogYmUgaW4gY2hhcmdlIG9mIHRoZSBzYWZlIHRvIHJlbW92ZS4gT3RoZXJ3aXNlIHdlIGNhbGwgaXQgaGVyZS5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBzeW5jLnBvc3RSZW5kZXIoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKChfYSA9IHByb2plY3Rpb24uZ2V0U3RhY2soKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1lbWJlcnMubGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zYWZlVG9SZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICAgIGNvbnN0IHsgcHJvamVjdGlvbiB9ID0gdGhpcy5wcm9wcy52aXN1YWxFbGVtZW50O1xuICAgICAgICBpZiAocHJvamVjdGlvbikge1xuICAgICAgICAgICAgcHJvamVjdGlvbi5yb290LmRpZFVwZGF0ZSgpO1xuICAgICAgICAgICAgaWYgKCFwcm9qZWN0aW9uLmN1cnJlbnRBbmltYXRpb24gJiYgcHJvamVjdGlvbi5pc0xlYWQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2FmZVRvUmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIGNvbnN0IHsgdmlzdWFsRWxlbWVudCwgbGF5b3V0R3JvdXAsIHN3aXRjaExheW91dEdyb3VwOiBwcm9tb3RlQ29udGV4dCwgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGNvbnN0IHsgcHJvamVjdGlvbiB9ID0gdmlzdWFsRWxlbWVudDtcbiAgICAgICAgaWYgKHByb2plY3Rpb24pIHtcbiAgICAgICAgICAgIHByb2plY3Rpb24uc2NoZWR1bGVDaGVja0FmdGVyVW5tb3VudCgpO1xuICAgICAgICAgICAgaWYgKGxheW91dEdyb3VwID09PSBudWxsIHx8IGxheW91dEdyb3VwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsYXlvdXRHcm91cC5ncm91cClcbiAgICAgICAgICAgICAgICBsYXlvdXRHcm91cC5ncm91cC5yZW1vdmUocHJvamVjdGlvbik7XG4gICAgICAgICAgICBpZiAocHJvbW90ZUNvbnRleHQgPT09IG51bGwgfHwgcHJvbW90ZUNvbnRleHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb21vdGVDb250ZXh0LmRlcmVnaXN0ZXIpXG4gICAgICAgICAgICAgICAgcHJvbW90ZUNvbnRleHQuZGVyZWdpc3Rlcihwcm9qZWN0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzYWZlVG9SZW1vdmUoKSB7XG4gICAgICAgIGNvbnN0IHsgc2FmZVRvUmVtb3ZlIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBzYWZlVG9SZW1vdmUgPT09IG51bGwgfHwgc2FmZVRvUmVtb3ZlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzYWZlVG9SZW1vdmUoKTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5mdW5jdGlvbiBNZWFzdXJlTGF5b3V0KHByb3BzKSB7XG4gICAgY29uc3QgW2lzUHJlc2VudCwgc2FmZVRvUmVtb3ZlXSA9IHVzZVByZXNlbmNlKCk7XG4gICAgY29uc3QgbGF5b3V0R3JvdXAgPSB1c2VDb250ZXh0KExheW91dEdyb3VwQ29udGV4dCk7XG4gICAgcmV0dXJuIChSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KE1lYXN1cmVMYXlvdXRXaXRoQ29udGV4dCwgeyAuLi5wcm9wcywgbGF5b3V0R3JvdXA6IGxheW91dEdyb3VwLCBzd2l0Y2hMYXlvdXRHcm91cDogdXNlQ29udGV4dChTd2l0Y2hMYXlvdXRHcm91cENvbnRleHQpLCBpc1ByZXNlbnQ6IGlzUHJlc2VudCwgc2FmZVRvUmVtb3ZlOiBzYWZlVG9SZW1vdmUgfSkpO1xufVxuY29uc3QgZGVmYXVsdFNjYWxlQ29ycmVjdG9ycyA9IHtcbiAgICBib3JkZXJSYWRpdXM6IHtcbiAgICAgICAgLi4uY29ycmVjdEJvcmRlclJhZGl1cyxcbiAgICAgICAgYXBwbHlUbzogW1xuICAgICAgICAgICAgXCJib3JkZXJUb3BMZWZ0UmFkaXVzXCIsXG4gICAgICAgICAgICBcImJvcmRlclRvcFJpZ2h0UmFkaXVzXCIsXG4gICAgICAgICAgICBcImJvcmRlckJvdHRvbUxlZnRSYWRpdXNcIixcbiAgICAgICAgICAgIFwiYm9yZGVyQm90dG9tUmlnaHRSYWRpdXNcIixcbiAgICAgICAgXSxcbiAgICB9LFxuICAgIGJvcmRlclRvcExlZnRSYWRpdXM6IGNvcnJlY3RCb3JkZXJSYWRpdXMsXG4gICAgYm9yZGVyVG9wUmlnaHRSYWRpdXM6IGNvcnJlY3RCb3JkZXJSYWRpdXMsXG4gICAgYm9yZGVyQm90dG9tTGVmdFJhZGl1czogY29ycmVjdEJvcmRlclJhZGl1cyxcbiAgICBib3JkZXJCb3R0b21SaWdodFJhZGl1czogY29ycmVjdEJvcmRlclJhZGl1cyxcbiAgICBib3hTaGFkb3c6IGNvcnJlY3RCb3hTaGFkb3csXG59O1xuXG5leHBvcnQgeyBNZWFzdXJlTGF5b3V0IH07XG4iLCJpbXBvcnQgeyBNZWFzdXJlTGF5b3V0IH0gZnJvbSAnLi9NZWFzdXJlTGF5b3V0Lm1qcyc7XG5cbmNvbnN0IGxheW91dEZlYXR1cmVzID0ge1xuICAgIG1lYXN1cmVMYXlvdXQ6IE1lYXN1cmVMYXlvdXQsXG59O1xuXG5leHBvcnQgeyBsYXlvdXRGZWF0dXJlcyB9O1xuIiwiaW1wb3J0IHsgbWl4LCBwcm9ncmVzcywgY2lyY091dCwgbGluZWFyIH0gZnJvbSAncG9wbW90aW9uJztcbmltcG9ydCB7IHBlcmNlbnQsIHB4IH0gZnJvbSAnc3R5bGUtdmFsdWUtdHlwZXMnO1xuXG5jb25zdCBib3JkZXJzID0gW1wiVG9wTGVmdFwiLCBcIlRvcFJpZ2h0XCIsIFwiQm90dG9tTGVmdFwiLCBcIkJvdHRvbVJpZ2h0XCJdO1xuY29uc3QgbnVtQm9yZGVycyA9IGJvcmRlcnMubGVuZ3RoO1xuY29uc3QgYXNOdW1iZXIgPSAodmFsdWUpID0+IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlRmxvYXQodmFsdWUpIDogdmFsdWU7XG5jb25zdCBpc1B4ID0gKHZhbHVlKSA9PiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgfHwgcHgudGVzdCh2YWx1ZSk7XG5mdW5jdGlvbiBtaXhWYWx1ZXModGFyZ2V0LCBmb2xsb3csIGxlYWQsIHByb2dyZXNzLCBzaG91bGRDcm9zc2ZhZGVPcGFjaXR5LCBpc09ubHlNZW1iZXIpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgaWYgKHNob3VsZENyb3NzZmFkZU9wYWNpdHkpIHtcbiAgICAgICAgdGFyZ2V0Lm9wYWNpdHkgPSBtaXgoMCwgXG4gICAgICAgIC8vIChmb2xsb3c/Lm9wYWNpdHkgYXMgbnVtYmVyKSA/PyAwLFxuICAgICAgICAvLyBUT0RPIFJlaW5zdGF0ZSB0aGlzIGlmIG9ubHkgY2hpbGRcbiAgICAgICAgKF9hID0gbGVhZC5vcGFjaXR5KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAxLCBlYXNlQ3Jvc3NmYWRlSW4ocHJvZ3Jlc3MpKTtcbiAgICAgICAgdGFyZ2V0Lm9wYWNpdHlFeGl0ID0gbWl4KChfYiA9IGZvbGxvdy5vcGFjaXR5KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAxLCAwLCBlYXNlQ3Jvc3NmYWRlT3V0KHByb2dyZXNzKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzT25seU1lbWJlcikge1xuICAgICAgICB0YXJnZXQub3BhY2l0eSA9IG1peCgoX2MgPSBmb2xsb3cub3BhY2l0eSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogMSwgKF9kID0gbGVhZC5vcGFjaXR5KSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAxLCBwcm9ncmVzcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1peCBib3JkZXIgcmFkaXVzXG4gICAgICovXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1Cb3JkZXJzOyBpKyspIHtcbiAgICAgICAgY29uc3QgYm9yZGVyTGFiZWwgPSBgYm9yZGVyJHtib3JkZXJzW2ldfVJhZGl1c2A7XG4gICAgICAgIGxldCBmb2xsb3dSYWRpdXMgPSBnZXRSYWRpdXMoZm9sbG93LCBib3JkZXJMYWJlbCk7XG4gICAgICAgIGxldCBsZWFkUmFkaXVzID0gZ2V0UmFkaXVzKGxlYWQsIGJvcmRlckxhYmVsKTtcbiAgICAgICAgaWYgKGZvbGxvd1JhZGl1cyA9PT0gdW5kZWZpbmVkICYmIGxlYWRSYWRpdXMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBmb2xsb3dSYWRpdXMgfHwgKGZvbGxvd1JhZGl1cyA9IDApO1xuICAgICAgICBsZWFkUmFkaXVzIHx8IChsZWFkUmFkaXVzID0gMCk7XG4gICAgICAgIGNvbnN0IGNhbk1peCA9IGZvbGxvd1JhZGl1cyA9PT0gMCB8fFxuICAgICAgICAgICAgbGVhZFJhZGl1cyA9PT0gMCB8fFxuICAgICAgICAgICAgaXNQeChmb2xsb3dSYWRpdXMpID09PSBpc1B4KGxlYWRSYWRpdXMpO1xuICAgICAgICBpZiAoY2FuTWl4KSB7XG4gICAgICAgICAgICB0YXJnZXRbYm9yZGVyTGFiZWxdID0gTWF0aC5tYXgobWl4KGFzTnVtYmVyKGZvbGxvd1JhZGl1cyksIGFzTnVtYmVyKGxlYWRSYWRpdXMpLCBwcm9ncmVzcyksIDApO1xuICAgICAgICAgICAgaWYgKHBlcmNlbnQudGVzdChsZWFkUmFkaXVzKSB8fCBwZXJjZW50LnRlc3QoZm9sbG93UmFkaXVzKSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtib3JkZXJMYWJlbF0gKz0gXCIlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRbYm9yZGVyTGFiZWxdID0gbGVhZFJhZGl1cztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBNaXggcm90YXRpb25cbiAgICAgKi9cbiAgICBpZiAoZm9sbG93LnJvdGF0ZSB8fCBsZWFkLnJvdGF0ZSkge1xuICAgICAgICB0YXJnZXQucm90YXRlID0gbWl4KGZvbGxvdy5yb3RhdGUgfHwgMCwgbGVhZC5yb3RhdGUgfHwgMCwgcHJvZ3Jlc3MpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFJhZGl1cyh2YWx1ZXMsIHJhZGl1c05hbWUpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IHZhbHVlc1tyYWRpdXNOYW1lXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdmFsdWVzLmJvcmRlclJhZGl1cztcbn1cbi8vIC8qKlxuLy8gICogV2Ugb25seSB3YW50IHRvIG1peCB0aGUgYmFja2dyb3VuZCBjb2xvciBpZiB0aGVyZSdzIGEgZm9sbG93IGVsZW1lbnRcbi8vICAqIHRoYXQgd2UncmUgbm90IGNyb3NzZmFkaW5nIG9wYWNpdHkgYmV0d2Vlbi4gRm9yIGluc3RhbmNlIHdpdGggc3dpdGNoXG4vLyAgKiBBbmltYXRlU2hhcmVkTGF5b3V0IGFuaW1hdGlvbnMsIHRoaXMgaGVscHMgdGhlIGlsbHVzaW9uIG9mIGEgY29udGludW91c1xuLy8gICogZWxlbWVudCBiZWluZyBhbmltYXRlZCBidXQgYWxzbyBjdXRzIGRvd24gb24gdGhlIG51bWJlciBvZiBwYWludHMgdHJpZ2dlcmVkXG4vLyAgKiBmb3IgZWxlbWVudHMgd2hlcmUgb3BhY2l0eSBpcyBkb2luZyB0aGF0IHdvcmsgZm9yIHVzLlxuLy8gICovXG4vLyBpZiAoXG4vLyAgICAgIWhhc0ZvbGxvd0VsZW1lbnQgJiZcbi8vICAgICBsYXRlc3RMZWFkVmFsdWVzLmJhY2tncm91bmRDb2xvciAmJlxuLy8gICAgIGxhdGVzdEZvbGxvd1ZhbHVlcy5iYWNrZ3JvdW5kQ29sb3Jcbi8vICkge1xuLy8gICAgIC8qKlxuLy8gICAgICAqIFRoaXMgaXNuJ3QgaWRlYWwgcGVyZm9ybWFuY2Utd2lzZSBhcyBtaXhDb2xvciBpcyBjcmVhdGluZyBhIG5ldyBmdW5jdGlvbiBldmVyeSBmcmFtZS5cbi8vICAgICAgKiBXZSBjb3VsZCBwcm9iYWJseSBjcmVhdGUgYSBtaXhlciB0aGF0IHJ1bnMgYXQgdGhlIHN0YXJ0IG9mIHRoZSBhbmltYXRpb24gYnV0XG4vLyAgICAgICogdGhlIGlkZWEgYmVoaW5kIHRoZSBjcm9zc2ZhZGVyIGlzIHRoYXQgaXQgcnVucyBkeW5hbWljYWxseSBiZXR3ZWVuIHR3byBwb3RlbnRpYWxseVxuLy8gICAgICAqIGNoYW5naW5nIHRhcmdldHMgKGllIG9wYWNpdHkgb3IgYm9yZGVyUmFkaXVzIG1heSBiZSBhbmltYXRpbmcgaW5kZXBlbmRlbnRseSB2aWEgdmFyaWFudHMpXG4vLyAgICAgICovXG4vLyAgICAgbGVhZFN0YXRlLmJhY2tncm91bmRDb2xvciA9IGZvbGxvd1N0YXRlLmJhY2tncm91bmRDb2xvciA9IG1peENvbG9yKFxuLy8gICAgICAgICBsYXRlc3RGb2xsb3dWYWx1ZXMuYmFja2dyb3VuZENvbG9yIGFzIHN0cmluZyxcbi8vICAgICAgICAgbGF0ZXN0TGVhZFZhbHVlcy5iYWNrZ3JvdW5kQ29sb3IgYXMgc3RyaW5nXG4vLyAgICAgKShwKVxuLy8gfVxuY29uc3QgZWFzZUNyb3NzZmFkZUluID0gY29tcHJlc3MoMCwgMC41LCBjaXJjT3V0KTtcbmNvbnN0IGVhc2VDcm9zc2ZhZGVPdXQgPSBjb21wcmVzcygwLjUsIDAuOTUsIGxpbmVhcik7XG5mdW5jdGlvbiBjb21wcmVzcyhtaW4sIG1heCwgZWFzaW5nKSB7XG4gICAgcmV0dXJuIChwKSA9PiB7XG4gICAgICAgIC8vIENvdWxkIHJlcGxhY2UgaWZzIHdpdGggY2xhbXBcbiAgICAgICAgaWYgKHAgPCBtaW4pXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgaWYgKHAgPiBtYXgpXG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgcmV0dXJuIGVhc2luZyhwcm9ncmVzcyhtaW4sIG1heCwgcCkpO1xuICAgIH07XG59XG5cbmV4cG9ydCB7IG1peFZhbHVlcyB9O1xuIiwiLyoqXG4gKiBSZXNldCBhbiBheGlzIHRvIHRoZSBwcm92aWRlZCBvcmlnaW4gYm94LlxuICpcbiAqIFRoaXMgaXMgYSBtdXRhdGl2ZSBvcGVyYXRpb24uXG4gKi9cbmZ1bmN0aW9uIGNvcHlBeGlzSW50byhheGlzLCBvcmlnaW5BeGlzKSB7XG4gICAgYXhpcy5taW4gPSBvcmlnaW5BeGlzLm1pbjtcbiAgICBheGlzLm1heCA9IG9yaWdpbkF4aXMubWF4O1xufVxuLyoqXG4gKiBSZXNldCBhIGJveCB0byB0aGUgcHJvdmlkZWQgb3JpZ2luIGJveC5cbiAqXG4gKiBUaGlzIGlzIGEgbXV0YXRpdmUgb3BlcmF0aW9uLlxuICovXG5mdW5jdGlvbiBjb3B5Qm94SW50byhib3gsIG9yaWdpbkJveCkge1xuICAgIGNvcHlBeGlzSW50byhib3gueCwgb3JpZ2luQm94LngpO1xuICAgIGNvcHlBeGlzSW50byhib3gueSwgb3JpZ2luQm94LnkpO1xufVxuXG5leHBvcnQgeyBjb3B5QXhpc0ludG8sIGNvcHlCb3hJbnRvIH07XG4iLCJpbXBvcnQgeyBtaXggfSBmcm9tICdwb3Btb3Rpb24nO1xuaW1wb3J0IHsgcGVyY2VudCB9IGZyb20gJ3N0eWxlLXZhbHVlLXR5cGVzJztcbmltcG9ydCB7IHNjYWxlUG9pbnQgfSBmcm9tICcuL2RlbHRhLWFwcGx5Lm1qcyc7XG5cbi8qKlxuICogUmVtb3ZlIGEgZGVsdGEgZnJvbSBhIHBvaW50LiBUaGlzIGlzIGVzc2VudGlhbGx5IHRoZSBzdGVwcyBvZiBhcHBseVBvaW50RGVsdGEgaW4gcmV2ZXJzZVxuICovXG5mdW5jdGlvbiByZW1vdmVQb2ludERlbHRhKHBvaW50LCB0cmFuc2xhdGUsIHNjYWxlLCBvcmlnaW5Qb2ludCwgYm94U2NhbGUpIHtcbiAgICBwb2ludCAtPSB0cmFuc2xhdGU7XG4gICAgcG9pbnQgPSBzY2FsZVBvaW50KHBvaW50LCAxIC8gc2NhbGUsIG9yaWdpblBvaW50KTtcbiAgICBpZiAoYm94U2NhbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwb2ludCA9IHNjYWxlUG9pbnQocG9pbnQsIDEgLyBib3hTY2FsZSwgb3JpZ2luUG9pbnQpO1xuICAgIH1cbiAgICByZXR1cm4gcG9pbnQ7XG59XG4vKipcbiAqIFJlbW92ZSBhIGRlbHRhIGZyb20gYW4gYXhpcy4gVGhpcyBpcyBlc3NlbnRpYWxseSB0aGUgc3RlcHMgb2YgYXBwbHlBeGlzRGVsdGEgaW4gcmV2ZXJzZVxuICovXG5mdW5jdGlvbiByZW1vdmVBeGlzRGVsdGEoYXhpcywgdHJhbnNsYXRlID0gMCwgc2NhbGUgPSAxLCBvcmlnaW4gPSAwLjUsIGJveFNjYWxlLCBvcmlnaW5BeGlzID0gYXhpcywgc291cmNlQXhpcyA9IGF4aXMpIHtcbiAgICBpZiAocGVyY2VudC50ZXN0KHRyYW5zbGF0ZSkpIHtcbiAgICAgICAgdHJhbnNsYXRlID0gcGFyc2VGbG9hdCh0cmFuc2xhdGUpO1xuICAgICAgICBjb25zdCByZWxhdGl2ZVByb2dyZXNzID0gbWl4KHNvdXJjZUF4aXMubWluLCBzb3VyY2VBeGlzLm1heCwgdHJhbnNsYXRlIC8gMTAwKTtcbiAgICAgICAgdHJhbnNsYXRlID0gcmVsYXRpdmVQcm9ncmVzcyAtIHNvdXJjZUF4aXMubWluO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHRyYW5zbGF0ZSAhPT0gXCJudW1iZXJcIilcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCBvcmlnaW5Qb2ludCA9IG1peChvcmlnaW5BeGlzLm1pbiwgb3JpZ2luQXhpcy5tYXgsIG9yaWdpbik7XG4gICAgaWYgKGF4aXMgPT09IG9yaWdpbkF4aXMpXG4gICAgICAgIG9yaWdpblBvaW50IC09IHRyYW5zbGF0ZTtcbiAgICBheGlzLm1pbiA9IHJlbW92ZVBvaW50RGVsdGEoYXhpcy5taW4sIHRyYW5zbGF0ZSwgc2NhbGUsIG9yaWdpblBvaW50LCBib3hTY2FsZSk7XG4gICAgYXhpcy5tYXggPSByZW1vdmVQb2ludERlbHRhKGF4aXMubWF4LCB0cmFuc2xhdGUsIHNjYWxlLCBvcmlnaW5Qb2ludCwgYm94U2NhbGUpO1xufVxuLyoqXG4gKiBSZW1vdmUgYSB0cmFuc2Zvcm1zIGZyb20gYW4gYXhpcy4gVGhpcyBpcyBlc3NlbnRpYWxseSB0aGUgc3RlcHMgb2YgYXBwbHlBeGlzVHJhbnNmb3JtcyBpbiByZXZlcnNlXG4gKiBhbmQgYWN0cyBhcyBhIGJyaWRnZSBiZXR3ZWVuIG1vdGlvbiB2YWx1ZXMgYW5kIHJlbW92ZUF4aXNEZWx0YVxuICovXG5mdW5jdGlvbiByZW1vdmVBeGlzVHJhbnNmb3JtcyhheGlzLCB0cmFuc2Zvcm1zLCBba2V5LCBzY2FsZUtleSwgb3JpZ2luS2V5XSwgb3JpZ2luLCBzb3VyY2VBeGlzKSB7XG4gICAgcmVtb3ZlQXhpc0RlbHRhKGF4aXMsIHRyYW5zZm9ybXNba2V5XSwgdHJhbnNmb3Jtc1tzY2FsZUtleV0sIHRyYW5zZm9ybXNbb3JpZ2luS2V5XSwgdHJhbnNmb3Jtcy5zY2FsZSwgb3JpZ2luLCBzb3VyY2VBeGlzKTtcbn1cbi8qKlxuICogVGhlIG5hbWVzIG9mIHRoZSBtb3Rpb24gdmFsdWVzIHdlIHdhbnQgdG8gYXBwbHkgYXMgdHJhbnNsYXRpb24sIHNjYWxlIGFuZCBvcmlnaW4uXG4gKi9cbmNvbnN0IHhLZXlzID0gW1wieFwiLCBcInNjYWxlWFwiLCBcIm9yaWdpblhcIl07XG5jb25zdCB5S2V5cyA9IFtcInlcIiwgXCJzY2FsZVlcIiwgXCJvcmlnaW5ZXCJdO1xuLyoqXG4gKiBSZW1vdmUgYSB0cmFuc2Zvcm1zIGZyb20gYW4gYm94LiBUaGlzIGlzIGVzc2VudGlhbGx5IHRoZSBzdGVwcyBvZiBhcHBseUF4aXNCb3ggaW4gcmV2ZXJzZVxuICogYW5kIGFjdHMgYXMgYSBicmlkZ2UgYmV0d2VlbiBtb3Rpb24gdmFsdWVzIGFuZCByZW1vdmVBeGlzRGVsdGFcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQm94VHJhbnNmb3Jtcyhib3gsIHRyYW5zZm9ybXMsIG9yaWdpbkJveCwgc291cmNlQm94KSB7XG4gICAgcmVtb3ZlQXhpc1RyYW5zZm9ybXMoYm94LngsIHRyYW5zZm9ybXMsIHhLZXlzLCBvcmlnaW5Cb3ggPT09IG51bGwgfHwgb3JpZ2luQm94ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcmlnaW5Cb3gueCwgc291cmNlQm94ID09PSBudWxsIHx8IHNvdXJjZUJveCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc291cmNlQm94LngpO1xuICAgIHJlbW92ZUF4aXNUcmFuc2Zvcm1zKGJveC55LCB0cmFuc2Zvcm1zLCB5S2V5cywgb3JpZ2luQm94ID09PSBudWxsIHx8IG9yaWdpbkJveCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3JpZ2luQm94LnksIHNvdXJjZUJveCA9PT0gbnVsbCB8fCBzb3VyY2VCb3ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNvdXJjZUJveC55KTtcbn1cblxuZXhwb3J0IHsgcmVtb3ZlQXhpc0RlbHRhLCByZW1vdmVBeGlzVHJhbnNmb3JtcywgcmVtb3ZlQm94VHJhbnNmb3JtcywgcmVtb3ZlUG9pbnREZWx0YSB9O1xuIiwiaW1wb3J0IHsgZGlzdGFuY2UgfSBmcm9tICdwb3Btb3Rpb24nO1xuaW1wb3J0IHsgY2FsY0xlbmd0aCB9IGZyb20gJy4vZGVsdGEtY2FsYy5tanMnO1xuXG5mdW5jdGlvbiBpc0F4aXNEZWx0YVplcm8oZGVsdGEpIHtcbiAgICByZXR1cm4gZGVsdGEudHJhbnNsYXRlID09PSAwICYmIGRlbHRhLnNjYWxlID09PSAxO1xufVxuZnVuY3Rpb24gaXNEZWx0YVplcm8oZGVsdGEpIHtcbiAgICByZXR1cm4gaXNBeGlzRGVsdGFaZXJvKGRlbHRhLngpICYmIGlzQXhpc0RlbHRhWmVybyhkZWx0YS55KTtcbn1cbmZ1bmN0aW9uIGJveEVxdWFscyhhLCBiKSB7XG4gICAgcmV0dXJuIChhLngubWluID09PSBiLngubWluICYmXG4gICAgICAgIGEueC5tYXggPT09IGIueC5tYXggJiZcbiAgICAgICAgYS55Lm1pbiA9PT0gYi55Lm1pbiAmJlxuICAgICAgICBhLnkubWF4ID09PSBiLnkubWF4KTtcbn1cbmZ1bmN0aW9uIGFzcGVjdFJhdGlvKGJveCkge1xuICAgIHJldHVybiBjYWxjTGVuZ3RoKGJveC54KSAvIGNhbGNMZW5ndGgoYm94LnkpO1xufVxuZnVuY3Rpb24gaXNDbG9zZVRvKGEsIGIsIG1heCA9IDAuMDEpIHtcbiAgICByZXR1cm4gZGlzdGFuY2UoYSwgYikgPD0gbWF4O1xufVxuXG5leHBvcnQgeyBhc3BlY3RSYXRpbywgYm94RXF1YWxzLCBpc0Nsb3NlVG8sIGlzRGVsdGFaZXJvIH07XG4iLCJpbXBvcnQgeyBhZGRVbmlxdWVJdGVtLCByZW1vdmVJdGVtIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkubWpzJztcblxuY2xhc3MgTm9kZVN0YWNrIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tZW1iZXJzID0gW107XG4gICAgfVxuICAgIGFkZChub2RlKSB7XG4gICAgICAgIGFkZFVuaXF1ZUl0ZW0odGhpcy5tZW1iZXJzLCBub2RlKTtcbiAgICAgICAgbm9kZS5zY2hlZHVsZVJlbmRlcigpO1xuICAgIH1cbiAgICByZW1vdmUobm9kZSkge1xuICAgICAgICByZW1vdmVJdGVtKHRoaXMubWVtYmVycywgbm9kZSk7XG4gICAgICAgIGlmIChub2RlID09PSB0aGlzLnByZXZMZWFkKSB7XG4gICAgICAgICAgICB0aGlzLnByZXZMZWFkID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlID09PSB0aGlzLmxlYWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZMZWFkID0gdGhpcy5tZW1iZXJzW3RoaXMubWVtYmVycy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGlmIChwcmV2TGVhZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvbW90ZShwcmV2TGVhZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVsZWdhdGUobm9kZSkge1xuICAgICAgICBjb25zdCBpbmRleE9mTm9kZSA9IHRoaXMubWVtYmVycy5maW5kSW5kZXgoKG1lbWJlcikgPT4gbm9kZSA9PT0gbWVtYmVyKTtcbiAgICAgICAgaWYgKGluZGV4T2ZOb2RlID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmluZCB0aGUgbmV4dCBwcm9qZWN0aW9uIG5vZGUgdGhhdCBpcyBwcmVzZW50XG4gICAgICAgICAqL1xuICAgICAgICBsZXQgcHJldkxlYWQ7XG4gICAgICAgIGZvciAobGV0IGkgPSBpbmRleE9mTm9kZTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IG1lbWJlciA9IHRoaXMubWVtYmVyc1tpXTtcbiAgICAgICAgICAgIGlmIChtZW1iZXIuaXNQcmVzZW50ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHByZXZMZWFkID0gbWVtYmVyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2TGVhZCkge1xuICAgICAgICAgICAgdGhpcy5wcm9tb3RlKHByZXZMZWFkKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByb21vdGUobm9kZSwgcHJlc2VydmVGb2xsb3dPcGFjaXR5KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgcHJldkxlYWQgPSB0aGlzLmxlYWQ7XG4gICAgICAgIGlmIChub2RlID09PSBwcmV2TGVhZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5wcmV2TGVhZCA9IHByZXZMZWFkO1xuICAgICAgICB0aGlzLmxlYWQgPSBub2RlO1xuICAgICAgICBub2RlLnNob3coKTtcbiAgICAgICAgaWYgKHByZXZMZWFkKSB7XG4gICAgICAgICAgICBwcmV2TGVhZC5pbnN0YW5jZSAmJiBwcmV2TGVhZC5zY2hlZHVsZVJlbmRlcigpO1xuICAgICAgICAgICAgbm9kZS5zY2hlZHVsZVJlbmRlcigpO1xuICAgICAgICAgICAgbm9kZS5yZXN1bWVGcm9tID0gcHJldkxlYWQ7XG4gICAgICAgICAgICBpZiAocHJlc2VydmVGb2xsb3dPcGFjaXR5KSB7XG4gICAgICAgICAgICAgICAgbm9kZS5yZXN1bWVGcm9tLnByZXNlcnZlT3BhY2l0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJldkxlYWQuc25hcHNob3QpIHtcbiAgICAgICAgICAgICAgICBub2RlLnNuYXBzaG90ID0gcHJldkxlYWQuc25hcHNob3Q7XG4gICAgICAgICAgICAgICAgbm9kZS5zbmFwc2hvdC5sYXRlc3RWYWx1ZXMgPVxuICAgICAgICAgICAgICAgICAgICBwcmV2TGVhZC5hbmltYXRpb25WYWx1ZXMgfHwgcHJldkxlYWQubGF0ZXN0VmFsdWVzO1xuICAgICAgICAgICAgICAgIG5vZGUuc25hcHNob3QuaXNTaGFyZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChfYSA9IG5vZGUucm9vdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlzVXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICBub2RlLmlzTGF5b3V0RGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBjcm9zc2ZhZGUgfSA9IG5vZGUub3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjcm9zc2ZhZGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcHJldkxlYWQuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUT0RPOlxuICAgICAgICAgICAgICogICAtIFRlc3QgYm9yZGVyIHJhZGl1cyB3aGVuIHByZXZpb3VzIG5vZGUgd2FzIGRlbGV0ZWRcbiAgICAgICAgICAgICAqICAgLSBib3hTaGFkb3cgbWl4aW5nXG4gICAgICAgICAgICAgKiAgIC0gU2hhcmVkIGJldHdlZW4gZWxlbWVudCBBIGluIHNjcm9sbGVkIGNvbnRhaW5lciBhbmQgZWxlbWVudCBCIChzY3JvbGwgc3RheXMgdGhlIHNhbWUgb3IgY2hhbmdlcylcbiAgICAgICAgICAgICAqICAgLSBTaGFyZWQgYmV0d2VlbiBlbGVtZW50IEEgaW4gdHJhbnNmb3JtZWQgY29udGFpbmVyIGFuZCBlbGVtZW50IEIgKHRyYW5zZm9ybSBzdGF5cyB0aGUgc2FtZSBvciBjaGFuZ2VzKVxuICAgICAgICAgICAgICogICAtIFNoYXJlZCBiZXR3ZWVuIGVsZW1lbnQgQSBpbiBzY3JvbGxlZCBwYWdlIGFuZCBlbGVtZW50IEIgKHNjcm9sbCBzdGF5cyB0aGUgc2FtZSBvciBjaGFuZ2VzKVxuICAgICAgICAgICAgICogLS0tXG4gICAgICAgICAgICAgKiAgIC0gQ3Jvc3NmYWRlIG9wYWNpdHkgb2Ygcm9vdCBub2Rlc1xuICAgICAgICAgICAgICogICAtIGxheW91dElkIGNoYW5nZXMgYWZ0ZXIgYW5pbWF0aW9uXG4gICAgICAgICAgICAgKiAgIC0gbGF5b3V0SWQgY2hhbmdlcyBtaWQgYW5pbWF0aW9uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgfVxuICAgIH1cbiAgICBleGl0QW5pbWF0aW9uQ29tcGxldGUoKSB7XG4gICAgICAgIHRoaXMubWVtYmVycy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgICAgICAgICAgKF9iID0gKF9hID0gbm9kZS5vcHRpb25zKS5vbkV4aXRDb21wbGV0ZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICAgICAgKF9lID0gKF9jID0gbm9kZS5yZXN1bWluZ0Zyb20pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2QgPSBfYy5vcHRpb25zKS5vbkV4aXRDb21wbGV0ZSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmNhbGwoX2QpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2NoZWR1bGVSZW5kZXIoKSB7XG4gICAgICAgIHRoaXMubWVtYmVycy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgICAgICBub2RlLmluc3RhbmNlICYmIG5vZGUuc2NoZWR1bGVSZW5kZXIoZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXIgYW55IGxlYWRzIHRoYXQgaGF2ZSBiZWVuIHJlbW92ZWQgdGhpcyByZW5kZXIgdG8gcHJldmVudCB0aGVtIGZyb20gYmVpbmdcbiAgICAgKiB1c2VkIGluIGZ1dHVyZSBhbmltYXRpb25zIGFuZCB0byBwcmV2ZW50IG1lbW9yeSBsZWFrc1xuICAgICAqL1xuICAgIHJlbW92ZUxlYWRTbmFwc2hvdCgpIHtcbiAgICAgICAgaWYgKHRoaXMubGVhZCAmJiB0aGlzLmxlYWQuc25hcHNob3QpIHtcbiAgICAgICAgICAgIHRoaXMubGVhZC5zbmFwc2hvdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IHsgTm9kZVN0YWNrIH07XG4iLCJjb25zdCBpZGVudGl0eVByb2plY3Rpb24gPSBcInRyYW5zbGF0ZTNkKDBweCwgMHB4LCAwKSBzY2FsZSgxLCAxKSBzY2FsZSgxLCAxKVwiO1xuZnVuY3Rpb24gYnVpbGRQcm9qZWN0aW9uVHJhbnNmb3JtKGRlbHRhLCB0cmVlU2NhbGUsIGxhdGVzdFRyYW5zZm9ybSkge1xuICAgIC8qKlxuICAgICAqIFRoZSB0cmFuc2xhdGlvbnMgd2UgdXNlIHRvIGNhbGN1bGF0ZSBhcmUgYWx3YXlzIHJlbGF0aXZlIHRvIHRoZSB2aWV3cG9ydCBjb29yZGluYXRlIHNwYWNlLlxuICAgICAqIEJ1dCB3aGVuIHdlIGFwcGx5IHNjYWxlcywgd2UgYWxzbyBzY2FsZSB0aGUgY29vcmRpbmF0ZSBzcGFjZSBvZiBhbiBlbGVtZW50IGFuZCBpdHMgY2hpbGRyZW4uXG4gICAgICogRm9yIGluc3RhbmNlIGlmIHdlIGhhdmUgYSB0cmVlU2NhbGUgKHRoZSBjdWxtaW5hdGlvbiBvZiBhbGwgcGFyZW50IHNjYWxlcykgb2YgMC41IGFuZCB3ZSBuZWVkXG4gICAgICogdG8gbW92ZSBhbiBlbGVtZW50IDEwMCBwaXhlbHMsIHdlIGFjdHVhbGx5IG5lZWQgdG8gbW92ZSBpdCAyMDAgaW4gd2l0aGluIHRoYXQgc2NhbGVkIHNwYWNlLlxuICAgICAqL1xuICAgIGNvbnN0IHhUcmFuc2xhdGUgPSBkZWx0YS54LnRyYW5zbGF0ZSAvIHRyZWVTY2FsZS54O1xuICAgIGNvbnN0IHlUcmFuc2xhdGUgPSBkZWx0YS55LnRyYW5zbGF0ZSAvIHRyZWVTY2FsZS55O1xuICAgIGxldCB0cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoJHt4VHJhbnNsYXRlfXB4LCAke3lUcmFuc2xhdGV9cHgsIDApIGA7XG4gICAgLyoqXG4gICAgICogQXBwbHkgc2NhbGUgY29ycmVjdGlvbiBmb3IgdGhlIHRyZWUgdHJhbnNmb3JtLlxuICAgICAqIFRoaXMgd2lsbCBhcHBseSBzY2FsZSB0byB0aGUgc2NyZWVuLW9yaWVudGF0ZWQgYXhlcy5cbiAgICAgKi9cbiAgICB0cmFuc2Zvcm0gKz0gYHNjYWxlKCR7MSAvIHRyZWVTY2FsZS54fSwgJHsxIC8gdHJlZVNjYWxlLnl9KSBgO1xuICAgIGlmIChsYXRlc3RUcmFuc2Zvcm0pIHtcbiAgICAgICAgY29uc3QgeyByb3RhdGUsIHJvdGF0ZVgsIHJvdGF0ZVkgfSA9IGxhdGVzdFRyYW5zZm9ybTtcbiAgICAgICAgaWYgKHJvdGF0ZSlcbiAgICAgICAgICAgIHRyYW5zZm9ybSArPSBgcm90YXRlKCR7cm90YXRlfWRlZykgYDtcbiAgICAgICAgaWYgKHJvdGF0ZVgpXG4gICAgICAgICAgICB0cmFuc2Zvcm0gKz0gYHJvdGF0ZVgoJHtyb3RhdGVYfWRlZykgYDtcbiAgICAgICAgaWYgKHJvdGF0ZVkpXG4gICAgICAgICAgICB0cmFuc2Zvcm0gKz0gYHJvdGF0ZVkoJHtyb3RhdGVZfWRlZykgYDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbHkgc2NhbGUgdG8gbWF0Y2ggdGhlIHNpemUgb2YgdGhlIGVsZW1lbnQgdG8gdGhlIHNpemUgd2Ugd2FudCBpdC5cbiAgICAgKiBUaGlzIHdpbGwgYXBwbHkgc2NhbGUgdG8gdGhlIGVsZW1lbnQtb3JpZW50YXRlZCBheGVzLlxuICAgICAqL1xuICAgIGNvbnN0IGVsZW1lbnRTY2FsZVggPSBkZWx0YS54LnNjYWxlICogdHJlZVNjYWxlLng7XG4gICAgY29uc3QgZWxlbWVudFNjYWxlWSA9IGRlbHRhLnkuc2NhbGUgKiB0cmVlU2NhbGUueTtcbiAgICB0cmFuc2Zvcm0gKz0gYHNjYWxlKCR7ZWxlbWVudFNjYWxlWH0sICR7ZWxlbWVudFNjYWxlWX0pYDtcbiAgICByZXR1cm4gdHJhbnNmb3JtID09PSBpZGVudGl0eVByb2plY3Rpb24gPyBcIm5vbmVcIiA6IHRyYW5zZm9ybTtcbn1cblxuZXhwb3J0IHsgYnVpbGRQcm9qZWN0aW9uVHJhbnNmb3JtLCBpZGVudGl0eVByb2plY3Rpb24gfTtcbiIsImNvbnN0IGNvbXBhcmVCeURlcHRoID0gKGEsIGIpID0+IGEuZGVwdGggLSBiLmRlcHRoO1xuXG5leHBvcnQgeyBjb21wYXJlQnlEZXB0aCB9O1xuIiwiaW1wb3J0IHsgYWRkVW5pcXVlSXRlbSwgcmVtb3ZlSXRlbSB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5Lm1qcyc7XG5pbXBvcnQgeyBjb21wYXJlQnlEZXB0aCB9IGZyb20gJy4vY29tcGFyZS1ieS1kZXB0aC5tanMnO1xuXG5jbGFzcyBGbGF0VHJlZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgdGhpcy5pc0RpcnR5ID0gZmFsc2U7XG4gICAgfVxuICAgIGFkZChjaGlsZCkge1xuICAgICAgICBhZGRVbmlxdWVJdGVtKHRoaXMuY2hpbGRyZW4sIGNoaWxkKTtcbiAgICAgICAgdGhpcy5pc0RpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgcmVtb3ZlKGNoaWxkKSB7XG4gICAgICAgIHJlbW92ZUl0ZW0odGhpcy5jaGlsZHJlbiwgY2hpbGQpO1xuICAgICAgICB0aGlzLmlzRGlydHkgPSB0cnVlO1xuICAgIH1cbiAgICBmb3JFYWNoKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuaXNEaXJ0eSAmJiB0aGlzLmNoaWxkcmVuLnNvcnQoY29tcGFyZUJ5RGVwdGgpO1xuICAgICAgICB0aGlzLmlzRGlydHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKGNhbGxiYWNrKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IEZsYXRUcmVlIH07XG4iLCJpbXBvcnQgc3luYywgeyBjYW5jZWxTeW5jLCBmbHVzaFN5bmMgfSBmcm9tICdmcmFtZXN5bmMnO1xuaW1wb3J0IHsgbWl4IH0gZnJvbSAncG9wbW90aW9uJztcbmltcG9ydCB7IGFuaW1hdGUgfSBmcm9tICcuLi8uLi9hbmltYXRpb24vYW5pbWF0ZS5tanMnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uTWFuYWdlciB9IGZyb20gJy4uLy4uL3V0aWxzL3N1YnNjcmlwdGlvbi1tYW5hZ2VyLm1qcyc7XG5pbXBvcnQgeyBtaXhWYWx1ZXMgfSBmcm9tICcuLi9hbmltYXRpb24vbWl4LXZhbHVlcy5tanMnO1xuaW1wb3J0IHsgY29weUJveEludG8gfSBmcm9tICcuLi9nZW9tZXRyeS9jb3B5Lm1qcyc7XG5pbXBvcnQgeyB0cmFuc2xhdGVBeGlzLCB0cmFuc2Zvcm1Cb3gsIGFwcGx5Qm94RGVsdGEsIGFwcGx5VHJlZURlbHRhcyB9IGZyb20gJy4uL2dlb21ldHJ5L2RlbHRhLWFwcGx5Lm1qcyc7XG5pbXBvcnQgeyBjYWxjUmVsYXRpdmVQb3NpdGlvbiwgY2FsY1JlbGF0aXZlQm94LCBjYWxjQm94RGVsdGEsIGNhbGNMZW5ndGggfSBmcm9tICcuLi9nZW9tZXRyeS9kZWx0YS1jYWxjLm1qcyc7XG5pbXBvcnQgeyByZW1vdmVCb3hUcmFuc2Zvcm1zIH0gZnJvbSAnLi4vZ2VvbWV0cnkvZGVsdGEtcmVtb3ZlLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVCb3gsIGNyZWF0ZURlbHRhIH0gZnJvbSAnLi4vZ2VvbWV0cnkvbW9kZWxzLm1qcyc7XG5pbXBvcnQgeyBnZXRWYWx1ZVRyYW5zaXRpb24gfSBmcm9tICcuLi8uLi9hbmltYXRpb24vdXRpbHMvdHJhbnNpdGlvbnMubWpzJztcbmltcG9ydCB7IGJveEVxdWFscywgaXNEZWx0YVplcm8sIGlzQ2xvc2VUbywgYXNwZWN0UmF0aW8gfSBmcm9tICcuLi9nZW9tZXRyeS91dGlscy5tanMnO1xuaW1wb3J0IHsgTm9kZVN0YWNrIH0gZnJvbSAnLi4vc2hhcmVkL3N0YWNrLm1qcyc7XG5pbXBvcnQgeyBzY2FsZUNvcnJlY3RvcnMgfSBmcm9tICcuLi9zdHlsZXMvc2NhbGUtY29ycmVjdGlvbi5tanMnO1xuaW1wb3J0IHsgYnVpbGRQcm9qZWN0aW9uVHJhbnNmb3JtIH0gZnJvbSAnLi4vc3R5bGVzL3RyYW5zZm9ybS5tanMnO1xuaW1wb3J0IHsgZWFjaEF4aXMgfSBmcm9tICcuLi91dGlscy9lYWNoLWF4aXMubWpzJztcbmltcG9ydCB7IGhhc1RyYW5zZm9ybSwgaGFzU2NhbGUgfSBmcm9tICcuLi91dGlscy9oYXMtdHJhbnNmb3JtLm1qcyc7XG5pbXBvcnQgeyBGbGF0VHJlZSB9IGZyb20gJy4uLy4uL3JlbmRlci91dGlscy9mbGF0LXRyZWUubWpzJztcbmltcG9ydCB7IHJlc29sdmVNb3Rpb25WYWx1ZSB9IGZyb20gJy4uLy4uL3ZhbHVlL3V0aWxzL3Jlc29sdmUtbW90aW9uLXZhbHVlLm1qcyc7XG5pbXBvcnQgeyBnbG9iYWxQcm9qZWN0aW9uU3RhdGUgfSBmcm9tICcuL3N0YXRlLm1qcyc7XG5cbmNvbnN0IHRyYW5zZm9ybUF4ZXMgPSBbXCJcIiwgXCJYXCIsIFwiWVwiLCBcIlpcIl07XG4vKipcbiAqIFdlIHVzZSAxMDAwIGFzIHRoZSBhbmltYXRpb24gdGFyZ2V0IGFzIDAtMTAwMCBtYXBzIGJldHRlciB0byBwaXhlbHMgdGhhbiAwLTFcbiAqIHdoaWNoIGhhcyBhIG5vdGljZWFibGUgZGlmZmVyZW5jZSBpbiBzcHJpbmcgYW5pbWF0aW9uc1xuICovXG5jb25zdCBhbmltYXRpb25UYXJnZXQgPSAxMDAwO1xuZnVuY3Rpb24gY3JlYXRlUHJvamVjdGlvbk5vZGUoeyBhdHRhY2hSZXNpemVMaXN0ZW5lciwgZGVmYXVsdFBhcmVudCwgbWVhc3VyZVNjcm9sbCwgY2hlY2tJc1Njcm9sbFJvb3QsIHJlc2V0VHJhbnNmb3JtLCB9KSB7XG4gICAgcmV0dXJuIGNsYXNzIFByb2plY3Rpb25Ob2RlIHtcbiAgICAgICAgY29uc3RydWN0b3IoaWQsIGxhdGVzdFZhbHVlcyA9IHt9LCBwYXJlbnQgPSBkZWZhdWx0UGFyZW50ID09PSBudWxsIHx8IGRlZmF1bHRQYXJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlZmF1bHRQYXJlbnQoKSkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBIFNldCBjb250YWluaW5nIGFsbCB0aGlzIGNvbXBvbmVudCdzIGNoaWxkcmVuLiBUaGlzIGlzIHVzZWQgdG8gaXRlcmF0ZVxuICAgICAgICAgICAgICogdGhyb3VnaCB0aGUgY2hpbGRyZW4uXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogVE9ETzogVGhpcyBjb3VsZCBiZSBmYXN0ZXIgdG8gaXRlcmF0ZSBhcyBhIGZsYXQgYXJyYXkgc3RvcmVkIG9uIHRoZSByb290IG5vZGUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4gPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIE9wdGlvbnMgZm9yIHRoZSBub2RlLiBXZSB1c2UgdGhpcyB0byBjb25maWd1cmUgd2hhdCBraW5kIG9mIGxheW91dCBhbmltYXRpb25zXG4gICAgICAgICAgICAgKiB3ZSBzaG91bGQgcGVyZm9ybSAoaWYgYW55KS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0ge307XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdlIHVzZSB0aGlzIHRvIGRldGVjdCB3aGVuIGl0cyBzYWZlIHRvIHNodXQgZG93biBwYXJ0IG9mIGEgcHJvamVjdGlvbiB0cmVlLlxuICAgICAgICAgICAgICogV2UgaGF2ZSB0byBrZWVwIHByb2plY3RpbmcgY2hpbGRyZW4gZm9yIHNjYWxlIGNvcnJlY3Rpb24gYW5kIHJlbGF0aXZlIHByb2plY3Rpb25cbiAgICAgICAgICAgICAqIHVudGlsIGFsbCB0aGVpciBwYXJlbnRzIHN0b3AgcGVyZm9ybWluZyBsYXlvdXQgYW5pbWF0aW9ucy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5pc1RyZWVBbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNBbmltYXRpb25CbG9ja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZsYWcgdG8gdHJ1ZSBpZiB3ZSB0aGluayB0aGlzIGxheW91dCBoYXMgYmVlbiBjaGFuZ2VkLiBXZSBjYW4ndCBhbHdheXMga25vdyB0aGlzLFxuICAgICAgICAgICAgICogY3VycmVudGx5IHdlIHNldCBpdCB0byB0cnVlIGV2ZXJ5IHRpbWUgYSBjb21wb25lbnQgcmVuZGVycywgb3IgaWYgaXQgaGFzIGEgbGF5b3V0RGVwZW5kZW5jeVxuICAgICAgICAgICAgICogaWYgdGhhdCBoYXMgY2hhbmdlZCBiZXR3ZWVuIHJlbmRlcnMuIEFkZGl0aW9uYWxseSwgY29tcG9uZW50cyBjYW4gYmUgZ3JvdXBlZCBieSBMYXlvdXRHcm91cFxuICAgICAgICAgICAgICogYW5kIGlmIG9uZSBub2RlIGlzIGRpcnRpZWQsIHRoZXkgYWxsIGFyZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5pc0xheW91dERpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJsb2NrIGxheW91dCB1cGRhdGVzIGZvciBpbnN0YW50IGxheW91dCB0cmFuc2l0aW9ucyB0aHJvdWdob3V0IHRoZSB0cmVlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU1hbnVhbGx5QmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVCbG9ja2VkQnlSZXNpemUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2V0IHRvIHRydWUgYmV0d2VlbiB0aGUgc3RhcnQgb2YgdGhlIGZpcnN0IGB3aWxsVXBkYXRlYCBjYWxsIGFuZCB0aGUgZW5kIG9mIHRoZSBgZGlkVXBkYXRlYFxuICAgICAgICAgICAgICogY2FsbC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5pc1VwZGF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoaXMgaXMgYW4gU1ZHIGVsZW1lbnQgd2UgY3VycmVudGx5IGRpc2FibGUgcHJvamVjdGlvbiB0cmFuc2Zvcm1zXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuaXNTVkcgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRmxhZyB0byB0cnVlIChkdXJpbmcgcHJvbW90aW9uKSBpZiBhIG5vZGUgZG9pbmcgYW4gaW5zdGFudCBsYXlvdXQgdHJhbnNpdGlvbiBuZWVkcyB0byByZXNldFxuICAgICAgICAgICAgICogaXRzIHByb2plY3Rpb24gc3R5bGVzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm5lZWRzUmVzZXQgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRmxhZ3Mgd2hldGhlciB0aGlzIG5vZGUgc2hvdWxkIGhhdmUgaXRzIHRyYW5zZm9ybSByZXNldCBwcmlvciB0byBtZWFzdXJpbmcuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuc2hvdWxkUmVzZXRUcmFuc2Zvcm0gPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgY2FsY3VsYXRlZCBjb250ZXh0dWFsL2FjY3VtdWxhdGVkL3RyZWUgc2NhbGUuXG4gICAgICAgICAgICAgKiBUaGlzIHdpbGwgYmUgdXNlZCB0byBzY2FsZSBjYWxjdWxjYXRlZCBwcm9qZWN0aW9uIHRyYW5zZm9ybXMsIGFzIHRoZXNlIGFyZVxuICAgICAgICAgICAgICogY2FsY3VsYXRlZCBpbiBzY3JlZW4tc3BhY2UgYnV0IG5lZWQgdG8gYmUgc2NhbGVkIGZvciBlbGVtZW50cyB0byBhY3R1YWxseVxuICAgICAgICAgICAgICogbWFrZSBpdCB0byB0aGVpciBjYWxjdWxhdGVkIGRlc3RpbmF0aW9ucy5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBUT0RPOiBMYXp5LWluaXRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy50cmVlU2NhbGUgPSB7IHg6IDEsIHk6IDEgfTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgLy8gTm90ZTogQ3VycmVudGx5IG9ubHkgcnVubmluZyBvbiByb290IG5vZGVcbiAgICAgICAgICAgIHRoaXMucG90ZW50aWFsTm9kZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICB0aGlzLmNoZWNrVXBkYXRlRmFpbGVkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzVXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1VwZGF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJBbGxTbmFwc2hvdHMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQcm9qZWN0aW9uID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZXMuZm9yRWFjaChyZXNvbHZlVGFyZ2V0RGVsdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZXMuZm9yRWFjaChjYWxjUHJvamVjdGlvbik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5oYXNQcm9qZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uUHJvZ3Jlc3MgPSAwO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTaGFyZWQgbGF5b3V0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC8vIFRPRE8gT25seSBydW5uaW5nIG9uIHJvb3Qgbm9kZVxuICAgICAgICAgICAgdGhpcy5zaGFyZWROb2RlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgICAgIHRoaXMubGF0ZXN0VmFsdWVzID0gbGF0ZXN0VmFsdWVzO1xuICAgICAgICAgICAgdGhpcy5yb290ID0gcGFyZW50ID8gcGFyZW50LnJvb3QgfHwgcGFyZW50IDogdGhpcztcbiAgICAgICAgICAgIHRoaXMucGF0aCA9IHBhcmVudCA/IFsuLi5wYXJlbnQucGF0aCwgcGFyZW50XSA6IFtdO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgICAgICB0aGlzLmRlcHRoID0gcGFyZW50ID8gcGFyZW50LmRlcHRoICsgMSA6IDA7XG4gICAgICAgICAgICBpZCAmJiB0aGlzLnJvb3QucmVnaXN0ZXJQb3RlbnRpYWxOb2RlKGlkLCB0aGlzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXRoW2ldLnNob3VsZFJlc2V0VHJhbnNmb3JtID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnJvb3QgPT09IHRoaXMpXG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlcyA9IG5ldyBGbGF0VHJlZSgpO1xuICAgICAgICB9XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIobmFtZSwgaGFuZGxlcikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmV2ZW50SGFuZGxlcnMuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLnNldChuYW1lLCBuZXcgU3Vic2NyaXB0aW9uTWFuYWdlcigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50SGFuZGxlcnMuZ2V0KG5hbWUpLmFkZChoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgICBub3RpZnlMaXN0ZW5lcnMobmFtZSwgLi4uYXJncykge1xuICAgICAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uTWFuYWdlciA9IHRoaXMuZXZlbnRIYW5kbGVycy5nZXQobmFtZSk7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25NYW5hZ2VyID09PSBudWxsIHx8IHN1YnNjcmlwdGlvbk1hbmFnZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN1YnNjcmlwdGlvbk1hbmFnZXIubm90aWZ5KC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGhhc0xpc3RlbmVycyhuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudEhhbmRsZXJzLmhhcyhuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZWdpc3RlclBvdGVudGlhbE5vZGUoaWQsIG5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMucG90ZW50aWFsTm9kZXMuc2V0KGlkLCBub2RlKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogTGlmZWN5Y2xlc1xuICAgICAgICAgKi9cbiAgICAgICAgbW91bnQoaW5zdGFuY2UsIGlzTGF5b3V0RGlydHkgPSBmYWxzZSkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5pc1NWRyA9XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgaW5zdGFuY2VvZiBTVkdFbGVtZW50ICYmIGluc3RhbmNlLnRhZ05hbWUgIT09IFwic3ZnXCI7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgICAgICAgICBjb25zdCB7IGxheW91dElkLCBsYXlvdXQsIHZpc3VhbEVsZW1lbnQgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgICAgIGlmICh2aXN1YWxFbGVtZW50ICYmICF2aXN1YWxFbGVtZW50LmdldEluc3RhbmNlKCkpIHtcbiAgICAgICAgICAgICAgICB2aXN1YWxFbGVtZW50Lm1vdW50KGluc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucm9vdC5ub2Rlcy5hZGQodGhpcyk7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLnBhcmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNoaWxkcmVuLmFkZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuaWQgJiYgdGhpcy5yb290LnBvdGVudGlhbE5vZGVzLmRlbGV0ZSh0aGlzLmlkKTtcbiAgICAgICAgICAgIGlmIChpc0xheW91dERpcnR5ICYmIChsYXlvdXQgfHwgbGF5b3V0SWQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0xheW91dERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhdHRhY2hSZXNpemVMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIGxldCB1bmJsb2NrVGltZW91dDtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNpemVVbmJsb2NrVXBkYXRlID0gKCkgPT4gKHRoaXMucm9vdC51cGRhdGVCbG9ja2VkQnlSZXNpemUgPSBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYXR0YWNoUmVzaXplTGlzdGVuZXIoaW5zdGFuY2UsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290LnVwZGF0ZUJsb2NrZWRCeVJlc2l6ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh1bmJsb2NrVGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgIHVuYmxvY2tUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQocmVzaXplVW5ibG9ja1VwZGF0ZSwgMjUwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdsb2JhbFByb2plY3Rpb25TdGF0ZS5oYXNBbmltYXRlZFNpbmNlUmVzaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxQcm9qZWN0aW9uU3RhdGUuaGFzQW5pbWF0ZWRTaW5jZVJlc2l6ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5mb3JFYWNoKGZpbmlzaEFuaW1hdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsYXlvdXRJZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucm9vdC5yZWdpc3RlclNoYXJlZE5vZGUobGF5b3V0SWQsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT25seSByZWdpc3RlciB0aGUgaGFuZGxlciBpZiBpdCByZXF1aXJlcyBsYXlvdXQgYW5pbWF0aW9uXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFuaW1hdGUgIT09IGZhbHNlICYmXG4gICAgICAgICAgICAgICAgdmlzdWFsRWxlbWVudCAmJlxuICAgICAgICAgICAgICAgIChsYXlvdXRJZCB8fCBsYXlvdXQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiZGlkVXBkYXRlXCIsICh7IGRlbHRhLCBoYXNMYXlvdXRDaGFuZ2VkLCBoYXNSZWxhdGl2ZVRhcmdldENoYW5nZWQsIGxheW91dDogbmV3TGF5b3V0LCB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzVHJlZUFuaW1hdGlvbkJsb2NrZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlVGFyZ2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IENoZWNrIGhlcmUgaWYgYW4gYW5pbWF0aW9uIGV4aXN0c1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXlvdXRUcmFuc2l0aW9uID0gKF9iID0gKF9hID0gdGhpcy5vcHRpb25zLnRyYW5zaXRpb24pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHZpc3VhbEVsZW1lbnQuZ2V0RGVmYXVsdFRyYW5zaXRpb24oKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZGVmYXVsdExheW91dFRyYW5zaXRpb247XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgb25MYXlvdXRBbmltYXRpb25TdGFydCwgb25MYXlvdXRBbmltYXRpb25Db21wbGV0ZSwgfSA9IHZpc3VhbEVsZW1lbnQuZ2V0UHJvcHMoKTtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFRoZSB0YXJnZXQgbGF5b3V0IG9mIHRoZSBlbGVtZW50IG1pZ2h0IHN0YXkgdGhlIHNhbWUsXG4gICAgICAgICAgICAgICAgICAgICAqIGJ1dCBpdHMgcG9zaXRpb24gcmVsYXRpdmUgdG8gaXRzIHBhcmVudCBoYXMgY2hhbmdlZC5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldENoYW5nZWQgPSAhdGhpcy50YXJnZXRMYXlvdXQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFib3hFcXVhbHModGhpcy50YXJnZXRMYXlvdXQsIG5ld0xheW91dCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1JlbGF0aXZlVGFyZ2V0Q2hhbmdlZDtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIElmIHRoZSBsYXlvdXQgaGFzbid0IHNlZW1lZCB0byBoYXZlIGNoYW5nZWQsIGl0IG1pZ2h0IGJlIHRoYXQgdGhlXG4gICAgICAgICAgICAgICAgICAgICAqIGVsZW1lbnQgaXMgdmlzdWFsbHkgaW4gdGhlIHNhbWUgcGxhY2UgaW4gdGhlIGRvY3VtZW50IGJ1dCBpdHMgcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICogcmVsYXRpdmUgdG8gaXRzIHBhcmVudCBoYXMgaW5kZWVkIGNoYW5nZWQuIFNvIGhlcmUgd2UgY2hlY2sgZm9yIHRoYXQuXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNPbmx5UmVsYXRpdmVUYXJnZXRDaGFuZ2VkID0gIWhhc0xheW91dENoYW5nZWQgJiYgaGFzUmVsYXRpdmVUYXJnZXRDaGFuZ2VkO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKChfYyA9IHRoaXMucmVzdW1lRnJvbSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmluc3RhbmNlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzT25seVJlbGF0aXZlVGFyZ2V0Q2hhbmdlZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKGhhc0xheW91dENoYW5nZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGFyZ2V0Q2hhbmdlZCB8fCAhdGhpcy5jdXJyZW50QW5pbWF0aW9uKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlc3VtZUZyb20pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3VtaW5nRnJvbSA9IHRoaXMucmVzdW1lRnJvbTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3VtaW5nRnJvbS5yZXN1bWluZ0Zyb20gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEFuaW1hdGlvbk9yaWdpbihkZWx0YSwgaGFzT25seVJlbGF0aXZlVGFyZ2V0Q2hhbmdlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRpb25PcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmdldFZhbHVlVHJhbnNpdGlvbihsYXlvdXRUcmFuc2l0aW9uLCBcImxheW91dFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblBsYXk6IG9uTGF5b3V0QW5pbWF0aW9uU3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZTogb25MYXlvdXRBbmltYXRpb25Db21wbGV0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmlzdWFsRWxlbWVudC5zaG91bGRSZWR1Y2VNb3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25PcHRpb25zLmRlbGF5ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25PcHRpb25zLnR5cGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRBbmltYXRpb24oYW5pbWF0aW9uT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIElmIHRoZSBsYXlvdXQgaGFzbid0IGNoYW5nZWQgYW5kIHdlIGhhdmUgYW4gYW5pbWF0aW9uIHRoYXQgaGFzbid0IHN0YXJ0ZWQgeWV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICogZmluaXNoIGl0IGltbWVkaWF0ZWx5LiBPdGhlcndpc2UgaXQgd2lsbCBiZSBhbmltYXRpbmcgZnJvbSBhIGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiB0aGF0IHdhcyBwcm9iYWJseSBuZXZlciBjb21taXRlZCB0byBzY3JlZW4gYW5kIGxvb2sgbGlrZSBhIGp1bXB5IGJveC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNMYXlvdXRDaGFuZ2VkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Qcm9ncmVzcyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmluaXNoQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTGVhZCgpICYmICgoX2UgPSAoX2QgPSB0aGlzLm9wdGlvbnMpLm9uRXhpdENvbXBsZXRlKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuY2FsbChfZCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0TGF5b3V0ID0gbmV3TGF5b3V0O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHVubW91bnQoKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmxheW91dElkICYmIHRoaXMud2lsbFVwZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5yb290Lm5vZGVzLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuZ2V0U3RhY2soKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgICAgIChfYiA9IHRoaXMucGFyZW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2hpbGRyZW4uZGVsZXRlKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNhbmNlbFN5bmMucHJlUmVuZGVyKHRoaXMudXBkYXRlUHJvamVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gb25seSBvbiB0aGUgcm9vdFxuICAgICAgICBibG9ja1VwZGF0ZSgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTWFudWFsbHlCbG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB1bmJsb2NrVXBkYXRlKCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVNYW51YWxseUJsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpc1VwZGF0ZUJsb2NrZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVNYW51YWxseUJsb2NrZWQgfHwgdGhpcy51cGRhdGVCbG9ja2VkQnlSZXNpemU7XG4gICAgICAgIH1cbiAgICAgICAgaXNUcmVlQW5pbWF0aW9uQmxvY2tlZCgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5pc0FuaW1hdGlvbkJsb2NrZWQgfHxcbiAgICAgICAgICAgICAgICAoKF9hID0gdGhpcy5wYXJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pc1RyZWVBbmltYXRpb25CbG9ja2VkKCkpIHx8XG4gICAgICAgICAgICAgICAgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vdGU6IGN1cnJlbnRseSBvbmx5IHJ1bm5pbmcgb24gcm9vdCBub2RlXG4gICAgICAgIHN0YXJ0VXBkYXRlKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNVcGRhdGVCbG9ja2VkKCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5pc1VwZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIChfYSA9IHRoaXMubm9kZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JFYWNoKHJlc2V0Um90YXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHdpbGxVcGRhdGUoc2hvdWxkTm90aWZ5TGlzdGVuZXJzID0gdHJ1ZSkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgICAgICBpZiAodGhpcy5yb290LmlzVXBkYXRlQmxvY2tlZCgpKSB7XG4gICAgICAgICAgICAgICAgKF9iID0gKF9hID0gdGhpcy5vcHRpb25zKS5vbkV4aXRDb21wbGV0ZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICF0aGlzLnJvb3QuaXNVcGRhdGluZyAmJiB0aGlzLnJvb3Quc3RhcnRVcGRhdGUoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTGF5b3V0RGlydHkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5pc0xheW91dERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMucGF0aFtpXTtcbiAgICAgICAgICAgICAgICBub2RlLnNob3VsZFJlc2V0VHJhbnNmb3JtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUT0RPOiBDaGVjayB3ZSBoYXZlbid0IHVwZGF0ZWQgdGhlIHNjcm9sbFxuICAgICAgICAgICAgICAgICAqIHNpbmNlIHRoZSBsYXN0IGRpZFVwZGF0ZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIG5vZGUudXBkYXRlU2Nyb2xsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGxheW91dElkLCBsYXlvdXQgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgICAgIGlmIChsYXlvdXRJZCA9PT0gdW5kZWZpbmVkICYmICFsYXlvdXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtVGVtcGxhdGUgPSAoX2MgPSB0aGlzLm9wdGlvbnMudmlzdWFsRWxlbWVudCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmdldFByb3BzKCkudHJhbnNmb3JtVGVtcGxhdGU7XG4gICAgICAgICAgICB0aGlzLnByZXZUcmFuc2Zvcm1UZW1wbGF0ZVZhbHVlID0gdHJhbnNmb3JtVGVtcGxhdGUgPT09IG51bGwgfHwgdHJhbnNmb3JtVGVtcGxhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRyYW5zZm9ybVRlbXBsYXRlKHRoaXMubGF0ZXN0VmFsdWVzLCBcIlwiKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU25hcHNob3QoKTtcbiAgICAgICAgICAgIHNob3VsZE5vdGlmeUxpc3RlbmVycyAmJiB0aGlzLm5vdGlmeUxpc3RlbmVycyhcIndpbGxVcGRhdGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm90ZTogQ3VycmVudGx5IG9ubHkgcnVubmluZyBvbiByb290IG5vZGVcbiAgICAgICAgZGlkVXBkYXRlKCkge1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlV2FzQmxvY2tlZCA9IHRoaXMuaXNVcGRhdGVCbG9ja2VkKCk7XG4gICAgICAgICAgICAvLyBXaGVuIGRvaW5nIGFuIGluc3RhbnQgdHJhbnNpdGlvbiwgd2Ugc2tpcCB0aGUgbGF5b3V0IHVwZGF0ZSxcbiAgICAgICAgICAgIC8vIGJ1dCBzaG91bGQgc3RpbGwgY2xlYW4gdXAgdGhlIG1lYXN1cmVtZW50cyBzbyB0aGF0IHRoZSBuZXh0XG4gICAgICAgICAgICAvLyBzbmFwc2hvdCBjb3VsZCBiZSB0YWtlbiBjb3JyZWN0bHkuXG4gICAgICAgICAgICBpZiAodXBkYXRlV2FzQmxvY2tlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5ibG9ja1VwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJBbGxTbmFwc2hvdHMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGVzLmZvckVhY2goY2xlYXJNZWFzdXJlbWVudHMpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5pc1VwZGF0aW5nKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuaXNVcGRhdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZWFyY2ggZm9yIGFuZCBtb3VudCBuZXdseS1hZGRlZCBwcm9qZWN0aW9uIGVsZW1lbnRzLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIFRPRE86IEV2ZXJ5IHRpbWUgYSBuZXcgY29tcG9uZW50IGlzIHJlbmRlcmVkIHdlIGNvdWxkIHNlYXJjaCB1cCB0aGUgdHJlZSBmb3JcbiAgICAgICAgICAgICAqIHRoZSBjbG9zZXN0IG1vdW50ZWQgbm9kZSBhbmQgcXVlcnkgZnJvbSB0aGVyZSByYXRoZXIgdGhhbiBkb2N1bWVudC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHRoaXMucG90ZW50aWFsTm9kZXMuc2l6ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucG90ZW50aWFsTm9kZXMuZm9yRWFjaChtb3VudE5vZGVFYXJseSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3RlbnRpYWxOb2Rlcy5jbGVhcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBXcml0ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm5vZGVzLmZvckVhY2gocmVzZXRUcmFuc2Zvcm1TdHlsZSk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJlYWQgPT09PT09PT09PT09PT09PT09XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBsYXlvdXQgbWVhc3VyZW1lbnRzIG9mIHVwZGF0ZWQgY2hpbGRyZW5cbiAgICAgICAgICAgIHRoaXMubm9kZXMuZm9yRWFjaCh1cGRhdGVMYXlvdXQpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBXcml0ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAvLyBOb3RpZnkgbGlzdGVuZXJzIHRoYXQgdGhlIGxheW91dCBpcyB1cGRhdGVkXG4gICAgICAgICAgICB0aGlzLm5vZGVzLmZvckVhY2gobm90aWZ5TGF5b3V0VXBkYXRlKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJBbGxTbmFwc2hvdHMoKTtcbiAgICAgICAgICAgIC8vIEZsdXNoIGFueSBzY2hlZHVsZWQgdXBkYXRlc1xuICAgICAgICAgICAgZmx1c2hTeW5jLnVwZGF0ZSgpO1xuICAgICAgICAgICAgZmx1c2hTeW5jLnByZVJlbmRlcigpO1xuICAgICAgICAgICAgZmx1c2hTeW5jLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICAgIGNsZWFyQWxsU25hcHNob3RzKCkge1xuICAgICAgICAgICAgdGhpcy5ub2Rlcy5mb3JFYWNoKGNsZWFyU25hcHNob3QpO1xuICAgICAgICAgICAgdGhpcy5zaGFyZWROb2Rlcy5mb3JFYWNoKHJlbW92ZUxlYWRTbmFwc2hvdHMpO1xuICAgICAgICB9XG4gICAgICAgIHNjaGVkdWxlVXBkYXRlUHJvamVjdGlvbigpIHtcbiAgICAgICAgICAgIHN5bmMucHJlUmVuZGVyKHRoaXMudXBkYXRlUHJvamVjdGlvbiwgZmFsc2UsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHNjaGVkdWxlQ2hlY2tBZnRlclVubW91bnQoKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoZSB1bm1vdW50aW5nIG5vZGUgaXMgaW4gYSBsYXlvdXRHcm91cCBhbmQgZGlkIHRyaWdnZXIgYSB3aWxsVXBkYXRlLFxuICAgICAgICAgICAgICogd2UgbWFudWFsbHkgY2FsbCBkaWRVcGRhdGUgdG8gZ2l2ZSBhIGNoYW5jZSB0byB0aGUgc2libGluZ3MgdG8gYW5pbWF0ZS5cbiAgICAgICAgICAgICAqIE90aGVyd2lzZSwgY2xlYW51cCBhbGwgc25hcHNob3RzIHRvIHByZXZlbnRzIGZ1dHVyZSBub2RlcyBmcm9tIHJldXNpbmcgdGhlbS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc3luYy5wb3N0UmVuZGVyKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0xheW91dERpcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm9vdC5kaWRVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm9vdC5jaGVja1VwZGF0ZUZhaWxlZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgbWVhc3VyZW1lbnRzXG4gICAgICAgICAqL1xuICAgICAgICB1cGRhdGVTbmFwc2hvdCgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNuYXBzaG90IHx8ICF0aGlzLmluc3RhbmNlKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IG1lYXN1cmVkID0gdGhpcy5tZWFzdXJlKCk7XG4gICAgICAgICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLnJlbW92ZVRyYW5zZm9ybSh0aGlzLnJlbW92ZUVsZW1lbnRTY3JvbGwobWVhc3VyZWQpKTtcbiAgICAgICAgICAgIHJvdW5kQm94KGxheW91dCk7XG4gICAgICAgICAgICB0aGlzLnNuYXBzaG90ID0ge1xuICAgICAgICAgICAgICAgIG1lYXN1cmVkLFxuICAgICAgICAgICAgICAgIGxheW91dCxcbiAgICAgICAgICAgICAgICBsYXRlc3RWYWx1ZXM6IHt9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVMYXlvdXQoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLy8gVE9ETzogSW5jb3Jwb3JhdGUgaW50byBhIGZvcndhcmRlZCBzY3JvbGwgb2Zmc2V0XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNjcm9sbCgpO1xuICAgICAgICAgICAgaWYgKCEodGhpcy5vcHRpb25zLmFsd2F5c01lYXN1cmVMYXlvdXQgJiYgdGhpcy5pc0xlYWQoKSkgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy5pc0xheW91dERpcnR5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBXaGVuIGEgbm9kZSBpcyBtb3VudGVkLCBpdCBzaW1wbHkgcmVzdW1lcyBmcm9tIHRoZSBwcmV2TGVhZCdzXG4gICAgICAgICAgICAgKiBzbmFwc2hvdCBpbnN0ZWFkIG9mIHRha2luZyBhIG5ldyBvbmUsIGJ1dCB0aGUgYW5jZXN0b3JzIHNjcm9sbFxuICAgICAgICAgICAgICogbWlnaHQgaGF2ZSB1cGRhdGVkIHdoaWxlIHRoZSBwcmV2TGVhZCBpcyB1bm1vdW50ZWQuIFdlIG5lZWQgdG9cbiAgICAgICAgICAgICAqIHVwZGF0ZSB0aGUgc2Nyb2xsIGFnYWluIHRvIG1ha2Ugc3VyZSB0aGUgbGF5b3V0IHdlIG1lYXN1cmUgaXNcbiAgICAgICAgICAgICAqIHVwIHRvIGRhdGUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLnJlc3VtZUZyb20gJiYgIXRoaXMucmVzdW1lRnJvbS5pbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLnBhdGhbaV07XG4gICAgICAgICAgICAgICAgICAgIG5vZGUudXBkYXRlU2Nyb2xsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWVhc3VyZWQgPSB0aGlzLm1lYXN1cmUoKTtcbiAgICAgICAgICAgIHJvdW5kQm94KG1lYXN1cmVkKTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZMYXlvdXQgPSB0aGlzLmxheW91dDtcbiAgICAgICAgICAgIHRoaXMubGF5b3V0ID0ge1xuICAgICAgICAgICAgICAgIG1lYXN1cmVkLFxuICAgICAgICAgICAgICAgIGFjdHVhbDogdGhpcy5yZW1vdmVFbGVtZW50U2Nyb2xsKG1lYXN1cmVkKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmxheW91dENvcnJlY3RlZCA9IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgdGhpcy5pc0xheW91dERpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnByb2plY3Rpb25EZWx0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKFwibWVhc3VyZVwiLCB0aGlzLmxheW91dC5hY3R1YWwpO1xuICAgICAgICAgICAgKF9hID0gdGhpcy5vcHRpb25zLnZpc3VhbEVsZW1lbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ub3RpZnlMYXlvdXRNZWFzdXJlKHRoaXMubGF5b3V0LmFjdHVhbCwgcHJldkxheW91dCA9PT0gbnVsbCB8fCBwcmV2TGF5b3V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcmV2TGF5b3V0LmFjdHVhbCk7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlU2Nyb2xsKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5sYXlvdXRTY3JvbGwgJiYgdGhpcy5pbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNTY3JvbGxSb290ID0gY2hlY2tJc1Njcm9sbFJvb3QodGhpcy5pbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGwgPSBtZWFzdXJlU2Nyb2xsKHRoaXMuaW5zdGFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc2V0VHJhbnNmb3JtKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKCFyZXNldFRyYW5zZm9ybSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBpc1Jlc2V0UmVxdWVzdGVkID0gdGhpcy5pc0xheW91dERpcnR5IHx8IHRoaXMuc2hvdWxkUmVzZXRUcmFuc2Zvcm07XG4gICAgICAgICAgICBjb25zdCBoYXNQcm9qZWN0aW9uID0gdGhpcy5wcm9qZWN0aW9uRGVsdGEgJiYgIWlzRGVsdGFaZXJvKHRoaXMucHJvamVjdGlvbkRlbHRhKTtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybVRlbXBsYXRlID0gKF9hID0gdGhpcy5vcHRpb25zLnZpc3VhbEVsZW1lbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRQcm9wcygpLnRyYW5zZm9ybVRlbXBsYXRlO1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtVGVtcGxhdGVWYWx1ZSA9IHRyYW5zZm9ybVRlbXBsYXRlID09PSBudWxsIHx8IHRyYW5zZm9ybVRlbXBsYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0cmFuc2Zvcm1UZW1wbGF0ZSh0aGlzLmxhdGVzdFZhbHVlcywgXCJcIik7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1UZW1wbGF0ZUhhc0NoYW5nZWQgPSB0cmFuc2Zvcm1UZW1wbGF0ZVZhbHVlICE9PSB0aGlzLnByZXZUcmFuc2Zvcm1UZW1wbGF0ZVZhbHVlO1xuICAgICAgICAgICAgaWYgKGlzUmVzZXRSZXF1ZXN0ZWQgJiZcbiAgICAgICAgICAgICAgICAoaGFzUHJvamVjdGlvbiB8fFxuICAgICAgICAgICAgICAgICAgICBoYXNUcmFuc2Zvcm0odGhpcy5sYXRlc3RWYWx1ZXMpIHx8XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybVRlbXBsYXRlSGFzQ2hhbmdlZCkpIHtcbiAgICAgICAgICAgICAgICByZXNldFRyYW5zZm9ybSh0aGlzLmluc3RhbmNlLCB0cmFuc2Zvcm1UZW1wbGF0ZVZhbHVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3VsZFJlc2V0VHJhbnNmb3JtID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZVJlbmRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1lYXN1cmUoKSB7XG4gICAgICAgICAgICBjb25zdCB7IHZpc3VhbEVsZW1lbnQgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgICAgIGlmICghdmlzdWFsRWxlbWVudClcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQm94KCk7XG4gICAgICAgICAgICBjb25zdCBib3ggPSB2aXN1YWxFbGVtZW50Lm1lYXN1cmVWaWV3cG9ydEJveCgpO1xuICAgICAgICAgICAgLy8gUmVtb3ZlIHZpZXdwb3J0IHNjcm9sbCB0byBnaXZlIHBhZ2UtcmVsYXRpdmUgY29vcmRpbmF0ZXNcbiAgICAgICAgICAgIGNvbnN0IHsgc2Nyb2xsIH0gPSB0aGlzLnJvb3Q7XG4gICAgICAgICAgICBpZiAoc2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlQXhpcyhib3gueCwgc2Nyb2xsLngpO1xuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZUF4aXMoYm94LnksIHNjcm9sbC55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBib3g7XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlRWxlbWVudFNjcm9sbChib3gpIHtcbiAgICAgICAgICAgIGNvbnN0IGJveFdpdGhvdXRTY3JvbGwgPSBjcmVhdGVCb3goKTtcbiAgICAgICAgICAgIGNvcHlCb3hJbnRvKGJveFdpdGhvdXRTY3JvbGwsIGJveCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFBlcmZvcm1hbmNlIFRPRE86IEtlZXAgYSBjdW11bGF0aXZlIHNjcm9sbCBvZmZzZXQgZG93biB0aGUgdHJlZVxuICAgICAgICAgICAgICogcmF0aGVyIHRoYW4gbG9vcCBiYWNrIHVwIHRoZSBwYXRoLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLnBhdGhbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzY3JvbGwsIG9wdGlvbnMsIGlzU2Nyb2xsUm9vdCB9ID0gbm9kZTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZSAhPT0gdGhpcy5yb290ICYmIHNjcm9sbCAmJiBvcHRpb25zLmxheW91dFNjcm9sbCkge1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogSWYgdGhpcyBpcyBhIG5ldyBzY3JvbGwgcm9vdCwgd2Ugd2FudCB0byByZW1vdmUgYWxsIHByZXZpb3VzIHNjcm9sbHNcbiAgICAgICAgICAgICAgICAgICAgICogZnJvbSB0aGUgdmlld3BvcnQgYm94LlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU2Nyb2xsUm9vdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29weUJveEludG8oYm94V2l0aG91dFNjcm9sbCwgYm94KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc2Nyb2xsOiByb290U2Nyb2xsIH0gPSB0aGlzLnJvb3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIFVuZG8gdGhlIGFwcGxpY2F0aW9uIG9mIHBhZ2Ugc2Nyb2xsIHRoYXQgd2FzIG9yaWdpbmFsbHkgYWRkZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIHRvIHRoZSBtZWFzdXJlZCBib3VuZGluZyBib3guXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb290U2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlQXhpcyhib3hXaXRob3V0U2Nyb2xsLngsIC1yb290U2Nyb2xsLngpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZUF4aXMoYm94V2l0aG91dFNjcm9sbC55LCAtcm9vdFNjcm9sbC55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGVBeGlzKGJveFdpdGhvdXRTY3JvbGwueCwgc2Nyb2xsLngpO1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGVBeGlzKGJveFdpdGhvdXRTY3JvbGwueSwgc2Nyb2xsLnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBib3hXaXRob3V0U2Nyb2xsO1xuICAgICAgICB9XG4gICAgICAgIGFwcGx5VHJhbnNmb3JtKGJveCwgdHJhbnNmb3JtT25seSA9IGZhbHNlKSB7XG4gICAgICAgICAgICBjb25zdCB3aXRoVHJhbnNmb3JtcyA9IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgY29weUJveEludG8od2l0aFRyYW5zZm9ybXMsIGJveCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLnBhdGhbaV07XG4gICAgICAgICAgICAgICAgaWYgKCF0cmFuc2Zvcm1Pbmx5ICYmXG4gICAgICAgICAgICAgICAgICAgIG5vZGUub3B0aW9ucy5sYXlvdXRTY3JvbGwgJiZcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5zY3JvbGwgJiZcbiAgICAgICAgICAgICAgICAgICAgbm9kZSAhPT0gbm9kZS5yb290KSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybUJveCh3aXRoVHJhbnNmb3Jtcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgeDogLW5vZGUuc2Nyb2xsLngsXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiAtbm9kZS5zY3JvbGwueSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghaGFzVHJhbnNmb3JtKG5vZGUubGF0ZXN0VmFsdWVzKSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtQm94KHdpdGhUcmFuc2Zvcm1zLCBub2RlLmxhdGVzdFZhbHVlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFzVHJhbnNmb3JtKHRoaXMubGF0ZXN0VmFsdWVzKSkge1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybUJveCh3aXRoVHJhbnNmb3JtcywgdGhpcy5sYXRlc3RWYWx1ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHdpdGhUcmFuc2Zvcm1zO1xuICAgICAgICB9XG4gICAgICAgIHJlbW92ZVRyYW5zZm9ybShib3gpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IGJveFdpdGhvdXRUcmFuc2Zvcm0gPSBjcmVhdGVCb3goKTtcbiAgICAgICAgICAgIGNvcHlCb3hJbnRvKGJveFdpdGhvdXRUcmFuc2Zvcm0sIGJveCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLnBhdGhbaV07XG4gICAgICAgICAgICAgICAgaWYgKCFub2RlLmluc3RhbmNlKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc1RyYW5zZm9ybShub2RlLmxhdGVzdFZhbHVlcykpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGhhc1NjYWxlKG5vZGUubGF0ZXN0VmFsdWVzKSAmJiBub2RlLnVwZGF0ZVNuYXBzaG90KCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlQm94ID0gY3JlYXRlQm94KCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZUJveCA9IG5vZGUubWVhc3VyZSgpO1xuICAgICAgICAgICAgICAgIGNvcHlCb3hJbnRvKHNvdXJjZUJveCwgbm9kZUJveCk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQm94VHJhbnNmb3Jtcyhib3hXaXRob3V0VHJhbnNmb3JtLCBub2RlLmxhdGVzdFZhbHVlcywgKF9hID0gbm9kZS5zbmFwc2hvdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxheW91dCwgc291cmNlQm94KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNUcmFuc2Zvcm0odGhpcy5sYXRlc3RWYWx1ZXMpKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQm94VHJhbnNmb3Jtcyhib3hXaXRob3V0VHJhbnNmb3JtLCB0aGlzLmxhdGVzdFZhbHVlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYm94V2l0aG91dFRyYW5zZm9ybTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIHNldFRhcmdldERlbHRhKGRlbHRhKSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldERlbHRhID0gZGVsdGE7XG4gICAgICAgICAgICB0aGlzLnJvb3Quc2NoZWR1bGVVcGRhdGVQcm9qZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgY3Jvc3NmYWRlOiBvcHRpb25zLmNyb3NzZmFkZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jcm9zc2ZhZGUgOiB0cnVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjbGVhck1lYXN1cmVtZW50cygpIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5sYXlvdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLnNuYXBzaG90ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5wcmV2VHJhbnNmb3JtVGVtcGxhdGVWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0RGVsdGEgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLnRhcmdldCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuaXNMYXlvdXREaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGcmFtZSBjYWxjdWxhdGlvbnNcbiAgICAgICAgICovXG4gICAgICAgIHJlc29sdmVUYXJnZXREZWx0YSgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IHsgbGF5b3V0LCBsYXlvdXRJZCB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB3ZSBoYXZlIG5vIGxheW91dCwgd2UgY2FuJ3QgcGVyZm9ybSBwcm9qZWN0aW9uLCBzbyBlYXJseSByZXR1cm5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKCF0aGlzLmxheW91dCB8fCAhKGxheW91dCB8fCBsYXlvdXRJZCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB3ZSBkb24ndCBoYXZlIGEgdGFyZ2V0RGVsdGEgYnV0IGRvIGhhdmUgYSBsYXlvdXQsIHdlIGNhbiBhdHRlbXB0IHRvIHJlc29sdmVcbiAgICAgICAgICAgICAqIGEgcmVsYXRpdmVQYXJlbnQuIFRoaXMgd2lsbCBhbGxvdyBhIGNvbXBvbmVudCB0byBwZXJmb3JtIHNjYWxlIGNvcnJlY3Rpb25cbiAgICAgICAgICAgICAqIGV2ZW4gaWYgbm8gYW5pbWF0aW9uIGhhcyBzdGFydGVkLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAvLyBUT0RPIElmIHRoaXMgaXMgdW5zdWNjZXNzZnVsIHRoaXMgY3VycmVudGx5IGhhcHBlbnMgZXZlcnkgZnJhbWVcbiAgICAgICAgICAgIGlmICghdGhpcy50YXJnZXREZWx0YSAmJiAhdGhpcy5yZWxhdGl2ZVRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IFRoaXMgaXMgYSBzZW1pLXJlcGV0aXRpb24gb2YgZnVydGhlciBkb3duIHRoaXMgZnVuY3Rpb24sIG1ha2UgRFJZXG4gICAgICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZVBhcmVudCA9IHRoaXMuZ2V0Q2xvc2VzdFByb2plY3RpbmdQYXJlbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWxhdGl2ZVBhcmVudCAmJiB0aGlzLnJlbGF0aXZlUGFyZW50LmxheW91dCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlVGFyZ2V0ID0gY3JlYXRlQm94KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVsYXRpdmVUYXJnZXRPcmlnaW4gPSBjcmVhdGVCb3goKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsY1JlbGF0aXZlUG9zaXRpb24odGhpcy5yZWxhdGl2ZVRhcmdldE9yaWdpbiwgdGhpcy5sYXlvdXQuYWN0dWFsLCB0aGlzLnJlbGF0aXZlUGFyZW50LmxheW91dC5hY3R1YWwpO1xuICAgICAgICAgICAgICAgICAgICBjb3B5Qm94SW50byh0aGlzLnJlbGF0aXZlVGFyZ2V0LCB0aGlzLnJlbGF0aXZlVGFyZ2V0T3JpZ2luKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHdlIGhhdmUgbm8gcmVsYXRpdmUgdGFyZ2V0IG9yIG5vIHRhcmdldCBkZWx0YSBvdXIgdGFyZ2V0IGlzbid0IHZhbGlkXG4gICAgICAgICAgICAgKiBmb3IgdGhpcyBmcmFtZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKCF0aGlzLnJlbGF0aXZlVGFyZ2V0ICYmICF0aGlzLnRhcmdldERlbHRhKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTGF6eS1pbml0IHRhcmdldCBkYXRhIHN0cnVjdHVyZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoIXRoaXMudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQgPSBjcmVhdGVCb3goKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldFdpdGhUcmFuc2Zvcm1zID0gY3JlYXRlQm94KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHdlJ3ZlIGdvdCBhIHJlbGF0aXZlIGJveCBmb3IgdGhpcyBjb21wb25lbnQsIHJlc29sdmUgaXQgaW50byBhIHRhcmdldCByZWxhdGl2ZSB0byB0aGUgcGFyZW50LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAodGhpcy5yZWxhdGl2ZVRhcmdldCAmJlxuICAgICAgICAgICAgICAgIHRoaXMucmVsYXRpdmVUYXJnZXRPcmlnaW4gJiZcbiAgICAgICAgICAgICAgICAoKF9hID0gdGhpcy5yZWxhdGl2ZVBhcmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICBjYWxjUmVsYXRpdmVCb3godGhpcy50YXJnZXQsIHRoaXMucmVsYXRpdmVUYXJnZXQsIHRoaXMucmVsYXRpdmVQYXJlbnQudGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBJZiB3ZSd2ZSBvbmx5IGdvdCBhIHRhcmdldERlbHRhLCByZXNvbHZlIGl0IGludG8gYSB0YXJnZXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMudGFyZ2V0RGVsdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoQm9vbGVhbih0aGlzLnJlc3VtaW5nRnJvbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogVGhpcyBpcyBjcmVhdGluZyBhIG5ldyBvYmplY3QgZXZlcnkgZnJhbWVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLmFwcGx5VHJhbnNmb3JtKHRoaXMubGF5b3V0LmFjdHVhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb3B5Qm94SW50byh0aGlzLnRhcmdldCwgdGhpcy5sYXlvdXQuYWN0dWFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXBwbHlCb3hEZWx0YSh0aGlzLnRhcmdldCwgdGhpcy50YXJnZXREZWx0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBJZiBubyB0YXJnZXQsIHVzZSBvd24gbGF5b3V0IGFzIHRhcmdldFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGNvcHlCb3hJbnRvKHRoaXMudGFyZ2V0LCB0aGlzLmxheW91dC5hY3R1YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB3ZSd2ZSBiZWVuIHRvbGQgdG8gYXR0ZW1wdCB0byByZXNvbHZlIGEgcmVsYXRpdmUgdGFyZ2V0LCBkbyBzby5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuYXR0ZW1wdFRvUmVzb2x2ZVJlbGF0aXZlVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRlbXB0VG9SZXNvbHZlUmVsYXRpdmVUYXJnZXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlUGFyZW50ID0gdGhpcy5nZXRDbG9zZXN0UHJvamVjdGluZ1BhcmVudCgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlbGF0aXZlUGFyZW50ICYmXG4gICAgICAgICAgICAgICAgICAgIEJvb2xlYW4odGhpcy5yZWxhdGl2ZVBhcmVudC5yZXN1bWluZ0Zyb20pID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgQm9vbGVhbih0aGlzLnJlc3VtaW5nRnJvbSkgJiZcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMucmVsYXRpdmVQYXJlbnQub3B0aW9ucy5sYXlvdXRTY3JvbGwgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZVBhcmVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZVRhcmdldCA9IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlVGFyZ2V0T3JpZ2luID0gY3JlYXRlQm94KCk7XG4gICAgICAgICAgICAgICAgICAgIGNhbGNSZWxhdGl2ZVBvc2l0aW9uKHRoaXMucmVsYXRpdmVUYXJnZXRPcmlnaW4sIHRoaXMudGFyZ2V0LCB0aGlzLnJlbGF0aXZlUGFyZW50LnRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIGNvcHlCb3hJbnRvKHRoaXMucmVsYXRpdmVUYXJnZXQsIHRoaXMucmVsYXRpdmVUYXJnZXRPcmlnaW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnZXRDbG9zZXN0UHJvamVjdGluZ1BhcmVudCgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQgfHwgaGFzVHJhbnNmb3JtKHRoaXMucGFyZW50LmxhdGVzdFZhbHVlcykpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmICgodGhpcy5wYXJlbnQucmVsYXRpdmVUYXJnZXQgfHwgdGhpcy5wYXJlbnQudGFyZ2V0RGVsdGEpICYmXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQubGF5b3V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50LmdldENsb3Nlc3RQcm9qZWN0aW5nUGFyZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2FsY1Byb2plY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCB7IGxheW91dCwgbGF5b3V0SWQgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhpcyBzZWN0aW9uIG9mIHRoZSB0cmVlIGlzbid0IGFuaW1hdGluZyB3ZSBjYW5cbiAgICAgICAgICAgICAqIGRlbGV0ZSBvdXIgdGFyZ2V0IHNvdXJjZXMgZm9yIHRoZSBmb2xsb3dpbmcgZnJhbWUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuaXNUcmVlQW5pbWF0aW5nID0gQm9vbGVhbigoKF9hID0gdGhpcy5wYXJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pc1RyZWVBbmltYXRpbmcpIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50QW5pbWF0aW9uIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQW5pbWF0aW9uKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1RyZWVBbmltYXRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldERlbHRhID0gdGhpcy5yZWxhdGl2ZVRhcmdldCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5sYXlvdXQgfHwgIShsYXlvdXQgfHwgbGF5b3V0SWQpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IGxlYWQgPSB0aGlzLmdldExlYWQoKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmVzZXQgdGhlIGNvcnJlY3RlZCBib3ggd2l0aCB0aGUgbGF0ZXN0IHZhbHVlcyBmcm9tIGJveCwgYXMgd2UncmUgdGhlbiBnb2luZ1xuICAgICAgICAgICAgICogdG8gcGVyZm9ybSBtdXRhdGl2ZSBvcGVyYXRpb25zIG9uIGl0LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb3B5Qm94SW50byh0aGlzLmxheW91dENvcnJlY3RlZCwgdGhpcy5sYXlvdXQuYWN0dWFsKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQXBwbHkgYWxsIHRoZSBwYXJlbnQgZGVsdGFzIHRvIHRoaXMgYm94IHRvIHByb2R1Y2UgdGhlIGNvcnJlY3RlZCBib3guIFRoaXNcbiAgICAgICAgICAgICAqIGlzIHRoZSBsYXlvdXQgYm94LCBhcyBpdCB3aWxsIGFwcGVhciBvbiBzY3JlZW4gYXMgYSByZXN1bHQgb2YgdGhlIHRyYW5zZm9ybXMgb2YgaXRzIHBhcmVudHMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGFwcGx5VHJlZURlbHRhcyh0aGlzLmxheW91dENvcnJlY3RlZCwgdGhpcy50cmVlU2NhbGUsIHRoaXMucGF0aCwgQm9vbGVhbih0aGlzLnJlc3VtaW5nRnJvbSkgfHwgdGhpcyAhPT0gbGVhZCk7XG4gICAgICAgICAgICBjb25zdCB7IHRhcmdldCB9ID0gbGVhZDtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmICghdGhpcy5wcm9qZWN0aW9uRGVsdGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2plY3Rpb25EZWx0YSA9IGNyZWF0ZURlbHRhKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9qZWN0aW9uRGVsdGFXaXRoVHJhbnNmb3JtID0gY3JlYXRlRGVsdGEoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHByZXZUcmVlU2NhbGVYID0gdGhpcy50cmVlU2NhbGUueDtcbiAgICAgICAgICAgIGNvbnN0IHByZXZUcmVlU2NhbGVZID0gdGhpcy50cmVlU2NhbGUueTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZQcm9qZWN0aW9uVHJhbnNmb3JtID0gdGhpcy5wcm9qZWN0aW9uVHJhbnNmb3JtO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBVcGRhdGUgdGhlIGRlbHRhIGJldHdlZW4gdGhlIGNvcnJlY3RlZCBib3ggYW5kIHRoZSB0YXJnZXQgYm94IGJlZm9yZSB1c2VyLXNldCB0cmFuc2Zvcm1zIHdlcmUgYXBwbGllZC5cbiAgICAgICAgICAgICAqIFRoaXMgd2lsbCBhbGxvdyB1cyB0byBjYWxjdWxhdGUgdGhlIGNvcnJlY3RlZCBib3JkZXJSYWRpdXMgYW5kIGJveFNoYWRvdyB0byBjb21wZW5zYXRlXG4gICAgICAgICAgICAgKiBmb3Igb3VyIGxheW91dCByZXByb2plY3Rpb24sIGJ1dCBzdGlsbCBhbGxvdyB0aGVtIHRvIGJlIHNjYWxlZCBjb3JyZWN0bHkgYnkgdGhlIHVzZXIuXG4gICAgICAgICAgICAgKiBJdCBtaWdodCBiZSB0aGF0IHRvIHNpbXBsaWZ5IHRoaXMgd2UgbWF5IHdhbnQgdG8gYWNjZXB0IHRoYXQgdXNlci1zZXQgc2NhbGUgaXMgYWxzbyBjb3JyZWN0ZWRcbiAgICAgICAgICAgICAqIGFuZCB3ZSB3b3VsZG4ndCBoYXZlIHRvIGtlZXAgYW5kIGNhbGMgYm90aCBkZWx0YXMsIE9SIHdlIGNvdWxkIHN1cHBvcnQgYSB1c2VyIHNldHRpbmdcbiAgICAgICAgICAgICAqIHRvIGFsbG93IHBlb3BsZSB0byBjaG9vc2Ugd2hldGhlciB0aGVzZSBzdHlsZXMgYXJlIGNvcnJlY3RlZCBiYXNlZCBvbiBqdXN0IHRoZVxuICAgICAgICAgICAgICogbGF5b3V0IHJlcHJvamVjdGlvbiBvciB0aGUgZmluYWwgYm91bmRpbmcgYm94LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjYWxjQm94RGVsdGEodGhpcy5wcm9qZWN0aW9uRGVsdGEsIHRoaXMubGF5b3V0Q29ycmVjdGVkLCB0YXJnZXQsIHRoaXMubGF0ZXN0VmFsdWVzKTtcbiAgICAgICAgICAgIHRoaXMucHJvamVjdGlvblRyYW5zZm9ybSA9IGJ1aWxkUHJvamVjdGlvblRyYW5zZm9ybSh0aGlzLnByb2plY3Rpb25EZWx0YSwgdGhpcy50cmVlU2NhbGUpO1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvamVjdGlvblRyYW5zZm9ybSAhPT0gcHJldlByb2plY3Rpb25UcmFuc2Zvcm0gfHxcbiAgICAgICAgICAgICAgICB0aGlzLnRyZWVTY2FsZS54ICE9PSBwcmV2VHJlZVNjYWxlWCB8fFxuICAgICAgICAgICAgICAgIHRoaXMudHJlZVNjYWxlLnkgIT09IHByZXZUcmVlU2NhbGVZKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNQcm9qZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVSZW5kZXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyhcInByb2plY3Rpb25VcGRhdGVcIiwgdGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBoaWRlKCkge1xuICAgICAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIFRPRE86IFNjaGVkdWxlIHJlbmRlclxuICAgICAgICB9XG4gICAgICAgIHNob3coKSB7XG4gICAgICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICAvLyBUT0RPOiBTY2hlZHVsZSByZW5kZXJcbiAgICAgICAgfVxuICAgICAgICBzY2hlZHVsZVJlbmRlcihub3RpZnlBbGwgPSB0cnVlKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgIChfYiA9IChfYSA9IHRoaXMub3B0aW9ucykuc2NoZWR1bGVSZW5kZXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgICAgIG5vdGlmeUFsbCAmJiAoKF9jID0gdGhpcy5nZXRTdGFjaygpKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Muc2NoZWR1bGVSZW5kZXIoKSk7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXN1bWluZ0Zyb20gJiYgIXRoaXMucmVzdW1pbmdGcm9tLmluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bWluZ0Zyb20gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0QW5pbWF0aW9uT3JpZ2luKGRlbHRhLCBoYXNPbmx5UmVsYXRpdmVUYXJnZXRDaGFuZ2VkID0gZmFsc2UpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gdGhpcy5zbmFwc2hvdDtcbiAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90TGF0ZXN0VmFsdWVzID0gKHNuYXBzaG90ID09PSBudWxsIHx8IHNuYXBzaG90ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzbmFwc2hvdC5sYXRlc3RWYWx1ZXMpIHx8IHt9O1xuICAgICAgICAgICAgY29uc3QgbWl4ZWRWYWx1ZXMgPSB7IC4uLnRoaXMubGF0ZXN0VmFsdWVzIH07XG4gICAgICAgICAgICBjb25zdCB0YXJnZXREZWx0YSA9IGNyZWF0ZURlbHRhKCk7XG4gICAgICAgICAgICB0aGlzLnJlbGF0aXZlVGFyZ2V0ID0gdGhpcy5yZWxhdGl2ZVRhcmdldE9yaWdpbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdFRvUmVzb2x2ZVJlbGF0aXZlVGFyZ2V0ID0gIWhhc09ubHlSZWxhdGl2ZVRhcmdldENoYW5nZWQ7XG4gICAgICAgICAgICBjb25zdCByZWxhdGl2ZUxheW91dCA9IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgY29uc3QgaXNTaGFyZWRMYXlvdXRBbmltYXRpb24gPSBzbmFwc2hvdCA9PT0gbnVsbCB8fCBzbmFwc2hvdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc25hcHNob3QuaXNTaGFyZWQ7XG4gICAgICAgICAgICBjb25zdCBpc09ubHlNZW1iZXIgPSAoKChfYSA9IHRoaXMuZ2V0U3RhY2soKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1lbWJlcnMubGVuZ3RoKSB8fCAwKSA8PSAxO1xuICAgICAgICAgICAgY29uc3Qgc2hvdWxkQ3Jvc3NmYWRlT3BhY2l0eSA9IEJvb2xlYW4oaXNTaGFyZWRMYXlvdXRBbmltYXRpb24gJiZcbiAgICAgICAgICAgICAgICAhaXNPbmx5TWVtYmVyICYmXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmNyb3NzZmFkZSA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICF0aGlzLnBhdGguc29tZShoYXNPcGFjaXR5Q3Jvc3NmYWRlKSk7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblByb2dyZXNzID0gMDtcbiAgICAgICAgICAgIHRoaXMubWl4VGFyZ2V0RGVsdGEgPSAobGF0ZXN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gbGF0ZXN0IC8gMTAwMDtcbiAgICAgICAgICAgICAgICBtaXhBeGlzRGVsdGEodGFyZ2V0RGVsdGEueCwgZGVsdGEueCwgcHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgIG1peEF4aXNEZWx0YSh0YXJnZXREZWx0YS55LCBkZWx0YS55LCBwcm9ncmVzcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUYXJnZXREZWx0YSh0YXJnZXREZWx0YSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVsYXRpdmVUYXJnZXQgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZVRhcmdldE9yaWdpbiAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxheW91dCAmJlxuICAgICAgICAgICAgICAgICAgICAoKF9hID0gdGhpcy5yZWxhdGl2ZVBhcmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxheW91dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsY1JlbGF0aXZlUG9zaXRpb24ocmVsYXRpdmVMYXlvdXQsIHRoaXMubGF5b3V0LmFjdHVhbCwgdGhpcy5yZWxhdGl2ZVBhcmVudC5sYXlvdXQuYWN0dWFsKTtcbiAgICAgICAgICAgICAgICAgICAgbWl4Qm94KHRoaXMucmVsYXRpdmVUYXJnZXQsIHRoaXMucmVsYXRpdmVUYXJnZXRPcmlnaW4sIHJlbGF0aXZlTGF5b3V0LCBwcm9ncmVzcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc1NoYXJlZExheW91dEFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblZhbHVlcyA9IG1peGVkVmFsdWVzO1xuICAgICAgICAgICAgICAgICAgICBtaXhWYWx1ZXMobWl4ZWRWYWx1ZXMsIHNuYXBzaG90TGF0ZXN0VmFsdWVzLCB0aGlzLmxhdGVzdFZhbHVlcywgcHJvZ3Jlc3MsIHNob3VsZENyb3NzZmFkZU9wYWNpdHksIGlzT25seU1lbWJlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucm9vdC5zY2hlZHVsZVVwZGF0ZVByb2plY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlUmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Qcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMubWl4VGFyZ2V0RGVsdGEoMCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhcnRBbmltYXRpb24ob3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKFwiYW5pbWF0aW9uU3RhcnRcIik7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLmN1cnJlbnRBbmltYXRpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdG9wKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXN1bWluZ0Zyb20pIHtcbiAgICAgICAgICAgICAgICAoX2IgPSB0aGlzLnJlc3VtaW5nRnJvbS5jdXJyZW50QW5pbWF0aW9uKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0FuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgIGNhbmNlbFN5bmMudXBkYXRlKHRoaXMucGVuZGluZ0FuaW1hdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQW5pbWF0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTdGFydCB0aGUgYW5pbWF0aW9uIGluIHRoZSBuZXh0IGZyYW1lIHRvIGhhdmUgYSBmcmFtZSB3aXRoIHByb2dyZXNzIDAsXG4gICAgICAgICAgICAgKiB3aGVyZSB0aGUgdGFyZ2V0IGlzIHRoZSBzYW1lIGFzIHdoZW4gdGhlIGFuaW1hdGlvbiBzdGFydGVkLCBzbyB3ZSBjYW5cbiAgICAgICAgICAgICAqIGNhbGN1bGF0ZSB0aGUgcmVsYXRpdmUgcG9zaXRpb25zIGNvcnJlY3RseSBmb3IgaW5zdGFudCB0cmFuc2l0aW9ucy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nQW5pbWF0aW9uID0gc3luYy51cGRhdGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGdsb2JhbFByb2plY3Rpb25TdGF0ZS5oYXNBbmltYXRlZFNpbmNlUmVzaXplID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRBbmltYXRpb24gPSBhbmltYXRlKDAsIGFuaW1hdGlvblRhcmdldCwge1xuICAgICAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZTogKGxhdGVzdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5taXhUYXJnZXREZWx0YShsYXRlc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gb3B0aW9ucy5vblVwZGF0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwob3B0aW9ucywgbGF0ZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gb3B0aW9ucy5vbkNvbXBsZXRlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXN1bWluZ0Zyb20pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bWluZ0Zyb20uY3VycmVudEFuaW1hdGlvbiA9IHRoaXMuY3VycmVudEFuaW1hdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQW5pbWF0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29tcGxldGVBbmltYXRpb24oKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXN1bWluZ0Zyb20pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VtaW5nRnJvbS5jdXJyZW50QW5pbWF0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdW1pbmdGcm9tLnByZXNlcnZlT3BhY2l0eSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChfYSA9IHRoaXMuZ2V0U3RhY2soKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmV4aXRBbmltYXRpb25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgdGhpcy5yZXN1bWluZ0Zyb20gPVxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEFuaW1hdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uVmFsdWVzID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKFwiYW5pbWF0aW9uQ29tcGxldGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgZmluaXNoQW5pbWF0aW9uKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudEFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgIChfYSA9IHRoaXMubWl4VGFyZ2V0RGVsdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRoaXMsIGFuaW1hdGlvblRhcmdldCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50QW5pbWF0aW9uLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY29tcGxldGVBbmltYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBhcHBseVRyYW5zZm9ybXNUb1RhcmdldCgpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlYWQgPSB0aGlzLmdldExlYWQoKTtcbiAgICAgICAgICAgIGxldCB7IHRhcmdldFdpdGhUcmFuc2Zvcm1zLCB0YXJnZXQsIGxheW91dCwgbGF0ZXN0VmFsdWVzIH0gPSBsZWFkO1xuICAgICAgICAgICAgaWYgKCF0YXJnZXRXaXRoVHJhbnNmb3JtcyB8fCAhdGFyZ2V0IHx8ICFsYXlvdXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB3ZSdyZSBvbmx5IGFuaW1hdGluZyBwb3NpdGlvbiwgYW5kIHRoaXMgZWxlbWVudCBpc24ndCB0aGUgbGVhZCBlbGVtZW50LFxuICAgICAgICAgICAgICogdGhlbiBpbnN0ZWFkIG9mIHByb2plY3RpbmcgaW50byB0aGUgbGVhZCBib3ggd2UgaW5zdGVhZCB3YW50IHRvIGNhbGN1bGF0ZVxuICAgICAgICAgICAgICogYSBuZXcgdGFyZ2V0IHRoYXQgYWxpZ25zIHRoZSB0d28gYm94ZXMgYnV0IG1haW50YWlucyB0aGUgbGF5b3V0IHNoYXBlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAodGhpcyAhPT0gbGVhZCAmJlxuICAgICAgICAgICAgICAgIHRoaXMubGF5b3V0ICYmXG4gICAgICAgICAgICAgICAgbGF5b3V0ICYmXG4gICAgICAgICAgICAgICAgc2hvdWxkQW5pbWF0ZVBvc2l0aW9uT25seSh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uVHlwZSwgdGhpcy5sYXlvdXQuYWN0dWFsLCBsYXlvdXQuYWN0dWFsKSkge1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IHRoaXMudGFyZ2V0IHx8IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHhMZW5ndGggPSBjYWxjTGVuZ3RoKHRoaXMubGF5b3V0LmFjdHVhbC54KTtcbiAgICAgICAgICAgICAgICB0YXJnZXQueC5taW4gPSBsZWFkLnRhcmdldC54Lm1pbjtcbiAgICAgICAgICAgICAgICB0YXJnZXQueC5tYXggPSB0YXJnZXQueC5taW4gKyB4TGVuZ3RoO1xuICAgICAgICAgICAgICAgIGNvbnN0IHlMZW5ndGggPSBjYWxjTGVuZ3RoKHRoaXMubGF5b3V0LmFjdHVhbC55KTtcbiAgICAgICAgICAgICAgICB0YXJnZXQueS5taW4gPSBsZWFkLnRhcmdldC55Lm1pbjtcbiAgICAgICAgICAgICAgICB0YXJnZXQueS5tYXggPSB0YXJnZXQueS5taW4gKyB5TGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29weUJveEludG8odGFyZ2V0V2l0aFRyYW5zZm9ybXMsIHRhcmdldCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFwcGx5IHRoZSBsYXRlc3QgdXNlci1zZXQgdHJhbnNmb3JtcyB0byB0aGUgdGFyZ2V0Qm94IHRvIHByb2R1Y2UgdGhlIHRhcmdldEJveEZpbmFsLlxuICAgICAgICAgICAgICogVGhpcyBpcyB0aGUgZmluYWwgYm94IHRoYXQgd2Ugd2lsbCB0aGVuIHByb2plY3QgaW50byBieSBjYWxjdWxhdGluZyBhIHRyYW5zZm9ybSBkZWx0YSBhbmRcbiAgICAgICAgICAgICAqIGFwcGx5aW5nIGl0IHRvIHRoZSBjb3JyZWN0ZWQgYm94LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0cmFuc2Zvcm1Cb3godGFyZ2V0V2l0aFRyYW5zZm9ybXMsIGxhdGVzdFZhbHVlcyk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFVwZGF0ZSB0aGUgZGVsdGEgYmV0d2VlbiB0aGUgY29ycmVjdGVkIGJveCBhbmQgdGhlIGZpbmFsIHRhcmdldCBib3gsIGFmdGVyXG4gICAgICAgICAgICAgKiB1c2VyLXNldCB0cmFuc2Zvcm1zIGFyZSBhcHBsaWVkIHRvIGl0LiBUaGlzIHdpbGwgYmUgdXNlZCBieSB0aGUgcmVuZGVyZXIgdG9cbiAgICAgICAgICAgICAqIGNyZWF0ZSBhIHRyYW5zZm9ybSBzdHlsZSB0aGF0IHdpbGwgcmVwcm9qZWN0IHRoZSBlbGVtZW50IGZyb20gaXRzIGFjdHVhbCBsYXlvdXRcbiAgICAgICAgICAgICAqIGludG8gdGhlIGRlc2lyZWQgYm91bmRpbmcgYm94LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjYWxjQm94RGVsdGEodGhpcy5wcm9qZWN0aW9uRGVsdGFXaXRoVHJhbnNmb3JtLCB0aGlzLmxheW91dENvcnJlY3RlZCwgdGFyZ2V0V2l0aFRyYW5zZm9ybXMsIGxhdGVzdFZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVnaXN0ZXJTaGFyZWROb2RlKGxheW91dElkLCBub2RlKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgIGlmICghdGhpcy5zaGFyZWROb2Rlcy5oYXMobGF5b3V0SWQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFyZWROb2Rlcy5zZXQobGF5b3V0SWQsIG5ldyBOb2RlU3RhY2soKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzdGFjayA9IHRoaXMuc2hhcmVkTm9kZXMuZ2V0KGxheW91dElkKTtcbiAgICAgICAgICAgIHN0YWNrLmFkZChub2RlKTtcbiAgICAgICAgICAgIG5vZGUucHJvbW90ZSh7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogKF9hID0gbm9kZS5vcHRpb25zLmluaXRpYWxQcm9tb3Rpb25Db25maWcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50cmFuc2l0aW9uLFxuICAgICAgICAgICAgICAgIHByZXNlcnZlRm9sbG93T3BhY2l0eTogKF9jID0gKF9iID0gbm9kZS5vcHRpb25zLmluaXRpYWxQcm9tb3Rpb25Db25maWcpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zaG91bGRQcmVzZXJ2ZUZvbGxvd09wYWNpdHkpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKF9iLCBub2RlKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlzTGVhZCgpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gdGhpcy5nZXRTdGFjaygpO1xuICAgICAgICAgICAgcmV0dXJuIHN0YWNrID8gc3RhY2subGVhZCA9PT0gdGhpcyA6IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0TGVhZCgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IHsgbGF5b3V0SWQgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgICAgIHJldHVybiBsYXlvdXRJZCA/ICgoX2EgPSB0aGlzLmdldFN0YWNrKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZWFkKSB8fCB0aGlzIDogdGhpcztcbiAgICAgICAgfVxuICAgICAgICBnZXRQcmV2TGVhZCgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IHsgbGF5b3V0SWQgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgICAgIHJldHVybiBsYXlvdXRJZCA/IChfYSA9IHRoaXMuZ2V0U3RhY2soKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnByZXZMZWFkIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGdldFN0YWNrKCkge1xuICAgICAgICAgICAgY29uc3QgeyBsYXlvdXRJZCB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgaWYgKGxheW91dElkKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJvb3Quc2hhcmVkTm9kZXMuZ2V0KGxheW91dElkKTtcbiAgICAgICAgfVxuICAgICAgICBwcm9tb3RlKHsgbmVlZHNSZXNldCwgdHJhbnNpdGlvbiwgcHJlc2VydmVGb2xsb3dPcGFjaXR5LCB9ID0ge30pIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gdGhpcy5nZXRTdGFjaygpO1xuICAgICAgICAgICAgaWYgKHN0YWNrKVxuICAgICAgICAgICAgICAgIHN0YWNrLnByb21vdGUodGhpcywgcHJlc2VydmVGb2xsb3dPcGFjaXR5KTtcbiAgICAgICAgICAgIGlmIChuZWVkc1Jlc2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9qZWN0aW9uRGVsdGEgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5uZWVkc1Jlc2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uKVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0T3B0aW9ucyh7IHRyYW5zaXRpb24gfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVsZWdhdGUoKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFjayA9IHRoaXMuZ2V0U3RhY2soKTtcbiAgICAgICAgICAgIGlmIChzdGFjaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGFjay5yZWxlZ2F0ZSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXNldFJvdGF0aW9uKCkge1xuICAgICAgICAgICAgY29uc3QgeyB2aXN1YWxFbGVtZW50IH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoIXZpc3VhbEVsZW1lbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBubyBkZXRlY3RlZCByb3RhdGlvbiB2YWx1ZXMsIHdlIGNhbiBlYXJseSByZXR1cm4gd2l0aG91dCBhIGZvcmNlZCByZW5kZXIuXG4gICAgICAgICAgICBsZXQgaGFzUm90YXRlID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBLZWVwIGEgcmVjb3JkIG9mIGFsbCB0aGUgdmFsdWVzIHdlJ3ZlIHJlc2V0XG4gICAgICAgICAgICBjb25zdCByZXNldFZhbHVlcyA9IHt9O1xuICAgICAgICAgICAgLy8gQ2hlY2sgdGhlIHJvdGF0ZSB2YWx1ZSBvZiBhbGwgYXhlcyBhbmQgcmVzZXQgdG8gMFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmFuc2Zvcm1BeGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXhpcyA9IHRyYW5zZm9ybUF4ZXNbaV07XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gXCJyb3RhdGVcIiArIGF4aXM7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhpcyByb3RhdGlvbiBkb2Vzbid0IGV4aXN0IGFzIGEgbW90aW9uIHZhbHVlLCB0aGVuIHdlIGRvbid0XG4gICAgICAgICAgICAgICAgLy8gbmVlZCB0byByZXNldCBpdFxuICAgICAgICAgICAgICAgIGlmICghdmlzdWFsRWxlbWVudC5nZXRTdGF0aWNWYWx1ZShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoYXNSb3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIFJlY29yZCB0aGUgcm90YXRpb24gYW5kIHRoZW4gdGVtcG9yYXJpbHkgc2V0IGl0IHRvIDBcbiAgICAgICAgICAgICAgICByZXNldFZhbHVlc1trZXldID0gdmlzdWFsRWxlbWVudC5nZXRTdGF0aWNWYWx1ZShrZXkpO1xuICAgICAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQuc2V0U3RhdGljVmFsdWUoa2V5LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gcm90YXRpb24gdmFsdWVzLCB3ZSBkb24ndCBuZWVkIHRvIGRvIGFueSBtb3JlLlxuICAgICAgICAgICAgaWYgKCFoYXNSb3RhdGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLy8gRm9yY2UgYSByZW5kZXIgb2YgdGhpcyBlbGVtZW50IHRvIGFwcGx5IHRoZSB0cmFuc2Zvcm0gd2l0aCBhbGwgcm90YXRpb25zXG4gICAgICAgICAgICAvLyBzZXQgdG8gMC5cbiAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQgPT09IG51bGwgfHwgdmlzdWFsRWxlbWVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmlzdWFsRWxlbWVudC5zeW5jUmVuZGVyKCk7XG4gICAgICAgICAgICAvLyBQdXQgYmFjayBhbGwgdGhlIHZhbHVlcyB3ZSByZXNldFxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmVzZXRWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICB2aXN1YWxFbGVtZW50LnNldFN0YXRpY1ZhbHVlKGtleSwgcmVzZXRWYWx1ZXNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTY2hlZHVsZSBhIHJlbmRlciBmb3IgdGhlIG5leHQgZnJhbWUuIFRoaXMgZW5zdXJlcyB3ZSB3b24ndCB2aXN1YWxseVxuICAgICAgICAgICAgLy8gc2VlIHRoZSBlbGVtZW50IHdpdGggdGhlIHJlc2V0IHJvdGF0ZSB2YWx1ZSBhcHBsaWVkLlxuICAgICAgICAgICAgdmlzdWFsRWxlbWVudC5zY2hlZHVsZVJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICAgIGdldFByb2plY3Rpb25TdHlsZXMoc3R5bGVQcm9wID0ge30pIHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgLy8gVE9ETzogUmV0dXJuIGxpZmVjeWNsZS1wZXJzaXN0ZW50IG9iamVjdFxuICAgICAgICAgICAgY29uc3Qgc3R5bGVzID0ge307XG4gICAgICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2UgfHwgdGhpcy5pc1NWRylcbiAgICAgICAgICAgICAgICByZXR1cm4gc3R5bGVzO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzVmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZpc2liaWxpdHk6IFwiaGlkZGVuXCIgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0eWxlcy52aXNpYmlsaXR5ID0gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybVRlbXBsYXRlID0gKF9hID0gdGhpcy5vcHRpb25zLnZpc3VhbEVsZW1lbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRQcm9wcygpLnRyYW5zZm9ybVRlbXBsYXRlO1xuICAgICAgICAgICAgaWYgKHRoaXMubmVlZHNSZXNldCkge1xuICAgICAgICAgICAgICAgIHRoaXMubmVlZHNSZXNldCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHN0eWxlcy5vcGFjaXR5ID0gXCJcIjtcbiAgICAgICAgICAgICAgICBzdHlsZXMucG9pbnRlckV2ZW50cyA9XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVNb3Rpb25WYWx1ZShzdHlsZVByb3AucG9pbnRlckV2ZW50cykgfHwgXCJcIjtcbiAgICAgICAgICAgICAgICBzdHlsZXMudHJhbnNmb3JtID0gdHJhbnNmb3JtVGVtcGxhdGVcbiAgICAgICAgICAgICAgICAgICAgPyB0cmFuc2Zvcm1UZW1wbGF0ZSh0aGlzLmxhdGVzdFZhbHVlcywgXCJcIilcbiAgICAgICAgICAgICAgICAgICAgOiBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3R5bGVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbGVhZCA9IHRoaXMuZ2V0TGVhZCgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnByb2plY3Rpb25EZWx0YSB8fCAhdGhpcy5sYXlvdXQgfHwgIWxlYWQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW1wdHlTdHlsZXMgPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxheW91dElkKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtcHR5U3R5bGVzLm9wYWNpdHkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RWYWx1ZXMub3BhY2l0eSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmxhdGVzdFZhbHVlcy5vcGFjaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAxO1xuICAgICAgICAgICAgICAgICAgICBlbXB0eVN0eWxlcy5wb2ludGVyRXZlbnRzID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVNb3Rpb25WYWx1ZShzdHlsZVByb3AucG9pbnRlckV2ZW50cykgfHwgXCJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzUHJvamVjdGVkICYmICFoYXNUcmFuc2Zvcm0odGhpcy5sYXRlc3RWYWx1ZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtcHR5U3R5bGVzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVRlbXBsYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRyYW5zZm9ybVRlbXBsYXRlKHt9LCBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNQcm9qZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5U3R5bGVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdmFsdWVzVG9SZW5kZXIgPSBsZWFkLmFuaW1hdGlvblZhbHVlcyB8fCBsZWFkLmxhdGVzdFZhbHVlcztcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUcmFuc2Zvcm1zVG9UYXJnZXQoKTtcbiAgICAgICAgICAgIHN0eWxlcy50cmFuc2Zvcm0gPSBidWlsZFByb2plY3Rpb25UcmFuc2Zvcm0odGhpcy5wcm9qZWN0aW9uRGVsdGFXaXRoVHJhbnNmb3JtLCB0aGlzLnRyZWVTY2FsZSwgdmFsdWVzVG9SZW5kZXIpO1xuICAgICAgICAgICAgaWYgKHRyYW5zZm9ybVRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgc3R5bGVzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVRlbXBsYXRlKHZhbHVlc1RvUmVuZGVyLCBzdHlsZXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgeCwgeSB9ID0gdGhpcy5wcm9qZWN0aW9uRGVsdGE7XG4gICAgICAgICAgICBzdHlsZXMudHJhbnNmb3JtT3JpZ2luID0gYCR7eC5vcmlnaW4gKiAxMDB9JSAke3kub3JpZ2luICogMTAwfSUgMGA7XG4gICAgICAgICAgICBpZiAobGVhZC5hbmltYXRpb25WYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBJZiB0aGUgbGVhZCBjb21wb25lbnQgaXMgYW5pbWF0aW5nLCBhc3NpZ24gdGhpcyBlaXRoZXIgdGhlIGVudGVyaW5nL2xlYXZpbmdcbiAgICAgICAgICAgICAgICAgKiBvcGFjaXR5XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgc3R5bGVzLm9wYWNpdHkgPVxuICAgICAgICAgICAgICAgICAgICBsZWFkID09PSB0aGlzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IChfYyA9IChfYiA9IHZhbHVlc1RvUmVuZGVyLm9wYWNpdHkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRoaXMubGF0ZXN0VmFsdWVzLm9wYWNpdHkpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5wcmVzZXJ2ZU9wYWNpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMubGF0ZXN0VmFsdWVzLm9wYWNpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHZhbHVlc1RvUmVuZGVyLm9wYWNpdHlFeGl0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogT3Igd2UncmUgbm90IGFuaW1hdGluZyBhdCBhbGwsIHNldCB0aGUgbGVhZCBjb21wb25lbnQgdG8gaXRzIGFjdHVhbFxuICAgICAgICAgICAgICAgICAqIG9wYWNpdHkgYW5kIG90aGVyIGNvbXBvbmVudHMgdG8gaGlkZGVuLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHN0eWxlcy5vcGFjaXR5ID1cbiAgICAgICAgICAgICAgICAgICAgbGVhZCA9PT0gdGhpc1xuICAgICAgICAgICAgICAgICAgICAgICAgPyB2YWx1ZXNUb1JlbmRlci5vcGFjaXR5ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHZhbHVlc1RvUmVuZGVyLm9wYWNpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdmFsdWVzVG9SZW5kZXIub3BhY2l0eUV4aXQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdmFsdWVzVG9SZW5kZXIub3BhY2l0eUV4aXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFwcGx5IHNjYWxlIGNvcnJlY3Rpb25cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2NhbGVDb3JyZWN0b3JzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlc1RvUmVuZGVyW2tleV0gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjb3JyZWN0LCBhcHBseVRvIH0gPSBzY2FsZUNvcnJlY3RvcnNba2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb3JyZWN0ZWQgPSBjb3JyZWN0KHZhbHVlc1RvUmVuZGVyW2tleV0sIGxlYWQpO1xuICAgICAgICAgICAgICAgIGlmIChhcHBseVRvKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bSA9IGFwcGx5VG8ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXNbYXBwbHlUb1tpXV0gPSBjb3JyZWN0ZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlc1trZXldID0gY29ycmVjdGVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRGlzYWJsZSBwb2ludGVyIGV2ZW50cyBvbiBmb2xsb3cgY29tcG9uZW50cy4gVGhpcyBpcyB0byBlbnN1cmVcbiAgICAgICAgICAgICAqIHRoYXQgaWYgYSBmb2xsb3cgY29tcG9uZW50IGNvdmVycyBhIGxlYWQgY29tcG9uZW50IGl0IGRvZXNuJ3QgYmxvY2tcbiAgICAgICAgICAgICAqIHBvaW50ZXIgZXZlbnRzIG9uIHRoZSBsZWFkLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxheW91dElkKSB7XG4gICAgICAgICAgICAgICAgc3R5bGVzLnBvaW50ZXJFdmVudHMgPVxuICAgICAgICAgICAgICAgICAgICBsZWFkID09PSB0aGlzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlc29sdmVNb3Rpb25WYWx1ZShzdHlsZVByb3AucG9pbnRlckV2ZW50cykgfHwgXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIm5vbmVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdHlsZXM7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJTbmFwc2hvdCgpIHtcbiAgICAgICAgICAgIHRoaXMucmVzdW1lRnJvbSA9IHRoaXMuc25hcHNob3QgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT25seSBydW4gb24gcm9vdFxuICAgICAgICByZXNldFRyZWUoKSB7XG4gICAgICAgICAgICB0aGlzLnJvb3Qubm9kZXMuZm9yRWFjaCgobm9kZSkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBub2RlLmN1cnJlbnRBbmltYXRpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdG9wKCk7IH0pO1xuICAgICAgICAgICAgdGhpcy5yb290Lm5vZGVzLmZvckVhY2goY2xlYXJNZWFzdXJlbWVudHMpO1xuICAgICAgICAgICAgdGhpcy5yb290LnNoYXJlZE5vZGVzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gdXBkYXRlTGF5b3V0KG5vZGUpIHtcbiAgICBub2RlLnVwZGF0ZUxheW91dCgpO1xufVxuZnVuY3Rpb24gbm90aWZ5TGF5b3V0VXBkYXRlKG5vZGUpIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBjb25zdCBzbmFwc2hvdCA9ICgoX2EgPSBub2RlLnJlc3VtZUZyb20pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zbmFwc2hvdCkgfHwgbm9kZS5zbmFwc2hvdDtcbiAgICBpZiAobm9kZS5pc0xlYWQoKSAmJlxuICAgICAgICBub2RlLmxheW91dCAmJlxuICAgICAgICBzbmFwc2hvdCAmJlxuICAgICAgICBub2RlLmhhc0xpc3RlbmVycyhcImRpZFVwZGF0ZVwiKSkge1xuICAgICAgICBjb25zdCB7IGFjdHVhbDogbGF5b3V0LCBtZWFzdXJlZDogbWVhc3VyZWRMYXlvdXQgfSA9IG5vZGUubGF5b3V0O1xuICAgICAgICBjb25zdCB7IGFuaW1hdGlvblR5cGUgfSA9IG5vZGUub3B0aW9ucztcbiAgICAgICAgLy8gVE9ETyBNYXliZSB3ZSB3YW50IHRvIGFsc28gcmVzaXplIHRoZSBsYXlvdXQgc25hcHNob3Qgc28gd2UgZG9uJ3QgdHJpZ2dlclxuICAgICAgICAvLyBhbmltYXRpb25zIGZvciBpbnN0YW5jZSBpZiBsYXlvdXQ9XCJzaXplXCIgYW5kIGFuIGVsZW1lbnQgaGFzIG9ubHkgY2hhbmdlZCBwb3NpdGlvblxuICAgICAgICBpZiAoYW5pbWF0aW9uVHlwZSA9PT0gXCJzaXplXCIpIHtcbiAgICAgICAgICAgIGVhY2hBeGlzKChheGlzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXhpc1NuYXBzaG90ID0gc25hcHNob3QuaXNTaGFyZWRcbiAgICAgICAgICAgICAgICAgICAgPyBzbmFwc2hvdC5tZWFzdXJlZFtheGlzXVxuICAgICAgICAgICAgICAgICAgICA6IHNuYXBzaG90LmxheW91dFtheGlzXTtcbiAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSBjYWxjTGVuZ3RoKGF4aXNTbmFwc2hvdCk7XG4gICAgICAgICAgICAgICAgYXhpc1NuYXBzaG90Lm1pbiA9IGxheW91dFtheGlzXS5taW47XG4gICAgICAgICAgICAgICAgYXhpc1NuYXBzaG90Lm1heCA9IGF4aXNTbmFwc2hvdC5taW4gKyBsZW5ndGg7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaG91bGRBbmltYXRlUG9zaXRpb25Pbmx5KGFuaW1hdGlvblR5cGUsIHNuYXBzaG90LmxheW91dCwgbGF5b3V0KSkge1xuICAgICAgICAgICAgZWFjaEF4aXMoKGF4aXMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBheGlzU25hcHNob3QgPSBzbmFwc2hvdC5pc1NoYXJlZFxuICAgICAgICAgICAgICAgICAgICA/IHNuYXBzaG90Lm1lYXN1cmVkW2F4aXNdXG4gICAgICAgICAgICAgICAgICAgIDogc25hcHNob3QubGF5b3V0W2F4aXNdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGNhbGNMZW5ndGgobGF5b3V0W2F4aXNdKTtcbiAgICAgICAgICAgICAgICBheGlzU25hcHNob3QubWF4ID0gYXhpc1NuYXBzaG90Lm1pbiArIGxlbmd0aDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxheW91dERlbHRhID0gY3JlYXRlRGVsdGEoKTtcbiAgICAgICAgY2FsY0JveERlbHRhKGxheW91dERlbHRhLCBsYXlvdXQsIHNuYXBzaG90LmxheW91dCk7XG4gICAgICAgIGNvbnN0IHZpc3VhbERlbHRhID0gY3JlYXRlRGVsdGEoKTtcbiAgICAgICAgaWYgKHNuYXBzaG90LmlzU2hhcmVkKSB7XG4gICAgICAgICAgICBjYWxjQm94RGVsdGEodmlzdWFsRGVsdGEsIG5vZGUuYXBwbHlUcmFuc2Zvcm0obWVhc3VyZWRMYXlvdXQsIHRydWUpLCBzbmFwc2hvdC5tZWFzdXJlZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjYWxjQm94RGVsdGEodmlzdWFsRGVsdGEsIGxheW91dCwgc25hcHNob3QubGF5b3V0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoYXNMYXlvdXRDaGFuZ2VkID0gIWlzRGVsdGFaZXJvKGxheW91dERlbHRhKTtcbiAgICAgICAgbGV0IGhhc1JlbGF0aXZlVGFyZ2V0Q2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoIW5vZGUucmVzdW1lRnJvbSkge1xuICAgICAgICAgICAgbm9kZS5yZWxhdGl2ZVBhcmVudCA9IG5vZGUuZ2V0Q2xvc2VzdFByb2plY3RpbmdQYXJlbnQoKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhlIHJlbGF0aXZlUGFyZW50IGlzIGl0c2VsZiByZXN1bWluZyBmcm9tIGEgZGlmZmVyZW50IGVsZW1lbnQgdGhlblxuICAgICAgICAgICAgICogdGhlIHJlbGF0aXZlIHNuYXBzaG90IGlzIG5vdCByZWxhdmVudFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAobm9kZS5yZWxhdGl2ZVBhcmVudCAmJiAhbm9kZS5yZWxhdGl2ZVBhcmVudC5yZXN1bWVGcm9tKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzbmFwc2hvdDogcGFyZW50U25hcHNob3QsIGxheW91dDogcGFyZW50TGF5b3V0IH0gPSBub2RlLnJlbGF0aXZlUGFyZW50O1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRTbmFwc2hvdCAmJiBwYXJlbnRMYXlvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVTbmFwc2hvdCA9IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgICAgICAgICBjYWxjUmVsYXRpdmVQb3NpdGlvbihyZWxhdGl2ZVNuYXBzaG90LCBzbmFwc2hvdC5sYXlvdXQsIHBhcmVudFNuYXBzaG90LmxheW91dCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlTGF5b3V0ID0gY3JlYXRlQm94KCk7XG4gICAgICAgICAgICAgICAgICAgIGNhbGNSZWxhdGl2ZVBvc2l0aW9uKHJlbGF0aXZlTGF5b3V0LCBsYXlvdXQsIHBhcmVudExheW91dC5hY3R1YWwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWJveEVxdWFscyhyZWxhdGl2ZVNuYXBzaG90LCByZWxhdGl2ZUxheW91dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1JlbGF0aXZlVGFyZ2V0Q2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5ub3RpZnlMaXN0ZW5lcnMoXCJkaWRVcGRhdGVcIiwge1xuICAgICAgICAgICAgbGF5b3V0LFxuICAgICAgICAgICAgc25hcHNob3QsXG4gICAgICAgICAgICBkZWx0YTogdmlzdWFsRGVsdGEsXG4gICAgICAgICAgICBsYXlvdXREZWx0YSxcbiAgICAgICAgICAgIGhhc0xheW91dENoYW5nZWQsXG4gICAgICAgICAgICBoYXNSZWxhdGl2ZVRhcmdldENoYW5nZWQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlLmlzTGVhZCgpKSB7XG4gICAgICAgIChfYyA9IChfYiA9IG5vZGUub3B0aW9ucykub25FeGl0Q29tcGxldGUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKF9iKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJpbmcgdHJhbnNpdGlvblxuICAgICAqIFRPRE86IEludmVzdGlnYXRlIHdoeSB0aGlzIHRyYW5zaXRpb24gaXMgYmVpbmcgcGFzc2VkIGluIGFzIHt0eXBlOiBmYWxzZSB9IGZyb20gRnJhbWVyXG4gICAgICogYW5kIHdoeSB3ZSBuZWVkIGl0IGF0IGFsbFxuICAgICAqL1xuICAgIG5vZGUub3B0aW9ucy50cmFuc2l0aW9uID0gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gY2xlYXJTbmFwc2hvdChub2RlKSB7XG4gICAgbm9kZS5jbGVhclNuYXBzaG90KCk7XG59XG5mdW5jdGlvbiBjbGVhck1lYXN1cmVtZW50cyhub2RlKSB7XG4gICAgbm9kZS5jbGVhck1lYXN1cmVtZW50cygpO1xufVxuZnVuY3Rpb24gcmVzZXRUcmFuc2Zvcm1TdHlsZShub2RlKSB7XG4gICAgY29uc3QgeyB2aXN1YWxFbGVtZW50IH0gPSBub2RlLm9wdGlvbnM7XG4gICAgaWYgKHZpc3VhbEVsZW1lbnQgPT09IG51bGwgfHwgdmlzdWFsRWxlbWVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmlzdWFsRWxlbWVudC5nZXRQcm9wcygpLm9uQmVmb3JlTGF5b3V0TWVhc3VyZSkge1xuICAgICAgICB2aXN1YWxFbGVtZW50Lm5vdGlmeUJlZm9yZUxheW91dE1lYXN1cmUoKTtcbiAgICB9XG4gICAgbm9kZS5yZXNldFRyYW5zZm9ybSgpO1xufVxuZnVuY3Rpb24gZmluaXNoQW5pbWF0aW9uKG5vZGUpIHtcbiAgICBub2RlLmZpbmlzaEFuaW1hdGlvbigpO1xuICAgIG5vZGUudGFyZ2V0RGVsdGEgPSBub2RlLnJlbGF0aXZlVGFyZ2V0ID0gbm9kZS50YXJnZXQgPSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiByZXNvbHZlVGFyZ2V0RGVsdGEobm9kZSkge1xuICAgIG5vZGUucmVzb2x2ZVRhcmdldERlbHRhKCk7XG59XG5mdW5jdGlvbiBjYWxjUHJvamVjdGlvbihub2RlKSB7XG4gICAgbm9kZS5jYWxjUHJvamVjdGlvbigpO1xufVxuZnVuY3Rpb24gcmVzZXRSb3RhdGlvbihub2RlKSB7XG4gICAgbm9kZS5yZXNldFJvdGF0aW9uKCk7XG59XG5mdW5jdGlvbiByZW1vdmVMZWFkU25hcHNob3RzKHN0YWNrKSB7XG4gICAgc3RhY2sucmVtb3ZlTGVhZFNuYXBzaG90KCk7XG59XG5mdW5jdGlvbiBtaXhBeGlzRGVsdGEob3V0cHV0LCBkZWx0YSwgcCkge1xuICAgIG91dHB1dC50cmFuc2xhdGUgPSBtaXgoZGVsdGEudHJhbnNsYXRlLCAwLCBwKTtcbiAgICBvdXRwdXQuc2NhbGUgPSBtaXgoZGVsdGEuc2NhbGUsIDEsIHApO1xuICAgIG91dHB1dC5vcmlnaW4gPSBkZWx0YS5vcmlnaW47XG4gICAgb3V0cHV0Lm9yaWdpblBvaW50ID0gZGVsdGEub3JpZ2luUG9pbnQ7XG59XG5mdW5jdGlvbiBtaXhBeGlzKG91dHB1dCwgZnJvbSwgdG8sIHApIHtcbiAgICBvdXRwdXQubWluID0gbWl4KGZyb20ubWluLCB0by5taW4sIHApO1xuICAgIG91dHB1dC5tYXggPSBtaXgoZnJvbS5tYXgsIHRvLm1heCwgcCk7XG59XG5mdW5jdGlvbiBtaXhCb3gob3V0cHV0LCBmcm9tLCB0bywgcCkge1xuICAgIG1peEF4aXMob3V0cHV0LngsIGZyb20ueCwgdG8ueCwgcCk7XG4gICAgbWl4QXhpcyhvdXRwdXQueSwgZnJvbS55LCB0by55LCBwKTtcbn1cbmZ1bmN0aW9uIGhhc09wYWNpdHlDcm9zc2ZhZGUobm9kZSkge1xuICAgIHJldHVybiAobm9kZS5hbmltYXRpb25WYWx1ZXMgJiYgbm9kZS5hbmltYXRpb25WYWx1ZXMub3BhY2l0eUV4aXQgIT09IHVuZGVmaW5lZCk7XG59XG5jb25zdCBkZWZhdWx0TGF5b3V0VHJhbnNpdGlvbiA9IHtcbiAgICBkdXJhdGlvbjogMC40NSxcbiAgICBlYXNlOiBbMC40LCAwLCAwLjEsIDFdLFxufTtcbmZ1bmN0aW9uIG1vdW50Tm9kZUVhcmx5KG5vZGUsIGlkKSB7XG4gICAgLyoqXG4gICAgICogUmF0aGVyIHRoYW4gc2VhcmNoaW5nIHRoZSBET00gZnJvbSBkb2N1bWVudCB3ZSBjYW4gc2VhcmNoIHRoZVxuICAgICAqIHBhdGggZm9yIHRoZSBkZWVwZXN0IG1vdW50ZWQgYW5jZXN0b3IgYW5kIHNlYXJjaCBmcm9tIHRoZXJlXG4gICAgICovXG4gICAgbGV0IHNlYXJjaE5vZGUgPSBub2RlLnJvb3Q7XG4gICAgZm9yIChsZXQgaSA9IG5vZGUucGF0aC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBpZiAoQm9vbGVhbihub2RlLnBhdGhbaV0uaW5zdGFuY2UpKSB7XG4gICAgICAgICAgICBzZWFyY2hOb2RlID0gbm9kZS5wYXRoW2ldO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc2VhcmNoRWxlbWVudCA9IHNlYXJjaE5vZGUgJiYgc2VhcmNoTm9kZSAhPT0gbm9kZS5yb290ID8gc2VhcmNoTm9kZS5pbnN0YW5jZSA6IGRvY3VtZW50O1xuICAgIGNvbnN0IGVsZW1lbnQgPSBzZWFyY2hFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb2plY3Rpb24taWQ9XCIke2lkfVwiXWApO1xuICAgIGlmIChlbGVtZW50KVxuICAgICAgICBub2RlLm1vdW50KGVsZW1lbnQsIHRydWUpO1xufVxuZnVuY3Rpb24gcm91bmRBeGlzKGF4aXMpIHtcbiAgICBheGlzLm1pbiA9IE1hdGgucm91bmQoYXhpcy5taW4pO1xuICAgIGF4aXMubWF4ID0gTWF0aC5yb3VuZChheGlzLm1heCk7XG59XG5mdW5jdGlvbiByb3VuZEJveChib3gpIHtcbiAgICByb3VuZEF4aXMoYm94LngpO1xuICAgIHJvdW5kQXhpcyhib3gueSk7XG59XG5mdW5jdGlvbiBzaG91bGRBbmltYXRlUG9zaXRpb25Pbmx5KGFuaW1hdGlvblR5cGUsIHNuYXBzaG90LCBsYXlvdXQpIHtcbiAgICByZXR1cm4gKGFuaW1hdGlvblR5cGUgPT09IFwicG9zaXRpb25cIiB8fFxuICAgICAgICAoYW5pbWF0aW9uVHlwZSA9PT0gXCJwcmVzZXJ2ZS1hc3BlY3RcIiAmJlxuICAgICAgICAgICAgIWlzQ2xvc2VUbyhhc3BlY3RSYXRpbyhzbmFwc2hvdCksIGFzcGVjdFJhdGlvKGxheW91dCkpKSk7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZVByb2plY3Rpb25Ob2RlLCBtaXhBeGlzLCBtaXhBeGlzRGVsdGEsIG1peEJveCB9O1xuIiwiaW1wb3J0IHsgbW90aW9uVmFsdWUgfSBmcm9tICcuLi92YWx1ZS9pbmRleC5tanMnO1xuaW1wb3J0IHsgaXNNb3Rpb25WYWx1ZSB9IGZyb20gJy4uL3ZhbHVlL3V0aWxzL2lzLW1vdGlvbi12YWx1ZS5tanMnO1xuaW1wb3J0IHsgc3RhcnRBbmltYXRpb24gfSBmcm9tICcuL3V0aWxzL3RyYW5zaXRpb25zLm1qcyc7XG5cbi8qKlxuICogQW5pbWF0ZSBhIHNpbmdsZSB2YWx1ZSBvciBhIGBNb3Rpb25WYWx1ZWAuXG4gKlxuICogVGhlIGZpcnN0IGFyZ3VtZW50IGlzIGVpdGhlciBhIGBNb3Rpb25WYWx1ZWAgdG8gYW5pbWF0ZSwgb3IgYW4gaW5pdGlhbCBhbmltYXRpb24gdmFsdWUuXG4gKlxuICogVGhlIHNlY29uZCBpcyBlaXRoZXIgYSB2YWx1ZSB0byBhbmltYXRlIHRvLCBvciBhbiBhcnJheSBvZiBrZXlmcmFtZXMgdG8gYW5pbWF0ZSB0aHJvdWdoLlxuICpcbiAqIFRoZSB0aGlyZCBhcmd1bWVudCBjYW4gYmUgZWl0aGVyIHR3ZWVuIG9yIHNwcmluZyBvcHRpb25zLCBhbmQgb3B0aW9uYWwgbGlmZWN5Y2xlIG1ldGhvZHM6IGBvblVwZGF0ZWAsIGBvblBsYXlgLCBgb25Db21wbGV0ZWAsIGBvblJlcGVhdGAgYW5kIGBvblN0b3BgLlxuICpcbiAqIFJldHVybnMgYEFuaW1hdGlvblBsYXliYWNrQ29udHJvbHNgLCBjdXJyZW50bHkganVzdCBhIGBzdG9wYCBtZXRob2QuXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogY29uc3QgeCA9IHVzZU1vdGlvblZhbHVlKDApXG4gKlxuICogdXNlRWZmZWN0KCgpID0+IHtcbiAqICAgY29uc3QgY29udHJvbHMgPSBhbmltYXRlKHgsIDEwMCwge1xuICogICAgIHR5cGU6IFwic3ByaW5nXCIsXG4gKiAgICAgc3RpZmZuZXNzOiAyMDAwLFxuICogICAgIG9uQ29tcGxldGU6IHYgPT4ge31cbiAqICAgfSlcbiAqXG4gKiAgIHJldHVybiBjb250cm9scy5zdG9wXG4gKiB9KVxuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBhbmltYXRlKGZyb20sIHRvLCB0cmFuc2l0aW9uID0ge30pIHtcbiAgICBjb25zdCB2YWx1ZSA9IGlzTW90aW9uVmFsdWUoZnJvbSkgPyBmcm9tIDogbW90aW9uVmFsdWUoZnJvbSk7XG4gICAgc3RhcnRBbmltYXRpb24oXCJcIiwgdmFsdWUsIHRvLCB0cmFuc2l0aW9uKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdG9wOiAoKSA9PiB2YWx1ZS5zdG9wKCksXG4gICAgICAgIGlzQW5pbWF0aW5nOiAoKSA9PiB2YWx1ZS5pc0FuaW1hdGluZygpLFxuICAgIH07XG59XG5cbmV4cG9ydCB7IGFuaW1hdGUgfTtcbiIsImltcG9ydCB7IGNyZWF0ZVByb2plY3Rpb25Ob2RlIH0gZnJvbSAnLi9jcmVhdGUtcHJvamVjdGlvbi1ub2RlLm1qcyc7XG5pbXBvcnQgeyBhZGREb21FdmVudCB9IGZyb20gJy4uLy4uL2V2ZW50cy91c2UtZG9tLWV2ZW50Lm1qcyc7XG5cbmNvbnN0IERvY3VtZW50UHJvamVjdGlvbk5vZGUgPSBjcmVhdGVQcm9qZWN0aW9uTm9kZSh7XG4gICAgYXR0YWNoUmVzaXplTGlzdGVuZXI6IChyZWYsIG5vdGlmeSkgPT4gYWRkRG9tRXZlbnQocmVmLCBcInJlc2l6ZVwiLCBub3RpZnkpLFxuICAgIG1lYXN1cmVTY3JvbGw6ICgpID0+ICh7XG4gICAgICAgIHg6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCxcbiAgICAgICAgeTogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCxcbiAgICB9KSxcbiAgICBjaGVja0lzU2Nyb2xsUm9vdDogKCkgPT4gdHJ1ZSxcbn0pO1xuXG5leHBvcnQgeyBEb2N1bWVudFByb2plY3Rpb25Ob2RlIH07XG4iLCJpbXBvcnQgeyBjcmVhdGVQcm9qZWN0aW9uTm9kZSB9IGZyb20gJy4vY3JlYXRlLXByb2plY3Rpb24tbm9kZS5tanMnO1xuaW1wb3J0IHsgRG9jdW1lbnRQcm9qZWN0aW9uTm9kZSB9IGZyb20gJy4vRG9jdW1lbnRQcm9qZWN0aW9uTm9kZS5tanMnO1xuXG5jb25zdCByb290UHJvamVjdGlvbk5vZGUgPSB7XG4gICAgY3VycmVudDogdW5kZWZpbmVkLFxufTtcbmNvbnN0IEhUTUxQcm9qZWN0aW9uTm9kZSA9IGNyZWF0ZVByb2plY3Rpb25Ob2RlKHtcbiAgICBtZWFzdXJlU2Nyb2xsOiAoaW5zdGFuY2UpID0+ICh7XG4gICAgICAgIHg6IGluc3RhbmNlLnNjcm9sbExlZnQsXG4gICAgICAgIHk6IGluc3RhbmNlLnNjcm9sbFRvcCxcbiAgICB9KSxcbiAgICBkZWZhdWx0UGFyZW50OiAoKSA9PiB7XG4gICAgICAgIGlmICghcm9vdFByb2plY3Rpb25Ob2RlLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRvY3VtZW50Tm9kZSA9IG5ldyBEb2N1bWVudFByb2plY3Rpb25Ob2RlKDAsIHt9KTtcbiAgICAgICAgICAgIGRvY3VtZW50Tm9kZS5tb3VudCh3aW5kb3cpO1xuICAgICAgICAgICAgZG9jdW1lbnROb2RlLnNldE9wdGlvbnMoeyBsYXlvdXRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgICAgICByb290UHJvamVjdGlvbk5vZGUuY3VycmVudCA9IGRvY3VtZW50Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcm9vdFByb2plY3Rpb25Ob2RlLmN1cnJlbnQ7XG4gICAgfSxcbiAgICByZXNldFRyYW5zZm9ybTogKGluc3RhbmNlLCB2YWx1ZSkgPT4ge1xuICAgICAgICBpbnN0YW5jZS5zdHlsZS50cmFuc2Zvcm0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBcIm5vbmVcIjtcbiAgICB9LFxuICAgIGNoZWNrSXNTY3JvbGxSb290OiAoaW5zdGFuY2UpID0+IEJvb2xlYW4od2luZG93LmdldENvbXB1dGVkU3R5bGUoaW5zdGFuY2UpLnBvc2l0aW9uID09PSBcImZpeGVkXCIpLFxufSk7XG5cbmV4cG9ydCB7IEhUTUxQcm9qZWN0aW9uTm9kZSwgcm9vdFByb2plY3Rpb25Ob2RlIH07XG4iLCJpbXBvcnQgeyBjcmVhdGVNb3Rpb25Db21wb25lbnQgfSBmcm9tICcuLi8uLi9tb3Rpb24vaW5kZXgubWpzJztcbmltcG9ydCB7IGNyZWF0ZU1vdGlvblByb3h5IH0gZnJvbSAnLi9tb3Rpb24tcHJveHkubWpzJztcbmltcG9ydCB7IGNyZWF0ZURvbU1vdGlvbkNvbmZpZyB9IGZyb20gJy4vdXRpbHMvY3JlYXRlLWNvbmZpZy5tanMnO1xuaW1wb3J0IHsgZ2VzdHVyZUFuaW1hdGlvbnMgfSBmcm9tICcuLi8uLi9tb3Rpb24vZmVhdHVyZXMvZ2VzdHVyZXMubWpzJztcbmltcG9ydCB7IGFuaW1hdGlvbnMgfSBmcm9tICcuLi8uLi9tb3Rpb24vZmVhdHVyZXMvYW5pbWF0aW9ucy5tanMnO1xuaW1wb3J0IHsgZHJhZyB9IGZyb20gJy4uLy4uL21vdGlvbi9mZWF0dXJlcy9kcmFnLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVEb21WaXN1YWxFbGVtZW50IH0gZnJvbSAnLi9jcmVhdGUtdmlzdWFsLWVsZW1lbnQubWpzJztcbmltcG9ydCB7IGxheW91dEZlYXR1cmVzIH0gZnJvbSAnLi4vLi4vbW90aW9uL2ZlYXR1cmVzL2xheW91dC9pbmRleC5tanMnO1xuaW1wb3J0IHsgSFRNTFByb2plY3Rpb25Ob2RlIH0gZnJvbSAnLi4vLi4vcHJvamVjdGlvbi9ub2RlL0hUTUxQcm9qZWN0aW9uTm9kZS5tanMnO1xuXG5jb25zdCBmZWF0dXJlQnVuZGxlID0ge1xuICAgIC4uLmFuaW1hdGlvbnMsXG4gICAgLi4uZ2VzdHVyZUFuaW1hdGlvbnMsXG4gICAgLi4uZHJhZyxcbiAgICAuLi5sYXlvdXRGZWF0dXJlcyxcbn07XG4vKipcbiAqIEhUTUwgJiBTVkcgY29tcG9uZW50cywgb3B0aW1pc2VkIGZvciB1c2Ugd2l0aCBnZXN0dXJlcyBhbmQgYW5pbWF0aW9uLiBUaGVzZSBjYW4gYmUgdXNlZCBhc1xuICogZHJvcC1pbiByZXBsYWNlbWVudHMgZm9yIGFueSBIVE1MICYgU1ZHIGNvbXBvbmVudCwgYWxsIENTUyAmIFNWRyBwcm9wZXJ0aWVzIGFyZSBzdXBwb3J0ZWQuXG4gKlxuICogQHB1YmxpY1xuICovXG5jb25zdCBtb3Rpb24gPSAvKkBfX1BVUkVfXyovIGNyZWF0ZU1vdGlvblByb3h5KChDb21wb25lbnQsIGNvbmZpZykgPT4gY3JlYXRlRG9tTW90aW9uQ29uZmlnKENvbXBvbmVudCwgY29uZmlnLCBmZWF0dXJlQnVuZGxlLCBjcmVhdGVEb21WaXN1YWxFbGVtZW50LCBIVE1MUHJvamVjdGlvbk5vZGUpKTtcbi8qKlxuICogQ3JlYXRlIGEgRE9NIGBtb3Rpb25gIGNvbXBvbmVudCB3aXRoIHRoZSBwcm92aWRlZCBzdHJpbmcuIFRoaXMgaXMgcHJpbWFyaWx5IGludGVuZGVkXG4gKiBhcyBhIGZ1bGwgYWx0ZXJuYXRpdmUgdG8gYG1vdGlvbmAgZm9yIGNvbnN1bWVycyB3aG8gaGF2ZSB0byBzdXBwb3J0IGVudmlyb25tZW50cyB0aGF0IGRvbid0XG4gKiBzdXBwb3J0IGBQcm94eWAuXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogaW1wb3J0IHsgY3JlYXRlRG9tTW90aW9uQ29tcG9uZW50IH0gZnJvbSBcImZyYW1lci1tb3Rpb25cIlxuICpcbiAqIGNvbnN0IG1vdGlvbiA9IHtcbiAqICAgZGl2OiBjcmVhdGVEb21Nb3Rpb25Db21wb25lbnQoJ2RpdicpXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURvbU1vdGlvbkNvbXBvbmVudChrZXkpIHtcbiAgICByZXR1cm4gY3JlYXRlTW90aW9uQ29tcG9uZW50KGNyZWF0ZURvbU1vdGlvbkNvbmZpZyhrZXksIHsgZm9yd2FyZE1vdGlvblByb3BzOiBmYWxzZSB9LCBmZWF0dXJlQnVuZGxlLCBjcmVhdGVEb21WaXN1YWxFbGVtZW50LCBIVE1MUHJvamVjdGlvbk5vZGUpKTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlRG9tTW90aW9uQ29tcG9uZW50LCBtb3Rpb24gfTtcbiIsImltcG9ydCB7IGlzU1ZHQ29tcG9uZW50IH0gZnJvbSAnLi9pcy1zdmctY29tcG9uZW50Lm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVVc2VSZW5kZXIgfSBmcm9tICcuLi91c2UtcmVuZGVyLm1qcyc7XG5pbXBvcnQgeyBzdmdNb3Rpb25Db25maWcgfSBmcm9tICcuLi8uLi9zdmcvY29uZmlnLW1vdGlvbi5tanMnO1xuaW1wb3J0IHsgaHRtbE1vdGlvbkNvbmZpZyB9IGZyb20gJy4uLy4uL2h0bWwvY29uZmlnLW1vdGlvbi5tanMnO1xuXG5mdW5jdGlvbiBjcmVhdGVEb21Nb3Rpb25Db25maWcoQ29tcG9uZW50LCB7IGZvcndhcmRNb3Rpb25Qcm9wcyA9IGZhbHNlIH0sIHByZWxvYWRlZEZlYXR1cmVzLCBjcmVhdGVWaXN1YWxFbGVtZW50LCBwcm9qZWN0aW9uTm9kZUNvbnN0cnVjdG9yKSB7XG4gICAgY29uc3QgYmFzZUNvbmZpZyA9IGlzU1ZHQ29tcG9uZW50KENvbXBvbmVudClcbiAgICAgICAgPyBzdmdNb3Rpb25Db25maWdcbiAgICAgICAgOiBodG1sTW90aW9uQ29uZmlnO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmJhc2VDb25maWcsXG4gICAgICAgIHByZWxvYWRlZEZlYXR1cmVzLFxuICAgICAgICB1c2VSZW5kZXI6IGNyZWF0ZVVzZVJlbmRlcihmb3J3YXJkTW90aW9uUHJvcHMpLFxuICAgICAgICBjcmVhdGVWaXN1YWxFbGVtZW50LFxuICAgICAgICBwcm9qZWN0aW9uTm9kZUNvbnN0cnVjdG9yLFxuICAgICAgICBDb21wb25lbnQsXG4gICAgfTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlRG9tTW90aW9uQ29uZmlnIH07XG4iLCJjb25zdCBpc0Jyb3dzZXIgPSB0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCI7XG5cbmV4cG9ydCB7IGlzQnJvd3NlciB9O1xuIiwiLyoqXG4gKiBCcm93c2VyLXNhZmUgdXNhZ2Ugb2YgcHJvY2Vzc1xuICovXG5jb25zdCBkZWZhdWx0RW52aXJvbm1lbnQgPSBcInByb2R1Y3Rpb25cIjtcbmNvbnN0IGVudiA9IHR5cGVvZiBwcm9jZXNzID09PSBcInVuZGVmaW5lZFwiIHx8IHByb2Nlc3MuZW52ID09PSB1bmRlZmluZWRcbiAgICA/IGRlZmF1bHRFbnZpcm9ubWVudFxuICAgIDogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgfHwgZGVmYXVsdEVudmlyb25tZW50O1xuXG5leHBvcnQgeyBlbnYgfTtcbiIsImltcG9ydCB7IHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBDcmVhdGVzIGEgY29uc3RhbnQgdmFsdWUgb3ZlciB0aGUgbGlmZWN5Y2xlIG9mIGEgY29tcG9uZW50LlxuICpcbiAqIEV2ZW4gaWYgYHVzZU1lbW9gIGlzIHByb3ZpZGVkIGFuIGVtcHR5IGFycmF5IGFzIGl0cyBmaW5hbCBhcmd1bWVudCwgaXQgZG9lc24ndCBvZmZlclxuICogYSBndWFyYW50ZWUgdGhhdCBpdCB3b24ndCByZS1ydW4gZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgbGF0ZXIgb24uIEJ5IHVzaW5nIGB1c2VDb25zdGFudGBcbiAqIHlvdSBjYW4gZW5zdXJlIHRoYXQgaW5pdGlhbGlzZXJzIGRvbid0IGV4ZWN1dGUgdHdpY2Ugb3IgbW9yZS5cbiAqL1xuZnVuY3Rpb24gdXNlQ29uc3RhbnQoaW5pdCkge1xuICAgIGNvbnN0IHJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBpZiAocmVmLmN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgcmVmLmN1cnJlbnQgPSBpbml0KCk7XG4gICAgfVxuICAgIHJldHVybiByZWYuY3VycmVudDtcbn1cblxuZXhwb3J0IHsgdXNlQ29uc3RhbnQgfTtcbiIsImltcG9ydCB7IHVzZUxheW91dEVmZmVjdCwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaXNCcm93c2VyIH0gZnJvbSAnLi9pcy1icm93c2VyLm1qcyc7XG5cbmNvbnN0IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSBpc0Jyb3dzZXIgPyB1c2VMYXlvdXRFZmZlY3QgOiB1c2VFZmZlY3Q7XG5cbmV4cG9ydCB7IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfTtcbiIsImltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gdXNlVW5tb3VudEVmZmVjdChjYWxsYmFjaykge1xuICAgIHJldHVybiB1c2VFZmZlY3QoKCkgPT4gKCkgPT4gY2FsbGJhY2soKSwgW10pO1xufVxuXG5leHBvcnQgeyB1c2VVbm1vdW50RWZmZWN0IH07XG4iLCJjb25zdCB3YXJuZWQgPSBuZXcgU2V0KCk7XG5mdW5jdGlvbiB3YXJuT25jZShjb25kaXRpb24sIG1lc3NhZ2UsIGVsZW1lbnQpIHtcbiAgICBpZiAoY29uZGl0aW9uIHx8IHdhcm5lZC5oYXMobWVzc2FnZSkpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgaWYgKGVsZW1lbnQpXG4gICAgICAgIGNvbnNvbGUud2FybihlbGVtZW50KTtcbiAgICB3YXJuZWQuYWRkKG1lc3NhZ2UpO1xufVxuXG5leHBvcnQgeyB3YXJuT25jZSB9O1xuIiwiY29uc3QgZGVmYXVsdFRpbWVzdGVwID0gKDEgLyA2MCkgKiAxMDAwO1xuY29uc3QgZ2V0Q3VycmVudFRpbWUgPSB0eXBlb2YgcGVyZm9ybWFuY2UgIT09IFwidW5kZWZpbmVkXCJcbiAgICA/ICgpID0+IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgOiAoKSA9PiBEYXRlLm5vdygpO1xuY29uc3Qgb25OZXh0RnJhbWUgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiXG4gICAgPyAoY2FsbGJhY2spID0+IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spXG4gICAgOiAoY2FsbGJhY2spID0+IHNldFRpbWVvdXQoKCkgPT4gY2FsbGJhY2soZ2V0Q3VycmVudFRpbWUoKSksIGRlZmF1bHRUaW1lc3RlcCk7XG5cbmV4cG9ydCB7IGRlZmF1bHRUaW1lc3RlcCwgb25OZXh0RnJhbWUgfTtcbiIsImltcG9ydCB7IG9uTmV4dEZyYW1lLCBkZWZhdWx0VGltZXN0ZXAgfSBmcm9tICcuL29uLW5leHQtZnJhbWUubWpzJztcbmltcG9ydCB7IGNyZWF0ZVJlbmRlclN0ZXAgfSBmcm9tICcuL2NyZWF0ZS1yZW5kZXItc3RlcC5tanMnO1xuXG5jb25zdCBtYXhFbGFwc2VkID0gNDA7XG5sZXQgdXNlRGVmYXVsdEVsYXBzZWQgPSB0cnVlO1xubGV0IHJ1bk5leHRGcmFtZSA9IGZhbHNlO1xubGV0IGlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuY29uc3QgZnJhbWUgPSB7XG4gICAgZGVsdGE6IDAsXG4gICAgdGltZXN0YW1wOiAwLFxufTtcbmNvbnN0IHN0ZXBzT3JkZXIgPSBbXG4gICAgXCJyZWFkXCIsXG4gICAgXCJ1cGRhdGVcIixcbiAgICBcInByZVJlbmRlclwiLFxuICAgIFwicmVuZGVyXCIsXG4gICAgXCJwb3N0UmVuZGVyXCIsXG5dO1xuY29uc3Qgc3RlcHMgPSBzdGVwc09yZGVyLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcbiAgICBhY2Nba2V5XSA9IGNyZWF0ZVJlbmRlclN0ZXAoKCkgPT4gKHJ1bk5leHRGcmFtZSA9IHRydWUpKTtcbiAgICByZXR1cm4gYWNjO1xufSwge30pO1xuY29uc3Qgc3luYyA9IHN0ZXBzT3JkZXIucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgIGNvbnN0IHN0ZXAgPSBzdGVwc1trZXldO1xuICAgIGFjY1trZXldID0gKHByb2Nlc3MsIGtlZXBBbGl2ZSA9IGZhbHNlLCBpbW1lZGlhdGUgPSBmYWxzZSkgPT4ge1xuICAgICAgICBpZiAoIXJ1bk5leHRGcmFtZSlcbiAgICAgICAgICAgIHN0YXJ0TG9vcCgpO1xuICAgICAgICByZXR1cm4gc3RlcC5zY2hlZHVsZShwcm9jZXNzLCBrZWVwQWxpdmUsIGltbWVkaWF0ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gYWNjO1xufSwge30pO1xuY29uc3QgY2FuY2VsU3luYyA9IHN0ZXBzT3JkZXIucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgIGFjY1trZXldID0gc3RlcHNba2V5XS5jYW5jZWw7XG4gICAgcmV0dXJuIGFjYztcbn0sIHt9KTtcbmNvbnN0IGZsdXNoU3luYyA9IHN0ZXBzT3JkZXIucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgIGFjY1trZXldID0gKCkgPT4gc3RlcHNba2V5XS5wcm9jZXNzKGZyYW1lKTtcbiAgICByZXR1cm4gYWNjO1xufSwge30pO1xuY29uc3QgcHJvY2Vzc1N0ZXAgPSAoc3RlcElkKSA9PiBzdGVwc1tzdGVwSWRdLnByb2Nlc3MoZnJhbWUpO1xuY29uc3QgcHJvY2Vzc0ZyYW1lID0gKHRpbWVzdGFtcCkgPT4ge1xuICAgIHJ1bk5leHRGcmFtZSA9IGZhbHNlO1xuICAgIGZyYW1lLmRlbHRhID0gdXNlRGVmYXVsdEVsYXBzZWRcbiAgICAgICAgPyBkZWZhdWx0VGltZXN0ZXBcbiAgICAgICAgOiBNYXRoLm1heChNYXRoLm1pbih0aW1lc3RhbXAgLSBmcmFtZS50aW1lc3RhbXAsIG1heEVsYXBzZWQpLCAxKTtcbiAgICBmcmFtZS50aW1lc3RhbXAgPSB0aW1lc3RhbXA7XG4gICAgaXNQcm9jZXNzaW5nID0gdHJ1ZTtcbiAgICBzdGVwc09yZGVyLmZvckVhY2gocHJvY2Vzc1N0ZXApO1xuICAgIGlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuICAgIGlmIChydW5OZXh0RnJhbWUpIHtcbiAgICAgICAgdXNlRGVmYXVsdEVsYXBzZWQgPSBmYWxzZTtcbiAgICAgICAgb25OZXh0RnJhbWUocHJvY2Vzc0ZyYW1lKTtcbiAgICB9XG59O1xuY29uc3Qgc3RhcnRMb29wID0gKCkgPT4ge1xuICAgIHJ1bk5leHRGcmFtZSA9IHRydWU7XG4gICAgdXNlRGVmYXVsdEVsYXBzZWQgPSB0cnVlO1xuICAgIGlmICghaXNQcm9jZXNzaW5nKVxuICAgICAgICBvbk5leHRGcmFtZShwcm9jZXNzRnJhbWUpO1xufTtcbmNvbnN0IGdldEZyYW1lRGF0YSA9ICgpID0+IGZyYW1lO1xuXG5leHBvcnQgZGVmYXVsdCBzeW5jO1xuZXhwb3J0IHsgY2FuY2VsU3luYywgZmx1c2hTeW5jLCBnZXRGcmFtZURhdGEgfTtcbiIsImZ1bmN0aW9uIGNyZWF0ZVJlbmRlclN0ZXAocnVuTmV4dEZyYW1lKSB7XG4gICAgbGV0IHRvUnVuID0gW107XG4gICAgbGV0IHRvUnVuTmV4dEZyYW1lID0gW107XG4gICAgbGV0IG51bVRvUnVuID0gMDtcbiAgICBsZXQgaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gICAgbGV0IGZsdXNoTmV4dEZyYW1lID0gZmFsc2U7XG4gICAgY29uc3QgdG9LZWVwQWxpdmUgPSBuZXcgV2Vha1NldCgpO1xuICAgIGNvbnN0IHN0ZXAgPSB7XG4gICAgICAgIHNjaGVkdWxlOiAoY2FsbGJhY2ssIGtlZXBBbGl2ZSA9IGZhbHNlLCBpbW1lZGlhdGUgPSBmYWxzZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWRkVG9DdXJyZW50RnJhbWUgPSBpbW1lZGlhdGUgJiYgaXNQcm9jZXNzaW5nO1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gYWRkVG9DdXJyZW50RnJhbWUgPyB0b1J1biA6IHRvUnVuTmV4dEZyYW1lO1xuICAgICAgICAgICAgaWYgKGtlZXBBbGl2ZSlcbiAgICAgICAgICAgICAgICB0b0tlZXBBbGl2ZS5hZGQoY2FsbGJhY2spO1xuICAgICAgICAgICAgaWYgKGJ1ZmZlci5pbmRleE9mKGNhbGxiYWNrKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBidWZmZXIucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgaWYgKGFkZFRvQ3VycmVudEZyYW1lICYmIGlzUHJvY2Vzc2luZylcbiAgICAgICAgICAgICAgICAgICAgbnVtVG9SdW4gPSB0b1J1bi5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2s7XG4gICAgICAgIH0sXG4gICAgICAgIGNhbmNlbDogKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHRvUnVuTmV4dEZyYW1lLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSlcbiAgICAgICAgICAgICAgICB0b1J1bk5leHRGcmFtZS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgdG9LZWVwQWxpdmUuZGVsZXRlKGNhbGxiYWNrKTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJvY2VzczogKGZyYW1lRGF0YSkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzUHJvY2Vzc2luZykge1xuICAgICAgICAgICAgICAgIGZsdXNoTmV4dEZyYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpc1Byb2Nlc3NpbmcgPSB0cnVlO1xuICAgICAgICAgICAgW3RvUnVuLCB0b1J1bk5leHRGcmFtZV0gPSBbdG9SdW5OZXh0RnJhbWUsIHRvUnVuXTtcbiAgICAgICAgICAgIHRvUnVuTmV4dEZyYW1lLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBudW1Ub1J1biA9IHRvUnVuLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChudW1Ub1J1bikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVG9SdW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IHRvUnVuW2ldO1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmcmFtZURhdGEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9LZWVwQWxpdmUuaGFzKGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcC5zY2hlZHVsZShjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgICAgICBydW5OZXh0RnJhbWUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGZsdXNoTmV4dEZyYW1lKSB7XG4gICAgICAgICAgICAgICAgZmx1c2hOZXh0RnJhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzdGVwLnByb2Nlc3MoZnJhbWVEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9O1xuICAgIHJldHVybiBzdGVwO1xufVxuXG5leHBvcnQgeyBjcmVhdGVSZW5kZXJTdGVwIH07XG4iXSwibmFtZXMiOlsiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwiaXNOb2RlIiwiZyIsInRvU3RyaW5nIiwiY2FsbCIsImdldE1ldGhvZE5hbWUiLCJwcm9wIiwidHlwZSIsImluZGV4T2YiLCJ0b0xvd2VyQ2FzZSIsImNvbmNhdCIsInN1YnN0ciIsInRvVXBwZXJDYXNlIiwiaXNEb21FbGVtZW50IiwiZWxlbWVudCIsIkJvb2xlYW4iLCJub2RlVHlwZSIsIm93bmVyRG9jdW1lbnQiLCJkZWZhdWx0VmlldyIsImlzSW50ZWdlciIsInZhbHVlIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiaXNGaW5pdGUiLCJNYXRoIiwiZmxvb3IiLCJpc1ZpbWVvVXJsIiwidXJsIiwidGVzdCIsImlzVmltZW9FbWJlZCIsImdldFZpbWVvVXJsIiwib0VtYmVkUGFyYW1ldGVycyIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsImlkIiwiaWRPclVybCIsIkVycm9yIiwicmVwbGFjZSIsImFycmF5SW5kZXhPZlN1cHBvcnQiLCJBcnJheSIsInByb3RvdHlwZSIsInBvc3RNZXNzYWdlU3VwcG9ydCIsIndpbmRvdyIsInBvc3RNZXNzYWdlIiwiY29tbW9uanNHbG9iYWwiLCJnbG9iYWxUaGlzIiwic2VsZiIsIldlYWtNYXAiLCJoYXNPd25Qcm9wZXJ0eSIsImhhc0RlZmluZSIsIngiLCJlIiwib2JqZWN0IiwibmFtZSIsInRoaXMiLCJnZW5JZCIsImNoZWNrSW5zdGFuY2UiLCJtZXRob2ROYW1lIiwiaXNPYmplY3QiLCJwcmVmaXgiLCJyYW5kIiwicmFuZG9tIiwic3Vic3RyaW5nIiwiZW50cnkiLCJfaWQiLCJmbiIsIm1vZHVsZSIsIm5wb19zcmMiLCJjb250ZXh0IiwiZGVmaW5pdGlvbiIsImJ1aWx0SW5Qcm9wIiwiY3ljbGUiLCJzY2hlZHVsaW5nX3F1ZXVlIiwiVG9TdHJpbmciLCJ0aW1lciIsInNldEltbWVkaWF0ZSIsInNldFRpbWVvdXQiLCJvYmoiLCJ2YWwiLCJjb25maWciLCJlcnIiLCJzY2hlZHVsZSIsImFkZCIsImRyYWluIiwiaXNUaGVuYWJsZSIsIm8iLCJfdGhlbiIsIm9fdHlwZSIsInRoZW4iLCJub3RpZnkiLCJjaGFpbiIsIm5vdGlmeUlzb2xhdGVkIiwic3RhdGUiLCJzdWNjZXNzIiwiZmFpbHVyZSIsImNiIiwicmV0IiwicmVqZWN0IiwibXNnIiwicHJvbWlzZSIsInJlc29sdmUiLCJ0cmlnZ2VyZWQiLCJkZWYiLCJkZWZfd3JhcHBlciIsIk1ha2VEZWZXcmFwcGVyIiwiYXBwbHkiLCJpdGVyYXRlUHJvbWlzZXMiLCJhcnIiLCJyZXNvbHZlciIsInJlamVjdGVyIiwiaWR4IiwiTWFrZURlZiIsIlByb21pc2UiLCJleGVjdXRvciIsIl9fTlBPX18iLCJjb25zdHJ1Y3RvciIsInB1c2giLCJmaXJzdCIsImxhc3QiLCJpdGVtIiwiSXRlbSIsIm5leHQiLCJmIiwiUHJvbWlzZVByb3RvdHlwZSIsImxlbiIsIm1zZ3MiLCJjb3VudCIsImV4cG9ydHMiLCJjYWxsYmFja01hcCIsInN0b3JlQ2FsbGJhY2siLCJwbGF5ZXIiLCJjYWxsYmFjayIsInBsYXllckNhbGxiYWNrcyIsImdldCIsInNldCIsImdldENhbGxiYWNrcyIsInJlbW92ZUNhbGxiYWNrIiwiaW5kZXgiLCJzcGxpY2UiLCJzd2FwQ2FsbGJhY2tzIiwib2xkRWxlbWVudCIsIm5ld0VsZW1lbnQiLCJkZWxldGUiLCJwYXJzZU1lc3NhZ2VEYXRhIiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwiY29uc29sZSIsIndhcm4iLCJtZXRob2QiLCJwYXJhbXMiLCJjb250ZW50V2luZG93IiwibWVzc2FnZSIsImllVmVyc2lvbiIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInN0cmluZ2lmeSIsIm9yaWdpbiIsInByb2Nlc3NEYXRhIiwicGFyYW0iLCJjYWxsYmFja3MiLCJldmVudCIsImZvckVhY2giLCJzaGlmdCIsInNoaWZ0Q2FsbGJhY2tzIiwiZ2V0T0VtYmVkUGFyYW1ldGVycyIsImRlZmF1bHRzIiwicmVkdWNlIiwiZ2V0QXR0cmlidXRlIiwiY3JlYXRlRW1iZWQiLCJfcmVmIiwiaHRtbCIsInF1ZXJ5U2VsZWN0b3IiLCJkaXYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJhcHBlbmRDaGlsZCIsImZpcnN0Q2hpbGQiLCJzZXRBdHRyaWJ1dGUiLCJnZXRPRW1iZWREYXRhIiwidmlkZW9VcmwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJ4aHIiLCJYRG9tYWluUmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsIm9ubG9hZCIsInN0YXR1cyIsImpzb24iLCJyZXNwb25zZVRleHQiLCJkb21haW5fc3RhdHVzX2NvZGUiLCJvbmVycm9yIiwic2VuZCIsInBsYXllck1hcCIsInJlYWR5TWFwIiwic2NyZWVuZnVsbCIsIlBsYXllciIsIl90aGlzIiwib3B0aW9ucyIsImpRdWVyeSIsImdldEVsZW1lbnRCeUlkIiwibm9kZU5hbWUiLCJpZnJhbWUiLCJoYXMiLCJfd2luZG93IiwicmVhZHlQcm9taXNlIiwiX29uTWVzc2FnZSIsInNvdXJjZSIsImlzUmVhZHlFdmVudCIsImlzUGluZ1Jlc3BvbnNlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9vcmlnaW5hbEVsZW1lbnQiLCJjYXRjaCIsImlzRW5hYmxlZCIsImV4aXRGdWxsc2NyZWVuIiwiZXhpdCIsImZ1bGxzY3JlZW5jaGFuZ2VIYW5kbGVyIiwiaXNGdWxsc2NyZWVuIiwicmVhZHkiLCJvbiIsInByb3RvUHJvcHMiLCJfdGhpczIiLCJhcmdzIiwiX3RoaXMzIiwiX3RoaXM0IiwiZXZlbnROYW1lIiwiY2FsbE1ldGhvZCIsInRpbWUiLCJsYW5ndWFnZSIsImtpbmQiLCJyZXF1ZXN0IiwiX3RoaXM1IiwicmVtb3ZlQXR0cmlidXRlIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm9mZiIsImF1dG9wYXVzZSIsImNhbWVyYSIsImNvbG9yIiwiY3VycmVudFRpbWUiLCJsb29wIiwibXV0ZWQiLCJwbGF5YmFja1JhdGUiLCJxdWFsaXR5Iiwidm9sdW1lIiwiZm5NYXAiLCJsIiwiZXZlbnROYW1lTWFwIiwiZnVsbHNjcmVlbmNoYW5nZSIsImZ1bGxzY3JlZW5lcnJvciIsIm9uRnVsbFNjcmVlbkVudGVyZWQiLCJyZXR1cm5Qcm9taXNlIiwiZG9jdW1lbnRFbGVtZW50IiwicmVxdWVzdEZ1bGxzY3JlZW4iLCJvbkZ1bGxTY3JlZW5FeGl0IiwiZGVmaW5lUHJvcGVydGllcyIsImZ1bGxzY3JlZW5FbGVtZW50IiwiZnVsbHNjcmVlbkVuYWJsZWQiLCJpbml0aWFsaXplU2NyZWVuZnVsbCIsInBhcmVudCIsImVsZW1lbnRzIiwic2xpY2UiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaGFuZGxlRXJyb3IiLCJpbml0aWFsaXplRW1iZWRzIiwiVmltZW9QbGF5ZXJSZXNpemVFbWJlZHNfIiwib25NZXNzYWdlIiwiaWZyYW1lcyIsInBhcmVudEVsZW1lbnQiLCJzdHlsZSIsInBhZGRpbmdCb3R0b20iLCJib3R0b20iLCJyZXNpemVFbWJlZHMiLCJWaW1lb1Nlb01ldGFkYXRhQXBwZW5kZWQiLCJpc1ZhbGlkTWVzc2FnZVNvdXJjZSIsInNyYyIsImxvY2F0aW9uIiwiaHJlZiIsImluaXRBcHBlbmRWaWRlb01ldGFkYXRhIiwiX3NldFByb3RvdHlwZU9mIiwicCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiZXZlbnROYW1lcyIsInBsYXkiLCJwYXVzZSIsImVuZGVkIiwidGltZXVwZGF0ZSIsInByb2dyZXNzIiwic2Vla2VkIiwidGV4dHRyYWNrY2hhbmdlIiwiY3VlY2hhbmdlIiwiY3VlcG9pbnQiLCJ2b2x1bWVjaGFuZ2UiLCJwbGF5YmFja3JhdGVjaGFuZ2UiLCJsb2FkZWQiLCJWaW1lbyIsIl9SZWFjdCRDb21wb25lbnQiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJyZWZDb250YWluZXIiLCJiaW5kIiwiUmVmZXJlbmNlRXJyb3IiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiY3JlYXRlIiwiX3Byb3RvIiwiY29tcG9uZW50RGlkTW91bnQiLCJjcmVhdGVQbGF5ZXIiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJjaGFuZ2VzIiwia2V5cyIsImZpbHRlciIsInVwZGF0ZVByb3BzIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJkZXN0cm95IiwiZ2V0SW5pdGlhbE9wdGlvbnMiLCJ2aWRlbyIsIndpZHRoIiwiaGVpZ2h0IiwiYXV0b3BsYXkiLCJieWxpbmUiLCJzaG93QnlsaW5lIiwiY29udHJvbHMiLCJwb3J0cmFpdCIsInNob3dQb3J0cmFpdCIsInRpdGxlIiwic2hvd1RpdGxlIiwiYmFja2dyb3VuZCIsInJlc3BvbnNpdmUiLCJkbnQiLCJzcGVlZCIsImtleWJvYXJkIiwicGlwIiwicGxheXNpbmxpbmUiLCJwbGF5c0lubGluZSIsInRleHR0cmFjayIsInRleHRUcmFjayIsInRyYW5zcGFyZW50IiwicHJvcE5hbWVzIiwic2V0QXV0b3BhdXNlIiwic2V0Q29sb3IiLCJzZXRMb29wIiwic2V0Vm9sdW1lIiwiZ2V0UGF1c2VkIiwicGF1c2VkIiwic3RhcnQiLCJsb2FkVmlkZW8iLCJzZXRDdXJyZW50VGltZSIsInVubG9hZCIsIl90aGlzJHByb3BzIiwiY29udGFpbmVyIiwiZG1OYW1lIiwicmVhY3ROYW1lIiwiaGFuZGxlciIsIl90aGlzJHByb3BzMiIsIm9uRXJyb3IiLCJvblJlYWR5IiwicmVuZGVyIiwiX3RoaXMkcHJvcHMzIiwiY2xhc3NOYW1lIiwicmVmIiwiZGVmYXVsdFByb3BzIiwiaGFzT3duIiwiY2xhc3NOYW1lcyIsImNsYXNzZXMiLCJhcmciLCJhcmdUeXBlIiwiaXNBcnJheSIsImlubmVyIiwiam9pbiIsImRlZmF1bHQiLCJTdHJpbmciLCJfX2VzTW9kdWxlIiwiaGFzaCIsIm5lZWRRdW90ZXMiLCJTeW1ib2wiLCJnZXRSYXdUYWciLCJvYmplY3RUb1N0cmluZyIsInN5bVRvU3RyaW5nVGFnIiwidG9TdHJpbmdUYWciLCJ0cmltbWVkRW5kSW5kZXgiLCJyZVRyaW1TdGFydCIsInN0cmluZyIsImZyZWVHbG9iYWwiLCJvYmplY3RQcm90byIsIm5hdGl2ZU9iamVjdFRvU3RyaW5nIiwiaXNPd24iLCJ0YWciLCJ1bm1hc2tlZCIsInJlc3VsdCIsImZyZWVTZWxmIiwicm9vdCIsIkZ1bmN0aW9uIiwicmVXaGl0ZXNwYWNlIiwiY2hhckF0Iiwibm93IiwidG9OdW1iZXIiLCJuYXRpdmVNYXgiLCJtYXgiLCJuYXRpdmVNaW4iLCJtaW4iLCJmdW5jIiwid2FpdCIsImxhc3RBcmdzIiwibGFzdFRoaXMiLCJtYXhXYWl0IiwidGltZXJJZCIsImxhc3RDYWxsVGltZSIsImxhc3RJbnZva2VUaW1lIiwibGVhZGluZyIsIm1heGluZyIsInRyYWlsaW5nIiwiaW52b2tlRnVuYyIsInRoaXNBcmciLCJsZWFkaW5nRWRnZSIsInRpbWVyRXhwaXJlZCIsInNob3VsZEludm9rZSIsInRpbWVTaW5jZUxhc3RDYWxsIiwidHJhaWxpbmdFZGdlIiwidGltZVdhaXRpbmciLCJyZW1haW5pbmdXYWl0IiwiZGVib3VuY2VkIiwiaXNJbnZva2luZyIsImNsZWFyVGltZW91dCIsImNhbmNlbCIsImZsdXNoIiwiYmFzZUdldFRhZyIsImlzT2JqZWN0TGlrZSIsIkRhdGUiLCJkZWJvdW5jZSIsImJhc2VUcmltIiwiaXNTeW1ib2wiLCJyZUlzQmFkSGV4IiwicmVJc0JpbmFyeSIsInJlSXNPY3RhbCIsImZyZWVQYXJzZUludCIsInBhcnNlSW50Iiwib3RoZXIiLCJ2YWx1ZU9mIiwiaXNCaW5hcnkiLCJ1c2VJc01vdW50ZWQiLCJpc01vdW50ZWQiLCJ1c2VSZWYiLCJjdXJyZW50IiwiUG9wQ2hpbGRNZWFzdXJlIiwiZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUiLCJjaGlsZFJlZiIsImlzUHJlc2VudCIsInNpemUiLCJzaXplUmVmIiwib2Zmc2V0SGVpZ2h0Iiwib2Zmc2V0V2lkdGgiLCJ0b3AiLCJvZmZzZXRUb3AiLCJsZWZ0Iiwib2Zmc2V0TGVmdCIsImNoaWxkcmVuIiwiUG9wQ2hpbGQiLCJ1c2VJZCIsInVzZUluc2VydGlvbkVmZmVjdCIsImRhdGFzZXQiLCJtb3Rpb25Qb3BJZCIsImhlYWQiLCJzaGVldCIsImluc2VydFJ1bGUiLCJQcmVzZW5jZUNoaWxkIiwiaW5pdGlhbCIsIm9uRXhpdENvbXBsZXRlIiwiY3VzdG9tIiwicHJlc2VuY2VBZmZlY3RzTGF5b3V0IiwibW9kZSIsInByZXNlbmNlQ2hpbGRyZW4iLCJuZXdDaGlsZHJlbk1hcCIsInVzZU1lbW8iLCJjaGlsZElkIiwiaXNDb21wbGV0ZSIsInZhbHVlcyIsInJlZ2lzdGVyIiwiXyIsIlByZXNlbmNlQ29udGV4dCIsIk1hcCIsImdldENoaWxkS2V5IiwiY2hpbGQiLCJBbmltYXRlUHJlc2VuY2UiLCJleGl0QmVmb3JlRW50ZXIiLCJmb3JjZVJlbmRlciIsImZvcmNlZFJlbmRlckNvdW50Iiwic2V0Rm9yY2VkUmVuZGVyQ291bnQiLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwidXNlRm9yY2VVcGRhdGUiLCJmb3JjZVJlbmRlckxheW91dEdyb3VwIiwidXNlQ29udGV4dCIsIkxheW91dEdyb3VwQ29udGV4dCIsImZpbHRlcmVkQ2hpbGRyZW4iLCJmaWx0ZXJlZCIsIkNoaWxkcmVuIiwiaXNWYWxpZEVsZW1lbnQiLCJvbmx5RWxlbWVudHMiLCJjaGlsZHJlblRvUmVuZGVyIiwiZXhpdGluZyIsIlNldCIsInByZXNlbnRDaGlsZHJlbiIsImFsbENoaWxkcmVuIiwiaXNJbml0aWFsUmVuZGVyIiwidXBkYXRlQ2hpbGRMb29rdXAiLCJjbGVhciIsIm1hcCIsInByZXNlbnRLZXlzIiwidGFyZ2V0S2V5cyIsIm51bVByZXNlbnQiLCJpbnNlcnRpb25JbmRleCIsInJlbW92ZUluZGV4IiwiZmluZEluZGV4IiwicHJlc2VudENoaWxkIiwiY2xvbmVFbGVtZW50IiwiY3JlYXRlQ29udGV4dCIsIk1vdGlvbkNvbmZpZ0NvbnRleHQiLCJ0cmFuc2Zvcm1QYWdlUG9pbnQiLCJpc1N0YXRpYyIsInJlZHVjZWRNb3Rpb24iLCJNb3Rpb25Db250ZXh0IiwiTGF6eUNvbnRleHQiLCJzdHJpY3QiLCJpc1JlZk9iamVjdCIsImlzVmFyaWFudExhYmVsIiwidiIsImlzQW5pbWF0aW9uQ29udHJvbHMiLCJ2YXJpYW50UHJvcHMiLCJpc0NvbnRyb2xsaW5nVmFyaWFudHMiLCJhbmltYXRlIiwic29tZSIsImlzVmFyaWFudE5vZGUiLCJ2YXJpYW50cyIsInZhcmlhbnRMYWJlbHNBc0RlcGVuZGVuY3kiLCJjcmVhdGVEZWZpbml0aW9uIiwiZmVhdHVyZURlZmluaXRpb25zIiwibWVhc3VyZUxheW91dCIsImFuaW1hdGlvbiIsImRyYWciLCJmb2N1cyIsImhvdmVyIiwidGFwIiwicGFuIiwiaW5WaWV3IiwiZ2xvYmFsUHJvamVjdGlvblN0YXRlIiwiaGFzQW5pbWF0ZWRTaW5jZVJlc2l6ZSIsImhhc0V2ZXJVcGRhdGVkIiwiVmlzdWFsRWxlbWVudEhhbmRsZXIiLCJ2aXN1YWxFbGVtZW50Iiwic2V0UHJvcHMiLCJTd2l0Y2hMYXlvdXRHcm91cENvbnRleHQiLCJtb3Rpb25Db21wb25lbnRTeW1ib2wiLCJmb3IiLCJwcmVsb2FkZWRGZWF0dXJlcyIsImNyZWF0ZVZpc3VhbEVsZW1lbnQiLCJwcm9qZWN0aW9uTm9kZUNvbnN0cnVjdG9yIiwidXNlUmVuZGVyIiwidXNlVmlzdWFsU3RhdGUiLCJDb21wb25lbnQiLCJmZWF0dXJlcyIsImxvYWRGZWF0dXJlcyIsIkZvcndhcmRSZWZDb21wb25lbnQiLCJmb3J3YXJkUmVmIiwiZXh0ZXJuYWxSZWYiLCJjb25maWdBbmRQcm9wcyIsImxheW91dElkIiwidXNlTGF5b3V0SWQiLCJpbmhlcml0IiwiZ2V0Q3VycmVudFRyZWVWYXJpYW50cyIsInVzZUNyZWF0ZU1vdGlvbkNvbnRleHQiLCJwcm9qZWN0aW9uSWQiLCJ2aXN1YWxTdGF0ZSIsImxhenlDb250ZXh0IiwicHJlc2VuY2VDb250ZXh0IiwicmVkdWNlZE1vdGlvbkNvbmZpZyIsInZpc3VhbEVsZW1lbnRSZWYiLCJyZW5kZXJlciIsInByZXNlbmNlSWQiLCJibG9ja0luaXRpYWxBbmltYXRpb24iLCJzeW5jUmVuZGVyIiwidXNlRWZmZWN0IiwiYW5pbWF0aW9uU3RhdGUiLCJhbmltYXRlQ2hhbmdlcyIsIm5vdGlmeVVubW91bnQiLCJ1c2VWaXN1YWxFbGVtZW50IiwibGF6eVN0cmljdE1vZGUiLCJpbml0aWFsTGF5b3V0R3JvdXBDb25maWciLCJQcm92aWRlciIsIm1vdW50IiwidW5tb3VudCIsInVzZU1vdGlvblJlZiIsImxheW91dEdyb3VwSWQiLCJjcmVhdGVNb3Rpb25Qcm94eSIsImNyZWF0ZUNvbmZpZyIsImN1c3RvbU1vdGlvbkNvbXBvbmVudENvbmZpZyIsIlByb3h5IiwiY29tcG9uZW50Q2FjaGUiLCJfdGFyZ2V0IiwibG93ZXJjYXNlU1ZHRWxlbWVudHMiLCJpc1NWR0NvbXBvbmVudCIsImluY2x1ZGVzIiwic2NhbGVDb3JyZWN0b3JzIiwidHJhbnNmb3JtUHJvcE9yZGVyIiwidHJhbnNmb3JtUHJvcHMiLCJpc0ZvcmNlZE1vdGlvblZhbHVlIiwibGF5b3V0Iiwic3RhcnRzV2l0aCIsImlzTW90aW9uVmFsdWUiLCJnZXRWZWxvY2l0eSIsInRyYW5zbGF0ZUFsaWFzIiwieSIsInoiLCJ0cmFuc2Zvcm1QZXJzcGVjdGl2ZSIsInNvcnRUcmFuc2Zvcm1Qcm9wcyIsImEiLCJiIiwiaXNDU1NWYXJpYWJsZSIsImdldFZhbHVlQXNUeXBlIiwidHJhbnNmb3JtIiwiY2xhbXAiLCJzYW5pdGl6ZSIsIk51bWJlciIsInRvRml4ZWQiLCJmbG9hdFJlZ2V4IiwiY29sb3JSZWdleCIsInNpbmdsZUNvbG9yUmVnZXgiLCJpc1N0cmluZyIsImNyZWF0ZVVuaXRUeXBlIiwidW5pdCIsImVuZHNXaXRoIiwic3BsaXQiLCJkZWdyZWVzIiwicGVyY2VudCIsInB4IiwidmgiLCJ2dyIsInByb2dyZXNzUGVyY2VudGFnZSIsImFzc2lnbiIsIm51bWJlciIsImFscGhhIiwic2NhbGUiLCJyb3VuZCIsIm51bWJlclZhbHVlVHlwZXMiLCJib3JkZXJXaWR0aCIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyUmlnaHRXaWR0aCIsImJvcmRlckJvdHRvbVdpZHRoIiwiYm9yZGVyTGVmdFdpZHRoIiwiYm9yZGVyUmFkaXVzIiwicmFkaXVzIiwiYm9yZGVyVG9wTGVmdFJhZGl1cyIsImJvcmRlclRvcFJpZ2h0UmFkaXVzIiwiYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMiLCJib3JkZXJCb3R0b21MZWZ0UmFkaXVzIiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJyaWdodCIsInBhZGRpbmciLCJwYWRkaW5nVG9wIiwicGFkZGluZ1JpZ2h0IiwicGFkZGluZ0xlZnQiLCJtYXJnaW4iLCJtYXJnaW5Ub3AiLCJtYXJnaW5SaWdodCIsIm1hcmdpbkJvdHRvbSIsIm1hcmdpbkxlZnQiLCJyb3RhdGUiLCJyb3RhdGVYIiwicm90YXRlWSIsInJvdGF0ZVoiLCJzY2FsZVgiLCJzY2FsZVkiLCJzY2FsZVoiLCJza2V3Iiwic2tld1giLCJza2V3WSIsImRpc3RhbmNlIiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJ0cmFuc2xhdGVaIiwicGVyc3BlY3RpdmUiLCJvcGFjaXR5Iiwib3JpZ2luWCIsIm9yaWdpblkiLCJvcmlnaW5aIiwiekluZGV4IiwiZmlsbE9wYWNpdHkiLCJzdHJva2VPcGFjaXR5IiwibnVtT2N0YXZlcyIsImJ1aWxkSFRNTFN0eWxlcyIsImxhdGVzdFZhbHVlcyIsInRyYW5zZm9ybVRlbXBsYXRlIiwidmFycyIsInRyYW5zZm9ybUtleXMiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJoYXNUcmFuc2Zvcm0iLCJoYXNUcmFuc2Zvcm1PcmlnaW4iLCJ0cmFuc2Zvcm1Jc05vbmUiLCJ2YWx1ZVR5cGUiLCJ2YWx1ZUFzVHlwZSIsImVuYWJsZUhhcmR3YXJlQWNjZWxlcmF0aW9uIiwiYWxsb3dUcmFuc2Zvcm1Ob25lIiwidHJhbnNmb3JtSXNEZWZhdWx0IiwidHJhbnNmb3JtU3RyaW5nIiwic29ydCIsInRyaW0iLCJidWlsZFRyYW5zZm9ybSIsImNvcHlSYXdWYWx1ZXNPbmx5IiwidXNlSFRNTFByb3BzIiwiaHRtbFByb3BzIiwidXNlSW5pdGlhbE1vdGlvblZhbHVlcyIsInRyYW5zZm9ybVZhbHVlcyIsInVzZVN0eWxlIiwiZHJhZ0xpc3RlbmVyIiwiZHJhZ2dhYmxlIiwidXNlclNlbGVjdCIsIldlYmtpdFVzZXJTZWxlY3QiLCJXZWJraXRUb3VjaENhbGxvdXQiLCJ0b3VjaEFjdGlvbiIsInZhbGlkTW90aW9uUHJvcHMiLCJpc1ZhbGlkTW90aW9uUHJvcCIsInNob3VsZEZvcndhcmQiLCJpc1ZhbGlkUHJvcCIsInJlcXVpcmUiLCJfYSIsImNhbGNPcmlnaW4iLCJvZmZzZXQiLCJkYXNoS2V5cyIsImFycmF5IiwiY2FtZWxLZXlzIiwiYnVpbGRTVkdBdHRycyIsImF0dHJYIiwiYXR0clkiLCJwYXRoTGVuZ3RoIiwicGF0aFNwYWNpbmciLCJwYXRoT2Zmc2V0IiwibGF0ZXN0IiwiYXR0cnMiLCJkaW1lbnNpb25zIiwiY2FsY1NWR1RyYW5zZm9ybU9yaWdpbiIsInNwYWNpbmciLCJ1c2VEYXNoQ2FzZSIsImJ1aWxkU1ZHUGF0aCIsInVzZVNWR1Byb3BzIiwidmlzdWFsUHJvcHMiLCJyYXdTdHlsZXMiLCJjcmVhdGVVc2VSZW5kZXIiLCJmb3J3YXJkTW90aW9uUHJvcHMiLCJmaWx0ZXJlZFByb3BzIiwiaXNEb20iLCJmaWx0ZXJQcm9wcyIsImVsZW1lbnRQcm9wcyIsImNhbWVsVG9EYXNoIiwic3RyIiwicmVuZGVySFRNTCIsInN0eWxlUHJvcCIsInByb2plY3Rpb24iLCJnZXRQcm9qZWN0aW9uU3R5bGVzIiwic2V0UHJvcGVydHkiLCJjYW1lbENhc2VBdHRyaWJ1dGVzIiwicmVuZGVyU1ZHIiwicmVuZGVyU3RhdGUiLCJfc3R5bGVQcm9wIiwic2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzIiwibmV3VmFsdWVzIiwicmVzb2x2ZVZhcmlhbnRGcm9tUHJvcHMiLCJjdXJyZW50VmFsdWVzIiwiY3VycmVudFZlbG9jaXR5IiwiaXNLZXlmcmFtZXNUYXJnZXQiLCJyZXNvbHZlRmluYWxWYWx1ZUluS2V5ZnJhbWVzIiwicmVzb2x2ZU1vdGlvblZhbHVlIiwidW53cmFwcGVkVmFsdWUiLCJtaXgiLCJ0b1ZhbHVlIiwibWFrZVVzZVZpc3VhbFN0YXRlIiwibWFrZSIsImNyZWF0ZVJlbmRlclN0YXRlIiwib25Nb3VudCIsIm1ha2VMYXRlc3RWYWx1ZXMiLCJtYWtlU3RhdGUiLCJzY3JhcGVNb3Rpb25WYWx1ZXMiLCJtb3Rpb25WYWx1ZXMiLCJpc0NvbnRyb2xsaW5nVmFyaWFudHMkMSIsImlzVmFyaWFudE5vZGUkMSIsImlzSW5pdGlhbEFuaW1hdGlvbkJsb2NrZWQiLCJ2YXJpYW50VG9TZXQiLCJyZXNvbHZlZCIsInRyYW5zaXRpb25FbmQiLCJ0cmFuc2l0aW9uIiwidmFsdWVUYXJnZXQiLCJzdmdNb3Rpb25Db25maWciLCJnZXRCQm94IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaHRtbE1vdGlvbkNvbmZpZyIsIkFuaW1hdGlvblR5cGUiLCJhZGREb21FdmVudCIsInBhc3NpdmUiLCJ1c2VEb21FdmVudCIsImlzTW91c2VFdmVudCIsIlBvaW50ZXJFdmVudCIsInBvaW50ZXJUeXBlIiwiTW91c2VFdmVudCIsImlzVG91Y2hFdmVudCIsInRvdWNoZXMiLCJkZWZhdWx0UGFnZVBvaW50IiwicGFnZVgiLCJwYWdlWSIsInBvaW50RnJvbVRvdWNoIiwicG9pbnRUeXBlIiwicG9pbnQiLCJjaGFuZ2VkVG91Y2hlcyIsInBvaW50RnJvbU1vdXNlIiwiZXh0cmFjdEV2ZW50SW5mbyIsIndyYXBIYW5kbGVyIiwic2hvdWxkRmlsdGVyUHJpbWFyeVBvaW50ZXIiLCJsaXN0ZW5lciIsImV2ZW50SGFuZGxlciIsImJ1dHRvbiIsIm1vdXNlRXZlbnROYW1lcyIsInBvaW50ZXJkb3duIiwicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiLCJwb2ludGVyY2FuY2VsIiwicG9pbnRlcm92ZXIiLCJwb2ludGVyb3V0IiwicG9pbnRlcmVudGVyIiwicG9pbnRlcmxlYXZlIiwidG91Y2hFdmVudE5hbWVzIiwiZ2V0UG9pbnRlckV2ZW50TmFtZSIsIm9ucG9pbnRlcmRvd24iLCJvbnRvdWNoc3RhcnQiLCJvbm1vdXNlZG93biIsImFkZFBvaW50ZXJFdmVudCIsInVzZVBvaW50ZXJFdmVudCIsImNyZWF0ZUxvY2siLCJsb2NrIiwiZ2xvYmFsSG9yaXpvbnRhbExvY2siLCJnbG9iYWxWZXJ0aWNhbExvY2siLCJnZXRHbG9iYWxMb2NrIiwib3Blbkhvcml6b250YWwiLCJvcGVuVmVydGljYWwiLCJpc0RyYWdBY3RpdmUiLCJvcGVuR2VzdHVyZUxvY2siLCJjcmVhdGVIb3ZlckV2ZW50IiwiaXNBY3RpdmUiLCJpbmZvIiwic2V0QWN0aXZlIiwiSG92ZXIiLCJpc05vZGVPckNoaWxkIiwiY29tYmluZUZ1bmN0aW9ucyIsInBpcGUiLCJ0cmFuc2Zvcm1lcnMiLCJvYnNlcnZlckNhbGxiYWNrcyIsIm9ic2VydmVycyIsImZpcmVPYnNlcnZlckNhbGxiYWNrIiwiZmlyZUFsbE9ic2VydmVyQ2FsbGJhY2tzIiwiZW50cmllcyIsInRocmVzaG9sZE5hbWVzIiwiYWxsIiwidXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJzaG91bGRPYnNlcnZlIiwicm9vdE1hcmdpbiIsImFtb3VudCIsIm9uY2UiLCJ0aHJlc2hvbGQiLCJyb290SW50ZXJlc2VjdGlvbk9ic2VydmVyIiwibG9va3VwUm9vdCIsInJvb3RPYnNlcnZlcnMiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImluaXRJbnRlcnNlY3Rpb25PYnNlcnZlciIsIm9ic2VydmUiLCJ1bm9ic2VydmUiLCJvYnNlcnZlSW50ZXJzZWN0aW9uIiwiZ2V0SW5zdGFuY2UiLCJpc0ludGVyc2VjdGluZyIsImlzSW5WaWV3IiwiaGFzRW50ZXJlZFZpZXciLCJJblZpZXciLCJnZXRQcm9wcyIsIm9uVmlld3BvcnRFbnRlciIsIm9uVmlld3BvcnRMZWF2ZSIsInVzZU1pc3NpbmdJbnRlcnNlY3Rpb25PYnNlcnZlciIsImZhbGxiYWNrIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibWFrZVJlbmRlcmxlc3NDb21wb25lbnQiLCJob29rIiwiZ2VzdHVyZUFuaW1hdGlvbnMiLCJ3aGlsZUluVmlldyIsInZpZXdwb3J0Iiwib25UYXAiLCJvblRhcFN0YXJ0Iiwib25UYXBDYW5jZWwiLCJ3aGlsZVRhcCIsImhhc1ByZXNzTGlzdGVuZXJzIiwiaXNQcmVzc2luZyIsImNhbmNlbFBvaW50ZXJFbmRMaXN0ZW5lcnMiLCJldmVudE9wdGlvbnMiLCJvblBvaW50ZXJEb3duIiwicmVtb3ZlUG9pbnRlckVuZExpc3RlbmVyIiwiY2hlY2tQb2ludGVyRW5kIiwiVGFwIiwib25Qb2ludGVyVXAiLCJvblBvaW50ZXJDYW5jZWwiLCJ3aGlsZUZvY3VzIiwiRm9jdXMiLCJvbkhvdmVyU3RhcnQiLCJvbkhvdmVyRW5kIiwid2hpbGVIb3ZlciIsInVzZVByZXNlbmNlIiwic2hhbGxvd0NvbXBhcmUiLCJwcmV2IiwicHJldkxlbmd0aCIsIl9fcmVzdCIsInMiLCJ0IiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJjYWxjQW5ndWxhckZyZXEiLCJ1bmRhbXBlZEZyZXEiLCJkYW1waW5nUmF0aW8iLCJzcXJ0IiwiZHVyYXRpb25LZXlzIiwicGh5c2ljc0tleXMiLCJpc1NwcmluZ1R5cGUiLCJzcHJpbmciLCJmcm9tIiwidG8iLCJyZXN0U3BlZWQiLCJyZXN0RGVsdGEiLCJkb25lIiwic3RpZmZuZXNzIiwiZGFtcGluZyIsIm1hc3MiLCJ2ZWxvY2l0eSIsImR1cmF0aW9uIiwiaXNSZXNvbHZlZEZyb21EdXJhdGlvbiIsInNwcmluZ09wdGlvbnMiLCJkZXJpdmVkIiwiYm91bmNlIiwiZW52ZWxvcGUiLCJkZXJpdmF0aXZlIiwiZXhwb25lbnRpYWxEZWNheSIsImRlbHRhIiwiZXhwIiwiZCIsInBvdyIsImluaXRpYWxHdWVzcyIsImFwcHJveGltYXRlUm9vdCIsImZpbmRTcHJpbmciLCJnZXRTcHJpbmdPcHRpb25zIiwicmVzb2x2ZVNwcmluZyIsInplcm8iLCJyZXNvbHZlVmVsb2NpdHkiLCJjcmVhdGVTcHJpbmciLCJpbml0aWFsVmVsb2NpdHkiLCJpbml0aWFsRGVsdGEiLCJ1bmRhbXBlZEFuZ3VsYXJGcmVxIiwiYWJzIiwiYW5ndWxhckZyZXEiLCJzaW4iLCJjb3MiLCJkYW1wZWRBbmd1bGFyRnJlcSIsImZyZXFGb3JUIiwic2luaCIsImNvc2giLCJpc0JlbG93VmVsb2NpdHlUaHJlc2hvbGQiLCJpc0JlbG93RGlzcGxhY2VtZW50VGhyZXNob2xkIiwiZmxpcFRhcmdldCIsIm5lZWRzSW50ZXJwb2xhdGlvbiIsIl90IiwidG9Gcm9tRGlmZmVyZW5jZSIsImlzQ29sb3JTdHJpbmciLCJ0ZXN0UHJvcCIsInNwbGl0Q29sb3IiLCJhTmFtZSIsImJOYW1lIiwiY05hbWUiLCJjIiwibWF0Y2giLCJjbGFtcFJnYlVuaXQiLCJyZ2JVbml0IiwicmdiYSIsInJlZCIsImdyZWVuIiwiYmx1ZSIsImFscGhhJDEiLCJoZXgiLCJyIiwiaHNsYSIsImh1ZSIsInNhdHVyYXRpb24iLCJsaWdodG5lc3MiLCJodWVUb1JnYiIsInEiLCJoc2xhVG9SZ2JhIiwibWl4TGluZWFyQ29sb3IiLCJmcm9tRXhwbyIsInRvRXhwbyIsImNvbG9yVHlwZXMiLCJnZXRDb2xvclR5cGUiLCJmaW5kIiwibm90QW5pbWF0YWJsZSIsIm1peENvbG9yIiwiZnJvbUNvbG9yVHlwZSIsInRvQ29sb3JUeXBlIiwiZnJvbUNvbG9yIiwidG9Db2xvciIsImJsZW5kZWQiLCJjb2xvclRva2VuIiwibnVtYmVyVG9rZW4iLCJhbmFseXNlIiwibnVtQ29sb3JzIiwiY29sb3JzIiwibnVtYmVycyIsInRva2VuaXNlZCIsImNyZWF0ZVRyYW5zZm9ybWVyIiwibnVtVmFsdWVzIiwib3V0cHV0IiwiY29udmVydE51bWJlcnNUb1plcm8iLCJjb21wbGV4IiwiX2IiLCJfYyIsIl9kIiwiZ2V0QW5pbWF0YWJsZU5vbmUiLCJwYXJzZWQiLCJ0cmFuc2Zvcm1lciIsImlzTnVtIiwiZ2V0TWl4ZXIiLCJtaXhDb21wbGV4IiwibWl4QXJyYXkiLCJibGVuZFZhbHVlIiwiZnJvbVRoaXMiLCJtaXhPYmplY3QiLCJudW1OdW1iZXJzIiwibnVtUkdCIiwibnVtSFNMIiwidGVtcGxhdGUiLCJvcmlnaW5TdGF0cyIsInRhcmdldFN0YXRzIiwibWl4TnVtYmVyIiwiaW50ZXJwb2xhdGUiLCJpbnB1dCIsImlzQ2xhbXAiLCJlYXNlIiwibWl4ZXIiLCJpbnB1dExlbmd0aCIsInJldmVyc2UiLCJtaXhlcnMiLCJjdXN0b21NaXhlciIsIm1peGVyRmFjdG9yeSIsIm51bU1peGVycyIsImVhc2luZ0Z1bmN0aW9uIiwiY3JlYXRlTWl4ZXJzIiwiaW50ZXJwb2xhdG9yIiwiZmFzdEludGVycG9sYXRlIiwibGFzdElucHV0SW5kZXgiLCJtaXhlckluZGV4IiwiZm91bmRNaXhlckluZGV4IiwicHJvZ3Jlc3NJblJhbmdlIiwic2xvd0ludGVycG9sYXRlIiwicmV2ZXJzZUVhc2luZyIsImVhc2luZyIsIm1pcnJvckVhc2luZyIsImNyZWF0ZUJhY2tJbiIsInBvd2VyIiwibGluZWFyIiwiZWFzZUluIiwiZWFzZU91dCIsImVhc2VJbk91dCIsImNpcmNJbiIsImFjb3MiLCJjaXJjT3V0IiwiY2lyY0luT3V0IiwiYmFja0luIiwiYmFja091dCIsImJhY2tJbk91dCIsImFudGljaXBhdGUiLCJiYWNrRWFzaW5nIiwiY3JlYXRlQW50aWNpcGF0ZSIsImJvdW5jZU91dCIsInAyIiwiYm91bmNlSW4iLCJkZWZhdWx0RWFzaW5nIiwia2V5ZnJhbWVzIiwidGltZXMiLCJjb252ZXJ0T2Zmc2V0VG9UaW1lcyIsIl92YWx1ZSIsImRlZmF1bHRPZmZzZXQiLCJjcmVhdGVJbnRlcnBvbGF0b3IiLCJ0eXBlcyIsInRpbWVDb25zdGFudCIsIm1vZGlmeVRhcmdldCIsImFtcGxpdHVkZSIsImlkZWFsIiwibG9vcEVsYXBzZWQiLCJlbGFwc2VkIiwiZGVsYXkiLCJmcmFtZXN5bmMiLCJ1cGRhdGUiLCJwYXNzVGltZXN0YW1wIiwic3RvcCIsImRyaXZlciIsInJlcGVhdCIsInJlcGVhdE1heCIsInJlcGVhdFR5cGUiLCJyZXBlYXREZWxheSIsIm9uUGxheSIsIm9uU3RvcCIsIm9uQ29tcGxldGUiLCJvblJlcGVhdCIsIm9uVXBkYXRlIiwiZHJpdmVyQ29udHJvbHMiLCJpbnRlcnBvbGF0ZUZyb21OdW1iZXIiLCJyZXBlYXRDb3VudCIsImNvbXB1dGVkRHVyYXRpb24iLCJpc0ZvcndhcmRQbGF5YmFjayIsImFuaW1hdG9yIiwiZGV0ZWN0QW5pbWF0aW9uRnJvbU9wdGlvbnMiLCJoYXNSZXBlYXREZWxheUVsYXBzZWQiLCJyZXZlcnNlRWxhcHNlZCIsInZlbG9jaXR5UGVyU2Vjb25kIiwiZnJhbWVEdXJhdGlvbiIsInNlY29uZHNUb01pbGxpc2Vjb25kcyIsInNlY29uZHMiLCJhMSIsImEyIiwiY2FsY0JlemllciIsImdldFNsb3BlIiwia1NhbXBsZVN0ZXBTaXplIiwiY3ViaWNCZXppZXIiLCJtWDEiLCJtWTEiLCJtWDIiLCJtWTIiLCJzYW1wbGVWYWx1ZXMiLCJGbG9hdDMyQXJyYXkiLCJhWCIsImludGVydmFsU3RhcnQiLCJjdXJyZW50U2FtcGxlIiwia1NwbGluZVRhYmxlU2l6ZSIsImd1ZXNzRm9yVCIsImluaXRpYWxTbG9wZSIsImFHdWVzc1QiLCJjdXJyZW50U2xvcGUiLCJuZXd0b25SYXBoc29uSXRlcmF0ZSIsImFBIiwiYUIiLCJjdXJyZW50WCIsImN1cnJlbnRUIiwiYmluYXJ5U3ViZGl2aWRlIiwiZ2V0VEZvclgiLCJlYXNpbmdMb29rdXAiLCJib3VuY2VJbk91dCIsImVhc2luZ0RlZmluaXRpb25Ub0Z1bmN0aW9uIiwieDEiLCJ5MSIsIngyIiwieTIiLCJpc0FuaW1hdGFibGUiLCJ1bmRlckRhbXBlZFNwcmluZyIsImNyaXRpY2FsbHlEYW1wZWRTcHJpbmciLCJsaW5lYXJUd2VlbiIsImRlZmF1bHRUcmFuc2l0aW9ucyIsImJhY2tncm91bmRDb2xvciIsImdldERlZmF1bHRUcmFuc2l0aW9uIiwidmFsdWVLZXkiLCJ0cmFuc2l0aW9uRmFjdG9yeSIsIm1heERlZmF1bHRzIiwiYXBwbHlEZWZhdWx0RmlsdGVyIiwiZGVmYXVsdFZhbHVlIiwiZnVuY3Rpb25SZWdleCIsImZ1bmN0aW9ucyIsImRlZmF1bHRWYWx1ZVR5cGVzIiwib3V0bGluZUNvbG9yIiwiZmlsbCIsInN0cm9rZSIsImJvcmRlckNvbG9yIiwiYm9yZGVyVG9wQ29sb3IiLCJib3JkZXJSaWdodENvbG9yIiwiYm9yZGVyQm90dG9tQ29sb3IiLCJib3JkZXJMZWZ0Q29sb3IiLCJXZWJraXRGaWx0ZXIiLCJnZXREZWZhdWx0VmFsdWVUeXBlIiwiZGVmYXVsdFZhbHVlVHlwZSIsImxlZ2FjeVJlcGVhdFdhcm5pbmciLCJjb252ZXJ0VHJhbnNpdGlvblRvQW5pbWF0aW9uT3B0aW9ucyIsInlveW8iLCJmbGlwIiwiaXNFYXNpbmdBcnJheSIsImdldFBvcG1vdGlvbkFuaW1hdGlvbk9wdGlvbnMiLCJoeWRyYXRlS2V5ZnJhbWVzIiwid2hlbiIsImRlbGF5Q2hpbGRyZW4iLCJzdGFnZ2VyQ2hpbGRyZW4iLCJzdGFnZ2VyRGlyZWN0aW9uIiwiaXNUcmFuc2l0aW9uRGVmaW5lZCIsImlzWmVybyIsImdldFplcm9Vbml0IiwicG90ZW50aWFsVW5pdFR5cGUiLCJnZXRWYWx1ZVRyYW5zaXRpb24iLCJzdGFydEFuaW1hdGlvbiIsImRlbGF5VGltZXIiLCJ2YWx1ZVRyYW5zaXRpb24iLCJpc1RhcmdldEFuaW1hdGFibGUiLCJib3VuY2VTdGlmZm5lc3MiLCJib3VuY2VEYW1waW5nIiwiY3VycmVudEFuaW1hdGlvbiIsImlzT3V0T2ZCb3VuZHMiLCJib3VuZGFyeU5lYXJlc3QiLCJzdGFydFNwcmluZyIsImJvdW5kYXJ5IiwiaGVhZGluZyIsImNoZWNrQm91bmRhcnkiLCJpbmVydGlhIiwiZmluYWxUYXJnZXQiLCJnZXRBbmltYXRpb24iLCJnZXREZWxheUZyb21UcmFuc2l0aW9uIiwiYWRkVW5pcXVlSXRlbSIsInJlbW92ZUl0ZW0iLCJTdWJzY3JpcHRpb25NYW5hZ2VyIiwic3Vic2NyaXB0aW9ucyIsIm51bVN1YnNjcmlwdGlvbnMiLCJnZXRTaXplIiwiTW90aW9uVmFsdWUiLCJpbml0IiwidmVyc2lvbiIsInRpbWVEZWx0YSIsImxhc3RVcGRhdGVkIiwidXBkYXRlU3Vic2NyaWJlcnMiLCJ2ZWxvY2l0eVVwZGF0ZVN1YnNjcmliZXJzIiwicmVuZGVyU3Vic2NyaWJlcnMiLCJjYW5UcmFja1ZlbG9jaXR5IiwidXBkYXRlQW5kTm90aWZ5IiwidGltZXN0YW1wIiwic2NoZWR1bGVWZWxvY2l0eUNoZWNrIiwidmVsb2NpdHlDaGVjayIsImhhc0FuaW1hdGVkIiwib25DaGFuZ2UiLCJzdWJzY3JpcHRpb24iLCJjbGVhckxpc3RlbmVycyIsIm9uUmVuZGVyUmVxdWVzdCIsImF0dGFjaCIsInBhc3NpdmVFZmZlY3QiLCJnZXRQcmV2aW91cyIsInN0b3BBbmltYXRpb24iLCJjbGVhckFuaW1hdGlvbiIsImlzQW5pbWF0aW5nIiwibW90aW9uVmFsdWUiLCJ0ZXN0VmFsdWVUeXBlIiwiZGltZW5zaW9uVmFsdWVUeXBlcyIsImZpbmREaW1lbnNpb25WYWx1ZVR5cGUiLCJ2YWx1ZVR5cGVzIiwiZmluZFZhbHVlVHlwZSIsInJlc29sdmVWYXJpYW50IiwiZm9yRWFjaFZhbHVlIiwiZ2V0Q3VycmVudCIsInNldE1vdGlvblZhbHVlIiwiaGFzVmFsdWUiLCJnZXRWYWx1ZSIsImFkZFZhbHVlIiwiZ2V0T3JpZ2luRnJvbVRyYW5zaXRpb24iLCJpc1dpbGxDaGFuZ2VNb3Rpb25WYWx1ZSIsImFuaW1hdGVWYXJpYW50IiwidmFyaWFudCIsInRyYW5zaXRpb25PdmVycmlkZSIsImFuaW1hdGVUYXJnZXQiLCJnZXRDaGlsZEFuaW1hdGlvbnMiLCJ2YXJpYW50Q2hpbGRyZW4iLCJmb3J3YXJkRGVsYXkiLCJhbmltYXRpb25zIiwibWF4U3RhZ2dlckR1cmF0aW9uIiwiZ2VuZXJhdGVTdGFnZ2VyRHVyYXRpb24iLCJzb3J0QnlUcmVlT3JkZXIiLCJub3RpZnlBbmltYXRpb25Db21wbGV0ZSIsImFuaW1hdGVDaGlsZHJlbiIsIm1ha2VUYXJnZXRBbmltYXRhYmxlIiwid2lsbENoYW5nZSIsImFuaW1hdGlvblR5cGVTdGF0ZSIsImdldFN0YXRlIiwic2hvdWxkQmxvY2tBbmltYXRpb24iLCJzaG91bGRSZWR1Y2VNb3Rpb24iLCJyZW1vdmUiLCJzZXRUYXJnZXQiLCJzb3J0Tm9kZVBvc2l0aW9uIiwicHJvdGVjdGVkS2V5cyIsIm5lZWRzQW5pbWF0aW5nIiwic2hvdWxkQmxvY2siLCJ2YXJpYW50UHJpb3JpdHlPcmRlciIsIkFuaW1hdGUiLCJEcmFnIiwiRXhpdCIsInJldmVyc2VQcmlvcml0eU9yZGVyIiwibnVtQW5pbWF0aW9uVHlwZXMiLCJjcmVhdGVBbmltYXRpb25TdGF0ZSIsIm5vdGlmeUFuaW1hdGlvblN0YXJ0IiwicmVzb2x2ZWREZWZpbml0aW9uIiwiYW5pbWF0ZVZpc3VhbEVsZW1lbnQiLCJhbmltYXRlTGlzdCIsImNyZWF0ZVR5cGVTdGF0ZSIsImJ1aWxkUmVzb2x2ZWRUeXBlVmFsdWVzIiwiYWNjIiwiY2hhbmdlZEFjdGl2ZVR5cGUiLCJnZXRWYXJpYW50Q29udGV4dCIsInJlbW92ZWRLZXlzIiwiZW5jb3VudGVyZWRLZXlzIiwicmVtb3ZlZFZhcmlhbnRJbmRleCIsIkluZmluaXR5IiwidHlwZVN0YXRlIiwicHJvcElzVmFyaWFudCIsImFjdGl2ZURlbHRhIiwiaXNJbmhlcml0ZWQiLCJtYW51YWxseUFuaW1hdGVPbk1vdW50IiwicHJldlByb3AiLCJ2YXJpYW50RGlkQ2hhbmdlIiwic2hvdWxkQW5pbWF0ZVR5cGUiLCJkZWZpbml0aW9uTGlzdCIsInJlc29sdmVkVmFsdWVzIiwicHJldlJlc29sdmVkVmFsdWVzIiwiYWxsS2V5cyIsIm1hcmtUb0FuaW1hdGUiLCJmYWxsYmFja0FuaW1hdGlvbiIsImZhbGxiYWNrVGFyZ2V0IiwiZ2V0QmFzZVRhcmdldCIsInNob3VsZEFuaW1hdGUiLCJzZXRBbmltYXRlRnVuY3Rpb24iLCJtYWtlQW5pbWF0b3IiLCJzdWJzY3JpYmUiLCJzYWZlVG9SZW1vdmUiLCJpc1BvaW50IiwiaXNQb2ludDNEIiwiZGlzdGFuY2UxRCIsInhEZWx0YSIsInlEZWx0YSIsInpEZWx0YSIsIlBhblNlc3Npb24iLCJoYW5kbGVycyIsInN0YXJ0RXZlbnQiLCJsYXN0TW92ZUV2ZW50IiwibGFzdE1vdmVFdmVudEluZm8iLCJ1cGRhdGVQb2ludCIsImdldFBhbkluZm8iLCJoaXN0b3J5IiwiaXNQYW5TdGFydGVkIiwiaXNEaXN0YW5jZVBhc3RUaHJlc2hvbGQiLCJvblN0YXJ0Iiwib25Nb3ZlIiwiaGFuZGxlUG9pbnRlck1vdmUiLCJ0cmFuc2Zvcm1Qb2ludCIsImJ1dHRvbnMiLCJoYW5kbGVQb2ludGVyVXAiLCJlbmQiLCJvbkVuZCIsIm9uU2Vzc2lvbkVuZCIsInBhbkluZm8iLCJpbml0aWFsSW5mbyIsIm9uU2Vzc2lvblN0YXJ0IiwicmVtb3ZlTGlzdGVuZXJzIiwidXBkYXRlSGFuZGxlcnMiLCJzdWJ0cmFjdFBvaW50IiwibGFzdERldmljZVBvaW50Iiwic3RhcnREZXZpY2VQb2ludCIsInRpbWVzdGFtcGVkUG9pbnQiLCJsYXN0UG9pbnQiLCJjYWxjTGVuZ3RoIiwiYXhpcyIsImlzTmVhciIsIm1heERpc3RhbmNlIiwiY2FsY0F4aXNEZWx0YSIsIm9yaWdpblBvaW50IiwidHJhbnNsYXRlIiwiY2FsY0JveERlbHRhIiwiY2FsY1JlbGF0aXZlQXhpcyIsInJlbGF0aXZlIiwiY2FsY1JlbGF0aXZlQXhpc1Bvc2l0aW9uIiwiY2FsY1JlbGF0aXZlUG9zaXRpb24iLCJjYWxjUmVsYXRpdmVBeGlzQ29uc3RyYWludHMiLCJjYWxjVmlld3BvcnRBeGlzQ29uc3RyYWludHMiLCJsYXlvdXRBeGlzIiwiY29uc3RyYWludHNBeGlzIiwiZGVmYXVsdEVsYXN0aWMiLCJyZXNvbHZlQXhpc0VsYXN0aWMiLCJkcmFnRWxhc3RpYyIsIm1pbkxhYmVsIiwibWF4TGFiZWwiLCJyZXNvbHZlUG9pbnRFbGFzdGljIiwibGFiZWwiLCJlYWNoQXhpcyIsImNvbnZlcnRCb3VuZGluZ0JveFRvQm94IiwiaXNJZGVudGl0eVNjYWxlIiwiaGFzU2NhbGUiLCJoYXNUcmFuc2xhdGUiLCJzY2FsZVBvaW50IiwiYXBwbHlQb2ludERlbHRhIiwiYm94U2NhbGUiLCJhcHBseUF4aXNEZWx0YSIsImFwcGx5Qm94RGVsdGEiLCJib3giLCJ0cmFuc2xhdGVBeGlzIiwidHJhbnNmb3JtQXhpcyIsInRyYW5zZm9ybXMiLCJzY2FsZUtleSIsIm9yaWdpbktleSIsImF4aXNPcmlnaW4iLCJ4S2V5cyIsInlLZXlzIiwidHJhbnNmb3JtQm94IiwibWVhc3VyZVZpZXdwb3J0Qm94IiwidG9wTGVmdCIsImJvdHRvbVJpZ2h0IiwidHJhbnNmb3JtQm94UG9pbnRzIiwiZWxlbWVudERyYWdDb250cm9scyIsIlZpc3VhbEVsZW1lbnREcmFnQ29udHJvbHMiLCJvcGVuR2xvYmFsTG9jayIsImlzRHJhZ2dpbmciLCJjdXJyZW50RGlyZWN0aW9uIiwiY29uc3RyYWludHMiLCJoYXNNdXRhdGVkQ29uc3RyYWludHMiLCJlbGFzdGljIiwib3JpZ2luRXZlbnQiLCJzbmFwVG9DdXJzb3IiLCJwYW5TZXNzaW9uIiwiZHJhZ1Byb3BhZ2F0aW9uIiwib25EcmFnU3RhcnQiLCJyZXNvbHZlQ29uc3RyYWludHMiLCJpc0FuaW1hdGlvbkJsb2NrZWQiLCJnZXRBeGlzTW90aW9uVmFsdWUiLCJtZWFzdXJlZEF4aXMiLCJhY3R1YWwiLCJkcmFnRGlyZWN0aW9uTG9jayIsIm9uRGlyZWN0aW9uTG9jayIsIm9uRHJhZyIsImxvY2tUaHJlc2hvbGQiLCJkaXJlY3Rpb24iLCJnZXRDdXJyZW50RGlyZWN0aW9uIiwidXBkYXRlQXhpcyIsImdldFRyYW5zZm9ybVBhZ2VQb2ludCIsIm9uRHJhZ0VuZCIsIl9wb2ludCIsInNob3VsZERyYWciLCJheGlzVmFsdWUiLCJhcHBseUNvbnN0cmFpbnRzIiwiZHJhZ0NvbnN0cmFpbnRzIiwicHJldkNvbnN0cmFpbnRzIiwicmVzb2x2ZVJlZkNvbnN0cmFpbnRzIiwibGF5b3V0Qm94IiwiY2FsY1JlbGF0aXZlQ29uc3RyYWludHMiLCJyZXNvbHZlRHJhZ0VsYXN0aWMiLCJyZWxhdGl2ZUNvbnN0cmFpbnRzIiwicmViYXNlQXhpc0NvbnN0cmFpbnRzIiwib25NZWFzdXJlRHJhZ0NvbnN0cmFpbnRzIiwiY29uc3RyYWludHNFbGVtZW50IiwiY29uc3RyYWludHNCb3giLCJyb290UHJvamVjdGlvbk5vZGUiLCJ2aWV3cG9ydEJveCIsInNjcm9sbCIsIm1lYXN1cmVQYWdlQm94IiwibWVhc3VyZWRDb25zdHJhaW50cyIsImNhbGNWaWV3cG9ydENvbnN0cmFpbnRzIiwidXNlckNvbnN0cmFpbnRzIiwiY29udmVydEJveFRvQm91bmRpbmdCb3giLCJkcmFnTW9tZW50dW0iLCJkcmFnVHJhbnNpdGlvbiIsImRyYWdTbmFwVG9PcmlnaW4iLCJvbkRyYWdUcmFuc2l0aW9uRW5kIiwibW9tZW50dW1BbmltYXRpb25zIiwic3RhcnRBeGlzVmFsdWVBbmltYXRpb24iLCJkcmFnS2V5Iiwic2NhbGVQb3NpdGlvbldpdGhpbkNvbnN0cmFpbnRzIiwiYm94UHJvZ3Jlc3MiLCJzb3VyY2VMZW5ndGgiLCJ0YXJnZXRMZW5ndGgiLCJ1cGRhdGVTY3JvbGwiLCJ1cGRhdGVMYXlvdXQiLCJhZGRMaXN0ZW5lcnMiLCJzdG9wUG9pbnRlckxpc3RlbmVyIiwibWVhc3VyZURyYWdDb25zdHJhaW50cyIsInN0b3BNZWFzdXJlTGF5b3V0TGlzdGVuZXIiLCJzdG9wUmVzaXplTGlzdGVuZXIiLCJzdG9wTGF5b3V0VXBkYXRlTGlzdGVuZXIiLCJoYXNMYXlvdXRDaGFuZ2VkIiwib25QYW4iLCJvblBhblN0YXJ0Iiwib25QYW5FbmQiLCJvblBhblNlc3Npb25TdGFydCIsImhhc1BhbkV2ZW50cyIsImRyYWdDb250cm9scyIsImdyb3VwRHJhZ0NvbnRyb2xzIiwicHJlZmVyc1JlZHVjZWRNb3Rpb24iLCJoYXNSZWR1Y2VkTW90aW9uTGlzdGVuZXIiLCJuYW1lcyIsImZlYXR1cmVOYW1lcyIsIm51bUZlYXR1cmVzIiwidHJlZVR5cGUiLCJidWlsZCIsInJlbmRlckluc3RhbmNlIiwicmVhZFZhbHVlRnJvbUluc3RhbmNlIiwicmVtb3ZlVmFsdWVGcm9tUmVuZGVyU3RhdGUiLCJsaWZlY3ljbGVzIiwibWFuYWdlcnMiLCJwcm9wU3Vic2NyaXB0aW9ucyIsImNsZWFyQWxsTGlzdGVuZXJzIiwibWFuYWdlciIsInVwZGF0ZVByb3BMaXN0ZW5lcnMiLCJwcm9wTGlzdGVuZXIiLCJjcmVhdGVMaWZlY3ljbGVzIiwidmFsdWVTdWJzY3JpcHRpb25zIiwicHJldk1vdGlvblZhbHVlcyIsImJhc2VUYXJnZXQiLCJyZW1vdmVGcm9tVmFyaWFudFRyZWUiLCJ0cmlnZ2VyQnVpbGQiLCJub3RpZnlVcGRhdGUiLCJiaW5kVG9Nb3Rpb25WYWx1ZSIsInJlbW92ZU9uQ2hhbmdlIiwibGF0ZXN0VmFsdWUiLCJyZW1vdmVPblJlbmRlclJlcXVlc3QiLCJzY2hlZHVsZVJlbmRlciIsImluaXRpYWxNb3Rpb25WYWx1ZXMiLCJkZXB0aCIsImlzVmlzaWJsZSIsIm5ld0luc3RhbmNlIiwiYWRkVmFyaWFudENoaWxkIiwibWF0Y2hNZWRpYSIsIm1vdGlvbk1lZGlhUXVlcnkiLCJzZXRSZWR1Y2VkTW90aW9uUHJlZmVyZW5jZXMiLCJtYXRjaGVzIiwiYWRkTGlzdGVuZXIiLCJpbml0UHJlZmVyc1JlZHVjZWRNb3Rpb24iLCJyZW5kZXJlZFByb3BzIiwiaXNTdHJpY3QiLCJQcm9qZWN0aW9uTm9kZUNvbnN0cnVjdG9yIiwiZ2V0TGF0ZXN0VmFsdWVzIiwibGF5b3V0U2Nyb2xsIiwic2V0T3B0aW9ucyIsImFsd2F5c01lYXN1cmVMYXlvdXQiLCJhbmltYXRpb25UeXBlIiwiaW5pdGlhbFByb21vdGlvbkNvbmZpZyIsImNsb3Nlc3RWYXJpYW50Tm9kZSIsImdldENsb3Nlc3RWYXJpYW50Tm9kZSIsImdldExheW91dElkIiwiZ2V0U3RhdGljVmFsdWUiLCJzZXRTdGF0aWNWYWx1ZSIsInNldFZpc2liaWxpdHkiLCJ2aXNpYmlsaXR5IiwiY2FuTXV0YXRlIiwicmVtb3ZlVmFsdWUiLCJyZWFkVmFsdWUiLCJzZXRCYXNlVGFyZ2V0IiwibmV3UHJvcHMiLCJuZXh0VmFsdWUiLCJwcmV2VmFsdWUiLCJleGlzdGluZ1ZhbHVlIiwidXBkYXRlTW90aW9uVmFsdWVzRnJvbVByb3BzIiwiZ2V0VmFyaWFudCIsInN0YXJ0QXRQYXJlbnQiLCJudW1WYXJpYW50UHJvcHMiLCJjc3NWYXJpYWJsZVJlZ2V4IiwiZ2V0VmFyaWFibGVWYWx1ZSIsInRva2VuIiwiZXhlYyIsInBhcnNlQ1NTVmFyaWFibGUiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInBvc2l0aW9uYWxLZXlzIiwiaXNQb3NpdGlvbmFsS2V5Iiwic2V0QW5kUmVzZXRWZWxvY2l0eSIsImlzTnVtT3JQeFR5cGUiLCJCb3VuZGluZ0JveERpbWVuc2lvbiIsImdldFBvc0Zyb21NYXRyaXgiLCJtYXRyaXgiLCJwb3MiLCJnZXRUcmFuc2xhdGVGcm9tTWF0cml4IiwicG9zMiIsInBvczMiLCJfYmJveCIsIm1hdHJpeDNkIiwibm9uVHJhbnNsYXRpb25hbFRyYW5zZm9ybUtleXMiLCJwb3NpdGlvbmFsVmFsdWVzIiwidW5pdENvbnZlcnNpb24iLCJoYXNQb3NpdGlvbmFsS2V5IiwidGFyZ2V0UG9zaXRpb25hbEtleXMiLCJyZW1vdmVkVHJhbnNmb3JtVmFsdWVzIiwiaGFzQXR0ZW1wdGVkVG9SZW1vdmVUcmFuc2Zvcm1WYWx1ZXMiLCJjaGFuZ2VkVmFsdWVUeXBlS2V5cyIsImZyb21UeXBlIiwidG9UeXBlIiwibnVtS2V5ZnJhbWVzIiwiZnJvbUluZGV4IiwicmVtb3ZlZFRyYW5zZm9ybXMiLCJyZW1vdmVOb25UcmFuc2xhdGlvbmFsVHJhbnNmb3JtIiwic2Nyb2xsWSIsInBhZ2VZT2Zmc2V0IiwiY29udmVydGVkVGFyZ2V0IiwiY2hhbmdlZEtleXMiLCJvcmlnaW5CYm94IiwiZWxlbWVudENvbXB1dGVkU3R5bGUiLCJkaXNwbGF5IiwidGFyZ2V0QmJveCIsImNvbnZlcnRDaGFuZ2VkVmFsdWVUeXBlcyIsInNjcm9sbFRvIiwiY2hlY2tBbmRDb252ZXJ0Q2hhbmdlZFZhbHVlVHlwZXMiLCJodG1sQ29uZmlnIiwiZG9tRWxlbWVudCIsImRlZmF1bHRUeXBlIiwiY29tcHV0ZWRTdHlsZSIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwicmVzZXRUcmFuc2Zvcm0iLCJyZXN0b3JlVHJhbnNmb3JtIiwibXV0YWJsZVN0YXRlIiwidHJhbnNpdGlvbk9yaWdpbiIsImdldE9yaWdpbiIsIm5ld1ZhbHVlS2V5cyIsIm51bU5ld1ZhbHVlcyIsInRhcmdldFZhbHVlIiwiY2hlY2tUYXJnZXRGb3JOZXdWYWx1ZXMiLCJFbGVtZW50IiwicmVzb2x2ZUNTU1ZhcmlhYmxlcyIsInBhcnNlRG9tVmFyaWFudCIsImh0bWxWaXN1YWxFbGVtZW50Iiwic3ZnVmlzdWFsRWxlbWVudCIsIl9lbGVtZW50IiwicGl4ZWxzVG9QZXJjZW50IiwicGl4ZWxzIiwiY29ycmVjdEJvcmRlclJhZGl1cyIsImNvcnJlY3QiLCJub2RlIiwidmFyVG9rZW4iLCJjb3JyZWN0Qm94U2hhZG93IiwidHJlZVNjYWxlIiwicHJvamVjdGlvbkRlbHRhIiwib3JpZ2luYWwiLCJjb250YWluc0NTU1ZhcmlhYmxlcyIsImNzc1ZhcmlhYmxlcyIsInNoYWRvdyIsInhTY2FsZSIsInlTY2FsZSIsImF2ZXJhZ2VTY2FsZSIsImNzc1ZhcmlhYmxlIiwiTWVhc3VyZUxheW91dFdpdGhDb250ZXh0IiwibGF5b3V0R3JvdXAiLCJzd2l0Y2hMYXlvdXRHcm91cCIsImNvcnJlY3RvcnMiLCJkZWZhdWx0U2NhbGVDb3JyZWN0b3JzIiwiZ3JvdXAiLCJkaWRVcGRhdGUiLCJsYXlvdXREZXBlbmRlbmN5Iiwid2lsbFVwZGF0ZSIsInByb21vdGUiLCJyZWxlZ2F0ZSIsImdldFN0YWNrIiwibWVtYmVycyIsImlzTGVhZCIsInByb21vdGVDb250ZXh0Iiwic2NoZWR1bGVDaGVja0FmdGVyVW5tb3VudCIsImRlcmVnaXN0ZXIiLCJhcHBseVRvIiwiYm94U2hhZG93IiwibGF5b3V0RmVhdHVyZXMiLCJib3JkZXJzIiwibnVtQm9yZGVycyIsImFzTnVtYmVyIiwiaXNQeCIsImdldFJhZGl1cyIsInJhZGl1c05hbWUiLCJlYXNlQ3Jvc3NmYWRlSW4iLCJjb21wcmVzcyIsImVhc2VDcm9zc2ZhZGVPdXQiLCJjb3B5QXhpc0ludG8iLCJvcmlnaW5BeGlzIiwiY29weUJveEludG8iLCJvcmlnaW5Cb3giLCJyZW1vdmVQb2ludERlbHRhIiwicmVtb3ZlQXhpc1RyYW5zZm9ybXMiLCJzb3VyY2VBeGlzIiwicmVtb3ZlQXhpc0RlbHRhIiwicmVtb3ZlQm94VHJhbnNmb3JtcyIsInNvdXJjZUJveCIsImlzQXhpc0RlbHRhWmVybyIsImlzRGVsdGFaZXJvIiwiYm94RXF1YWxzIiwiYXNwZWN0UmF0aW8iLCJOb2RlU3RhY2siLCJwcmV2TGVhZCIsImxlYWQiLCJpbmRleE9mTm9kZSIsIm1lbWJlciIsInByZXNlcnZlRm9sbG93T3BhY2l0eSIsInNob3ciLCJyZXN1bWVGcm9tIiwicHJlc2VydmVPcGFjaXR5Iiwic25hcHNob3QiLCJhbmltYXRpb25WYWx1ZXMiLCJpc1NoYXJlZCIsImlzVXBkYXRpbmciLCJpc0xheW91dERpcnR5IiwiY3Jvc3NmYWRlIiwiaGlkZSIsImV4aXRBbmltYXRpb25Db21wbGV0ZSIsIl9lIiwicmVzdW1pbmdGcm9tIiwicmVtb3ZlTGVhZFNuYXBzaG90IiwiYnVpbGRQcm9qZWN0aW9uVHJhbnNmb3JtIiwibGF0ZXN0VHJhbnNmb3JtIiwiY29tcGFyZUJ5RGVwdGgiLCJGbGF0VHJlZSIsImlzRGlydHkiLCJ0cmFuc2Zvcm1BeGVzIiwiY3JlYXRlUHJvamVjdGlvbk5vZGUiLCJhdHRhY2hSZXNpemVMaXN0ZW5lciIsImRlZmF1bHRQYXJlbnQiLCJtZWFzdXJlU2Nyb2xsIiwiY2hlY2tJc1Njcm9sbFJvb3QiLCJpc1RyZWVBbmltYXRpbmciLCJ1cGRhdGVNYW51YWxseUJsb2NrZWQiLCJ1cGRhdGVCbG9ja2VkQnlSZXNpemUiLCJpc1NWRyIsIm5lZWRzUmVzZXQiLCJzaG91bGRSZXNldFRyYW5zZm9ybSIsImV2ZW50SGFuZGxlcnMiLCJwb3RlbnRpYWxOb2RlcyIsImNoZWNrVXBkYXRlRmFpbGVkIiwiY2xlYXJBbGxTbmFwc2hvdHMiLCJ1cGRhdGVQcm9qZWN0aW9uIiwibm9kZXMiLCJyZXNvbHZlVGFyZ2V0RGVsdGEiLCJjYWxjUHJvamVjdGlvbiIsImhhc1Byb2plY3RlZCIsImFuaW1hdGlvblByb2dyZXNzIiwic2hhcmVkTm9kZXMiLCJwYXRoIiwicmVnaXN0ZXJQb3RlbnRpYWxOb2RlIiwibm90aWZ5TGlzdGVuZXJzIiwic3Vic2NyaXB0aW9uTWFuYWdlciIsImhhc0xpc3RlbmVycyIsIlNWR0VsZW1lbnQiLCJ0YWdOYW1lIiwidW5ibG9ja1RpbWVvdXQiLCJyZXNpemVVbmJsb2NrVXBkYXRlIiwiZmluaXNoQW5pbWF0aW9uIiwicmVnaXN0ZXJTaGFyZWROb2RlIiwiaGFzUmVsYXRpdmVUYXJnZXRDaGFuZ2VkIiwibmV3TGF5b3V0IiwiaXNUcmVlQW5pbWF0aW9uQmxvY2tlZCIsInJlbGF0aXZlVGFyZ2V0IiwibGF5b3V0VHJhbnNpdGlvbiIsImRlZmF1bHRMYXlvdXRUcmFuc2l0aW9uIiwib25MYXlvdXRBbmltYXRpb25TdGFydCIsIm9uTGF5b3V0QW5pbWF0aW9uQ29tcGxldGUiLCJ0YXJnZXRDaGFuZ2VkIiwidGFyZ2V0TGF5b3V0IiwiaGFzT25seVJlbGF0aXZlVGFyZ2V0Q2hhbmdlZCIsInNldEFuaW1hdGlvbk9yaWdpbiIsImFuaW1hdGlvbk9wdGlvbnMiLCJibG9ja1VwZGF0ZSIsInVuYmxvY2tVcGRhdGUiLCJpc1VwZGF0ZUJsb2NrZWQiLCJzdGFydFVwZGF0ZSIsInJlc2V0Um90YXRpb24iLCJzaG91bGROb3RpZnlMaXN0ZW5lcnMiLCJwcmV2VHJhbnNmb3JtVGVtcGxhdGVWYWx1ZSIsInVwZGF0ZVNuYXBzaG90IiwiY2xlYXJNZWFzdXJlbWVudHMiLCJtb3VudE5vZGVFYXJseSIsInJlc2V0VHJhbnNmb3JtU3R5bGUiLCJub3RpZnlMYXlvdXRVcGRhdGUiLCJjbGVhclNuYXBzaG90IiwicmVtb3ZlTGVhZFNuYXBzaG90cyIsInNjaGVkdWxlVXBkYXRlUHJvamVjdGlvbiIsIm1lYXN1cmVkIiwibWVhc3VyZSIsInJlbW92ZVRyYW5zZm9ybSIsInJlbW92ZUVsZW1lbnRTY3JvbGwiLCJyb3VuZEJveCIsInByZXZMYXlvdXQiLCJsYXlvdXRDb3JyZWN0ZWQiLCJub3RpZnlMYXlvdXRNZWFzdXJlIiwiaXNTY3JvbGxSb290IiwiaXNSZXNldFJlcXVlc3RlZCIsImhhc1Byb2plY3Rpb24iLCJ0cmFuc2Zvcm1UZW1wbGF0ZVZhbHVlIiwidHJhbnNmb3JtVGVtcGxhdGVIYXNDaGFuZ2VkIiwiYm94V2l0aG91dFNjcm9sbCIsInJvb3RTY3JvbGwiLCJhcHBseVRyYW5zZm9ybSIsInRyYW5zZm9ybU9ubHkiLCJ3aXRoVHJhbnNmb3JtcyIsImJveFdpdGhvdXRUcmFuc2Zvcm0iLCJzZXRUYXJnZXREZWx0YSIsInRhcmdldERlbHRhIiwicmVsYXRpdmVQYXJlbnQiLCJnZXRDbG9zZXN0UHJvamVjdGluZ1BhcmVudCIsInJlbGF0aXZlVGFyZ2V0T3JpZ2luIiwidGFyZ2V0V2l0aFRyYW5zZm9ybXMiLCJhdHRlbXB0VG9SZXNvbHZlUmVsYXRpdmVUYXJnZXQiLCJwZW5kaW5nQW5pbWF0aW9uIiwiZ2V0TGVhZCIsInRyZWVQYXRoIiwiaXNTaGFyZWRUcmFuc2l0aW9uIiwidHJlZUxlbmd0aCIsImFwcGx5VHJlZURlbHRhcyIsInByb2plY3Rpb25EZWx0YVdpdGhUcmFuc2Zvcm0iLCJwcmV2VHJlZVNjYWxlWCIsInByZXZUcmVlU2NhbGVZIiwicHJldlByb2plY3Rpb25UcmFuc2Zvcm0iLCJwcm9qZWN0aW9uVHJhbnNmb3JtIiwibm90aWZ5QWxsIiwic25hcHNob3RMYXRlc3RWYWx1ZXMiLCJtaXhlZFZhbHVlcyIsInJlbGF0aXZlTGF5b3V0IiwiaXNTaGFyZWRMYXlvdXRBbmltYXRpb24iLCJpc09ubHlNZW1iZXIiLCJzaG91bGRDcm9zc2ZhZGVPcGFjaXR5IiwiaGFzT3BhY2l0eUNyb3NzZmFkZSIsIm1peFRhcmdldERlbHRhIiwibWl4QXhpc0RlbHRhIiwibWl4QXhpcyIsImZvbGxvdyIsIm9wYWNpdHlFeGl0IiwiYm9yZGVyTGFiZWwiLCJmb2xsb3dSYWRpdXMiLCJsZWFkUmFkaXVzIiwibWl4VmFsdWVzIiwiY29tcGxldGVBbmltYXRpb24iLCJhcHBseVRyYW5zZm9ybXNUb1RhcmdldCIsInNob3VsZEFuaW1hdGVQb3NpdGlvbk9ubHkiLCJ4TGVuZ3RoIiwieUxlbmd0aCIsInNob3VsZFByZXNlcnZlRm9sbG93T3BhY2l0eSIsInN0YWNrIiwiZ2V0UHJldkxlYWQiLCJoYXNSb3RhdGUiLCJyZXNldFZhbHVlcyIsInN0eWxlcyIsInBvaW50ZXJFdmVudHMiLCJlbXB0eVN0eWxlcyIsInZhbHVlc1RvUmVuZGVyIiwiY29ycmVjdGVkIiwibnVtIiwicmVzZXRUcmVlIiwibWVhc3VyZWRMYXlvdXQiLCJheGlzU25hcHNob3QiLCJsYXlvdXREZWx0YSIsInZpc3VhbERlbHRhIiwicGFyZW50U25hcHNob3QiLCJwYXJlbnRMYXlvdXQiLCJyZWxhdGl2ZVNuYXBzaG90Iiwib25CZWZvcmVMYXlvdXRNZWFzdXJlIiwibm90aWZ5QmVmb3JlTGF5b3V0TWVhc3VyZSIsInNlYXJjaE5vZGUiLCJyb3VuZEF4aXMiLCJpc0Nsb3NlVG8iLCJEb2N1bWVudFByb2plY3Rpb25Ob2RlIiwic2Nyb2xsTGVmdCIsImJvZHkiLCJzY3JvbGxUb3AiLCJkb2N1bWVudE5vZGUiLCJwb3NpdGlvbiIsImZlYXR1cmVCdW5kbGUiLCJtb3Rpb24iLCJpc0Jyb3dzZXIiLCJlbnYiLCJwcm9jZXNzIiwidXNlQ29uc3RhbnQiLCJ1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IiwidXNlTGF5b3V0RWZmZWN0IiwidXNlVW5tb3VudEVmZmVjdCIsIndhcm5lZCIsIndhcm5PbmNlIiwiY29uZGl0aW9uIiwiZGVmYXVsdFRpbWVzdGVwIiwiZ2V0Q3VycmVudFRpbWUiLCJwZXJmb3JtYW5jZSIsIm9uTmV4dEZyYW1lIiwidXNlRGVmYXVsdEVsYXBzZWQiLCJydW5OZXh0RnJhbWUiLCJpc1Byb2Nlc3NpbmciLCJzdGVwc09yZGVyIiwic3RlcHMiLCJ0b1J1biIsInRvUnVuTmV4dEZyYW1lIiwibnVtVG9SdW4iLCJmbHVzaE5leHRGcmFtZSIsInRvS2VlcEFsaXZlIiwiV2Vha1NldCIsInN0ZXAiLCJrZWVwQWxpdmUiLCJpbW1lZGlhdGUiLCJhZGRUb0N1cnJlbnRGcmFtZSIsImJ1ZmZlciIsImZyYW1lRGF0YSIsImNyZWF0ZVJlbmRlclN0ZXAiLCJzeW5jIiwic3RhcnRMb29wIiwiY2FuY2VsU3luYyIsImZsdXNoU3luYyIsInByb2Nlc3NTdGVwIiwic3RlcElkIiwicHJvY2Vzc0ZyYW1lIiwiZ2V0RnJhbWVEYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==