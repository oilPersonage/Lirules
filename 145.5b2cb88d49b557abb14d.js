/*! For license information please see 145.5b2cb88d49b557abb14d.js.LICENSE.txt */
(self.webpackChunkLirules_front=self.webpackChunkLirules_front||[]).push([[145],{9307:(t,e,n)=>{"use strict";n.d(e,{Z:()=>N});var o=n(7294);function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=void 0!==n.g&&"[object global]"==={}.toString.call(n.g);function a(t,e){return 0===t.indexOf(e.toLowerCase())?t:"".concat(e.toLowerCase()).concat(t.substr(0,1).toUpperCase()).concat(t.substr(1))}function l(t){return Boolean(t&&1===t.nodeType&&"nodeName"in t&&t.ownerDocument&&t.ownerDocument.defaultView)}function u(t){return!isNaN(parseFloat(t))&&isFinite(t)&&Math.floor(t)==t}function c(t){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(t)}function d(t){return/^https:\/\/player\.vimeo\.com\/video\/\d+/.test(t)}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,n=t.url,o=e||n;if(!o)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(u(o))return"https://vimeo.com/".concat(o);if(c(o))return o.replace("http:","https:");if(e)throw new TypeError("“".concat(e,"” is not a valid video id."));throw new TypeError("“".concat(o,"” is not a vimeo.com url."))}var p=void 0!==Array.prototype.indexOf,f="undefined"!=typeof window&&void 0!==window.postMessage;if(!(s||p&&f))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var m="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};!function(t){if(!t.WeakMap){var e=Object.prototype.hasOwnProperty,n=Object.defineProperty&&function(){try{return 1===Object.defineProperty({},"x",{value:1}).x}catch(t){}}(),o=function(t,e,o){n?Object.defineProperty(t,e,{configurable:!0,writable:!0,value:o}):t[e]=o};t.WeakMap=function(){function t(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(o(this,"_id",i("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}function n(t,n){if(!r(t)||!e.call(t,"_id"))throw new TypeError(n+" method called on incompatible receiver "+typeof t)}function i(t){return t+"_"+s()+"."+s()}function s(){return Math.random().toString().substring(2)}return o(t.prototype,"delete",(function(t){if(n(this,"delete"),!r(t))return!1;var e=t[this._id];return!(!e||e[0]!==t||(delete t[this._id],0))})),o(t.prototype,"get",(function(t){if(n(this,"get"),r(t)){var e=t[this._id];return e&&e[0]===t?e[1]:void 0}})),o(t.prototype,"has",(function(t){if(n(this,"has"),!r(t))return!1;var e=t[this._id];return!(!e||e[0]!==t)})),o(t.prototype,"set",(function(t,e){if(n(this,"set"),!r(t))throw new TypeError("Invalid value used as weak map key");var i=t[this._id];return i&&i[0]===t?(i[1]=e,this):(o(t,this._id,[t,e]),this)})),o(t,"_polyfill",!0),t}()}function r(t){return Object(t)===t}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:m);var v,g,y=(v=function(t){var e,n,o;o=function(){var t,e,n,o=Object.prototype.toString,r="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},"x",{}),t=function(t,e,n,o){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:!1!==o})}}catch(e){t=function(t,e,n){return t[e]=n,t}}function i(t,o){n.add(t,o),e||(e=r(n.drain))}function s(t){var e,n=typeof t;return null==t||"object"!=n&&"function"!=n||(e=t.then),"function"==typeof e&&e}function a(){for(var t=0;t<this.chain.length;t++)l(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function l(t,e,n){var o,r;try{!1===e?n.reject(t.msg):(o=!0===e?t.msg:e.call(void 0,t.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(r=s(o))?r.call(o,n.resolve,n.reject):n.resolve(o)}catch(t){n.reject(t)}}function u(t){var e,n=this;if(!n.triggered){n.triggered=!0,n.def&&(n=n.def);try{(e=s(t))?i((function(){var o=new h(n);try{e.call(t,(function(){u.apply(o,arguments)}),(function(){c.apply(o,arguments)}))}catch(t){c.call(o,t)}})):(n.msg=t,n.state=1,n.chain.length>0&&i(a,n))}catch(t){c.call(new h(n),t)}}}function c(t){var e=this;e.triggered||(e.triggered=!0,e.def&&(e=e.def),e.msg=t,e.state=2,e.chain.length>0&&i(a,e))}function d(t,e,n,o){for(var r=0;r<e.length;r++)!function(r){t.resolve(e[r]).then((function(t){n(r,t)}),o)}(r)}function h(t){this.def=t,this.triggered=!1}function p(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function f(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var e=new p(this);this.then=function(t,n){var o={success:"function"!=typeof t||t,failure:"function"==typeof n&&n};return o.promise=new this.constructor((function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");o.resolve=t,o.reject=e})),e.chain.push(o),0!==e.state&&i(a,e),o.promise},this.catch=function(t){return this.then(void 0,t)};try{t.call(void 0,(function(t){u.call(e,t)}),(function(t){c.call(e,t)}))}catch(t){c.call(e,t)}}n=function(){var t,n,o;function r(t,e){this.fn=t,this.self=e,this.next=void 0}return{add:function(e,i){o=new r(e,i),n?n.next=o:t=o,n=o,o=void 0},drain:function(){var o=t;for(t=n=e=void 0;o;)o.fn.call(o.self),o=o.next}}}();var m=t({},"constructor",f,!1);return f.prototype=m,t(m,"__NPO__",0,!1),t(f,"resolve",(function(t){return t&&"object"==typeof t&&1===t.__NPO__?t:new this((function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");e(t)}))})),t(f,"reject",(function(t){return new this((function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");n(t)}))})),t(f,"all",(function(t){var e=this;return"[object Array]"!=o.call(t)?e.reject(TypeError("Not an array")):0===t.length?e.resolve([]):new e((function(n,o){if("function"!=typeof n||"function"!=typeof o)throw TypeError("Not a function");var r=t.length,i=Array(r),s=0;d(e,t,(function(t,e){i[t]=e,++s===r&&n(i)}),o)}))})),t(f,"race",(function(t){var e=this;return"[object Array]"!=o.call(t)?e.reject(TypeError("Not an array")):new e((function(n,o){if("function"!=typeof n||"function"!=typeof o)throw TypeError("Not a function");d(e,t,(function(t,e){n(e)}),o)}))})),f},(n=m)[e="Promise"]=n[e]||o(),t.exports&&(t.exports=n[e])},v(g={exports:{}}),g.exports),w=new WeakMap;function b(t,e,n){var o=w.get(t.element)||{};e in o||(o[e]=[]),o[e].push(n),w.set(t.element,o)}function x(t,e){return(w.get(t.element)||{})[e]||[]}function E(t,e,n){var o=w.get(t.element)||{};if(!o[e])return!0;if(!n)return o[e]=[],w.set(t.element,o),!0;var r=o[e].indexOf(n);return-1!==r&&o[e].splice(r,1),w.set(t.element,o),o[e]&&0===o[e].length}function P(t,e){var n=w.get(t);w.set(e,n),w.delete(t)}function T(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){return console.warn(t),{}}return t}function S(t,e,n){if(t.element.contentWindow&&t.element.contentWindow.postMessage){var o={method:e};void 0!==n&&(o.value=n);var r=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));r>=8&&r<10&&(o=JSON.stringify(o)),t.element.contentWindow.postMessage(o,t.origin)}}function k(t,e){var n,o=[];if((e=T(e)).event)"error"===e.event&&x(t,e.data.method).forEach((function(n){var o=new Error(e.data.message);o.name=e.data.name,n.reject(o),E(t,e.data.method,n)})),o=x(t,"event:".concat(e.event)),n=e.data;else if(e.method){var r=function(t,e){var n=x(t,e);if(n.length<1)return!1;var o=n.shift();return E(t,e,o),o}(t,e.method);r&&(o.push(r),n=e.value)}o.forEach((function(e){try{if("function"==typeof e)return void e.call(t,n);e.resolve(n)}catch(t){}}))}var A=["autopause","autoplay","background","byline","color","controls","dnt","height","id","interactive_params","keyboard","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function C(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return A.reduce((function(e,n){var o=t.getAttribute("data-vimeo-".concat(n));return(o||""===o)&&(e[n]=""===o?1:o),e}),e)}function V(t,e){var n=t.html;if(!e)throw new TypeError("An element must be provided");if(null!==e.getAttribute("data-vimeo-initialized"))return e.querySelector("iframe");var o=document.createElement("div");return o.innerHTML=n,e.appendChild(o.firstChild),e.setAttribute("data-vimeo-initialized","true"),e.querySelector("iframe")}function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(o,r){if(!c(t))throw new TypeError("“".concat(t,"” is not a vimeo.com url."));var i="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(t));for(var s in e)e.hasOwnProperty(s)&&(i+="&".concat(s,"=").concat(encodeURIComponent(e[s])));var a="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;a.open("GET",i,!0),a.onload=function(){if(404!==a.status)if(403!==a.status)try{var e=JSON.parse(a.responseText);if(403===e.domain_status_code)return V(e,n),void r(new Error("“".concat(t,"” is not embeddable.")));o(e)}catch(t){r(t)}else r(new Error("“".concat(t,"” is not embeddable.")));else r(new Error("“".concat(t,"” was not found.")))},a.onerror=function(){var t=a.status?" (".concat(a.status,")"):"";r(new Error("There was an error fetching the embed code from Vimeo".concat(t,".")))},a.send()}))}var R=new WeakMap,L=new WeakMap,j={},O=function(){function t(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r(this,t),window.jQuery&&e instanceof jQuery&&(e.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),e=e[0]),"undefined"!=typeof document&&"string"==typeof e&&(e=document.getElementById(e)),!l(e))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==e.nodeName){var i=e.querySelector("iframe");i&&(e=i)}if("IFRAME"===e.nodeName&&!c(e.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(R.has(e))return R.get(e);this._window=e.ownerDocument.defaultView,this.element=e,this.origin="*";var s=new y((function(t,r){if(n._onMessage=function(e){if(c(e.origin)&&n.element.contentWindow===e.source){"*"===n.origin&&(n.origin=e.origin);var o=T(e.data);if(o&&"error"===o.event&&o.data&&"ready"===o.data.method){var i=new Error(o.data.message);return i.name=o.data.name,void r(i)}var s=o&&"ready"===o.event,a=o&&"ping"===o.method;if(s||a)return n.element.setAttribute("data-ready","true"),void t();k(n,o)}},n._window.addEventListener("message",n._onMessage),"IFRAME"!==n.element.nodeName){var i=C(e,o);M(h(i),i,e).then((function(t){var o=V(t,e);return n.element=o,n._originalElement=e,P(e,o),R.set(n.element,n),t})).catch(r)}}));if(L.set(this,s),R.set(this.element,this),"IFRAME"===this.element.nodeName&&S(this,"ping"),j.isEnabled){var a=function(){return j.exit()};this.fullscreenchangeHandler=function(){j.isFullscreen?b(n,"event:exitFullscreen",a):E(n,"event:exitFullscreen",a),n.ready().then((function(){S(n,"fullscreenchange",j.isFullscreen)}))},j.on("fullscreenchange",this.fullscreenchangeHandler)}return this}var e,n;return e=t,n=[{key:"callMethod",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new y((function(o,r){return e.ready().then((function(){b(e,t,{resolve:o,reject:r}),S(e,t,n)})).catch(r)}))}},{key:"get",value:function(t){var e=this;return new y((function(n,o){return t=a(t,"get"),e.ready().then((function(){b(e,t,{resolve:n,reject:o}),S(e,t)})).catch(o)}))}},{key:"set",value:function(t,e){var n=this;return new y((function(o,r){if(t=a(t,"set"),null==e)throw new TypeError("There must be a value to set.");return n.ready().then((function(){b(n,t,{resolve:o,reject:r}),S(n,t,e)})).catch(r)}))}},{key:"on",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(!e)throw new TypeError("You must pass a callback function.");if("function"!=typeof e)throw new TypeError("The callback must be a function.");0===x(this,"event:".concat(t)).length&&this.callMethod("addEventListener",t).catch((function(){})),b(this,"event:".concat(t),e)}},{key:"off",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(e&&"function"!=typeof e)throw new TypeError("The callback must be a function.");E(this,"event:".concat(t),e)&&this.callMethod("removeEventListener",t).catch((function(t){}))}},{key:"loadVideo",value:function(t){return this.callMethod("loadVideo",t)}},{key:"ready",value:function(){var t=L.get(this)||new y((function(t,e){e(new Error("Unknown player. Probably unloaded."))}));return y.resolve(t)}},{key:"addCuePoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:t,data:e})}},{key:"removeCuePoint",value:function(t){return this.callMethod("removeCuePoint",t)}},{key:"enableTextTrack",value:function(t,e){if(!t)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:t,kind:e})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return j.isEnabled?j.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return j.isEnabled?j.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return j.isEnabled?y.resolve(j.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var t=this;return new y((function(e){if(L.delete(t),R.delete(t.element),t._originalElement&&(R.delete(t._originalElement),t._originalElement.removeAttribute("data-vimeo-initialized")),t.element&&"IFRAME"===t.element.nodeName&&t.element.parentNode&&(t.element.parentNode.parentNode&&t._originalElement&&t._originalElement!==t.element.parentNode?t.element.parentNode.parentNode.removeChild(t.element.parentNode):t.element.parentNode.removeChild(t.element)),t.element&&"DIV"===t.element.nodeName&&t.element.parentNode){t.element.removeAttribute("data-vimeo-initialized");var n=t.element.querySelector("iframe");n&&n.parentNode&&(n.parentNode.parentNode&&t._originalElement&&t._originalElement!==n.parentNode?n.parentNode.parentNode.removeChild(n.parentNode):n.parentNode.removeChild(n))}t._window.removeEventListener("message",t._onMessage),j.isEnabled&&j.off("fullscreenchange",t.fullscreenchangeHandler),e()}))}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(t){return this.set("autopause",t)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(t){return this.set("cameraProps",t)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(t){return this.set("color",t)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(t){return this.set("currentTime",t)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(t){return this.set("loop",t)}},{key:"setMuted",value:function(t){return this.set("muted",t)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(t){return this.set("playbackRate",t)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(t){return this.set("quality",t)}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(t){return this.set("volume",t)}}],n&&i(e.prototype,n),t}();s||(j=function(){var t=function(){for(var t,e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,o=e.length,r={};n<o;n++)if((t=e[n])&&t[1]in document){for(n=0;n<t.length;n++)r[e[0][n]]=t[n];return r}return!1}(),e={fullscreenchange:t.fullscreenchange,fullscreenerror:t.fullscreenerror},n={request:function(e){return new Promise((function(o,r){var i=function t(){n.off("fullscreenchange",t),o()};n.on("fullscreenchange",i);var s=(e=e||document.documentElement)[t.requestFullscreen]();s instanceof Promise&&s.then(i).catch(r)}))},exit:function(){return new Promise((function(e,o){if(n.isFullscreen){var r=function t(){n.off("fullscreenchange",t),e()};n.on("fullscreenchange",r);var i=document[t.exitFullscreen]();i instanceof Promise&&i.then(r).catch(o)}else e()}))},on:function(t,n){var o=e[t];o&&document.addEventListener(o,n)},off:function(t,n){var o=e[t];o&&document.removeEventListener(o,n)}};return Object.defineProperties(n,{isFullscreen:{get:function(){return Boolean(document[t.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[t.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[t.fullscreenEnabled])}}}),n}(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=[].slice.call(t.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),n=function(t){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(t))};e.forEach((function(t){try{if(null!==t.getAttribute("data-vimeo-defer"))return;var e=C(t);M(h(e),e,t).then((function(e){return V(e,t)})).catch(n)}catch(t){n(t)}}))}(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var e=function(e){if(c(e.origin)&&e.data&&"spacechange"===e.data.event)for(var n=t.querySelectorAll("iframe"),o=0;o<n.length;o++)if(n[o].contentWindow===e.source){n[o].parentElement.style.paddingBottom="".concat(e.data.data[0].bottom,"px");break}};window.addEventListener("message",e)}}(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoSeoMetadataAppended){window.VimeoSeoMetadataAppended=!0;var e=function(e){if(c(e.origin)){var n=T(e.data);if(n&&"ready"===n.event)for(var o=t.querySelectorAll("iframe"),r=0;r<o.length;r++){var i=o[r],s=i.contentWindow===e.source;d(i.src)&&s&&new O(i).callMethod("appendVideoMetadata",window.location.href)}}};window.addEventListener("message",e)}}());const F=O;function D(t,e){return D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},D(t,e)}var I={play:"onPlay",pause:"onPause",ended:"onEnd",timeupdate:"onTimeUpdate",progress:"onProgress",seeked:"onSeeked",texttrackchange:"onTextTrackChange",cuechange:"onCueChange",cuepoint:"onCuePoint",volumechange:"onVolumeChange",playbackratechange:"onPlaybackRateChange",error:"onError",loaded:"onLoaded"},N=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).refContainer=n.refContainer.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,D(e,n);var i=r.prototype;return i.componentDidMount=function(){this.createPlayer()},i.componentDidUpdate=function(t){var e=this,n=Object.keys(this.props).filter((function(n){return e.props[n]!==t[n]}));this.updateProps(n)},i.componentWillUnmount=function(){this.player.destroy()},i.getInitialOptions=function(){return{id:this.props.video,width:this.props.width,height:this.props.height,autopause:this.props.autopause,autoplay:this.props.autoplay,byline:this.props.showByline,color:this.props.color,controls:this.props.controls,loop:this.props.loop,portrait:this.props.showPortrait,title:this.props.showTitle,muted:this.props.muted,background:this.props.background,responsive:this.props.responsive,dnt:this.props.dnt,speed:this.props.speed,keyboard:this.props.keyboard,pip:this.props.pip,playsinline:this.props.playsInline,quality:this.props.quality,texttrack:this.props.textTrack,transparent:this.props.transparent}},i.updateProps=function(t){var e=this,n=this.player;t.forEach((function(t){var o=e.props[t];switch(t){case"autopause":n.setAutopause(o);break;case"color":n.setColor(o);break;case"loop":n.setLoop(o);break;case"volume":n.setVolume(o);break;case"paused":n.getPaused().then((function(t){return o&&!t?n.pause():!o&&t?n.play():null}));break;case"width":case"height":n.element[t]=o;break;case"video":if(o){var r=e.props.start,i=n.loadVideo(o);"number"==typeof r&&i.then((function(){n.setCurrentTime(r)}))}else n.unload()}}))},i.createPlayer=function(){var t=this,e=this.props,n=e.start,o=e.volume;this.player=new F(this.container,this.getInitialOptions()),Object.keys(I).forEach((function(e){var n=I[e];t.player.on(e,(function(e){var o=t.props[n];o&&o(e)}))}));var r=this.props,i=r.onError,s=r.onReady;this.player.ready().then((function(){s&&s(t.player)}),(function(t){if(!i)throw t;i(t)})),"number"==typeof n&&this.player.setCurrentTime(n),"number"==typeof o&&this.updateProps(["volume"])},i.refContainer=function(t){this.container=t},i.render=function(){var t=this.props,e=t.id,n=t.className,r=t.style;return o.createElement("div",{id:e,className:n,style:r,ref:this.refContainer})},r}(o.Component);N.defaultProps={autopause:!0,autoplay:!1,showByline:!0,controls:!0,loop:!1,showPortrait:!0,showTitle:!0,muted:!1,background:!1,responsive:!1,dnt:!1,speed:!1,keyboard:!0,pip:!1,playsInline:!0,transparent:!0}},4184:(t,e)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var i=typeof n;if("string"===i||"number"===i)t.push(n);else if(Array.isArray(n)){if(n.length){var s=r.apply(null,n);s&&t.push(s)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var a in n)o.call(n,a)&&n[a]&&t.push(a);else t.push(n.toString())}}return t.join(" ")}t.exports?(r.default=r,t.exports=r):void 0===(n=function(){return r}.apply(e,[]))||(t.exports=n)}()},8782:(t,e,n)=>{"use strict";n.d(e,{E:()=>is});var o=n(7294);const r=(0,o.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),i=(0,o.createContext)({}),s=(0,o.createContext)(null),a="undefined"!=typeof document,l=a?o.useLayoutEffect:o.useEffect,u=(0,o.createContext)({strict:!1});function c(t){return"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function d(t){return"string"==typeof t||Array.isArray(t)}function h(t){return"object"==typeof t&&"function"==typeof t.start}const p=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function f(t){return h(t.animate)||p.some((e=>d(t[e])))}function m(t){return Boolean(f(t)||t.variants)}function v(t){return Array.isArray(t)?t.join(" "):t}const g=t=>({isEnabled:e=>t.some((t=>!!e[t]))}),y={measureLayout:g(["layout","layoutId","drag"]),animation:g(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:g(["exit"]),drag:g(["drag","dragControls"]),focus:g(["whileFocus"]),hover:g(["whileHover","onHoverStart","onHoverEnd"]),tap:g(["whileTap","onTap","onTapStart","onTapCancel"]),pan:g(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:g(["whileInView","onViewportEnter","onViewportLeave"])};function w(t){const e=(0,o.useRef)(null);return null===e.current&&(e.current=t()),e.current}const b={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let x=1;const E=(0,o.createContext)({});class P extends o.Component{getSnapshotBeforeUpdate(){const{visualElement:t,props:e}=this.props;return t&&t.setProps(e),null}componentDidUpdate(){}render(){return this.props.children}}const T=(0,o.createContext)({}),S=Symbol.for("motionComponentSymbol");function k({preloadedFeatures:t,createVisualElement:e,projectionNodeConstructor:n,useRender:h,useVisualState:p,Component:m}){t&&function(t){for(const e in t)"projectionNodeConstructor"===e?y.projectionNodeConstructor=t[e]:y[e].Component=t[e]}(t);const g=(0,o.forwardRef)((function(g,E){const S={...(0,o.useContext)(r),...g,layoutId:A(g)},{isStatic:k}=S;let C=null;const V=function(t){const{initial:e,animate:n}=function(t,e){if(f(t)){const{initial:e,animate:n}=t;return{initial:!1===e||d(e)?e:void 0,animate:d(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,(0,o.useContext)(i));return(0,o.useMemo)((()=>({initial:e,animate:n})),[v(e),v(n)])}(g),M=k?void 0:w((()=>{if(b.hasEverUpdated)return x++})),R=p(g,k);if(!k&&a){V.visualElement=function(t,e,n,a){const c=(0,o.useContext)(i).visualElement,d=(0,o.useContext)(u),h=(0,o.useContext)(s),p=(0,o.useContext)(r).reducedMotion,f=(0,o.useRef)(void 0);a=a||d.renderer,!f.current&&a&&(f.current=a(t,{visualState:e,parent:c,props:n,presenceId:h?h.id:void 0,blockInitialAnimation:!!h&&!1===h.initial,reducedMotionConfig:p}));const m=f.current;return l((()=>{m&&m.syncRender()})),(0,o.useEffect)((()=>{m&&m.animationState&&m.animationState.animateChanges()})),l((()=>()=>m&&m.notifyUnmount()),[]),m}(m,R,S,e);const a=(0,o.useContext)(u).strict,c=(0,o.useContext)(T);V.visualElement&&(C=V.visualElement.loadFeatures(g,a,t,M,n||y.projectionNodeConstructor,c))}return o.createElement(P,{visualElement:V.visualElement,props:S},C,o.createElement(i.Provider,{value:V},h(m,g,M,function(t,e,n){return(0,o.useCallback)((o=>{o&&t.mount&&t.mount(o),e&&(o?e.mount(o):e.unmount()),n&&("function"==typeof n?n(o):c(n)&&(n.current=o))}),[e])}(R,V.visualElement,E),R,k,V.visualElement)))}));return g[S]=m,g}function A({layoutId:t}){const e=(0,o.useContext)(E).id;return e&&void 0!==t?e+"-"+t:t}function C(t){function e(e,n={}){return k(t(e,n))}if("undefined"==typeof Proxy)return e;const n=new Map;return new Proxy(e,{get:(t,o)=>(n.has(o)||n.set(o,e(o)),n.get(o))})}const V=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function M(t){return"string"==typeof t&&!t.includes("-")&&!!(V.indexOf(t)>-1||/[A-Z]/.test(t))}const R={},L=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],j=new Set(L);function O(t,{layout:e,layoutId:n}){return j.has(t)||t.startsWith("origin")||(e||void 0!==n)&&(!!R[t]||"opacity"===t)}const F=t=>void 0!==t&&!!t.getVelocity,D={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},I=(t,e)=>L.indexOf(t)-L.indexOf(e);function N(t){return t.startsWith("--")}const U=(t,e)=>e&&"number"==typeof t?e.transform(t):t,B=(t,e)=>n=>Math.max(Math.min(n,e),t),_=t=>t%1?Number(t.toFixed(5)):t,z=/(-)?([\d]*\.?[\d])+/g,W=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,q=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function H(t){return"string"==typeof t}const $=t=>({test:e=>H(e)&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),Y=$("deg"),X=$("%"),G=$("px"),Z=$("vh"),K=$("vw"),Q=Object.assign(Object.assign({},X),{parse:t=>X.parse(t)/100,transform:t=>X.transform(100*t)}),J={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},tt=Object.assign(Object.assign({},J),{transform:B(0,1)}),et=Object.assign(Object.assign({},J),{default:1}),nt={...J,transform:Math.round},ot={borderWidth:G,borderTopWidth:G,borderRightWidth:G,borderBottomWidth:G,borderLeftWidth:G,borderRadius:G,radius:G,borderTopLeftRadius:G,borderTopRightRadius:G,borderBottomRightRadius:G,borderBottomLeftRadius:G,width:G,maxWidth:G,height:G,maxHeight:G,size:G,top:G,right:G,bottom:G,left:G,padding:G,paddingTop:G,paddingRight:G,paddingBottom:G,paddingLeft:G,margin:G,marginTop:G,marginRight:G,marginBottom:G,marginLeft:G,rotate:Y,rotateX:Y,rotateY:Y,rotateZ:Y,scale:et,scaleX:et,scaleY:et,scaleZ:et,skew:Y,skewX:Y,skewY:Y,distance:G,translateX:G,translateY:G,translateZ:G,x:G,y:G,z:G,perspective:G,transformPerspective:G,opacity:tt,originX:Q,originY:Q,originZ:G,zIndex:nt,fillOpacity:tt,strokeOpacity:tt,numOctaves:nt};function rt(t,e,n,o){const{style:r,vars:i,transform:s,transformKeys:a,transformOrigin:l}=t;a.length=0;let u=!1,c=!1,d=!0;for(const t in e){const n=e[t];if(N(t)){i[t]=n;continue}const o=ot[t],h=U(n,o);if(j.has(t)){if(u=!0,s[t]=h,a.push(t),!d)continue;n!==(o.default||0)&&(d=!1)}else t.startsWith("origin")?(c=!0,l[t]=h):r[t]=h}if(u||o?r.transform=function({transform:t,transformKeys:e},{enableHardwareAcceleration:n=!0,allowTransformNone:o=!0},r,i){let s="";e.sort(I);for(const n of e)s+=`${D[n]||n}(${t[n]}) `;return n&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):o&&r&&(s="none"),s}(t,n,d,o):!e.transform&&r.transform&&(r.transform="none"),c){const{originX:t="50%",originY:e="50%",originZ:n=0}=l;r.transformOrigin=`${t} ${e} ${n}`}}function it(t,e,n){for(const o in e)F(e[o])||O(o,n)||(t[o]=e[o])}function st(t,e,n){const r={},i=function(t,e,n){const r={};return it(r,t.style||{},t),Object.assign(r,function({transformTemplate:t},e,n){return(0,o.useMemo)((()=>{const o={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};return rt(o,e,{enableHardwareAcceleration:!n},t),Object.assign({},o.vars,o.style)}),[e])}(t,e,n)),t.transformValues?t.transformValues(r):r}(t,e,n);return t.drag&&!1!==t.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),r.style=i,r}const at=new Set(["initial","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll","whileInView","onViewportEnter","onViewportLeave","viewport","whileTap","onTap","onTapStart","onTapCancel","animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView","onPan","onPanStart","onPanSessionStart","onPanEnd"]);function lt(t){return at.has(t)}let ut=t=>!lt(t);try{(ct=require("@emotion/is-prop-valid").default)&&(ut=t=>t.startsWith("on")?!lt(t):ct(t))}catch(t){}var ct;function dt(t,e,n){return"string"==typeof t?t:G.transform(e+n*t)}const ht={offset:"stroke-dashoffset",array:"stroke-dasharray"},pt={offset:"strokeDashoffset",array:"strokeDasharray"};function ft(t,{attrX:e,attrY:n,originX:o,originY:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},u,c){rt(t,l,u,c),t.attrs=t.style,t.style={};const{attrs:d,style:h,dimensions:p}=t;d.transform&&(p&&(h.transform=d.transform),delete d.transform),p&&(void 0!==o||void 0!==r||h.transform)&&(h.transformOrigin=function(t,e,n){return`${dt(e,t.x,t.width)} ${dt(n,t.y,t.height)}`}(p,void 0!==o?o:.5,void 0!==r?r:.5)),void 0!==e&&(d.x=e),void 0!==n&&(d.y=n),void 0!==i&&function(t,e,n=1,o=0,r=!0){t.pathLength=1;const i=r?ht:pt;t[i.offset]=G.transform(-o);const s=G.transform(e),a=G.transform(n);t[i.array]=`${s} ${a}`}(d,i,s,a,!1)}function mt(t,e){const n=(0,o.useMemo)((()=>{const n={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{},attrs:{}};return ft(n,e,{enableHardwareAcceleration:!1},t.transformTemplate),{...n.attrs,style:{...n.style}}}),[e]);if(t.style){const e={};it(e,t.style,t),n.style={...e,...n.style}}return n}function vt(t=!1){return(e,n,r,i,{latestValues:s},a)=>{const l=(M(e)?mt:st)(n,s,a),u=function(t,e,n){const o={};for(const r in t)(ut(r)||!0===n&&lt(r)||!e&&!lt(r)||t.draggable&&r.startsWith("onDrag"))&&(o[r]=t[r]);return o}(n,"string"==typeof e,t),c={...u,...l,ref:i};return r&&(c["data-projection-id"]=r),(0,o.createElement)(e,c)}}const gt=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function yt(t,{style:e,vars:n},o,r){Object.assign(t.style,e,r&&r.getProjectionStyles(o));for(const e in n)t.style.setProperty(e,n[e])}const wt=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function bt(t,e,n,o){yt(t,e,void 0,o);for(const n in e.attrs)t.setAttribute(wt.has(n)?n:gt(n),e.attrs[n])}function xt(t){const{style:e}=t,n={};for(const o in e)(F(e[o])||O(o,t))&&(n[o]=e[o]);return n}function Et(t){const e=xt(t);for(const n in t)F(t[n])&&(e["x"===n||"y"===n?"attr"+n.toUpperCase():n]=t[n]);return e}function Pt(t,e,n,o={},r={}){return"function"==typeof e&&(e=e(void 0!==n?n:t.custom,o,r)),"string"==typeof e&&(e=t.variants&&t.variants[e]),"function"==typeof e&&(e=e(void 0!==n?n:t.custom,o,r)),e}const Tt=t=>Array.isArray(t),St=t=>Tt(t)?t[t.length-1]||0:t;function kt(t){const e=F(t)?t.get():t;return n=e,Boolean(n&&"object"==typeof n&&n.mix&&n.toValue)?e.toValue():e;var n}const At=t=>(e,n)=>{const r=(0,o.useContext)(i),a=(0,o.useContext)(s),l=()=>function({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},o,r,i){const s={latestValues:Ct(o,r,i,t),renderState:e()};return n&&(s.mount=t=>n(o,t,s)),s}(t,e,r,a);return n?l():w(l)};function Ct(t,e,n,o){const r={},i=o(t);for(const t in i)r[t]=kt(i[t]);let{initial:s,animate:a}=t;const l=f(t),u=m(t);e&&u&&!l&&!1!==t.inherit&&(void 0===s&&(s=e.initial),void 0===a&&(a=e.animate));let c=!!n&&!1===n.initial;c=c||!1===s;const d=c?a:s;return d&&"boolean"!=typeof d&&!h(d)&&(Array.isArray(d)?d:[d]).forEach((e=>{const n=Pt(t,e);if(!n)return;const{transitionEnd:o,transition:i,...s}=n;for(const t in s){let e=s[t];Array.isArray(e)&&(e=e[c?e.length-1:0]),null!==e&&(r[t]=e)}for(const t in o)r[t]=o[t]})),r}const Vt={useVisualState:At({scrapeMotionValuesFromProps:Et,createRenderState:()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{},attrs:{}}),onMount:(t,e,{renderState:n,latestValues:o})=>{try{n.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(t){n.dimensions={x:0,y:0,width:0,height:0}}ft(n,o,{enableHardwareAcceleration:!1},t.transformTemplate),bt(e,n)}})},Mt={useVisualState:At({scrapeMotionValuesFromProps:xt,createRenderState:()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}})})};var Rt;function Lt(t,e,n,o={passive:!0}){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n)}function jt(t,e,n,r){(0,o.useEffect)((()=>{const o=t.current;if(n&&o)return Lt(o,e,n,r)}),[t,e,n,r])}function Ot(t){return"undefined"!=typeof PointerEvent&&t instanceof PointerEvent?!("mouse"!==t.pointerType):t instanceof MouseEvent}function Ft(t){return!!t.touches}!function(t){t.Animate="animate",t.Hover="whileHover",t.Tap="whileTap",t.Drag="whileDrag",t.Focus="whileFocus",t.InView="whileInView",t.Exit="exit"}(Rt||(Rt={}));const Dt={pageX:0,pageY:0};function It(t,e="page"){const n=t.touches[0]||t.changedTouches[0]||Dt;return{x:n[e+"X"],y:n[e+"Y"]}}function Nt(t,e="page"){return{x:t[e+"X"],y:t[e+"Y"]}}function Ut(t,e="page"){return{point:Ft(t)?It(t,e):Nt(t,e)}}const Bt=(t,e=!1)=>{const n=e=>t(e,Ut(e));return e?(o=n,t=>{const e=t instanceof MouseEvent;(!e||e&&0===t.button)&&o(t)}):n;var o},_t={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},zt={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Wt(t){return a&&null===window.onpointerdown?t:a&&null===window.ontouchstart?zt[t]:a&&null===window.onmousedown?_t[t]:t}function qt(t,e,n,o){return Lt(t,Wt(e),Bt(n,"pointerdown"===e),o)}function Ht(t,e,n,o){return jt(t,Wt(e),n&&Bt(n,"pointerdown"===e),o)}function $t(t){let e=null;return()=>null===e&&(e=t,()=>{e=null})}const Yt=$t("dragHorizontal"),Xt=$t("dragVertical");function Gt(t){let e=!1;if("y"===t)e=Xt();else if("x"===t)e=Yt();else{const t=Yt(),n=Xt();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function Zt(){const t=Gt(!0);return!t||(t(),!1)}function Kt(t,e,n){return(o,r)=>{Ot(o)&&!Zt()&&(t.animationState&&t.animationState.setActive(Rt.Hover,e),n&&n(o,r))}}const Qt=(t,e)=>!!e&&(t===e||Qt(t,e.parentElement));function Jt(t){return(0,o.useEffect)((()=>()=>t()),[])}const te=(t,e)=>n=>e(t(n)),ee=(...t)=>t.reduce(te),ne=("undefined"==typeof process||process.env,"production"),oe=new Set,re=new WeakMap,ie=new WeakMap,se=t=>{const e=re.get(t.target);e&&e(t)},ae=t=>{t.forEach(se)};const le={some:0,all:1};function ue(t,e,n,{root:r,margin:i,amount:s="some",once:a}){(0,o.useEffect)((()=>{if(!t)return;const o={root:null==r?void 0:r.current,rootMargin:i,threshold:"number"==typeof s?s:le[s]};return function(t,e,n){const o=function({root:t,...e}){const n=t||document;ie.has(n)||ie.set(n,{});const o=ie.get(n),r=JSON.stringify(e);return o[r]||(o[r]=new IntersectionObserver(ae,{root:t,...e})),o[r]}(e);return re.set(t,n),o.observe(t),()=>{re.delete(t),o.unobserve(t)}}(n.getInstance(),o,(t=>{const{isIntersecting:o}=t;if(e.isInView===o)return;if(e.isInView=o,a&&!o&&e.hasEnteredView)return;o&&(e.hasEnteredView=!0),n.animationState&&n.animationState.setActive(Rt.InView,o);const r=n.getProps(),i=o?r.onViewportEnter:r.onViewportLeave;i&&i(t)}))}),[t,r,i,s])}function ce(t,e,n,{fallback:r=!0}){(0,o.useEffect)((()=>{var o;t&&r&&("production"!==ne&&(o="IntersectionObserver not available on this device. whileInView animations will trigger on mount.",oe.has(o)||(console.warn(o),oe.add(o))),requestAnimationFrame((()=>{e.hasEnteredView=!0;const{onViewportEnter:t}=n.getProps();t&&t(null),n.animationState&&n.animationState.setActive(Rt.InView,!0)})))}),[t])}const de=t=>e=>(t(e),null),he={inView:de((function({visualElement:t,whileInView:e,onViewportEnter:n,onViewportLeave:r,viewport:i={}}){const s=(0,o.useRef)({hasEnteredView:!1,isInView:!1});let a=Boolean(e||n||r);i.once&&s.current.hasEnteredView&&(a=!1),("undefined"==typeof IntersectionObserver?ce:ue)(a,s.current,t,i)})),tap:de((function({onTap:t,onTapStart:e,onTapCancel:n,whileTap:r,visualElement:i}){const s=t||e||n||r,a=(0,o.useRef)(!1),l=(0,o.useRef)(null),u={passive:!(e||t||n||f)};function c(){l.current&&l.current(),l.current=null}function d(){return c(),a.current=!1,i.animationState&&i.animationState.setActive(Rt.Tap,!1),!Zt()}function h(e,o){d()&&(Qt(i.getInstance(),e.target)?t&&t(e,o):n&&n(e,o))}function p(t,e){d()&&n&&n(t,e)}function f(t,n){c(),a.current||(a.current=!0,l.current=ee(qt(window,"pointerup",h,u),qt(window,"pointercancel",p,u)),i.animationState&&i.animationState.setActive(Rt.Tap,!0),e&&e(t,n))}Ht(i,"pointerdown",s?f:void 0,u),Jt(c)})),focus:de((function({whileFocus:t,visualElement:e}){const{animationState:n}=e;jt(e,"focus",t?()=>{n&&n.setActive(Rt.Focus,!0)}:void 0),jt(e,"blur",t?()=>{n&&n.setActive(Rt.Focus,!1)}:void 0)})),hover:de((function({onHoverStart:t,onHoverEnd:e,whileHover:n,visualElement:o}){Ht(o,"pointerenter",t||n?Kt(o,!0,t):void 0,{passive:!t}),Ht(o,"pointerleave",e||n?Kt(o,!1,e):void 0,{passive:!e})}))};function pe(){const t=(0,o.useContext)(s);if(null===t)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=(0,o.useId)();return(0,o.useEffect)((()=>r(i)),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function fe(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let o=0;o<n;o++)if(e[o]!==t[o])return!1;return!0}function me(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}Object.create,Object.create;const ve=(t,e,n)=>Math.min(Math.max(n,t),e);function ge(t,e){return t*Math.sqrt(1-e*e)}const ye=["duration","bounce"],we=["stiffness","damping","mass"];function be(t,e){return e.some((e=>void 0!==t[e]))}function xe(t){var{from:e=0,to:n=1,restSpeed:o=2,restDelta:r}=t,i=me(t,["from","to","restSpeed","restDelta"]);const s={done:!1,value:e};let{stiffness:a,damping:l,mass:u,velocity:c,duration:d,isResolvedFromDuration:h}=function(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!be(t,we)&&be(t,ye)){const n=function({duration:t=800,bounce:e=.25,velocity:n=0,mass:o=1}){let r,i,s=1-e;s=ve(.05,1,s),t=ve(.01,10,t/1e3),s<1?(r=e=>{const o=e*s,r=o*t;return.001-(o-n)/ge(e,s)*Math.exp(-r)},i=e=>{const o=e*s*t,i=o*n+n,a=Math.pow(s,2)*Math.pow(e,2)*t,l=Math.exp(-o),u=ge(Math.pow(e,2),s);return(.001-r(e)>0?-1:1)*((i-a)*l)/u}):(r=e=>Math.exp(-e*t)*((e-n)*t+1)-.001,i=e=>Math.exp(-e*t)*(t*t*(n-e)));const a=function(t,e,n){let o=n;for(let n=1;n<12;n++)o-=t(o)/e(o);return o}(r,i,5/t);if(t*=1e3,isNaN(a))return{stiffness:100,damping:10,duration:t};{const e=Math.pow(a,2)*o;return{stiffness:e,damping:2*s*Math.sqrt(o*e),duration:t}}}(t);e=Object.assign(Object.assign(Object.assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}(i),p=Ee,f=Ee;function m(){const t=c?-c/1e3:0,o=n-e,i=l/(2*Math.sqrt(a*u)),s=Math.sqrt(a/u)/1e3;if(void 0===r&&(r=Math.min(Math.abs(n-e)/100,.4)),i<1){const e=ge(s,i);p=r=>{const a=Math.exp(-i*s*r);return n-a*((t+i*s*o)/e*Math.sin(e*r)+o*Math.cos(e*r))},f=n=>{const r=Math.exp(-i*s*n);return i*s*r*(Math.sin(e*n)*(t+i*s*o)/e+o*Math.cos(e*n))-r*(Math.cos(e*n)*(t+i*s*o)-e*o*Math.sin(e*n))}}else if(1===i)p=e=>n-Math.exp(-s*e)*(o+(t+s*o)*e);else{const e=s*Math.sqrt(i*i-1);p=r=>{const a=Math.exp(-i*s*r),l=Math.min(e*r,300);return n-a*((t+i*s*o)*Math.sinh(l)+e*o*Math.cosh(l))/e}}}return m(),{next:t=>{const e=p(t);if(h)s.done=t>=d;else{const i=1e3*f(t),a=Math.abs(i)<=o,l=Math.abs(n-e)<=r;s.done=a&&l}return s.value=s.done?n:e,s},flipTarget:()=>{c=-c,[e,n]=[n,e],m()}}}xe.needsInterpolation=(t,e)=>"string"==typeof t||"string"==typeof e;const Ee=t=>0,Pe=(t,e,n)=>{const o=e-t;return 0===o?1:(n-t)/o},Te=(t,e,n)=>-n*t+n*e+t,Se=(t,e)=>n=>Boolean(H(n)&&q.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),ke=(t,e,n)=>o=>{if(!H(o))return o;const[r,i,s,a]=o.match(z);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},Ae=B(0,255),Ce=Object.assign(Object.assign({},J),{transform:t=>Math.round(Ae(t))}),Ve={test:Se("rgb","red"),parse:ke("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:o=1})=>"rgba("+Ce.transform(t)+", "+Ce.transform(e)+", "+Ce.transform(n)+", "+_(tt.transform(o))+")"},Me={test:Se("#"),parse:function(t){let e="",n="",o="",r="";return t.length>5?(e=t.substr(1,2),n=t.substr(3,2),o=t.substr(5,2),r=t.substr(7,2)):(e=t.substr(1,1),n=t.substr(2,1),o=t.substr(3,1),r=t.substr(4,1),e+=e,n+=n,o+=o,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(o,16),alpha:r?parseInt(r,16)/255:1}},transform:Ve.transform},Re={test:Se("hsl","hue"),parse:ke("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:o=1})=>"hsla("+Math.round(t)+", "+X.transform(_(e))+", "+X.transform(_(n))+", "+_(tt.transform(o))+")"};function Le(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function je({hue:t,saturation:e,lightness:n,alpha:o}){t/=360,n/=100;let r=0,i=0,s=0;if(e/=100){const o=n<.5?n*(1+e):n+e-n*e,a=2*n-o;r=Le(a,o,t+1/3),i=Le(a,o,t),s=Le(a,o,t-1/3)}else r=i=s=n;return{red:Math.round(255*r),green:Math.round(255*i),blue:Math.round(255*s),alpha:o}}const Oe=(t,e,n)=>{const o=t*t,r=e*e;return Math.sqrt(Math.max(0,n*(r-o)+o))},Fe=[Me,Ve,Re],De=t=>Fe.find((e=>e.test(t))),Ie=t=>`'${t}' is not an animatable color. Use the equivalent color code instead.`,Ne=(t,e)=>{let n=De(t),o=De(e);Ie(t),Ie(e);let r=n.parse(t),i=o.parse(e);n===Re&&(r=je(r),n=Ve),o===Re&&(i=je(i),o=Ve);const s=Object.assign({},r);return t=>{for(const e in s)"alpha"!==e&&(s[e]=Oe(r[e],i[e],t));return s.alpha=Te(r.alpha,i.alpha,t),n.transform(s)}},Ue={test:t=>Ve.test(t)||Me.test(t)||Re.test(t),parse:t=>Ve.test(t)?Ve.parse(t):Re.test(t)?Re.parse(t):Me.parse(t),transform:t=>H(t)?t:t.hasOwnProperty("red")?Ve.transform(t):Re.transform(t)},Be="${c}",_e="${n}";function ze(t){"number"==typeof t&&(t=`${t}`);const e=[];let n=0;const o=t.match(W);o&&(n=o.length,t=t.replace(W,Be),e.push(...o.map(Ue.parse)));const r=t.match(z);return r&&(t=t.replace(z,_e),e.push(...r.map(J.parse))),{values:e,numColors:n,tokenised:t}}function We(t){return ze(t).values}function qe(t){const{values:e,numColors:n,tokenised:o}=ze(t),r=e.length;return t=>{let e=o;for(let o=0;o<r;o++)e=e.replace(o<n?Be:_e,o<n?Ue.transform(t[o]):_(t[o]));return e}}const He=t=>"number"==typeof t?0:t,$e={test:function(t){var e,n,o,r;return isNaN(t)&&H(t)&&(null!==(n=null===(e=t.match(z))||void 0===e?void 0:e.length)&&void 0!==n?n:0)+(null!==(r=null===(o=t.match(W))||void 0===o?void 0:o.length)&&void 0!==r?r:0)>0},parse:We,createTransformer:qe,getAnimatableNone:function(t){const e=We(t);return qe(t)(e.map(He))}},Ye=t=>"number"==typeof t;function Xe(t,e){return Ye(t)?n=>Te(t,e,n):Ue.test(t)?Ne(t,e):Qe(t,e)}const Ge=(t,e)=>{const n=[...t],o=n.length,r=t.map(((t,n)=>Xe(t,e[n])));return t=>{for(let e=0;e<o;e++)n[e]=r[e](t);return n}},Ze=(t,e)=>{const n=Object.assign(Object.assign({},t),e),o={};for(const r in n)void 0!==t[r]&&void 0!==e[r]&&(o[r]=Xe(t[r],e[r]));return t=>{for(const e in o)n[e]=o[e](t);return n}};function Ke(t){const e=$e.parse(t),n=e.length;let o=0,r=0,i=0;for(let t=0;t<n;t++)o||"number"==typeof e[t]?o++:void 0!==e[t].hue?i++:r++;return{parsed:e,numNumbers:o,numRGB:r,numHSL:i}}const Qe=(t,e)=>{const n=$e.createTransformer(e),o=Ke(t),r=Ke(e);return o.numHSL===r.numHSL&&o.numRGB===r.numRGB&&o.numNumbers>=r.numNumbers?ee(Ge(o.parsed,r.parsed),n):n=>`${n>0?e:t}`},Je=(t,e)=>n=>Te(t,e,n);function tn(t,e,{clamp:n=!0,ease:o,mixer:r}={}){const i=t.length;e.length,!o||!Array.isArray(o)||o.length,t[0]>t[i-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const s=function(t,e,n){const o=[],r=n||("number"==typeof(i=t[0])?Je:"string"==typeof i?Ue.test(i)?Ne:Qe:Array.isArray(i)?Ge:"object"==typeof i?Ze:void 0);var i;const s=t.length-1;for(let n=0;n<s;n++){let i=r(t[n],t[n+1]);if(e){const t=Array.isArray(e)?e[n]:e;i=ee(t,i)}o.push(i)}return o}(e,o,r),a=2===i?function([t,e],[n]){return o=>n(Pe(t,e,o))}(t,s):function(t,e){const n=t.length,o=n-1;return r=>{let i=0,s=!1;if(r<=t[0]?s=!0:r>=t[o]&&(i=o-1,s=!0),!s){let e=1;for(;e<n&&!(t[e]>r||e===o);e++);i=e-1}const a=Pe(t[i],t[i+1],r);return e[i](a)}}(t,s);return n?e=>a(ve(t[0],t[i-1],e)):a}const en=t=>e=>1-t(1-e),nn=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,on=t=>e=>e*e*((t+1)*e-t),rn=t=>t,sn=(2,t=>Math.pow(t,2));const an=en(sn),ln=nn(sn),un=t=>1-Math.sin(Math.acos(t)),cn=en(un),dn=nn(cn),hn=on(1.525),pn=en(hn),fn=nn(hn),mn=(t=>{const e=on(1.525);return t=>(t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))})(),vn=t=>{if(1===t||0===t)return t;const e=t*t;return t<.36363636363636365?7.5625*e:t<.7272727272727273?9.075*e-9.9*t+3.4:t<.9?12.066481994459833*e-19.63545706371191*t+8.898060941828255:10.8*t*t-20.52*t+10.72},gn=en(vn);function yn(t,e){return t.map((()=>e||ln)).splice(0,t.length-1)}function wn({from:t=0,to:e=1,ease:n,offset:o,duration:r=300}){const i={done:!1,value:t},s=Array.isArray(e)?e:[t,e],a=function(t,e){return t.map((t=>t*e))}(o&&o.length===s.length?o:function(t){const e=t.length;return t.map(((t,n)=>0!==n?n/(e-1):0))}(s),r);function l(){return tn(a,s,{ease:Array.isArray(n)?n:yn(s,n)})}let u=l();return{next:t=>(i.value=u(t),i.done=t>=r,i),flipTarget:()=>{s.reverse(),u=l()}}}const bn={keyframes:wn,spring:xe,decay:function({velocity:t=0,from:e=0,power:n=.8,timeConstant:o=350,restDelta:r=.5,modifyTarget:i}){const s={done:!1,value:e};let a=n*t;const l=e+a,u=void 0===i?l:i(l);return u!==l&&(a=u-e),{next:t=>{const e=-a*Math.exp(-t/o);return s.done=!(e>r||e<-r),s.value=s.done?u:u+e,s},flipTarget:()=>{}}}},xn=1/60*1e3,En="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),Pn="undefined"!=typeof window?t=>window.requestAnimationFrame(t):t=>setTimeout((()=>t(En())),xn);let Tn=!0,Sn=!1,kn=!1;const An={delta:0,timestamp:0},Cn=["read","update","preRender","render","postRender"],Vn=Cn.reduce(((t,e)=>(t[e]=function(t){let e=[],n=[],o=0,r=!1,i=!1;const s=new WeakSet,a={schedule:(t,i=!1,a=!1)=>{const l=a&&r,u=l?e:n;return i&&s.add(t),-1===u.indexOf(t)&&(u.push(t),l&&r&&(o=e.length)),t},cancel:t=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1),s.delete(t)},process:l=>{if(r)i=!0;else{if(r=!0,[e,n]=[n,e],n.length=0,o=e.length,o)for(let n=0;n<o;n++){const o=e[n];o(l),s.has(o)&&(a.schedule(o),t())}r=!1,i&&(i=!1,a.process(l))}}};return a}((()=>Sn=!0)),t)),{}),Mn=Cn.reduce(((t,e)=>{const n=Vn[e];return t[e]=(t,e=!1,o=!1)=>(Sn||Fn(),n.schedule(t,e,o)),t}),{}),Rn=Cn.reduce(((t,e)=>(t[e]=Vn[e].cancel,t)),{}),Ln=Cn.reduce(((t,e)=>(t[e]=()=>Vn[e].process(An),t)),{}),jn=t=>Vn[t].process(An),On=t=>{Sn=!1,An.delta=Tn?xn:Math.max(Math.min(t-An.timestamp,40),1),An.timestamp=t,kn=!0,Cn.forEach(jn),kn=!1,Sn&&(Tn=!1,Pn(On))},Fn=()=>{Sn=!0,Tn=!0,kn||Pn(On)},Dn=()=>An,In=Mn;function Nn(t,e,n=0){return t-e-n}const Un=t=>{const e=({delta:e})=>t(e);return{start:()=>In.update(e,!0),stop:()=>Rn.update(e)}};function Bn(t){var e,n,{from:o,autoplay:r=!0,driver:i=Un,elapsed:s=0,repeat:a=0,repeatType:l="loop",repeatDelay:u=0,onPlay:c,onStop:d,onComplete:h,onRepeat:p,onUpdate:f}=t,m=me(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let v,g,y,{to:w}=m,b=0,x=m.duration,E=!1,P=!0;const T=function(t){if(Array.isArray(t.to))return wn;if(bn[t.type])return bn[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?wn:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?xe:wn}(m);(null===(n=(e=T).needsInterpolation)||void 0===n?void 0:n.call(e,o,w))&&(y=tn([0,100],[o,w],{clamp:!1}),o=0,w=100);const S=T(Object.assign(Object.assign({},m),{from:o,to:w}));return r&&(null==c||c(),v=i((function(t){if(P||(t=-t),s+=t,!E){const t=S.next(Math.max(0,s));g=t.value,y&&(g=y(g)),E=P?t.done:s<=0}null==f||f(g),E&&(0===b&&(null!=x||(x=s)),b<a?function(t,e,n,o){return o?t>=e+n:t<=-n}(s,x,u,P)&&(b++,"reverse"===l?(P=b%2==0,s=function(t,e,n=0,o=!0){return o?Nn(e+-t,e,n):e-(t-e)+n}(s,x,u,P)):(s=Nn(s,x,u),"mirror"===l&&S.flipTarget()),E=!1,p&&p()):(v.stop(),h&&h()))})),v.start()),{stop:()=>{null==d||d(),v.stop()}}}function _n(t,e){return e?t*(1e3/e):0}const zn=t=>1e3*t,Wn=(t,e)=>1-3*e+3*t,qn=(t,e)=>3*e-6*t,Hn=t=>3*t,$n=(t,e,n)=>((Wn(e,n)*t+qn(e,n))*t+Hn(e))*t,Yn=(t,e,n)=>3*Wn(e,n)*t*t+2*qn(e,n)*t+Hn(e),Xn=.1;function Gn(t,e,n,o){if(t===e&&n===o)return rn;const r=new Float32Array(11);for(let e=0;e<11;++e)r[e]=$n(e*Xn,t,n);return i=>0===i||1===i?i:$n(function(e){let o=0,i=1;for(;10!==i&&r[i]<=e;++i)o+=Xn;--i;const s=o+(e-r[i])/(r[i+1]-r[i])*Xn,a=Yn(s,t,n);return a>=.001?function(t,e,n,o){for(let r=0;r<8;++r){const r=Yn(e,n,o);if(0===r)return e;e-=($n(e,n,o)-t)/r}return e}(e,s,t,n):0===a?s:function(t,e,n,o,r){let i,s,a=0;do{s=e+(n-e)/2,i=$n(s,o,r)-t,i>0?n=s:e=s}while(Math.abs(i)>1e-7&&++a<10);return s}(e,o,o+Xn,t,n)}(i),e,o)}const Zn={linear:rn,easeIn:sn,easeInOut:ln,easeOut:an,circIn:un,circInOut:dn,circOut:cn,backIn:hn,backInOut:fn,backOut:pn,anticipate:mn,bounceIn:gn,bounceInOut:t=>t<.5?.5*(1-vn(1-2*t)):.5*vn(2*t-1)+.5,bounceOut:vn},Kn=t=>{if(Array.isArray(t)){t.length;const[e,n,o,r]=t;return Gn(e,n,o,r)}return"string"==typeof t?Zn[t]:t},Qn=(t,e)=>!("zIndex"===t||"number"!=typeof e&&!Array.isArray(e)&&("string"!=typeof e||!$e.test(e)||e.startsWith("url("))),Jn=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),to=t=>({type:"spring",stiffness:550,damping:0===t?2*Math.sqrt(550):30,restSpeed:10}),eo=()=>({type:"keyframes",ease:"linear",duration:.3}),no=t=>({type:"keyframes",duration:.8,values:t}),oo={x:Jn,y:Jn,z:Jn,rotate:Jn,rotateX:Jn,rotateY:Jn,rotateZ:Jn,scaleX:to,scaleY:to,scale:to,opacity:eo,backgroundColor:eo,color:eo,default:to},ro=(t,e)=>{let n;return n=Tt(e)?no:oo[t]||oo.default,{to:e,...n(e)}},io=new Set(["brightness","contrast","saturate","opacity"]);function so(t){let[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;const[o]=n.match(z)||[];if(!o)return t;const r=n.replace(o,"");let i=io.has(e)?1:0;return o!==n&&(i*=100),e+"("+i+r+")"}const ao=/([a-z-]*)\(.*?\)/g,lo=Object.assign(Object.assign({},$e),{getAnimatableNone:t=>{const e=t.match(ao);return e?e.map(so).join(" "):t}}),uo={...ot,color:Ue,backgroundColor:Ue,outlineColor:Ue,fill:Ue,stroke:Ue,borderColor:Ue,borderTopColor:Ue,borderRightColor:Ue,borderBottomColor:Ue,borderLeftColor:Ue,filter:lo,WebkitFilter:lo},co=t=>uo[t];function ho(t,e){var n;let o=co(t);return o!==lo&&(o=$e),null===(n=o.getAnimatableNone)||void 0===n?void 0:n.call(o,e)}let po=!1;function fo({ease:t,times:e,yoyo:n,flip:o,loop:r,...i}){const s={...i};return e&&(s.offset=e),i.duration&&(s.duration=zn(i.duration)),i.repeatDelay&&(s.repeatDelay=zn(i.repeatDelay)),t&&(s.ease=(t=>Array.isArray(t)&&"number"!=typeof t[0])(t)?t.map(Kn):Kn(t)),"tween"===i.type&&(s.type="keyframes"),(n||r||o)&&(po=!0,n?s.repeatType="reverse":r?s.repeatType="loop":o&&(s.repeatType="mirror"),s.repeat=r||n||o||i.repeat),"spring"!==i.type&&(s.type="keyframes"),s}function mo(t,e,n){return Array.isArray(e.to)&&void 0===t.duration&&(t.duration=.8),function(t){Array.isArray(t.to)&&null===t.to[0]&&(t.to=[...t.to],t.to[0]=t.from)}(e),function({when:t,delay:e,delayChildren:n,staggerChildren:o,staggerDirection:r,repeat:i,repeatType:s,repeatDelay:a,from:l,...u}){return!!Object.keys(u).length}(t)||(t={...t,...ro(n,e.to)}),{...e,...fo(t)}}function vo(t){return 0===t||"string"==typeof t&&0===parseFloat(t)&&-1===t.indexOf(" ")}function go(t){return"number"==typeof t?0:ho("",t)}function yo(t,e){return t[e]||t.default||t}function wo(t,e,n,o={}){return e.start((r=>{let i,s;const a=function(t,e,n,o,r){const i=yo(o,t)||{};let s=void 0!==i.from?i.from:e.get();const a=Qn(t,n);return"none"===s&&a&&"string"==typeof n?s=ho(t,n):vo(s)&&"string"==typeof n?s=go(n):!Array.isArray(n)&&vo(n)&&"string"==typeof s&&(n=go(s)),Qn(t,s)&&a&&!1!==i.type?function(){const o={from:s,to:n,velocity:e.getVelocity(),onComplete:r,onUpdate:t=>e.set(t)};return"inertia"===i.type||"decay"===i.type?function({from:t=0,velocity:e=0,min:n,max:o,power:r=.8,timeConstant:i=750,bounceStiffness:s=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:u,driver:c,onUpdate:d,onComplete:h,onStop:p}){let f;function m(t){return void 0!==n&&t<n||void 0!==o&&t>o}function v(t){return void 0===n?o:void 0===o||Math.abs(n-t)<Math.abs(o-t)?n:o}function g(t){null==f||f.stop(),f=Bn(Object.assign(Object.assign({},t),{driver:c,onUpdate:e=>{var n;null==d||d(e),null===(n=t.onUpdate)||void 0===n||n.call(t,e)},onComplete:h,onStop:p}))}function y(t){g(Object.assign({type:"spring",stiffness:s,damping:a,restDelta:l},t))}if(m(t))y({from:t,velocity:e,to:v(t)});else{let o=r*e+t;void 0!==u&&(o=u(o));const s=v(o),a=s===n?-1:1;let c,d;const h=t=>{c=d,d=t,e=_n(t-c,Dn().delta),(1===a&&t>s||-1===a&&t<s)&&y({from:t,to:s,velocity:e})};g({type:"decay",from:t,velocity:e,timeConstant:i,power:r,restDelta:l,modifyTarget:u,onUpdate:m(o)?h:void 0})}return{stop:()=>null==f?void 0:f.stop()}}({...o,...i}):Bn({...mo(i,o,t),onUpdate:t=>{o.onUpdate(t),i.onUpdate&&i.onUpdate(t)},onComplete:()=>{o.onComplete(),i.onComplete&&i.onComplete()}})}:function(){const t=St(n);return e.set(t),r(),i.onUpdate&&i.onUpdate(t),i.onComplete&&i.onComplete(),{stop:()=>{}}}}(t,e,n,o,r),l=function(t,e){var n,o;return null!==(o=null!==(n=(yo(t,e)||{}).delay)&&void 0!==n?n:t.delay)&&void 0!==o?o:0}(o,t),u=()=>s=a();return l?i=window.setTimeout(u,zn(l)):u(),()=>{clearTimeout(i),s&&s.stop()}}))}function bo(t,e){-1===t.indexOf(e)&&t.push(e)}function xo(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Eo{constructor(){this.subscriptions=[]}add(t){return bo(this.subscriptions,t),()=>xo(this.subscriptions,t)}notify(t,e,n){const o=this.subscriptions.length;if(o)if(1===o)this.subscriptions[0](t,e,n);else for(let r=0;r<o;r++){const o=this.subscriptions[r];o&&o(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}class Po{constructor(t){var e;this.version="7.3.2",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Eo,this.velocityUpdateSubscribers=new Eo,this.renderSubscribers=new Eo,this.canTrackVelocity=!1,this.updateAndNotify=(t,e=!0)=>{this.prev=this.current,this.current=t;const{delta:n,timestamp:o}=Dn();this.lastUpdated!==o&&(this.timeDelta=n,this.lastUpdated=o,In.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.updateSubscribers.notify(this.current),this.velocityUpdateSubscribers.getSize()&&this.velocityUpdateSubscribers.notify(this.getVelocity()),e&&this.renderSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>In.postRender(this.velocityCheck),this.velocityCheck=({timestamp:t})=>{t!==this.lastUpdated&&(this.prev=this.current,this.velocityUpdateSubscribers.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=(e=this.current,!isNaN(parseFloat(e)))}onChange(t){return this.updateSubscribers.add(t)}clearListeners(){this.updateSubscribers.clear()}onRenderRequest(t){return t(this.get()),this.renderSubscribers.add(t)}attach(t){this.passiveEffect=t}set(t,e=!0){e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?_n(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise((e=>{this.hasAnimated=!0,this.stopAnimation=t(e)})).then((()=>this.clearAnimation()))}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}function To(t){return new Po(t)}const So=t=>e=>e.test(t),ko=[J,G,X,Y,K,Z,{test:t=>"auto"===t,parse:t=>t}],Ao=t=>ko.find(So(t)),Co=[...ko,Ue,$e],Vo=t=>Co.find(So(t));function Mo(t,e,n){const o=t.getProps();return Pt(o,e,void 0!==n?n:o.custom,function(t){const e={};return t.forEachValue(((t,n)=>e[n]=t.get())),e}(t),function(t){const e={};return t.forEachValue(((t,n)=>e[n]=t.getVelocity())),e}(t))}function Ro(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,To(n))}function Lo(t,e){if(e)return(e[t]||e.default||e).from}function jo(t){return Boolean(F(t)&&t.add)}function Oo(t,e,n={}){var o;const r=Mo(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Fo(t,r,n):()=>Promise.resolve(),a=(null===(o=t.variantChildren)||void 0===o?void 0:o.size)?(o=0)=>{const{delayChildren:r=0,staggerChildren:s,staggerDirection:a}=i;return function(t,e,n=0,o=0,r=1,i){const s=[],a=(t.variantChildren.size-1)*o,l=1===r?(t=0)=>t*o:(t=0)=>a-t*o;return Array.from(t.variantChildren).sort(Do).forEach(((t,o)=>{s.push(Oo(t,e,{...i,delay:n+l(o)}).then((()=>t.notifyAnimationComplete(e))))})),Promise.all(s)}(t,e,r+o,s,a,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[t,e]="beforeChildren"===l?[s,a]:[a,s];return t().then(e)}return Promise.all([s(),a(n.delay)])}function Fo(t,e,{delay:n=0,transitionOverride:o,type:r}={}){var i;let{transition:s=t.getDefaultTransition(),transitionEnd:a,...l}=t.makeTargetAnimatable(e);const u=t.getValue("willChange");o&&(s=o);const c=[],d=r&&(null===(i=t.animationState)||void 0===i?void 0:i.getState()[r]);for(const e in l){const o=t.getValue(e),r=l[e];if(!o||void 0===r||d&&Io(d,e))continue;let i={delay:n,...s};t.shouldReduceMotion&&j.has(e)&&(i={...i,type:!1,delay:0});let a=wo(e,o,r,i);jo(u)&&(u.add(e),a=a.then((()=>u.remove(e)))),c.push(a)}return Promise.all(c).then((()=>{a&&function(t,e){const n=Mo(t,e);let{transitionEnd:o={},transition:r={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...o};for(const e in i)Ro(t,e,St(i[e]))}(t,a)}))}function Do(t,e){return t.sortNodePosition(e)}function Io({protectedKeys:t,needsAnimating:e},n){const o=t.hasOwnProperty(n)&&!0!==e[n];return e[n]=!1,o}const No=[Rt.Animate,Rt.InView,Rt.Focus,Rt.Hover,Rt.Tap,Rt.Drag,Rt.Exit],Uo=[...No].reverse(),Bo=No.length;function _o(t){let e=function(t){return e=>Promise.all(e.map((({animation:e,options:n})=>function(t,e,n={}){let o;if(t.notifyAnimationStart(e),Array.isArray(e)){const r=e.map((e=>Oo(t,e,n)));o=Promise.all(r)}else if("string"==typeof e)o=Oo(t,e,n);else{const r="function"==typeof e?Mo(t,e,n.custom):e;o=Fo(t,r,n)}return o.then((()=>t.notifyAnimationComplete(e)))}(t,e,n))))}(t);const n={[Rt.Animate]:zo(!0),[Rt.InView]:zo(),[Rt.Hover]:zo(),[Rt.Tap]:zo(),[Rt.Drag]:zo(),[Rt.Focus]:zo(),[Rt.Exit]:zo()};let o=!0;const r=(e,n)=>{const o=Mo(t,n);if(o){const{transition:t,transitionEnd:n,...r}=o;e={...e,...r,...n}}return e};function i(i,s){var a;const l=t.getProps(),u=t.getVariantContext(!0)||{},c=[],p=new Set;let f={},m=1/0;for(let e=0;e<Bo;e++){const y=Uo[e],w=n[y],b=null!==(a=l[y])&&void 0!==a?a:u[y],x=d(b),E=y===s?w.isActive:null;!1===E&&(m=e);let P=b===u[y]&&b!==l[y]&&x;if(P&&o&&t.manuallyAnimateOnMount&&(P=!1),w.protectedKeys={...f},!w.isActive&&null===E||!b&&!w.prevProp||h(b)||"boolean"==typeof b)continue;const T=(v=w.prevProp,"string"==typeof(g=b)?g!==v:!!Array.isArray(g)&&!fe(g,v));let S=T||y===s&&w.isActive&&!P&&x||e>m&&x;const k=Array.isArray(b)?b:[b];let A=k.reduce(r,{});!1===E&&(A={});const{prevResolvedValues:C={}}=w,V={...C,...A},M=t=>{S=!0,p.delete(t),w.needsAnimating[t]=!0};for(const t in V){const e=A[t],n=C[t];f.hasOwnProperty(t)||(e!==n?Tt(e)&&Tt(n)?!fe(e,n)||T?M(t):w.protectedKeys[t]=!0:void 0!==e?M(t):p.add(t):void 0!==e&&p.has(t)?M(t):w.protectedKeys[t]=!0)}w.prevProp=b,w.prevResolvedValues=A,w.isActive&&(f={...f,...A}),o&&t.blockInitialAnimation&&(S=!1),S&&!P&&c.push(...k.map((t=>({animation:t,options:{type:y,...i}}))))}var v,g;if(p.size){const e={};p.forEach((n=>{const o=t.getBaseTarget(n);void 0!==o&&(e[n]=o)})),c.push({animation:e})}let y=Boolean(c.length);return o&&!1===l.initial&&!t.manuallyAnimateOnMount&&(y=!1),o=!1,y?e(c):Promise.resolve()}return{animateChanges:i,setActive:function(e,o,r){var s;if(n[e].isActive===o)return Promise.resolve();null===(s=t.variantChildren)||void 0===s||s.forEach((t=>{var n;return null===(n=t.animationState)||void 0===n?void 0:n.setActive(e,o)})),n[e].isActive=o;const a=i(r,e);for(const t in n)n[t].protectedKeys={};return a},setAnimateFunction:function(n){e=n(t)},getState:()=>n}}function zo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}const Wo={animation:de((({visualElement:t,animate:e})=>{t.animationState||(t.animationState=_o(t)),h(e)&&(0,o.useEffect)((()=>e.subscribe(t)),[e])})),exit:de((t=>{const{custom:e,visualElement:n}=t,[r,i]=pe(),a=(0,o.useContext)(s);(0,o.useEffect)((()=>{n.isPresent=r;const t=n.animationState&&n.animationState.setActive(Rt.Exit,!r,{custom:a&&a.custom||e});t&&!r&&t.then(i)}),[r])}))},qo=t=>t.hasOwnProperty("x")&&t.hasOwnProperty("y"),Ho=t=>qo(t)&&t.hasOwnProperty("z"),$o=(t,e)=>Math.abs(t-e);function Yo(t,e){if(Ye(t)&&Ye(e))return $o(t,e);if(qo(t)&&qo(e)){const n=$o(t.x,e.x),o=$o(t.y,e.y),r=Ho(t)&&Ho(e)?$o(t.z,e.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(o,2)+Math.pow(r,2))}}class Xo{constructor(t,e,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const t=Ko(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,n=Yo(t.offset,{x:0,y:0})>=3;if(!e&&!n)return;const{point:o}=t,{timestamp:r}=Dn();this.history.push({...o,timestamp:r});const{onStart:i,onMove:s}=this.handlers;e||(i&&i(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=Go(e,this.transformPagePoint),Ot(t)&&0===t.buttons?this.handlePointerUp(t,e):In.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();const{onEnd:n,onSessionEnd:o}=this.handlers,r=Ko(Go(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,r),o&&o(t,r)},Ft(t)&&t.touches.length>1)return;this.handlers=e,this.transformPagePoint=n;const o=Go(Ut(t),this.transformPagePoint),{point:r}=o,{timestamp:i}=Dn();this.history=[{...r,timestamp:i}];const{onSessionStart:s}=e;s&&s(t,Ko(o,this.history)),this.removeListeners=ee(qt(window,"pointermove",this.handlePointerMove),qt(window,"pointerup",this.handlePointerUp),qt(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Rn.update(this.updatePoint)}}function Go(t,e){return e?{point:e(t.point)}:t}function Zo(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ko({point:t},e){return{point:t,delta:Zo(t,Jo(e)),offset:Zo(t,Qo(e)),velocity:tr(e,.1)}}function Qo(t){return t[0]}function Jo(t){return t[t.length-1]}function tr(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,o=null;const r=Jo(t);for(;n>=0&&(o=t[n],!(r.timestamp-o.timestamp>zn(e)));)n--;if(!o)return{x:0,y:0};const i=(r.timestamp-o.timestamp)/1e3;if(0===i)return{x:0,y:0};const s={x:(r.x-o.x)/i,y:(r.y-o.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function er(t){return t.max-t.min}function nr(t,e=0,n=.01){return Yo(t,e)<n}function or(t,e,n,o=.5){t.origin=o,t.originPoint=Te(e.min,e.max,t.origin),t.scale=er(n)/er(e),(nr(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Te(n.min,n.max,t.origin)-t.originPoint,(nr(t.translate)||isNaN(t.translate))&&(t.translate=0)}function rr(t,e,n,o){or(t.x,e.x,n.x,null==o?void 0:o.originX),or(t.y,e.y,n.y,null==o?void 0:o.originY)}function ir(t,e,n){t.min=n.min+e.min,t.max=t.min+er(e)}function sr(t,e,n){t.min=e.min-n.min,t.max=t.min+er(e)}function ar(t,e,n){sr(t.x,e.x,n.x),sr(t.y,e.y,n.y)}function lr(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function ur(t,e){let n=e.min-t.min,o=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,o]=[o,n]),{min:n,max:o}}const cr=.35;function dr(t,e,n){return{min:hr(t,e),max:hr(t,n)}}function hr(t,e){var n;return"number"==typeof t?t:null!==(n=t[e])&&void 0!==n?n:0}function pr(t){return[t("x"),t("y")]}function fr({top:t,left:e,right:n,bottom:o}){return{x:{min:e,max:n},y:{min:t,max:o}}}function mr(t){return void 0===t||1===t}function vr({scale:t,scaleX:e,scaleY:n}){return!mr(t)||!mr(e)||!mr(n)}function gr(t){return vr(t)||yr(t.x)||yr(t.y)||t.z||t.rotate||t.rotateX||t.rotateY}function yr(t){return t&&"0%"!==t}function wr(t,e,n){return n+e*(t-n)}function br(t,e,n,o,r){return void 0!==r&&(t=wr(t,r,o)),wr(t,n,o)+e}function xr(t,e=0,n=1,o,r){t.min=br(t.min,e,n,o,r),t.max=br(t.max,e,n,o,r)}function Er(t,{x:e,y:n}){xr(t.x,e.translate,e.scale,e.originPoint),xr(t.y,n.translate,n.scale,n.originPoint)}function Pr(t,e){t.min=t.min+e,t.max=t.max+e}function Tr(t,e,[n,o,r]){const i=void 0!==e[r]?e[r]:.5,s=Te(t.min,t.max,i);xr(t,e[n],e[o],s,e.scale)}const Sr=["x","scaleX","originX"],kr=["y","scaleY","originY"];function Ar(t,e){Tr(t.x,e,Sr),Tr(t.y,e,kr)}function Cr(t,e){return fr(function(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),o=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:o.y,right:o.x}}(t.getBoundingClientRect(),e))}const Vr=new WeakMap;class Mr{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=t}start(t,{snapToCursor:e=!1}={}){!1!==this.visualElement.isPresent&&(this.panSession=new Xo(t,{onSessionStart:t=>{this.stopAnimation(),e&&this.snapToCursor(Ut(t,"page").point)},onStart:(t,e)=>{var n;const{drag:o,dragPropagation:r,onDragStart:i}=this.getProps();(!o||r||(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Gt(o),this.openGlobalLock))&&(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pr((t=>{var e,n;let o=this.getAxisMotionValue(t).get()||0;if(X.test(o)){const r=null===(n=null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout)||void 0===n?void 0:n.actual[t];r&&(o=er(r)*(parseFloat(o)/100))}this.originPoint[t]=o})),null==i||i(t,e),null===(n=this.visualElement.animationState)||void 0===n||n.setActive(Rt.Drag,!0))},onMove:(t,e)=>{const{dragPropagation:n,dragDirectionLock:o,onDirectionLock:r,onDrag:i}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:s}=e;if(o&&null===this.currentDirection)return this.currentDirection=function(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}(s),void(null!==this.currentDirection&&(null==r||r(this.currentDirection)));this.updateAxis("x",e.point,s),this.updateAxis("y",e.point,s),this.visualElement.syncRender(),null==i||i(t,e)},onSessionEnd:(t,e)=>this.stop(t,e)},{transformPagePoint:this.visualElement.getTransformPagePoint()}))}stop(t,e){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:o}=e;this.startAnimation(o);const{onDragEnd:r}=this.getProps();null==r||r(t,e)}cancel(){var t,e;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(t=this.panSession)||void 0===t||t.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(e=this.visualElement.animationState)||void 0===e||e.setActive(Rt.Drag,!1)}updateAxis(t,e,n){const{drag:o}=this.getProps();if(!n||!Rr(t,o,this.currentDirection))return;const r=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=function(t,{min:e,max:n},o){return void 0!==e&&t<e?t=o?Te(e,t,o.min):Math.max(t,e):void 0!==n&&t>n&&(t=o?Te(n,t,o.max):Math.min(t,n)),t}(i,this.constraints[t],this.elastic[t])),r.set(i)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),{layout:n}=this.visualElement.projection||{},o=this.constraints;t&&c(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!n)&&function(t,{top:e,left:n,bottom:o,right:r}){return{x:lr(t.x,n,r),y:lr(t.y,e,o)}}(n.actual,t),this.elastic=function(t=cr){return!1===t?t=0:!0===t&&(t=cr),{x:dr(t,"left","right"),y:dr(t,"top","bottom")}}(e),o!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&pr((t=>{this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){const n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(n.actual[t],this.constraints[t]))}))}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!c(t))return!1;const n=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const r=function(t,e,n){const o=Cr(t,n),{scroll:r}=e;return r&&(Pr(o.x,r.x),Pr(o.y,r.y)),o}(n,o.root,this.visualElement.getTransformPagePoint());let i=function(t,e){return{x:ur(t.x,e.x),y:ur(t.y,e.y)}}(o.layout.actual,r);if(e){const t=e(function({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}(i));this.hasMutatedConstraints=!!t,t&&(i=fr(t))}return i}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:o,dragTransition:r,dragSnapToOrigin:i,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{},l=pr((s=>{var l;if(!Rr(s,e,this.currentDirection))return;let u=null!==(l=null==a?void 0:a[s])&&void 0!==l?l:{};i&&(u={min:0,max:0});const c=o?200:1e6,d=o?40:1e7,h={type:"inertia",velocity:n?t[s]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...r,...u};return this.startAxisValueAnimation(s,h)}));return Promise.all(l).then(s)}startAxisValueAnimation(t,e){return wo(t,this.getAxisMotionValue(t),0,e)}stopAnimation(){pr((t=>this.getAxisMotionValue(t).stop()))}getAxisMotionValue(t){var e,n;const o="_drag"+t.toUpperCase();return this.visualElement.getProps()[o]||this.visualElement.getValue(t,null!==(n=null===(e=this.visualElement.getProps().initial)||void 0===e?void 0:e[t])&&void 0!==n?n:0)}snapToCursor(t){pr((e=>{const{drag:n}=this.getProps();if(!Rr(e,n,this.currentDirection))return;const{projection:o}=this.visualElement,r=this.getAxisMotionValue(e);if(o&&o.layout){const{min:n,max:i}=o.layout.actual[e];r.set(t[e]-Te(n,i,.5))}}))}scalePositionWithinConstraints(){var t;const{drag:e,dragConstraints:n}=this.getProps(),{projection:o}=this.visualElement;if(!c(n)||!o||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};pr((t=>{const e=this.getAxisMotionValue(t);if(e){const n=e.get();r[t]=function(t,e){let n=.5;const o=er(t),r=er(e);return r>o?n=Pe(e.min,e.max-o,t.min):o>r&&(n=Pe(t.min,t.max-r,e.min)),ve(0,1,n)}({min:n,max:n},this.constraints[t])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.getInstance().style.transform=i?i({},""):"none",null===(t=o.root)||void 0===t||t.updateScroll(),o.updateLayout(),this.resolveConstraints(),pr((t=>{if(!Rr(t,e,null))return;const n=this.getAxisMotionValue(t),{min:o,max:i}=this.constraints[t];n.set(Te(o,i,r[t]))}))}addListeners(){var t;Vr.set(this.visualElement,this);const e=qt(this.visualElement.getInstance(),"pointerdown",(t=>{const{drag:e,dragListener:n=!0}=this.getProps();e&&n&&this.start(t)})),n=()=>{const{dragConstraints:t}=this.getProps();c(t)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,r=o.addEventListener("measure",n);o&&!o.layout&&(null===(t=o.root)||void 0===t||t.updateScroll(),o.updateLayout()),n();const i=Lt(window,"resize",(()=>this.scalePositionWithinConstraints())),s=o.addEventListener("didUpdate",(({delta:t,hasLayoutChanged:e})=>{this.isDragging&&e&&(pr((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.syncRender())}));return()=>{i(),e(),r(),null==s||s()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:o=!1,dragConstraints:r=!1,dragElastic:i=cr,dragMomentum:s=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:o,dragConstraints:r,dragElastic:i,dragMomentum:s}}}function Rr(t,e,n){return!(!0!==e&&e!==t||null!==n&&n!==t)}const Lr={pan:de((function({onPan:t,onPanStart:e,onPanEnd:n,onPanSessionStart:i,visualElement:s}){const a=t||e||n||i,l=(0,o.useRef)(null),{transformPagePoint:u}=(0,o.useContext)(r),c={onSessionStart:i,onStart:e,onMove:t,onEnd:(t,e)=>{l.current=null,n&&n(t,e)}};(0,o.useEffect)((()=>{null!==l.current&&l.current.updateHandlers(c)})),Ht(s,"pointerdown",a&&function(t){l.current=new Xo(t,c,{transformPagePoint:u})}),Jt((()=>l.current&&l.current.end()))})),drag:de((function(t){const{dragControls:e,visualElement:n}=t,r=w((()=>new Mr(n)));(0,o.useEffect)((()=>e&&e.subscribe(r)),[r,e]),(0,o.useEffect)((()=>r.addListeners()),[r])}))},jr={current:null},Or={current:!1},Fr=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"],Dr=Object.keys(y),Ir=Dr.length,Nr=({treeType:t="",build:e,getBaseTarget:n,makeTargetAnimatable:r,measureViewportBox:i,render:s,readValueFromInstance:l,removeValueFromRenderState:u,sortNodePosition:h,scrapeMotionValuesFromProps:p})=>({parent:v,props:g,presenceId:w,blockInitialAnimation:b,visualState:x,reducedMotionConfig:E},P={})=>{let T=!1;const{latestValues:S,renderState:k}=x;let A;const C=function(){const t=Fr.map((()=>new Eo)),e={},n={clearAllListeners:()=>t.forEach((t=>t.clear())),updatePropListeners:t=>{Fr.forEach((o=>{var r;const i="on"+o,s=t[i];null===(r=e[o])||void 0===r||r.call(e),s&&(e[o]=n[i](s))}))}};return t.forEach(((t,e)=>{n["on"+Fr[e]]=e=>t.add(e),n["notify"+Fr[e]]=(...e)=>t.notify(...e)})),n}(),V=new Map,M=new Map;let R={};const L={...S};let j;function O(){A&&T&&(D(),s(A,k,g.style,W.projection))}function D(){e(W,k,S,P,g)}function I(){C.notifyUpdate(S)}function N(t,e){const n=e.onChange((e=>{S[t]=e,g.onUpdate&&In.update(I,!1,!0)})),o=e.onRenderRequest(W.scheduleRender);M.set(t,(()=>{n(),o()}))}const{willChange:U,...B}=p(g);for(const t in B){const e=B[t];void 0!==S[t]&&F(e)&&(e.set(S[t],!1),jo(U)&&U.add(t))}const _=f(g),z=m(g),W={treeType:t,current:null,depth:v?v.depth+1:0,parent:v,children:new Set,presenceId:w,shouldReduceMotion:null,variantChildren:z?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null==v?void 0:v.isMounted()),blockInitialAnimation:b,isMounted:()=>Boolean(A),mount(t){T=!0,A=W.current=t,W.projection&&W.projection.mount(t),z&&v&&!_&&(j=null==v?void 0:v.addVariantChild(W)),V.forEach(((t,e)=>N(e,t))),Or.current||function(){if(Or.current=!0,a)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jr.current=t.matches;t.addListener(e),e()}else jr.current=!1}(),W.shouldReduceMotion="never"!==E&&("always"===E||jr.current),null==v||v.children.add(W),W.setProps(g)},unmount(){var t;null===(t=W.projection)||void 0===t||t.unmount(),Rn.update(I),Rn.render(O),M.forEach((t=>t())),null==j||j(),null==v||v.children.delete(W),C.clearAllListeners(),A=void 0,T=!1},loadFeatures(t,e,n,r,i,s){const a=[];for(let e=0;e<Ir;e++){const n=Dr[e],{isEnabled:r,Component:i}=y[n];r(g)&&i&&a.push((0,o.createElement)(i,{key:n,...t,visualElement:W}))}if(!W.projection&&i){W.projection=new i(r,W.getLatestValues(),v&&v.projection);const{layoutId:e,layout:n,drag:o,dragConstraints:a,layoutScroll:l}=t;W.projection.setOptions({layoutId:e,layout:n,alwaysMeasureLayout:Boolean(o)||a&&c(a),visualElement:W,scheduleRender:()=>W.scheduleRender(),animationType:"string"==typeof n?n:"both",initialPromotionConfig:s,layoutScroll:l})}return a},addVariantChild(t){var e;const n=W.getClosestVariantNode();if(n)return null===(e=n.variantChildren)||void 0===e||e.add(t),()=>n.variantChildren.delete(t)},sortNodePosition:e=>h&&t===e.treeType?h(W.getInstance(),e.getInstance()):0,getClosestVariantNode:()=>z?W:null==v?void 0:v.getClosestVariantNode(),getLayoutId:()=>g.layoutId,getInstance:()=>A,getStaticValue:t=>S[t],setStaticValue:(t,e)=>S[t]=e,getLatestValues:()=>S,setVisibility(t){W.isVisible!==t&&(W.isVisible=t,W.scheduleRender())},makeTargetAnimatable:(t,e=!0)=>r(W,t,g,e),measureViewportBox:()=>i(A,g),addValue(t,e){W.hasValue(t)&&W.removeValue(t),V.set(t,e),S[t]=e.get(),N(t,e)},removeValue(t){var e;V.delete(t),null===(e=M.get(t))||void 0===e||e(),M.delete(t),delete S[t],u(t,k)},hasValue:t=>V.has(t),getValue(t,e){let n=V.get(t);return void 0===n&&void 0!==e&&(n=To(e),W.addValue(t,n)),n},forEachValue:t=>V.forEach(t),readValue:t=>void 0!==S[t]?S[t]:l(A,t,P),setBaseTarget(t,e){L[t]=e},getBaseTarget(t){if(n){const e=n(g,t);if(void 0!==e&&!F(e))return e}return L[t]},...C,build:()=>(D(),k),scheduleRender(){In.render(O,!1,!0)},syncRender:O,setProps(t){(t.transformTemplate||g.transformTemplate)&&W.scheduleRender(),g=t,C.updatePropListeners(t),R=function(t,e,n){const{willChange:o}=e;for(const r in e){const i=e[r],s=n[r];if(F(i))t.addValue(r,i),jo(o)&&o.add(r);else if(F(s))t.addValue(r,To(i)),jo(o)&&o.remove(r);else if(s!==i)if(t.hasValue(r)){const e=t.getValue(r);!e.hasAnimated&&e.set(i)}else{const e=t.getStaticValue(r);t.addValue(r,To(void 0!==e?e:i))}}for(const o in n)void 0===e[o]&&t.removeValue(o);return e}(W,p(g),R)},getProps:()=>g,getVariant:t=>{var e;return null===(e=g.variants)||void 0===e?void 0:e[t]},getDefaultTransition:()=>g.transition,getTransformPagePoint:()=>g.transformPagePoint,getVariantContext(t=!1){if(t)return null==v?void 0:v.getVariantContext();if(!_){const t=(null==v?void 0:v.getVariantContext())||{};return void 0!==g.initial&&(t.initial=g.initial),t}const e={};for(let t=0;t<Br;t++){const n=Ur[t],o=g[n];(d(o)||!1===o)&&(e[n]=o)}return e}};return W},Ur=["initial",...No],Br=Ur.length;function _r(t){return"string"==typeof t&&t.startsWith("var(--")}const zr=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Wr(t,e,n=1){const[o,r]=function(t){const e=zr.exec(t);if(!e)return[,];const[,n,o]=e;return[n,o]}(t);if(!o)return;const i=window.getComputedStyle(e).getPropertyValue(o);return i?i.trim():_r(r)?Wr(r,e,n+1):r}const qr=new Set(["width","height","top","left","right","bottom","x","y"]),Hr=t=>qr.has(t),$r=(t,e)=>{t.set(e,!1),t.set(e)},Yr=t=>t===J||t===G;var Xr;!function(t){t.width="width",t.height="height",t.left="left",t.right="right",t.top="top",t.bottom="bottom"}(Xr||(Xr={}));const Gr=(t,e)=>parseFloat(t.split(", ")[e]),Zr=(t,e)=>(n,{transform:o})=>{if("none"===o||!o)return 0;const r=o.match(/^matrix3d\((.+)\)$/);if(r)return Gr(r[1],e);{const e=o.match(/^matrix\((.+)\)$/);return e?Gr(e[1],t):0}},Kr=new Set(["x","y","z"]),Qr=L.filter((t=>!Kr.has(t))),Jr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Zr(4,13),y:Zr(5,14)};function ti(t,e,n,o){return(t=>Object.keys(t).some(Hr))(e)?((t,e,n={},o={})=>{e={...e},o={...o};const r=Object.keys(e).filter(Hr);let i=[],s=!1;const l=[];if(r.forEach((r=>{const a=t.getValue(r);if(!t.hasValue(r))return;let u=n[r],c=Ao(u);const d=e[r];let h;if(Tt(d)){const t=d.length,e=null===d[0]?1:0;u=d[e],c=Ao(u);for(let n=e;n<t;n++)h?Ao(d[n]):(h=Ao(d[n]),h===c||Yr(c)&&Yr(h))}else h=Ao(d);if(c!==h)if(Yr(c)&&Yr(h)){const t=a.get();"string"==typeof t&&a.set(parseFloat(t)),"string"==typeof d?e[r]=parseFloat(d):Array.isArray(d)&&h===G&&(e[r]=d.map(parseFloat))}else(null==c?void 0:c.transform)&&(null==h?void 0:h.transform)&&(0===u||0===d)?0===u?a.set(h.transform(u)):e[r]=c.transform(d):(s||(i=function(t){const e=[];return Qr.forEach((n=>{const o=t.getValue(n);void 0!==o&&(e.push([n,o.get()]),o.set(n.startsWith("scale")?1:0))})),e.length&&t.syncRender(),e}(t),s=!0),l.push(r),o[r]=void 0!==o[r]?o[r]:e[r],$r(a,d))})),l.length){const n=l.indexOf("height")>=0?window.pageYOffset:null,r=((t,e,n)=>{const o=e.measureViewportBox(),r=e.getInstance(),i=getComputedStyle(r),{display:s}=i,a={};"none"===s&&e.setStaticValue("display",t.display||"block"),n.forEach((t=>{a[t]=Jr[t](o,i)})),e.syncRender();const l=e.measureViewportBox();return n.forEach((n=>{const o=e.getValue(n);$r(o,a[n]),t[n]=Jr[n](l,i)})),t})(e,t,l);return i.length&&i.forEach((([e,n])=>{t.getValue(e).set(n)})),t.syncRender(),a&&null!==n&&window.scrollTo({top:n}),{target:r,transitionEnd:o}}return{target:e,transitionEnd:o}})(t,e,n,o):{target:e,transitionEnd:o}}const ei={treeType:"dom",readValueFromInstance(t,e){if(j.has(e)){const t=co(e);return t&&t.default||0}{const o=(n=t,window.getComputedStyle(n)),r=(N(e)?o.getPropertyValue(e):o[e])||0;return"string"==typeof r?r.trim():r}var n},sortNodePosition:(t,e)=>2&t.compareDocumentPosition(e)?1:-1,getBaseTarget(t,e){var n;return null===(n=t.style)||void 0===n?void 0:n[e]},measureViewportBox:(t,{transformPagePoint:e})=>Cr(t,e),resetTransform(t,e,n){const{transformTemplate:o}=n;e.style.transform=o?o({},""):"none",t.scheduleRender()},restoreTransform(t,e){t.style.transform=e.style.transform},removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]},makeTargetAnimatable(t,{transition:e,transitionEnd:n,...o},{transformValues:r},i=!0){let s=function(t,e,n){var o;const r={};for(const i in t){const t=Lo(i,e);r[i]=void 0!==t?t:null===(o=n.getValue(i))||void 0===o?void 0:o.get()}return r}(o,e||{},t);if(r&&(n&&(n=r(n)),o&&(o=r(o)),s&&(s=r(s))),i){!function(t,e,n){var o,r;const i=Object.keys(e).filter((e=>!t.hasValue(e))),s=i.length;if(s)for(let a=0;a<s;a++){const s=i[a],l=e[s];let u=null;Array.isArray(l)&&(u=l[0]),null===u&&(u=null!==(r=null!==(o=n[s])&&void 0!==o?o:t.readValue(s))&&void 0!==r?r:e[s]),null!=u&&("string"==typeof u&&(/^\-?\d*\.?\d+$/.test(u)||/^0[^.\s]+$/.test(u))?u=parseFloat(u):!Vo(u)&&$e.test(l)&&(u=ho(s,l)),t.addValue(s,To(u)),void 0===n[s]&&(n[s]=u),t.setBaseTarget(s,u))}}(t,o,s);const e=((t,e,n,o)=>{const r=function(t,{...e},n){const o=t.getInstance();if(!(o instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.forEachValue((t=>{const e=t.get();if(!_r(e))return;const n=Wr(e,o);n&&t.set(n)}));for(const t in e){const r=e[t];if(!_r(r))continue;const i=Wr(r,o);i&&(e[t]=i,n&&void 0===n[t]&&(n[t]=r))}return{target:e,transitionEnd:n}}(t,e,o);return ti(t,e=r.target,n,o=r.transitionEnd)})(t,o,s,n);n=e.transitionEnd,o=e.target}return{transition:e,transitionEnd:n,...o}},scrapeMotionValuesFromProps:xt,build(t,e,n,o,r){void 0!==t.isVisible&&(e.style.visibility=t.isVisible?"visible":"hidden"),rt(e,n,o,r.transformTemplate)},render:yt},ni=Nr(ei),oi=Nr({...ei,getBaseTarget:(t,e)=>t[e],readValueFromInstance(t,e){var n;return j.has(e)?(null===(n=co(e))||void 0===n?void 0:n.default)||0:(e=wt.has(e)?e:gt(e),t.getAttribute(e))},scrapeMotionValuesFromProps:Et,build(t,e,n,o,r){ft(e,n,o,r.transformTemplate)},render:bt}),ri=(t,e)=>M(t)?oi(e,{enableHardwareAcceleration:!1}):ni(e,{enableHardwareAcceleration:!0});function ii(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const si={correct:(t,e)=>{if(!e.target)return t;if("string"==typeof t){if(!G.test(t))return t;t=parseFloat(t)}return`${ii(t,e.target.x)}% ${ii(t,e.target.y)}%`}},ai="_$css",li={correct:(t,{treeScale:e,projectionDelta:n})=>{const o=t,r=t.includes("var("),i=[];r&&(t=t.replace(zr,(t=>(i.push(t),ai))));const s=$e.parse(t);if(s.length>5)return o;const a=$e.createTransformer(t),l="number"!=typeof s[0]?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=c;const d=Te(u,c,.5);"number"==typeof s[2+l]&&(s[2+l]/=d),"number"==typeof s[3+l]&&(s[3+l]/=d);let h=a(s);if(r){let t=0;h=h.replace(ai,(()=>{const e=i[t];return t++,e}))}return h}};class ui extends o.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:o}=this.props,{projection:r}=t;var i;i=ci,Object.assign(R,i),r&&(e.group&&e.group.add(r),n&&n.register&&o&&n.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",(()=>{this.safeToRemove()})),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),b.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:o,isPresent:r}=this.props,i=n.projection;return i?(i.isPresent=r,o||t.layoutDependency!==e||void 0===e?i.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?i.promote():i.relegate()||In.postRender((()=>{var t;(null===(t=i.getStack())||void 0===t?void 0:t.members.length)||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),(null==e?void 0:e.group)&&e.group.remove(o),(null==n?void 0:n.deregister)&&n.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;null==t||t()}render(){return null}}const ci={borderRadius:{...si,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:si,borderTopRightRadius:si,borderBottomLeftRadius:si,borderBottomRightRadius:si,boxShadow:li},di={measureLayout:function(t){const[e,n]=pe(),r=(0,o.useContext)(E);return o.createElement(ui,{...t,layoutGroup:r,switchLayoutGroup:(0,o.useContext)(T),isPresent:e,safeToRemove:n})}},hi=["TopLeft","TopRight","BottomLeft","BottomRight"],pi=hi.length,fi=t=>"string"==typeof t?parseFloat(t):t,mi=t=>"number"==typeof t||G.test(t);function vi(t,e){var n;return null!==(n=t[e])&&void 0!==n?n:t.borderRadius}const gi=wi(0,.5,cn),yi=wi(.5,.95,rn);function wi(t,e,n){return o=>o<t?0:o>e?1:n(Pe(t,e,o))}function bi(t,e){t.min=e.min,t.max=e.max}function xi(t,e){bi(t.x,e.x),bi(t.y,e.y)}function Ei(t,e,n,o,r){return t=wr(t-=e,1/n,o),void 0!==r&&(t=wr(t,1/r,o)),t}function Pi(t,e,[n,o,r],i,s){!function(t,e=0,n=1,o=.5,r,i=t,s=t){if(X.test(e)&&(e=parseFloat(e),e=Te(s.min,s.max,e/100)-s.min),"number"!=typeof e)return;let a=Te(i.min,i.max,o);t===i&&(a-=e),t.min=Ei(t.min,e,n,a,r),t.max=Ei(t.max,e,n,a,r)}(t,e[n],e[o],e[r],e.scale,i,s)}const Ti=["x","scaleX","originX"],Si=["y","scaleY","originY"];function ki(t,e,n,o){Pi(t.x,e,Ti,null==n?void 0:n.x,null==o?void 0:o.x),Pi(t.y,e,Si,null==n?void 0:n.y,null==o?void 0:o.y)}function Ai(t){return 0===t.translate&&1===t.scale}function Ci(t){return Ai(t.x)&&Ai(t.y)}function Vi(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function Mi(t){return er(t.x)/er(t.y)}class Ri{constructor(){this.members=[]}add(t){bo(this.members,t),t.scheduleRender()}remove(t){if(xo(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){const e=this.members.findIndex((e=>t===e));if(0===e)return!1;let n;for(let t=e;t>=0;t--){const e=this.members[t];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(t,e){var n;const o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender(),t.resumeFrom=o,e&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues,t.snapshot.isShared=!0),(null===(n=t.root)||void 0===n?void 0:n.isUpdating)&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;!1===r&&o.hide()}}exitAnimationComplete(){this.members.forEach((t=>{var e,n,o,r,i;null===(n=(e=t.options).onExitComplete)||void 0===n||n.call(e),null===(i=null===(o=t.resumingFrom)||void 0===o?void 0:(r=o.options).onExitComplete)||void 0===i||i.call(r)}))}scheduleRender(){this.members.forEach((t=>{t.instance&&t.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Li(t,e,n){let o=`translate3d(${t.x.translate/e.x}px, ${t.y.translate/e.y}px, 0) `;if(o+=`scale(${1/e.x}, ${1/e.y}) `,n){const{rotate:t,rotateX:e,rotateY:r}=n;t&&(o+=`rotate(${t}deg) `),e&&(o+=`rotateX(${e}deg) `),r&&(o+=`rotateY(${r}deg) `)}return o+=`scale(${t.x.scale*e.x}, ${t.y.scale*e.y})`,"translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)"===o?"none":o}const ji=(t,e)=>t.depth-e.depth;class Oi{constructor(){this.children=[],this.isDirty=!1}add(t){bo(this.children,t),this.isDirty=!0}remove(t){xo(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ji),this.isDirty=!1,this.children.forEach(t)}}const Fi=["","X","Y","Z"];function Di({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:o,resetTransform:r}){return class{constructor(t,n={},o=(null==e?void 0:e())){this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(Wi),this.nodes.forEach(qi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=t,this.latestValues=n,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0,t&&this.root.registerPotentialNode(t,this);for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new Oi)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new Eo),this.eventHandlers.get(t).add(e)}notifyListeners(t,...e){const n=this.eventHandlers.get(t);null==n||n.notify(...e)}hasListeners(t){return this.eventHandlers.has(t)}registerPotentialNode(t,e){this.potentialNodes.set(t,e)}mount(e,n=!1){var o;if(this.instance)return;this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;const{layoutId:r,layout:i,visualElement:s}=this.options;if(s&&!s.getInstance()&&s.mount(e),this.root.nodes.add(this),null===(o=this.parent)||void 0===o||o.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),n&&(i||r)&&(this.isLayoutDirty=!0),t){let n;const o=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,clearTimeout(n),n=window.setTimeout(o,250),b.hasAnimatedSinceResize&&(b.hasAnimatedSinceResize=!1,this.nodes.forEach(zi))}))}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&s&&(r||i)&&this.addEventListener("didUpdate",(({delta:t,hasLayoutChanged:e,hasRelativeTargetChanged:n,layout:o})=>{var r,i,a,l,u;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const c=null!==(i=null!==(r=this.options.transition)&&void 0!==r?r:s.getDefaultTransition())&&void 0!==i?i:Zi,{onLayoutAnimationStart:d,onLayoutAnimationComplete:h}=s.getProps(),p=!this.targetLayout||!Vi(this.targetLayout,o)||n,f=!e&&n;if((null===(a=this.resumeFrom)||void 0===a?void 0:a.instance)||f||e&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,f);const e={...yo(c,"layout"),onPlay:d,onComplete:h};s.shouldReduceMotion&&(e.delay=0,e.type=!1),this.startAnimation(e)}else e||0!==this.animationProgress||this.finishAnimation(),this.isLead()&&(null===(u=(l=this.options).onExitComplete)||void 0===u||u.call(l));this.targetLayout=o}))}unmount(){var t,e;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(t=this.getStack())||void 0===t||t.remove(this),null===(e=this.parent)||void 0===e||e.children.delete(this),this.instance=void 0,Rn.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var t;return this.isAnimationBlocked||(null===(t=this.parent)||void 0===t?void 0:t.isTreeAnimationBlocked())||!1}startUpdate(){var t;this.isUpdateBlocked()||(this.isUpdating=!0,null===(t=this.nodes)||void 0===t||t.forEach(Hi))}willUpdate(t=!0){var e,n,o;if(this.root.isUpdateBlocked())return void(null===(n=(e=this.options).onExitComplete)||void 0===n||n.call(e));if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let t=0;t<this.path.length;t++){const e=this.path[t];e.shouldResetTransform=!0,e.updateScroll()}const{layoutId:r,layout:i}=this.options;if(void 0===r&&!i)return;const s=null===(o=this.options.visualElement)||void 0===o?void 0:o.getProps().transformTemplate;this.prevTransformTemplateValue=null==s?void 0:s(this.latestValues,""),this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Bi);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Ki),this.potentialNodes.clear()),this.nodes.forEach(_i),this.nodes.forEach(Ii),this.nodes.forEach(Ni),this.clearAllSnapshots(),Ln.update(),Ln.preRender(),Ln.render())}clearAllSnapshots(){this.nodes.forEach(Ui),this.sharedNodes.forEach($i)}scheduleUpdateProjection(){In.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){In.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){if(this.snapshot||!this.instance)return;const t=this.measure(),e=this.removeTransform(this.removeElementScroll(t));Ji(e),this.snapshot={measured:t,layout:e,latestValues:{}}}updateLayout(){var t;if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let t=0;t<this.path.length;t++)this.path[t].updateScroll();const e=this.measure();Ji(e);const n=this.layout;this.layout={measured:e,actual:this.removeElementScroll(e)},this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(t=this.options.visualElement)||void 0===t||t.notifyLayoutMeasure(this.layout.actual,null==n?void 0:n.actual)}updateScroll(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=o(this.instance),this.scroll=n(this.instance))}resetTransform(){var t;if(!r)return;const e=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!Ci(this.projectionDelta),o=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate,i=null==o?void 0:o(this.latestValues,""),s=i!==this.prevTransformTemplateValue;e&&(n||gr(this.latestValues)||s)&&(r(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(){const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const e=t.measureViewportBox(),{scroll:n}=this.root;return n&&(Pr(e.x,n.x),Pr(e.y,n.y)),e}removeElementScroll(t){const e={x:{min:0,max:0},y:{min:0,max:0}};xi(e,t);for(let n=0;n<this.path.length;n++){const o=this.path[n],{scroll:r,options:i,isScrollRoot:s}=o;if(o!==this.root&&r&&i.layoutScroll){if(s){xi(e,t);const{scroll:n}=this.root;n&&(Pr(e.x,-n.x),Pr(e.y,-n.y))}Pr(e.x,r.x),Pr(e.y,r.y)}}return e}applyTransform(t,e=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};xi(n,t);for(let t=0;t<this.path.length;t++){const o=this.path[t];!e&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ar(n,{x:-o.scroll.x,y:-o.scroll.y}),gr(o.latestValues)&&Ar(n,o.latestValues)}return gr(this.latestValues)&&Ar(n,this.latestValues),n}removeTransform(t){var e;const n={x:{min:0,max:0},y:{min:0,max:0}};xi(n,t);for(let t=0;t<this.path.length;t++){const o=this.path[t];if(!o.instance)continue;if(!gr(o.latestValues))continue;vr(o.latestValues)&&o.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};xi(r,o.measure()),ki(n,o.latestValues,null===(e=o.snapshot)||void 0===e?void 0:e.layout,r)}return gr(this.latestValues)&&ki(n,this.latestValues),n}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection()}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var t;const{layout:e,layoutId:n}=this.options;var o,r,i;this.layout&&(e||n)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},ar(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),xi(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(t=this.relativeParent)||void 0===t?void 0:t.target)?(o=this.target,r=this.relativeTarget,i=this.relativeParent.target,ir(o.x,r.x,i.x),ir(o.y,r.y,i.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):xi(this.target,this.layout.actual),Er(this.target,this.targetDelta)):xi(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},ar(this.relativeTargetOrigin,this.target,this.relativeParent.target),xi(this.relativeTarget,this.relativeTargetOrigin)))))}getClosestProjectingParent(){if(this.parent&&!gr(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var t;const{layout:e,layoutId:n}=this.options;if(this.isTreeAnimating=Boolean((null===(t=this.parent)||void 0===t?void 0:t.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!e&&!n)return;const o=this.getLead();xi(this.layoutCorrected,this.layout.actual),function(t,e,n,o=!1){var r,i;const s=n.length;if(!s)return;let a,l;e.x=e.y=1;for(let u=0;u<s;u++)a=n[u],l=a.projectionDelta,"contents"!==(null===(i=null===(r=a.instance)||void 0===r?void 0:r.style)||void 0===i?void 0:i.display)&&(o&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ar(t,{x:-a.scroll.x,y:-a.scroll.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,Er(t,l)),o&&gr(a.latestValues)&&Ar(t,a.latestValues))}(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==o);const{target:r}=o;if(!r)return;this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const i=this.treeScale.x,s=this.treeScale.y,a=this.projectionTransform;rr(this.projectionDelta,this.layoutCorrected,r,this.latestValues),this.projectionTransform=Li(this.projectionDelta,this.treeScale),this.projectionTransform===a&&this.treeScale.x===i&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",r))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(t=!0){var e,n,o;null===(n=(e=this.options).scheduleRender)||void 0===n||n.call(e),t&&(null===(o=this.getStack())||void 0===o||o.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(t,e=!1){var n;const o=this.snapshot,r=(null==o?void 0:o.latestValues)||{},i={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!e;const a={x:{min:0,max:0},y:{min:0,max:0}},l=null==o?void 0:o.isShared,u=((null===(n=this.getStack())||void 0===n?void 0:n.members.length)||0)<=1,c=Boolean(l&&!u&&!0===this.options.crossfade&&!this.path.some(Gi));this.animationProgress=0,this.mixTargetDelta=e=>{var n;const o=e/1e3;var d,h,p,f;Yi(s.x,t.x,o),Yi(s.y,t.y,o),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(null===(n=this.relativeParent)||void 0===n?void 0:n.layout)&&(ar(a,this.layout.actual,this.relativeParent.layout.actual),d=this.relativeTarget,h=this.relativeTargetOrigin,p=a,f=o,Xi(d.x,h.x,p.x,f),Xi(d.y,h.y,p.y,f)),l&&(this.animationValues=i,function(t,e,n,o,r,i){var s,a,l,u;r?(t.opacity=Te(0,null!==(s=n.opacity)&&void 0!==s?s:1,gi(o)),t.opacityExit=Te(null!==(a=e.opacity)&&void 0!==a?a:1,0,yi(o))):i&&(t.opacity=Te(null!==(l=e.opacity)&&void 0!==l?l:1,null!==(u=n.opacity)&&void 0!==u?u:1,o));for(let r=0;r<pi;r++){const i=`border${hi[r]}Radius`;let s=vi(e,i),a=vi(n,i);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||mi(s)===mi(a)?(t[i]=Math.max(Te(fi(s),fi(a),o),0),(X.test(a)||X.test(s))&&(t[i]+="%")):t[i]=a)}(e.rotate||n.rotate)&&(t.rotate=Te(e.rotate||0,n.rotate||0,o))}(i,r,this.latestValues,o,c,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=o},this.mixTargetDelta(0)}startAnimation(t){var e,n;this.notifyListeners("animationStart"),null===(e=this.currentAnimation)||void 0===e||e.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(Rn.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=In.update((()=>{b.hasAnimatedSinceResize=!0,this.currentAnimation=function(t,e,n={}){const o=F(t)?t:To(t);return wo("",o,e,n),{stop:()=>o.stop(),isAnimating:()=>o.isAnimating()}}(0,1e3,{...t,onUpdate:e=>{var n;this.mixTargetDelta(e),null===(n=t.onUpdate)||void 0===n||n.call(t,e)},onComplete:()=>{var e;null===(e=t.onComplete)||void 0===e||e.call(t),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){var t;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(t=this.getStack())||void 0===t||t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var t;this.currentAnimation&&(null===(t=this.mixTargetDelta)||void 0===t||t.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const t=this.getLead();let{targetWithTransforms:e,target:n,layout:o,latestValues:r}=t;if(e&&n&&o){if(this!==t&&this.layout&&o&&ts(this.options.animationType,this.layout.actual,o.actual)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const e=er(this.layout.actual.x);n.x.min=t.target.x.min,n.x.max=n.x.min+e;const o=er(this.layout.actual.y);n.y.min=t.target.y.min,n.y.max=n.y.min+o}xi(e,n),Ar(e,r),rr(this.projectionDeltaWithTransform,this.layoutCorrected,e,r)}}registerSharedNode(t,e){var n,o,r;this.sharedNodes.has(t)||this.sharedNodes.set(t,new Ri),this.sharedNodes.get(t).add(e),e.promote({transition:null===(n=e.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(r=null===(o=e.options.initialPromotionConfig)||void 0===o?void 0:o.shouldPreserveFollowOpacity)||void 0===r?void 0:r.call(o,e)})}isLead(){const t=this.getStack();return!t||t.lead===this}getLead(){var t;const{layoutId:e}=this.options;return e&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;const{layoutId:e}=this.options;return e?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){const{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote({needsReset:t,transition:e,preserveFollowOpacity:n}={}){const o=this.getStack();o&&o.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){const t=this.getStack();return!!t&&t.relegate(this)}resetRotation(){const{visualElement:t}=this.options;if(!t)return;let e=!1;const n={};for(let o=0;o<Fi.length;o++){const r="rotate"+Fi[o];t.getStaticValue(r)&&(e=!0,n[r]=t.getStaticValue(r),t.setStaticValue(r,0))}if(e){null==t||t.syncRender();for(const e in n)t.setStaticValue(e,n[e]);t.scheduleRender()}}getProjectionStyles(t={}){var e,n,o;const r={};if(!this.instance||this.isSVG)return r;if(!this.isVisible)return{visibility:"hidden"};r.visibility="";const i=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=kt(t.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=kt(t.pointerEvents)||""),this.hasProjected&&!gr(this.latestValues)&&(e.transform=i?i({},""):"none",this.hasProjected=!1),e}const a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=Li(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:l,y:u}=this.projectionDelta;r.transformOrigin=`${100*l.origin}% ${100*u.origin}% 0`,s.animationValues?r.opacity=s===this?null!==(o=null!==(n=a.opacity)&&void 0!==n?n:this.latestValues.opacity)&&void 0!==o?o:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const t in R){if(void 0===a[t])continue;const{correct:e,applyTo:n}=R[t],o=e(a[t],s);if(n){const t=n.length;for(let e=0;e<t;e++)r[n[e]]=o}else r[t]=o}return this.options.layoutId&&(r.pointerEvents=s===this?kt(t.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((t=>{var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()})),this.root.nodes.forEach(Bi),this.root.sharedNodes.clear()}}}function Ii(t){t.updateLayout()}function Ni(t){var e,n,o;const r=(null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{actual:e,measured:n}=t.layout,{animationType:o}=t.options;"size"===o?pr((t=>{const n=r.isShared?r.measured[t]:r.layout[t],o=er(n);n.min=e[t].min,n.max=n.min+o})):ts(o,r.layout,e)&&pr((t=>{const n=r.isShared?r.measured[t]:r.layout[t],o=er(e[t]);n.max=n.min+o}));const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};rr(i,e,r.layout);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};r.isShared?rr(s,t.applyTransform(n,!0),r.measured):rr(s,e,r.layout);const a=!Ci(i);let l=!1;if(!t.resumeFrom&&(t.relativeParent=t.getClosestProjectingParent(),t.relativeParent&&!t.relativeParent.resumeFrom)){const{snapshot:n,layout:o}=t.relativeParent;if(n&&o){const t={x:{min:0,max:0},y:{min:0,max:0}};ar(t,r.layout,n.layout);const i={x:{min:0,max:0},y:{min:0,max:0}};ar(i,e,o.actual),Vi(t,i)||(l=!0)}}t.notifyListeners("didUpdate",{layout:e,snapshot:r,delta:s,layoutDelta:i,hasLayoutChanged:a,hasRelativeTargetChanged:l})}else t.isLead()&&(null===(o=(n=t.options).onExitComplete)||void 0===o||o.call(n));t.options.transition=void 0}function Ui(t){t.clearSnapshot()}function Bi(t){t.clearMeasurements()}function _i(t){const{visualElement:e}=t.options;(null==e?void 0:e.getProps().onBeforeLayoutMeasure)&&e.notifyBeforeLayoutMeasure(),t.resetTransform()}function zi(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function Wi(t){t.resolveTargetDelta()}function qi(t){t.calcProjection()}function Hi(t){t.resetRotation()}function $i(t){t.removeLeadSnapshot()}function Yi(t,e,n){t.translate=Te(e.translate,0,n),t.scale=Te(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Xi(t,e,n,o){t.min=Te(e.min,n.min,o),t.max=Te(e.max,n.max,o)}function Gi(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}const Zi={duration:.45,ease:[.4,0,.1,1]};function Ki(t,e){let n=t.root;for(let e=t.path.length-1;e>=0;e--)if(Boolean(t.path[e].instance)){n=t.path[e];break}const o=(n&&n!==t.root?n.instance:document).querySelector(`[data-projection-id="${e}"]`);o&&t.mount(o,!0)}function Qi(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function Ji(t){Qi(t.x),Qi(t.y)}function ts(t,e,n){return"position"===t||"preserve-aspect"===t&&!function(t,e,n=.01){return Yo(t,e)<=n}(Mi(e),Mi(n))}const es=Di({attachResizeListener:(t,e)=>Lt(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ns={current:void 0},os=Di({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ns.current){const t=new es(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),ns.current=t}return ns.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>Boolean("fixed"===window.getComputedStyle(t).position)}),rs={...Wo,...he,...Lr,...di},is=C(((t,e)=>function(t,{forwardMotionProps:e=!1},n,o,r){return{...M(t)?Vt:Mt,preloadedFeatures:n,useRender:vt(e),createVisualElement:o,projectionNodeConstructor:r,Component:t}}(t,e,rs,ri,os)))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixHQUFTN00sRUFBbUJDLEVBQXFCQyxHQUk5RyxNQUFPLElBSFlpRCxFQUFlOUMsR0FDNUJvUCxHQUNBRyxHQUdGNVAsb0JBQ0FHLFVBQVd5TSxHQUFnQkMsR0FDM0I1TSxzQkFDQUMsNEJBQ0FHLFlBRVIsQ0RLc0UsQ0FBc0JBLEVBQVcvVixFQUFRa3JELEdBQWUsR0FBd0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL0B2aW1lby9wbGF5ZXIvZGlzdC9wbGF5ZXIuZXMuanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9AdS13YXZlL3JlYWN0LXZpbWVvL2Rpc3QvcmVhY3QtdmltZW8uZXMuanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2NvbnRleHQvTW90aW9uQ29uZmlnQ29udGV4dC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvY29udGV4dC9Nb3Rpb25Db250ZXh0L2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb250ZXh0L1ByZXNlbmNlQ29udGV4dC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvaXMtYnJvd3Nlci5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvdXNlLWlzb21vcnBoaWMtZWZmZWN0Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb250ZXh0L0xhenlDb250ZXh0Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy9pcy1yZWYtb2JqZWN0Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvdXRpbHMvaXMtdmFyaWFudC1sYWJlbC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9uL3V0aWxzL2lzLWFuaW1hdGlvbi1jb250cm9scy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3V0aWxzL2lzLWNvbnRyb2xsaW5nLXZhcmlhbnRzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb250ZXh0L01vdGlvbkNvbnRleHQvY3JlYXRlLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vZmVhdHVyZXMvZGVmaW5pdGlvbnMubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3VzZS1jb25zdGFudC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcHJvamVjdGlvbi9ub2RlL3N0YXRlLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL25vZGUvaWQubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2NvbnRleHQvTGF5b3V0R3JvdXBDb250ZXh0Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vdXRpbHMvVmlzdWFsRWxlbWVudEhhbmRsZXIubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2NvbnRleHQvU3dpdGNoTGF5b3V0R3JvdXBDb250ZXh0Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vdXRpbHMvc3ltYm9sLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vaW5kZXgubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL21vdGlvbi9mZWF0dXJlcy9sb2FkLWZlYXR1cmVzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb250ZXh0L01vdGlvbkNvbnRleHQvdXRpbHMubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL21vdGlvbi91dGlscy91c2UtdmlzdWFsLWVsZW1lbnQubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL21vdGlvbi91dGlscy91c2UtbW90aW9uLXJlZi5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS9tb3Rpb24tcHJveHkubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9zdmcvbG93ZXJjYXNlLWVsZW1lbnRzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3V0aWxzL2lzLXN2Zy1jb21wb25lbnQubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vc3R5bGVzL3NjYWxlLWNvcnJlY3Rpb24ubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9odG1sL3V0aWxzL3RyYW5zZm9ybS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL3V0aWxzL2lzLWZvcmNlZC1tb3Rpb24tdmFsdWUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3ZhbHVlL3V0aWxzL2lzLW1vdGlvbi12YWx1ZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2h0bWwvdXRpbHMvYnVpbGQtdHJhbnNmb3JtLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3V0aWxzL2lzLWNzcy12YXJpYWJsZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS92YWx1ZS10eXBlcy9nZXQtYXMtdHlwZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9zdHlsZS12YWx1ZS10eXBlcy9kaXN0L2VzL3V0aWxzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLXZhbHVlLXR5cGVzL2Rpc3QvZXMvbnVtYmVycy91bml0cy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9zdHlsZS12YWx1ZS10eXBlcy9kaXN0L2VzL251bWJlcnMvaW5kZXgubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vdmFsdWUtdHlwZXMvdHlwZS1pbnQubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vdmFsdWUtdHlwZXMvbnVtYmVyLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvaHRtbC91dGlscy9idWlsZC1zdHlsZXMubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9odG1sL3VzZS1wcm9wcy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2h0bWwvdXRpbHMvY3JlYXRlLXJlbmRlci1zdGF0ZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL3V0aWxzL3ZhbGlkLXByb3AubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vdXRpbHMvZmlsdGVyLXByb3BzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvc3ZnL3V0aWxzL3RyYW5zZm9ybS1vcmlnaW4ubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9zdmcvdXRpbHMvcGF0aC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3N2Zy91dGlscy9idWlsZC1hdHRycy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3N2Zy91c2UtcHJvcHMubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9zdmcvdXRpbHMvY3JlYXRlLXJlbmRlci1zdGF0ZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS91c2UtcmVuZGVyLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3V0aWxzL2NhbWVsLXRvLWRhc2gubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9odG1sL3V0aWxzL3JlbmRlci5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3N2Zy91dGlscy9jYW1lbC1jYXNlLWF0dHJzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvc3ZnL3V0aWxzL3JlbmRlci5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2h0bWwvdXRpbHMvc2NyYXBlLW1vdGlvbi12YWx1ZXMubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9zdmcvdXRpbHMvc2NyYXBlLW1vdGlvbi12YWx1ZXMubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci91dGlscy9yZXNvbHZlLXZhcmlhbnRzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vdXRpbHMvaXMta2V5ZnJhbWVzLXRhcmdldC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvcmVzb2x2ZS12YWx1ZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdmFsdWUvdXRpbHMvcmVzb2x2ZS1tb3Rpb24tdmFsdWUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL21vdGlvbi91dGlscy91c2UtdmlzdWFsLXN0YXRlLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvc3ZnL2NvbmZpZy1tb3Rpb24ubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9odG1sL2NvbmZpZy1tb3Rpb24ubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci91dGlscy90eXBlcy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZXZlbnRzL3VzZS1kb20tZXZlbnQubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2dlc3R1cmVzL3V0aWxzL2V2ZW50LXR5cGUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2V2ZW50cy9ldmVudC1pbmZvLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9ldmVudHMvdXNlLXBvaW50ZXItZXZlbnQubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2V2ZW50cy91dGlscy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZ2VzdHVyZXMvZHJhZy91dGlscy9sb2NrLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9nZXN0dXJlcy91c2UtaG92ZXItZ2VzdHVyZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZ2VzdHVyZXMvdXRpbHMvaXMtbm9kZS1vci1jaGlsZC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvdXNlLXVubW91bnQtZWZmZWN0Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL3BvcG1vdGlvbi9kaXN0L2VzL3V0aWxzL3BpcGUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3Byb2Nlc3MubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3dhcm4tb25jZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL2ZlYXR1cmVzL3ZpZXdwb3J0L29ic2VydmVycy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL2ZlYXR1cmVzL3ZpZXdwb3J0L3VzZS12aWV3cG9ydC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL3V0aWxzL21ha2UtcmVuZGVybGVzcy1jb21wb25lbnQubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL21vdGlvbi9mZWF0dXJlcy9nZXN0dXJlcy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZ2VzdHVyZXMvdXNlLXRhcC1nZXN0dXJlLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9nZXN0dXJlcy91c2UtZm9jdXMtZ2VzdHVyZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvY29tcG9uZW50cy9BbmltYXRlUHJlc2VuY2UvdXNlLXByZXNlbmNlLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy9zaGFsbG93LWNvbXBhcmUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvcG9wbW90aW9uL2Rpc3QvZXMvdXRpbHMvY2xhbXAubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvcG9wbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9ucy91dGlscy9maW5kLXNwcmluZy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9wb3Btb3Rpb24vZGlzdC9lcy9hbmltYXRpb25zL2dlbmVyYXRvcnMvc3ByaW5nLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL3BvcG1vdGlvbi9kaXN0L2VzL3V0aWxzL3Byb2dyZXNzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL3BvcG1vdGlvbi9kaXN0L2VzL3V0aWxzL21peC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9zdHlsZS12YWx1ZS10eXBlcy9kaXN0L2VzL2NvbG9yL3V0aWxzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLXZhbHVlLXR5cGVzL2Rpc3QvZXMvY29sb3IvcmdiYS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9zdHlsZS12YWx1ZS10eXBlcy9kaXN0L2VzL2NvbG9yL2hleC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9zdHlsZS12YWx1ZS10eXBlcy9kaXN0L2VzL2NvbG9yL2hzbGEubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvcG9wbW90aW9uL2Rpc3QvZXMvdXRpbHMvaHNsYS10by1yZ2JhLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL3BvcG1vdGlvbi9kaXN0L2VzL3V0aWxzL21peC1jb2xvci5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9zdHlsZS12YWx1ZS10eXBlcy9kaXN0L2VzL2NvbG9yL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLXZhbHVlLXR5cGVzL2Rpc3QvZXMvY29tcGxleC9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9wb3Btb3Rpb24vZGlzdC9lcy91dGlscy9pbmMubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvcG9wbW90aW9uL2Rpc3QvZXMvdXRpbHMvbWl4LWNvbXBsZXgubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvcG9wbW90aW9uL2Rpc3QvZXMvdXRpbHMvaW50ZXJwb2xhdGUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvcG9wbW90aW9uL2Rpc3QvZXMvZWFzaW5nL3V0aWxzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL3BvcG1vdGlvbi9kaXN0L2VzL2Vhc2luZy9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9wb3Btb3Rpb24vZGlzdC9lcy9hbmltYXRpb25zL2dlbmVyYXRvcnMva2V5ZnJhbWVzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL3BvcG1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbnMvdXRpbHMvZGV0ZWN0LWFuaW1hdGlvbi1mcm9tLW9wdGlvbnMubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvcG9wbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9ucy9nZW5lcmF0b3JzL2RlY2F5Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lc3luYy9kaXN0L2VzL29uLW5leHQtZnJhbWUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVzeW5jL2Rpc3QvZXMvaW5kZXgubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVzeW5jL2Rpc3QvZXMvY3JlYXRlLXJlbmRlci1zdGVwLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL3BvcG1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbnMvdXRpbHMvZWxhcHNlZC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9wb3Btb3Rpb24vZGlzdC9lcy9hbmltYXRpb25zL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL3BvcG1vdGlvbi9kaXN0L2VzL3V0aWxzL3ZlbG9jaXR5LXBlci1zZWNvbmQubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3RpbWUtY29udmVyc2lvbi5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9wb3Btb3Rpb24vZGlzdC9lcy9lYXNpbmcvY3ViaWMtYmV6aWVyLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vdXRpbHMvZWFzaW5nLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vdXRpbHMvaXMtYW5pbWF0YWJsZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9uL3V0aWxzL2RlZmF1bHQtdHJhbnNpdGlvbnMubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvc3R5bGUtdmFsdWUtdHlwZXMvZGlzdC9lcy9jb21wbGV4L2ZpbHRlci5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS92YWx1ZS10eXBlcy9kZWZhdWx0cy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS92YWx1ZS10eXBlcy9hbmltYXRhYmxlLW5vbmUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi91dGlscy90cmFuc2l0aW9ucy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9wb3Btb3Rpb24vZGlzdC9lcy9hbmltYXRpb25zL2luZXJ0aWEubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL2FycmF5Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy9zdWJzY3JpcHRpb24tbWFuYWdlci5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdmFsdWUvaW5kZXgubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vdmFsdWUtdHlwZXMvdGVzdC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS92YWx1ZS10eXBlcy9kaW1lbnNpb25zLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3ZhbHVlLXR5cGVzL3R5cGUtYXV0by5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS92YWx1ZS10eXBlcy9maW5kLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvdXRpbHMvcmVzb2x2ZS1keW5hbWljLXZhcmlhbnRzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvdXRpbHMvc2V0dGVycy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdmFsdWUvdXNlLXdpbGwtY2hhbmdlL2lzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvdXRpbHMvYW5pbWF0aW9uLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvdXRpbHMvYW5pbWF0aW9uLXN0YXRlLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vZmVhdHVyZXMvYW5pbWF0aW9ucy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9wb3Btb3Rpb24vZGlzdC9lcy91dGlscy9pcy1wb2ludC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9wb3Btb3Rpb24vZGlzdC9lcy91dGlscy9pcy1wb2ludC0zZC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9wb3Btb3Rpb24vZGlzdC9lcy91dGlscy9kaXN0YW5jZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZ2VzdHVyZXMvUGFuU2Vzc2lvbi5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcHJvamVjdGlvbi9nZW9tZXRyeS9kZWx0YS1jYWxjLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9nZXN0dXJlcy9kcmFnL3V0aWxzL2NvbnN0cmFpbnRzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL3V0aWxzL2VhY2gtYXhpcy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcHJvamVjdGlvbi9nZW9tZXRyeS9jb252ZXJzaW9uLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL3V0aWxzL2hhcy10cmFuc2Zvcm0ubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vZ2VvbWV0cnkvZGVsdGEtYXBwbHkubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vdXRpbHMvbWVhc3VyZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZ2VzdHVyZXMvZHJhZy9WaXN1YWxFbGVtZW50RHJhZ0NvbnRyb2xzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL2dlb21ldHJ5L21vZGVscy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL2ZlYXR1cmVzL2RyYWcubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2dlc3R1cmVzL3VzZS1wYW4tZ2VzdHVyZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZ2VzdHVyZXMvZHJhZy91c2UtZHJhZy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvcmVkdWNlZC1tb3Rpb24vc3RhdGUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci91dGlscy9saWZlY3ljbGVzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvaW5kZXgubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3JlZHVjZWQtbW90aW9uL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvdXRpbHMvbW90aW9uLXZhbHVlcy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS91dGlscy9jc3MtdmFyaWFibGVzLWNvbnZlcnNpb24ubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vdXRpbHMvdW5pdC1jb252ZXJzaW9uLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3V0aWxzL3BhcnNlLWRvbS12YXJpYW50Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvaHRtbC92aXN1YWwtZWxlbWVudC5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvaXMtbnVtZXJpY2FsLXN0cmluZy5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvaXMtemVyby12YWx1ZS1zdHJpbmcubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9zdmcvdmlzdWFsLWVsZW1lbnQubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vY3JlYXRlLXZpc3VhbC1lbGVtZW50Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL3N0eWxlcy9zY2FsZS1ib3JkZXItcmFkaXVzLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL3N0eWxlcy9zY2FsZS1ib3gtc2hhZG93Lm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vZmVhdHVyZXMvbGF5b3V0L01lYXN1cmVMYXlvdXQubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL21vdGlvbi9mZWF0dXJlcy9sYXlvdXQvaW5kZXgubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vYW5pbWF0aW9uL21peC12YWx1ZXMubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vZ2VvbWV0cnkvY29weS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcHJvamVjdGlvbi9nZW9tZXRyeS9kZWx0YS1yZW1vdmUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vZ2VvbWV0cnkvdXRpbHMubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vc2hhcmVkL3N0YWNrLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL3N0eWxlcy90cmFuc2Zvcm0ubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci91dGlscy9jb21wYXJlLWJ5LWRlcHRoLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvdXRpbHMvZmxhdC10cmVlLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL25vZGUvY3JlYXRlLXByb2plY3Rpb24tbm9kZS5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9uL2FuaW1hdGUubWpzIiwid2VicGFjazovL0xpcnVsZXMtZnJvbnQvLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vbm9kZS9Eb2N1bWVudFByb2plY3Rpb25Ob2RlLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL25vZGUvSFRNTFByb2plY3Rpb25Ob2RlLm1qcyIsIndlYnBhY2s6Ly9MaXJ1bGVzLWZyb250Ly4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL21vdGlvbi5tanMiLCJ3ZWJwYWNrOi8vTGlydWxlcy1mcm9udC8uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS91dGlscy9jcmVhdGUtY29uZmlnLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQHZpbWVvL3BsYXllciB2Mi4xNy4xIHwgKGMpIDIwMjIgVmltZW8gfCBNSVQgTGljZW5zZSB8IGh0dHBzOi8vZ2l0aHViLmNvbS92aW1lby9wbGF5ZXIuanMgKi9cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxuLyoqXG4gKiBAbW9kdWxlIGxpYi9mdW5jdGlvbnNcbiAqL1xuXG4vKipcbiAqIENoZWNrIHRvIHNlZSB0aGlzIGlzIGEgbm9kZSBlbnZpcm9ubWVudC5cbiAqIEB0eXBlIHtCb29sZWFufVxuICovXG5cbi8qIGdsb2JhbCBnbG9iYWwgKi9cbnZhciBpc05vZGUgPSB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKGdsb2JhbCkgPT09ICdbb2JqZWN0IGdsb2JhbF0nO1xuLyoqXG4gKiBHZXQgdGhlIG5hbWUgb2YgdGhlIG1ldGhvZCBmb3IgYSBnaXZlbiBnZXR0ZXIgb3Igc2V0dGVyLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIEVpdGhlciDigJxnZXTigJ0gb3Ig4oCcc2V04oCdLlxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5cbmZ1bmN0aW9uIGdldE1ldGhvZE5hbWUocHJvcCwgdHlwZSkge1xuICBpZiAocHJvcC5pbmRleE9mKHR5cGUudG9Mb3dlckNhc2UoKSkgPT09IDApIHtcbiAgICByZXR1cm4gcHJvcDtcbiAgfVxuXG4gIHJldHVybiBcIlwiLmNvbmNhdCh0eXBlLnRvTG93ZXJDYXNlKCkpLmNvbmNhdChwcm9wLnN1YnN0cigwLCAxKS50b1VwcGVyQ2FzZSgpKS5jb25jYXQocHJvcC5zdWJzdHIoMSkpO1xufVxuLyoqXG4gKiBDaGVjayB0byBzZWUgaWYgdGhlIG9iamVjdCBpcyBhIERPTSBFbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7Kn0gZWxlbWVudCBUaGUgb2JqZWN0IHRvIGNoZWNrLlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuXG5mdW5jdGlvbiBpc0RvbUVsZW1lbnQoZWxlbWVudCkge1xuICByZXR1cm4gQm9vbGVhbihlbGVtZW50ICYmIGVsZW1lbnQubm9kZVR5cGUgPT09IDEgJiYgJ25vZGVOYW1lJyBpbiBlbGVtZW50ICYmIGVsZW1lbnQub3duZXJEb2N1bWVudCAmJiBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpO1xufVxuLyoqXG4gKiBDaGVjayB0byBzZWUgd2hldGhlciB0aGUgdmFsdWUgaXMgYSBudW1iZXIuXG4gKlxuICogQHNlZSBodHRwOi8vZGwuZHJvcGJveHVzZXJjb250ZW50LmNvbS91LzM1MTQ2L2pzL3Rlc3RzL2lzTnVtYmVyLmh0bWxcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtib29sZWFufSBpbnRlZ2VyIENoZWNrIGlmIHRoZSB2YWx1ZSBpcyBhbiBpbnRlZ2VyLlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuXG5mdW5jdGlvbiBpc0ludGVnZXIodmFsdWUpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICByZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQodmFsdWUpKSAmJiBpc0Zpbml0ZSh2YWx1ZSkgJiYgTWF0aC5mbG9vcih2YWx1ZSkgPT0gdmFsdWU7XG59XG4vKipcbiAqIENoZWNrIHRvIHNlZSBpZiB0aGUgVVJMIGlzIGEgVmltZW8gdXJsLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIHVybCBzdHJpbmcuXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5cbmZ1bmN0aW9uIGlzVmltZW9VcmwodXJsKSB7XG4gIHJldHVybiAvXihodHRwcz86KT9cXC9cXC8oKHBsYXllcnx3d3cpXFwuKT92aW1lb1xcLmNvbSg/PSR8XFwvKS8udGVzdCh1cmwpO1xufVxuLyoqXG4gKiBDaGVjayB0byBzZWUgaWYgdGhlIFVSTCBpcyBmb3IgYSBWaW1lbyBlbWJlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSB1cmwgc3RyaW5nLlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuXG5mdW5jdGlvbiBpc1ZpbWVvRW1iZWQodXJsKSB7XG4gIHZhciBleHByID0gL15odHRwczpcXC9cXC9wbGF5ZXJcXC52aW1lb1xcLmNvbVxcL3ZpZGVvXFwvXFxkKy87XG4gIHJldHVybiBleHByLnRlc3QodXJsKTtcbn1cbi8qKlxuICogR2V0IHRoZSBWaW1lbyBVUkwgZnJvbSBhbiBlbGVtZW50LlxuICogVGhlIGVsZW1lbnQgbXVzdCBoYXZlIGVpdGhlciBhIGRhdGEtdmltZW8taWQgb3IgZGF0YS12aW1lby11cmwgYXR0cmlidXRlLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvRW1iZWRQYXJhbWV0ZXJzIFRoZSBvRW1iZWQgcGFyYW1ldGVycy5cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuXG5mdW5jdGlvbiBnZXRWaW1lb1VybCgpIHtcbiAgdmFyIG9FbWJlZFBhcmFtZXRlcnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICB2YXIgaWQgPSBvRW1iZWRQYXJhbWV0ZXJzLmlkO1xuICB2YXIgdXJsID0gb0VtYmVkUGFyYW1ldGVycy51cmw7XG4gIHZhciBpZE9yVXJsID0gaWQgfHwgdXJsO1xuXG4gIGlmICghaWRPclVybCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQW4gaWQgb3IgdXJsIG11c3QgYmUgcGFzc2VkLCBlaXRoZXIgaW4gYW4gb3B0aW9ucyBvYmplY3Qgb3IgYXMgYSBkYXRhLXZpbWVvLWlkIG9yIGRhdGEtdmltZW8tdXJsIGF0dHJpYnV0ZS4nKTtcbiAgfVxuXG4gIGlmIChpc0ludGVnZXIoaWRPclVybCkpIHtcbiAgICByZXR1cm4gXCJodHRwczovL3ZpbWVvLmNvbS9cIi5jb25jYXQoaWRPclVybCk7XG4gIH1cblxuICBpZiAoaXNWaW1lb1VybChpZE9yVXJsKSkge1xuICAgIHJldHVybiBpZE9yVXJsLnJlcGxhY2UoJ2h0dHA6JywgJ2h0dHBzOicpO1xuICB9XG5cbiAgaWYgKGlkKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlxcdTIwMUNcIi5jb25jYXQoaWQsIFwiXFx1MjAxRCBpcyBub3QgYSB2YWxpZCB2aWRlbyBpZC5cIikpO1xuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlxcdTIwMUNcIi5jb25jYXQoaWRPclVybCwgXCJcXHUyMDFEIGlzIG5vdCBhIHZpbWVvLmNvbSB1cmwuXCIpKTtcbn1cblxudmFyIGFycmF5SW5kZXhPZlN1cHBvcnQgPSB0eXBlb2YgQXJyYXkucHJvdG90eXBlLmluZGV4T2YgIT09ICd1bmRlZmluZWQnO1xudmFyIHBvc3RNZXNzYWdlU3VwcG9ydCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cucG9zdE1lc3NhZ2UgIT09ICd1bmRlZmluZWQnO1xuXG5pZiAoIWlzTm9kZSAmJiAoIWFycmF5SW5kZXhPZlN1cHBvcnQgfHwgIXBvc3RNZXNzYWdlU3VwcG9ydCkpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdTb3JyeSwgdGhlIFZpbWVvIFBsYXllciBBUEkgaXMgbm90IGF2YWlsYWJsZSBpbiB0aGlzIGJyb3dzZXIuJyk7XG59XG5cbnZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9O1xuXG5mdW5jdGlvbiBjcmVhdGVDb21tb25qc01vZHVsZShmbiwgbW9kdWxlKSB7XG5cdHJldHVybiBtb2R1bGUgPSB7IGV4cG9ydHM6IHt9IH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0cztcbn1cblxuLyohXG4gKiB3ZWFrbWFwLXBvbHlmaWxsIHYyLjAuNCAtIEVDTUFTY3JpcHQ2IFdlYWtNYXAgcG9seWZpbGxcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9wb2x5Z29ucGxhbmV0L3dlYWttYXAtcG9seWZpbGxcbiAqIENvcHlyaWdodCAoYykgMjAxNS0yMDIxIHBvbHlnb25wbGFuZXQgPHBvbHlnb24ucGxhbmV0LmFxdWFAZ21haWwuY29tPlxuICogQGxpY2Vuc2UgTUlUXG4gKi9cbihmdW5jdGlvbiAoc2VsZikge1xuXG4gIGlmIChzZWxmLldlYWtNYXApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG4gIHZhciBoYXNEZWZpbmUgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBBdm9pZCBJRTgncyBicm9rZW4gT2JqZWN0LmRlZmluZVByb3BlcnR5XG4gICAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAneCcsIHtcbiAgICAgICAgdmFsdWU6IDFcbiAgICAgIH0pLnggPT09IDE7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfSgpO1xuXG4gIHZhciBkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKGhhc0RlZmluZSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgbmFtZSwge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmplY3RbbmFtZV0gPSB2YWx1ZTtcbiAgICB9XG4gIH07XG5cbiAgc2VsZi5XZWFrTWFwID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIEVDTUEtMjYyIDIzLjMgV2Vha01hcCBPYmplY3RzXG4gICAgZnVuY3Rpb24gV2Vha01hcCgpIHtcbiAgICAgIGlmICh0aGlzID09PSB2b2lkIDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNvbnN0cnVjdG9yIFdlYWtNYXAgcmVxdWlyZXMgJ25ldydcIik7XG4gICAgICB9XG5cbiAgICAgIGRlZmluZVByb3BlcnR5KHRoaXMsICdfaWQnLCBnZW5JZCgnX1dlYWtNYXAnKSk7IC8vIEVDTUEtMjYyIDIzLjMuMS4xIFdlYWtNYXAoW2l0ZXJhYmxlXSlcblxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIEN1cnJlbnRseSwgV2Vha01hcCBgaXRlcmFibGVgIGFyZ3VtZW50IGlzIG5vdCBzdXBwb3J0ZWRcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignV2Vha01hcCBpdGVyYWJsZSBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICB9XG4gICAgfSAvLyBFQ01BLTI2MiAyMy4zLjMuMiBXZWFrTWFwLnByb3RvdHlwZS5kZWxldGUoa2V5KVxuXG5cbiAgICBkZWZpbmVQcm9wZXJ0eShXZWFrTWFwLnByb3RvdHlwZSwgJ2RlbGV0ZScsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGNoZWNrSW5zdGFuY2UodGhpcywgJ2RlbGV0ZScpO1xuXG4gICAgICBpZiAoIWlzT2JqZWN0KGtleSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgZW50cnkgPSBrZXlbdGhpcy5faWRdO1xuXG4gICAgICBpZiAoZW50cnkgJiYgZW50cnlbMF0gPT09IGtleSkge1xuICAgICAgICBkZWxldGUga2V5W3RoaXMuX2lkXTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTsgLy8gRUNNQS0yNjIgMjMuMy4zLjMgV2Vha01hcC5wcm90b3R5cGUuZ2V0KGtleSlcblxuICAgIGRlZmluZVByb3BlcnR5KFdlYWtNYXAucHJvdG90eXBlLCAnZ2V0JywgZnVuY3Rpb24gKGtleSkge1xuICAgICAgY2hlY2tJbnN0YW5jZSh0aGlzLCAnZ2V0Jyk7XG5cbiAgICAgIGlmICghaXNPYmplY3Qoa2V5KSkge1xuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgICAgfVxuXG4gICAgICB2YXIgZW50cnkgPSBrZXlbdGhpcy5faWRdO1xuXG4gICAgICBpZiAoZW50cnkgJiYgZW50cnlbMF0gPT09IGtleSkge1xuICAgICAgICByZXR1cm4gZW50cnlbMV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfSk7IC8vIEVDTUEtMjYyIDIzLjMuMy40IFdlYWtNYXAucHJvdG90eXBlLmhhcyhrZXkpXG5cbiAgICBkZWZpbmVQcm9wZXJ0eShXZWFrTWFwLnByb3RvdHlwZSwgJ2hhcycsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGNoZWNrSW5zdGFuY2UodGhpcywgJ2hhcycpO1xuXG4gICAgICBpZiAoIWlzT2JqZWN0KGtleSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgZW50cnkgPSBrZXlbdGhpcy5faWRdO1xuXG4gICAgICBpZiAoZW50cnkgJiYgZW50cnlbMF0gPT09IGtleSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pOyAvLyBFQ01BLTI2MiAyMy4zLjMuNSBXZWFrTWFwLnByb3RvdHlwZS5zZXQoa2V5LCB2YWx1ZSlcblxuICAgIGRlZmluZVByb3BlcnR5KFdlYWtNYXAucHJvdG90eXBlLCAnc2V0JywgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIGNoZWNrSW5zdGFuY2UodGhpcywgJ3NldCcpO1xuXG4gICAgICBpZiAoIWlzT2JqZWN0KGtleSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCB2YWx1ZSB1c2VkIGFzIHdlYWsgbWFwIGtleScpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZW50cnkgPSBrZXlbdGhpcy5faWRdO1xuXG4gICAgICBpZiAoZW50cnkgJiYgZW50cnlbMF0gPT09IGtleSkge1xuICAgICAgICBlbnRyeVsxXSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgZGVmaW5lUHJvcGVydHkoa2V5LCB0aGlzLl9pZCwgW2tleSwgdmFsdWVdKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gY2hlY2tJbnN0YW5jZSh4LCBtZXRob2ROYW1lKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHgpIHx8ICFoYXNPd25Qcm9wZXJ0eS5jYWxsKHgsICdfaWQnKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKG1ldGhvZE5hbWUgKyAnIG1ldGhvZCBjYWxsZWQgb24gaW5jb21wYXRpYmxlIHJlY2VpdmVyICcgKyB0eXBlb2YgeCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2VuSWQocHJlZml4KSB7XG4gICAgICByZXR1cm4gcHJlZml4ICsgJ18nICsgcmFuZCgpICsgJy4nICsgcmFuZCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJhbmQoKSB7XG4gICAgICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygpLnN1YnN0cmluZygyKTtcbiAgICB9XG5cbiAgICBkZWZpbmVQcm9wZXJ0eShXZWFrTWFwLCAnX3BvbHlmaWxsJywgdHJ1ZSk7XG4gICAgcmV0dXJuIFdlYWtNYXA7XG4gIH0oKTtcblxuICBmdW5jdGlvbiBpc09iamVjdCh4KSB7XG4gICAgcmV0dXJuIE9iamVjdCh4KSA9PT0geDtcbiAgfVxufSkodHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBjb21tb25qc0dsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBjb21tb25qc0dsb2JhbCA6IGNvbW1vbmpzR2xvYmFsKTtcblxudmFyIG5wb19zcmMgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG4vKiEgTmF0aXZlIFByb21pc2UgT25seVxuICAgIHYwLjguMSAoYykgS3lsZSBTaW1wc29uXG4gICAgTUlUIExpY2Vuc2U6IGh0dHA6Ly9nZXRpZnkubWl0LWxpY2Vuc2Uub3JnXG4qL1xuKGZ1bmN0aW9uIFVNRChuYW1lLCBjb250ZXh0LCBkZWZpbml0aW9uKSB7XG4gIC8vIHNwZWNpYWwgZm9ybSBvZiBVTUQgZm9yIHBvbHlmaWxsaW5nIGFjcm9zcyBldmlyb25tZW50c1xuICBjb250ZXh0W25hbWVdID0gY29udGV4dFtuYW1lXSB8fCBkZWZpbml0aW9uKCk7XG5cbiAgaWYgKCBtb2R1bGUuZXhwb3J0cykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gY29udGV4dFtuYW1lXTtcbiAgfVxufSkoXCJQcm9taXNlXCIsIHR5cGVvZiBjb21tb25qc0dsb2JhbCAhPSBcInVuZGVmaW5lZFwiID8gY29tbW9uanNHbG9iYWwgOiBjb21tb25qc0dsb2JhbCwgZnVuY3Rpb24gREVGKCkge1xuXG4gIHZhciBidWlsdEluUHJvcCxcbiAgICAgIGN5Y2xlLFxuICAgICAgc2NoZWR1bGluZ19xdWV1ZSxcbiAgICAgIFRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxcbiAgICAgIHRpbWVyID0gdHlwZW9mIHNldEltbWVkaWF0ZSAhPSBcInVuZGVmaW5lZFwiID8gZnVuY3Rpb24gdGltZXIoZm4pIHtcbiAgICByZXR1cm4gc2V0SW1tZWRpYXRlKGZuKTtcbiAgfSA6IHNldFRpbWVvdXQ7IC8vIGRhbW1pdCwgSUU4LlxuXG4gIHRyeSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCBcInhcIiwge30pO1xuXG4gICAgYnVpbHRJblByb3AgPSBmdW5jdGlvbiBidWlsdEluUHJvcChvYmosIG5hbWUsIHZhbCwgY29uZmlnKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgbmFtZSwge1xuICAgICAgICB2YWx1ZTogdmFsLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiBjb25maWcgIT09IGZhbHNlXG4gICAgICB9KTtcbiAgICB9O1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBidWlsdEluUHJvcCA9IGZ1bmN0aW9uIGJ1aWx0SW5Qcm9wKG9iaiwgbmFtZSwgdmFsKSB7XG4gICAgICBvYmpbbmFtZV0gPSB2YWw7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH07XG4gIH0gLy8gTm90ZTogdXNpbmcgYSBxdWV1ZSBpbnN0ZWFkIG9mIGFycmF5IGZvciBlZmZpY2llbmN5XG5cblxuICBzY2hlZHVsaW5nX3F1ZXVlID0gZnVuY3Rpb24gUXVldWUoKSB7XG4gICAgdmFyIGZpcnN0LCBsYXN0LCBpdGVtO1xuXG4gICAgZnVuY3Rpb24gSXRlbShmbiwgc2VsZikge1xuICAgICAgdGhpcy5mbiA9IGZuO1xuICAgICAgdGhpcy5zZWxmID0gc2VsZjtcbiAgICAgIHRoaXMubmV4dCA9IHZvaWQgMDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgYWRkOiBmdW5jdGlvbiBhZGQoZm4sIHNlbGYpIHtcbiAgICAgICAgaXRlbSA9IG5ldyBJdGVtKGZuLCBzZWxmKTtcblxuICAgICAgICBpZiAobGFzdCkge1xuICAgICAgICAgIGxhc3QubmV4dCA9IGl0ZW07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmlyc3QgPSBpdGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgbGFzdCA9IGl0ZW07XG4gICAgICAgIGl0ZW0gPSB2b2lkIDA7XG4gICAgICB9LFxuICAgICAgZHJhaW46IGZ1bmN0aW9uIGRyYWluKCkge1xuICAgICAgICB2YXIgZiA9IGZpcnN0O1xuICAgICAgICBmaXJzdCA9IGxhc3QgPSBjeWNsZSA9IHZvaWQgMDtcblxuICAgICAgICB3aGlsZSAoZikge1xuICAgICAgICAgIGYuZm4uY2FsbChmLnNlbGYpO1xuICAgICAgICAgIGYgPSBmLm5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9KCk7XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGUoZm4sIHNlbGYpIHtcbiAgICBzY2hlZHVsaW5nX3F1ZXVlLmFkZChmbiwgc2VsZik7XG5cbiAgICBpZiAoIWN5Y2xlKSB7XG4gICAgICBjeWNsZSA9IHRpbWVyKHNjaGVkdWxpbmdfcXVldWUuZHJhaW4pO1xuICAgIH1cbiAgfSAvLyBwcm9taXNlIGR1Y2sgdHlwaW5nXG5cblxuICBmdW5jdGlvbiBpc1RoZW5hYmxlKG8pIHtcbiAgICB2YXIgX3RoZW4sXG4gICAgICAgIG9fdHlwZSA9IHR5cGVvZiBvO1xuXG4gICAgaWYgKG8gIT0gbnVsbCAmJiAob190eXBlID09IFwib2JqZWN0XCIgfHwgb190eXBlID09IFwiZnVuY3Rpb25cIikpIHtcbiAgICAgIF90aGVuID0gby50aGVuO1xuICAgIH1cblxuICAgIHJldHVybiB0eXBlb2YgX3RoZW4gPT0gXCJmdW5jdGlvblwiID8gX3RoZW4gOiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vdGlmeSgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hhaW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIG5vdGlmeUlzb2xhdGVkKHRoaXMsIHRoaXMuc3RhdGUgPT09IDEgPyB0aGlzLmNoYWluW2ldLnN1Y2Nlc3MgOiB0aGlzLmNoYWluW2ldLmZhaWx1cmUsIHRoaXMuY2hhaW5baV0pO1xuICAgIH1cblxuICAgIHRoaXMuY2hhaW4ubGVuZ3RoID0gMDtcbiAgfSAvLyBOT1RFOiBUaGlzIGlzIGEgc2VwYXJhdGUgZnVuY3Rpb24gdG8gaXNvbGF0ZVxuICAvLyB0aGUgYHRyeS4uY2F0Y2hgIHNvIHRoYXQgb3RoZXIgY29kZSBjYW4gYmVcbiAgLy8gb3B0aW1pemVkIGJldHRlclxuXG5cbiAgZnVuY3Rpb24gbm90aWZ5SXNvbGF0ZWQoc2VsZiwgY2IsIGNoYWluKSB7XG4gICAgdmFyIHJldCwgX3RoZW47XG5cbiAgICB0cnkge1xuICAgICAgaWYgKGNiID09PSBmYWxzZSkge1xuICAgICAgICBjaGFpbi5yZWplY3Qoc2VsZi5tc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGNiID09PSB0cnVlKSB7XG4gICAgICAgICAgcmV0ID0gc2VsZi5tc2c7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0ID0gY2IuY2FsbCh2b2lkIDAsIHNlbGYubXNnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXQgPT09IGNoYWluLnByb21pc2UpIHtcbiAgICAgICAgICBjaGFpbi5yZWplY3QoVHlwZUVycm9yKFwiUHJvbWlzZS1jaGFpbiBjeWNsZVwiKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoX3RoZW4gPSBpc1RoZW5hYmxlKHJldCkpIHtcbiAgICAgICAgICBfdGhlbi5jYWxsKHJldCwgY2hhaW4ucmVzb2x2ZSwgY2hhaW4ucmVqZWN0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGFpbi5yZXNvbHZlKHJldCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNoYWluLnJlamVjdChlcnIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc29sdmUobXNnKSB7XG4gICAgdmFyIF90aGVuLFxuICAgICAgICBzZWxmID0gdGhpczsgLy8gYWxyZWFkeSB0cmlnZ2VyZWQ/XG5cblxuICAgIGlmIChzZWxmLnRyaWdnZXJlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNlbGYudHJpZ2dlcmVkID0gdHJ1ZTsgLy8gdW53cmFwXG5cbiAgICBpZiAoc2VsZi5kZWYpIHtcbiAgICAgIHNlbGYgPSBzZWxmLmRlZjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaWYgKF90aGVuID0gaXNUaGVuYWJsZShtc2cpKSB7XG4gICAgICAgIHNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgZGVmX3dyYXBwZXIgPSBuZXcgTWFrZURlZldyYXBwZXIoc2VsZik7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgX3RoZW4uY2FsbChtc2csIGZ1bmN0aW9uICRyZXNvbHZlJCgpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZS5hcHBseShkZWZfd3JhcHBlciwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICRyZWplY3QkKCkge1xuICAgICAgICAgICAgICByZWplY3QuYXBwbHkoZGVmX3dyYXBwZXIsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJlamVjdC5jYWxsKGRlZl93cmFwcGVyLCBlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLm1zZyA9IG1zZztcbiAgICAgICAgc2VsZi5zdGF0ZSA9IDE7XG5cbiAgICAgICAgaWYgKHNlbGYuY2hhaW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHNjaGVkdWxlKG5vdGlmeSwgc2VsZik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJlamVjdC5jYWxsKG5ldyBNYWtlRGVmV3JhcHBlcihzZWxmKSwgZXJyKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWplY3QobXNnKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzOyAvLyBhbHJlYWR5IHRyaWdnZXJlZD9cblxuICAgIGlmIChzZWxmLnRyaWdnZXJlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNlbGYudHJpZ2dlcmVkID0gdHJ1ZTsgLy8gdW53cmFwXG5cbiAgICBpZiAoc2VsZi5kZWYpIHtcbiAgICAgIHNlbGYgPSBzZWxmLmRlZjtcbiAgICB9XG5cbiAgICBzZWxmLm1zZyA9IG1zZztcbiAgICBzZWxmLnN0YXRlID0gMjtcblxuICAgIGlmIChzZWxmLmNoYWluLmxlbmd0aCA+IDApIHtcbiAgICAgIHNjaGVkdWxlKG5vdGlmeSwgc2VsZik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXRlcmF0ZVByb21pc2VzKENvbnN0cnVjdG9yLCBhcnIsIHJlc29sdmVyLCByZWplY3Rlcikge1xuICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGFyci5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAoZnVuY3Rpb24gSUlGRShpZHgpIHtcbiAgICAgICAgQ29uc3RydWN0b3IucmVzb2x2ZShhcnJbaWR4XSkudGhlbihmdW5jdGlvbiAkcmVzb2x2ZXIkKG1zZykge1xuICAgICAgICAgIHJlc29sdmVyKGlkeCwgbXNnKTtcbiAgICAgICAgfSwgcmVqZWN0ZXIpO1xuICAgICAgfSkoaWR4KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBNYWtlRGVmV3JhcHBlcihzZWxmKSB7XG4gICAgdGhpcy5kZWYgPSBzZWxmO1xuICAgIHRoaXMudHJpZ2dlcmVkID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBNYWtlRGVmKHNlbGYpIHtcbiAgICB0aGlzLnByb21pc2UgPSBzZWxmO1xuICAgIHRoaXMuc3RhdGUgPSAwO1xuICAgIHRoaXMudHJpZ2dlcmVkID0gZmFsc2U7XG4gICAgdGhpcy5jaGFpbiA9IFtdO1xuICAgIHRoaXMubXNnID0gdm9pZCAwO1xuICB9XG5cbiAgZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcikge1xuICAgIGlmICh0eXBlb2YgZXhlY3V0b3IgIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoXCJOb3QgYSBmdW5jdGlvblwiKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fX05QT19fICE9PSAwKSB7XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoXCJOb3QgYSBwcm9taXNlXCIpO1xuICAgIH0gLy8gaW5zdGFuY2Ugc2hhZG93aW5nIHRoZSBpbmhlcml0ZWQgXCJicmFuZFwiXG4gICAgLy8gdG8gc2lnbmFsIGFuIGFscmVhZHkgXCJpbml0aWFsaXplZFwiIHByb21pc2VcblxuXG4gICAgdGhpcy5fX05QT19fID0gMTtcbiAgICB2YXIgZGVmID0gbmV3IE1ha2VEZWYodGhpcyk7XG5cbiAgICB0aGlzW1widGhlblwiXSA9IGZ1bmN0aW9uIHRoZW4oc3VjY2VzcywgZmFpbHVyZSkge1xuICAgICAgdmFyIG8gPSB7XG4gICAgICAgIHN1Y2Nlc3M6IHR5cGVvZiBzdWNjZXNzID09IFwiZnVuY3Rpb25cIiA/IHN1Y2Nlc3MgOiB0cnVlLFxuICAgICAgICBmYWlsdXJlOiB0eXBlb2YgZmFpbHVyZSA9PSBcImZ1bmN0aW9uXCIgPyBmYWlsdXJlIDogZmFsc2VcbiAgICAgIH07IC8vIE5vdGU6IGB0aGVuKC4uKWAgaXRzZWxmIGNhbiBiZSBib3Jyb3dlZCB0byBiZSB1c2VkIGFnYWluc3RcbiAgICAgIC8vIGEgZGlmZmVyZW50IHByb21pc2UgY29uc3RydWN0b3IgZm9yIG1ha2luZyB0aGUgY2hhaW5lZCBwcm9taXNlLFxuICAgICAgLy8gYnkgc3Vic3RpdHV0aW5nIGEgZGlmZmVyZW50IGB0aGlzYCBiaW5kaW5nLlxuXG4gICAgICBvLnByb21pc2UgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihmdW5jdGlvbiBleHRyYWN0Q2hhaW4ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVzb2x2ZSAhPSBcImZ1bmN0aW9uXCIgfHwgdHlwZW9mIHJlamVjdCAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJOb3QgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG8ucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgIG8ucmVqZWN0ID0gcmVqZWN0O1xuICAgICAgfSk7XG4gICAgICBkZWYuY2hhaW4ucHVzaChvKTtcblxuICAgICAgaWYgKGRlZi5zdGF0ZSAhPT0gMCkge1xuICAgICAgICBzY2hlZHVsZShub3RpZnksIGRlZik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvLnByb21pc2U7XG4gICAgfTtcblxuICAgIHRoaXNbXCJjYXRjaFwiXSA9IGZ1bmN0aW9uICRjYXRjaCQoZmFpbHVyZSkge1xuICAgICAgcmV0dXJuIHRoaXMudGhlbih2b2lkIDAsIGZhaWx1cmUpO1xuICAgIH07XG5cbiAgICB0cnkge1xuICAgICAgZXhlY3V0b3IuY2FsbCh2b2lkIDAsIGZ1bmN0aW9uIHB1YmxpY1Jlc29sdmUobXNnKSB7XG4gICAgICAgIHJlc29sdmUuY2FsbChkZWYsIG1zZyk7XG4gICAgICB9LCBmdW5jdGlvbiBwdWJsaWNSZWplY3QobXNnKSB7XG4gICAgICAgIHJlamVjdC5jYWxsKGRlZiwgbXNnKTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVqZWN0LmNhbGwoZGVmLCBlcnIpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBQcm9taXNlUHJvdG90eXBlID0gYnVpbHRJblByb3Aoe30sIFwiY29uc3RydWN0b3JcIiwgUHJvbWlzZSxcbiAgLypjb25maWd1cmFibGU9Ki9cbiAgZmFsc2UpOyAvLyBOb3RlOiBBbmRyb2lkIDQgY2Fubm90IHVzZSBgT2JqZWN0LmRlZmluZVByb3BlcnR5KC4uKWAgaGVyZVxuXG4gIFByb21pc2UucHJvdG90eXBlID0gUHJvbWlzZVByb3RvdHlwZTsgLy8gYnVpbHQtaW4gXCJicmFuZFwiIHRvIHNpZ25hbCBhbiBcInVuaW5pdGlhbGl6ZWRcIiBwcm9taXNlXG5cbiAgYnVpbHRJblByb3AoUHJvbWlzZVByb3RvdHlwZSwgXCJfX05QT19fXCIsIDAsXG4gIC8qY29uZmlndXJhYmxlPSovXG4gIGZhbHNlKTtcbiAgYnVpbHRJblByb3AoUHJvbWlzZSwgXCJyZXNvbHZlXCIsIGZ1bmN0aW9uIFByb21pc2UkcmVzb2x2ZShtc2cpIHtcbiAgICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzOyAvLyBzcGVjIG1hbmRhdGVkIGNoZWNrc1xuICAgIC8vIG5vdGU6IGJlc3QgXCJpc1Byb21pc2VcIiBjaGVjayB0aGF0J3MgcHJhY3RpY2FsIGZvciBub3dcblxuICAgIGlmIChtc2cgJiYgdHlwZW9mIG1zZyA9PSBcIm9iamVjdFwiICYmIG1zZy5fX05QT19fID09PSAxKSB7XG4gICAgICByZXR1cm4gbXNnO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IoZnVuY3Rpb24gZXhlY3V0b3IocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBpZiAodHlwZW9mIHJlc29sdmUgIT0gXCJmdW5jdGlvblwiIHx8IHR5cGVvZiByZWplY3QgIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IFR5cGVFcnJvcihcIk5vdCBhIGZ1bmN0aW9uXCIpO1xuICAgICAgfVxuXG4gICAgICByZXNvbHZlKG1zZyk7XG4gICAgfSk7XG4gIH0pO1xuICBidWlsdEluUHJvcChQcm9taXNlLCBcInJlamVjdFwiLCBmdW5jdGlvbiBQcm9taXNlJHJlamVjdChtc2cpIHtcbiAgICByZXR1cm4gbmV3IHRoaXMoZnVuY3Rpb24gZXhlY3V0b3IocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBpZiAodHlwZW9mIHJlc29sdmUgIT0gXCJmdW5jdGlvblwiIHx8IHR5cGVvZiByZWplY3QgIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IFR5cGVFcnJvcihcIk5vdCBhIGZ1bmN0aW9uXCIpO1xuICAgICAgfVxuXG4gICAgICByZWplY3QobXNnKTtcbiAgICB9KTtcbiAgfSk7XG4gIGJ1aWx0SW5Qcm9wKFByb21pc2UsIFwiYWxsXCIsIGZ1bmN0aW9uIFByb21pc2UkYWxsKGFycikge1xuICAgIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7IC8vIHNwZWMgbWFuZGF0ZWQgY2hlY2tzXG5cbiAgICBpZiAoVG9TdHJpbmcuY2FsbChhcnIpICE9IFwiW29iamVjdCBBcnJheV1cIikge1xuICAgICAgcmV0dXJuIENvbnN0cnVjdG9yLnJlamVjdChUeXBlRXJyb3IoXCJOb3QgYW4gYXJyYXlcIikpO1xuICAgIH1cblxuICAgIGlmIChhcnIubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gQ29uc3RydWN0b3IucmVzb2x2ZShbXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiBleGVjdXRvcihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVzb2x2ZSAhPSBcImZ1bmN0aW9uXCIgfHwgdHlwZW9mIHJlamVjdCAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiTm90IGEgZnVuY3Rpb25cIik7XG4gICAgICB9XG5cbiAgICAgIHZhciBsZW4gPSBhcnIubGVuZ3RoLFxuICAgICAgICAgIG1zZ3MgPSBBcnJheShsZW4pLFxuICAgICAgICAgIGNvdW50ID0gMDtcbiAgICAgIGl0ZXJhdGVQcm9taXNlcyhDb25zdHJ1Y3RvciwgYXJyLCBmdW5jdGlvbiByZXNvbHZlcihpZHgsIG1zZykge1xuICAgICAgICBtc2dzW2lkeF0gPSBtc2c7XG5cbiAgICAgICAgaWYgKCsrY291bnQgPT09IGxlbikge1xuICAgICAgICAgIHJlc29sdmUobXNncyk7XG4gICAgICAgIH1cbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH0pO1xuICBidWlsdEluUHJvcChQcm9taXNlLCBcInJhY2VcIiwgZnVuY3Rpb24gUHJvbWlzZSRyYWNlKGFycikge1xuICAgIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7IC8vIHNwZWMgbWFuZGF0ZWQgY2hlY2tzXG5cbiAgICBpZiAoVG9TdHJpbmcuY2FsbChhcnIpICE9IFwiW29iamVjdCBBcnJheV1cIikge1xuICAgICAgcmV0dXJuIENvbnN0cnVjdG9yLnJlamVjdChUeXBlRXJyb3IoXCJOb3QgYW4gYXJyYXlcIikpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IoZnVuY3Rpb24gZXhlY3V0b3IocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBpZiAodHlwZW9mIHJlc29sdmUgIT0gXCJmdW5jdGlvblwiIHx8IHR5cGVvZiByZWplY3QgIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IFR5cGVFcnJvcihcIk5vdCBhIGZ1bmN0aW9uXCIpO1xuICAgICAgfVxuXG4gICAgICBpdGVyYXRlUHJvbWlzZXMoQ29uc3RydWN0b3IsIGFyciwgZnVuY3Rpb24gcmVzb2x2ZXIoaWR4LCBtc2cpIHtcbiAgICAgICAgcmVzb2x2ZShtc2cpO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBQcm9taXNlO1xufSk7XG59KTtcblxuLyoqXG4gKiBAbW9kdWxlIGxpYi9jYWxsYmFja3NcbiAqL1xudmFyIGNhbGxiYWNrTWFwID0gbmV3IFdlYWtNYXAoKTtcbi8qKlxuICogU3RvcmUgYSBjYWxsYmFjayBmb3IgYSBtZXRob2Qgb3IgZXZlbnQgZm9yIGEgcGxheWVyLlxuICpcbiAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXIgVGhlIHBsYXllciBvYmplY3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbWV0aG9kIG9yIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0geyhmdW5jdGlvbih0aGlzOlBsYXllciwgKik6IHZvaWR8e3Jlc29sdmU6IGZ1bmN0aW9uLCByZWplY3Q6IGZ1bmN0aW9ufSl9IGNhbGxiYWNrXG4gKiAgICAgICAgVGhlIGNhbGxiYWNrIHRvIGNhbGwgb3IgYW4gb2JqZWN0IHdpdGggcmVzb2x2ZSBhbmQgcmVqZWN0IGZ1bmN0aW9ucyBmb3IgYSBwcm9taXNlLlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuXG5mdW5jdGlvbiBzdG9yZUNhbGxiYWNrKHBsYXllciwgbmFtZSwgY2FsbGJhY2spIHtcbiAgdmFyIHBsYXllckNhbGxiYWNrcyA9IGNhbGxiYWNrTWFwLmdldChwbGF5ZXIuZWxlbWVudCkgfHwge307XG5cbiAgaWYgKCEobmFtZSBpbiBwbGF5ZXJDYWxsYmFja3MpKSB7XG4gICAgcGxheWVyQ2FsbGJhY2tzW25hbWVdID0gW107XG4gIH1cblxuICBwbGF5ZXJDYWxsYmFja3NbbmFtZV0ucHVzaChjYWxsYmFjayk7XG4gIGNhbGxiYWNrTWFwLnNldChwbGF5ZXIuZWxlbWVudCwgcGxheWVyQ2FsbGJhY2tzKTtcbn1cbi8qKlxuICogR2V0IHRoZSBjYWxsYmFja3MgZm9yIGEgcGxheWVyIGFuZCBldmVudCBvciBtZXRob2QuXG4gKlxuICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllciBUaGUgcGxheWVyIG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBtZXRob2Qgb3IgZXZlbnQgbmFtZVxuICogQHJldHVybiB7ZnVuY3Rpb25bXX1cbiAqL1xuXG5mdW5jdGlvbiBnZXRDYWxsYmFja3MocGxheWVyLCBuYW1lKSB7XG4gIHZhciBwbGF5ZXJDYWxsYmFja3MgPSBjYWxsYmFja01hcC5nZXQocGxheWVyLmVsZW1lbnQpIHx8IHt9O1xuICByZXR1cm4gcGxheWVyQ2FsbGJhY2tzW25hbWVdIHx8IFtdO1xufVxuLyoqXG4gKiBSZW1vdmUgYSBzdG9yZWQgY2FsbGJhY2sgZm9yIGEgbWV0aG9kIG9yIGV2ZW50IGZvciBhIHBsYXllci5cbiAqXG4gKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyIFRoZSBwbGF5ZXIgb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG1ldGhvZCBvciBldmVudCBuYW1lXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBzcGVjaWZpYyBjYWxsYmFjayB0byByZW1vdmUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBXYXMgdGhpcyB0aGUgbGFzdCBjYWxsYmFjaz9cbiAqL1xuXG5mdW5jdGlvbiByZW1vdmVDYWxsYmFjayhwbGF5ZXIsIG5hbWUsIGNhbGxiYWNrKSB7XG4gIHZhciBwbGF5ZXJDYWxsYmFja3MgPSBjYWxsYmFja01hcC5nZXQocGxheWVyLmVsZW1lbnQpIHx8IHt9O1xuXG4gIGlmICghcGxheWVyQ2FsbGJhY2tzW25hbWVdKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8gSWYgbm8gY2FsbGJhY2sgaXMgcGFzc2VkLCByZW1vdmUgYWxsIGNhbGxiYWNrcyBmb3IgdGhlIGV2ZW50XG5cblxuICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgcGxheWVyQ2FsbGJhY2tzW25hbWVdID0gW107XG4gICAgY2FsbGJhY2tNYXAuc2V0KHBsYXllci5lbGVtZW50LCBwbGF5ZXJDYWxsYmFja3MpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdmFyIGluZGV4ID0gcGxheWVyQ2FsbGJhY2tzW25hbWVdLmluZGV4T2YoY2FsbGJhY2spO1xuXG4gIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICBwbGF5ZXJDYWxsYmFja3NbbmFtZV0uc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxuXG4gIGNhbGxiYWNrTWFwLnNldChwbGF5ZXIuZWxlbWVudCwgcGxheWVyQ2FsbGJhY2tzKTtcbiAgcmV0dXJuIHBsYXllckNhbGxiYWNrc1tuYW1lXSAmJiBwbGF5ZXJDYWxsYmFja3NbbmFtZV0ubGVuZ3RoID09PSAwO1xufVxuLyoqXG4gKiBSZXR1cm4gdGhlIGZpcnN0IHN0b3JlZCBjYWxsYmFjayBmb3IgYSBwbGF5ZXIgYW5kIGV2ZW50IG9yIG1ldGhvZC5cbiAqXG4gKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyIFRoZSBwbGF5ZXIgb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG1ldGhvZCBvciBldmVudCBuYW1lLlxuICogQHJldHVybiB7ZnVuY3Rpb259IFRoZSBjYWxsYmFjaywgb3IgZmFsc2UgaWYgdGhlcmUgd2VyZSBub25lXG4gKi9cblxuZnVuY3Rpb24gc2hpZnRDYWxsYmFja3MocGxheWVyLCBuYW1lKSB7XG4gIHZhciBwbGF5ZXJDYWxsYmFja3MgPSBnZXRDYWxsYmFja3MocGxheWVyLCBuYW1lKTtcblxuICBpZiAocGxheWVyQ2FsbGJhY2tzLmxlbmd0aCA8IDEpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgY2FsbGJhY2sgPSBwbGF5ZXJDYWxsYmFja3Muc2hpZnQoKTtcbiAgcmVtb3ZlQ2FsbGJhY2socGxheWVyLCBuYW1lLCBjYWxsYmFjayk7XG4gIHJldHVybiBjYWxsYmFjaztcbn1cbi8qKlxuICogTW92ZSBjYWxsYmFja3MgYXNzb2NpYXRlZCB3aXRoIGFuIGVsZW1lbnQgdG8gYW5vdGhlciBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG9sZEVsZW1lbnQgVGhlIG9sZCBlbGVtZW50LlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbmV3RWxlbWVudCBUaGUgbmV3IGVsZW1lbnQuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5cbmZ1bmN0aW9uIHN3YXBDYWxsYmFja3Mob2xkRWxlbWVudCwgbmV3RWxlbWVudCkge1xuICB2YXIgcGxheWVyQ2FsbGJhY2tzID0gY2FsbGJhY2tNYXAuZ2V0KG9sZEVsZW1lbnQpO1xuICBjYWxsYmFja01hcC5zZXQobmV3RWxlbWVudCwgcGxheWVyQ2FsbGJhY2tzKTtcbiAgY2FsbGJhY2tNYXAuZGVsZXRlKG9sZEVsZW1lbnQpO1xufVxuXG4vKipcbiAqIEBtb2R1bGUgbGliL3Bvc3RtZXNzYWdlXG4gKi9cbi8qKlxuICogUGFyc2UgYSBtZXNzYWdlIHJlY2VpdmVkIGZyb20gcG9zdE1lc3NhZ2UuXG4gKlxuICogQHBhcmFtIHsqfSBkYXRhIFRoZSBkYXRhIHJlY2VpdmVkIGZyb20gcG9zdE1lc3NhZ2UuXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cblxuZnVuY3Rpb24gcGFyc2VNZXNzYWdlRGF0YShkYXRhKSB7XG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICB0cnkge1xuICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIElmIHRoZSBtZXNzYWdlIGNhbm5vdCBiZSBwYXJzZWQsIHRocm93IHRoZSBlcnJvciBhcyBhIHdhcm5pbmdcbiAgICAgIGNvbnNvbGUud2FybihlcnJvcik7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG4vKipcbiAqIFBvc3QgYSBtZXNzYWdlIHRvIHRoZSBzcGVjaWZpZWQgdGFyZ2V0LlxuICpcbiAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXIgVGhlIHBsYXllciBvYmplY3QgdG8gdXNlLlxuICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBUaGUgQVBJIG1ldGhvZCB0byBjYWxsLlxuICogQHBhcmFtIHtvYmplY3R9IHBhcmFtcyBUaGUgcGFyYW1ldGVycyB0byBzZW5kIHRvIHRoZSBwbGF5ZXIuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5cbmZ1bmN0aW9uIHBvc3RNZXNzYWdlKHBsYXllciwgbWV0aG9kLCBwYXJhbXMpIHtcbiAgaWYgKCFwbGF5ZXIuZWxlbWVudC5jb250ZW50V2luZG93IHx8ICFwbGF5ZXIuZWxlbWVudC5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIG1lc3NhZ2UgPSB7XG4gICAgbWV0aG9kOiBtZXRob2RcbiAgfTtcblxuICBpZiAocGFyYW1zICE9PSB1bmRlZmluZWQpIHtcbiAgICBtZXNzYWdlLnZhbHVlID0gcGFyYW1zO1xuICB9IC8vIElFIDggYW5kIDkgZG8gbm90IHN1cHBvcnQgcGFzc2luZyBtZXNzYWdlcywgc28gc3RyaW5naWZ5IHRoZW1cblxuXG4gIHZhciBpZVZlcnNpb24gPSBwYXJzZUZsb2F0KG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9eLiptc2llIChcXGQrKS4qJC8sICckMScpKTtcblxuICBpZiAoaWVWZXJzaW9uID49IDggJiYgaWVWZXJzaW9uIDwgMTApIHtcbiAgICBtZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkobWVzc2FnZSk7XG4gIH1cblxuICBwbGF5ZXIuZWxlbWVudC5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKG1lc3NhZ2UsIHBsYXllci5vcmlnaW4pO1xufVxuLyoqXG4gKiBQYXJzZSB0aGUgZGF0YSByZWNlaXZlZCBmcm9tIGEgbWVzc2FnZSBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyIFRoZSBwbGF5ZXIgdGhhdCByZWNlaXZlZCB0aGUgbWVzc2FnZS5cbiAqIEBwYXJhbSB7KE9iamVjdHxzdHJpbmcpfSBkYXRhIFRoZSBtZXNzYWdlIGRhdGEuIFN0cmluZ3Mgd2lsbCBiZSBwYXJzZWQgaW50byBKU09OLlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuXG5mdW5jdGlvbiBwcm9jZXNzRGF0YShwbGF5ZXIsIGRhdGEpIHtcbiAgZGF0YSA9IHBhcnNlTWVzc2FnZURhdGEoZGF0YSk7XG4gIHZhciBjYWxsYmFja3MgPSBbXTtcbiAgdmFyIHBhcmFtO1xuXG4gIGlmIChkYXRhLmV2ZW50KSB7XG4gICAgaWYgKGRhdGEuZXZlbnQgPT09ICdlcnJvcicpIHtcbiAgICAgIHZhciBwcm9taXNlcyA9IGdldENhbGxiYWNrcyhwbGF5ZXIsIGRhdGEuZGF0YS5tZXRob2QpO1xuICAgICAgcHJvbWlzZXMuZm9yRWFjaChmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoZGF0YS5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICBlcnJvci5uYW1lID0gZGF0YS5kYXRhLm5hbWU7XG4gICAgICAgIHByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgcmVtb3ZlQ2FsbGJhY2socGxheWVyLCBkYXRhLmRhdGEubWV0aG9kLCBwcm9taXNlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNhbGxiYWNrcyA9IGdldENhbGxiYWNrcyhwbGF5ZXIsIFwiZXZlbnQ6XCIuY29uY2F0KGRhdGEuZXZlbnQpKTtcbiAgICBwYXJhbSA9IGRhdGEuZGF0YTtcbiAgfSBlbHNlIGlmIChkYXRhLm1ldGhvZCkge1xuICAgIHZhciBjYWxsYmFjayA9IHNoaWZ0Q2FsbGJhY2tzKHBsYXllciwgZGF0YS5tZXRob2QpO1xuXG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICBwYXJhbSA9IGRhdGEudmFsdWU7XG4gICAgfVxuICB9XG5cbiAgY2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbChwbGF5ZXIsIHBhcmFtKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjYWxsYmFjay5yZXNvbHZlKHBhcmFtKTtcbiAgICB9IGNhdGNoIChlKSB7Ly8gZW1wdHlcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIEBtb2R1bGUgbGliL2VtYmVkXG4gKi9cbnZhciBvRW1iZWRQYXJhbWV0ZXJzID0gWydhdXRvcGF1c2UnLCAnYXV0b3BsYXknLCAnYmFja2dyb3VuZCcsICdieWxpbmUnLCAnY29sb3InLCAnY29udHJvbHMnLCAnZG50JywgJ2hlaWdodCcsICdpZCcsICdpbnRlcmFjdGl2ZV9wYXJhbXMnLCAna2V5Ym9hcmQnLCAnbG9vcCcsICdtYXhoZWlnaHQnLCAnbWF4d2lkdGgnLCAnbXV0ZWQnLCAncGxheXNpbmxpbmUnLCAncG9ydHJhaXQnLCAncmVzcG9uc2l2ZScsICdzcGVlZCcsICd0ZXh0dHJhY2snLCAndGl0bGUnLCAndHJhbnNwYXJlbnQnLCAndXJsJywgJ3dpZHRoJ107XG4vKipcbiAqIEdldCB0aGUgJ2RhdGEtdmltZW8nLXByZWZpeGVkIGF0dHJpYnV0ZXMgZnJvbSBhbiBlbGVtZW50IGFzIGFuIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50LlxuICogQHBhcmFtIHtPYmplY3R9IFtkZWZhdWx0cz17fV0gVGhlIGRlZmF1bHQgdmFsdWVzIHRvIHVzZS5cbiAqIEByZXR1cm4ge09iamVjdDxzdHJpbmcsIHN0cmluZz59XG4gKi9cblxuZnVuY3Rpb24gZ2V0T0VtYmVkUGFyYW1ldGVycyhlbGVtZW50KSB7XG4gIHZhciBkZWZhdWx0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIHJldHVybiBvRW1iZWRQYXJhbWV0ZXJzLnJlZHVjZShmdW5jdGlvbiAocGFyYW1zLCBwYXJhbSkge1xuICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS12aW1lby1cIi5jb25jYXQocGFyYW0pKTtcblxuICAgIGlmICh2YWx1ZSB8fCB2YWx1ZSA9PT0gJycpIHtcbiAgICAgIHBhcmFtc1twYXJhbV0gPSB2YWx1ZSA9PT0gJycgPyAxIDogdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmFtcztcbiAgfSwgZGVmYXVsdHMpO1xufVxuLyoqXG4gKiBDcmVhdGUgYW4gZW1iZWQgZnJvbSBvRW1iZWQgZGF0YSBpbnNpZGUgYW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gZGF0YSBUaGUgb0VtYmVkIGRhdGEuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHB1dCB0aGUgaWZyYW1lIGluLlxuICogQHJldHVybiB7SFRNTElGcmFtZUVsZW1lbnR9IFRoZSBpZnJhbWUgZW1iZWQuXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlRW1iZWQoX3JlZiwgZWxlbWVudCkge1xuICB2YXIgaHRtbCA9IF9yZWYuaHRtbDtcblxuICBpZiAoIWVsZW1lbnQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBbiBlbGVtZW50IG11c3QgYmUgcHJvdmlkZWQnKTtcbiAgfVxuXG4gIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS12aW1lby1pbml0aWFsaXplZCcpICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQucXVlcnlTZWxlY3RvcignaWZyYW1lJyk7XG4gIH1cblxuICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRpdi5pbm5lckhUTUwgPSBodG1sO1xuICBlbGVtZW50LmFwcGVuZENoaWxkKGRpdi5maXJzdENoaWxkKTtcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmltZW8taW5pdGlhbGl6ZWQnLCAndHJ1ZScpO1xuICByZXR1cm4gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpZnJhbWUnKTtcbn1cbi8qKlxuICogTWFrZSBhbiBvRW1iZWQgY2FsbCBmb3IgdGhlIHNwZWNpZmllZCBVUkwuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHZpZGVvVXJsIFRoZSB2aW1lby5jb20gdXJsIGZvciB0aGUgdmlkZW8uXG4gKiBAcGFyYW0ge09iamVjdH0gW3BhcmFtc10gUGFyYW1ldGVycyB0byBwYXNzIHRvIG9FbWJlZC5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQuXG4gKiBAcmV0dXJuIHtQcm9taXNlfVxuICovXG5cbmZ1bmN0aW9uIGdldE9FbWJlZERhdGEodmlkZW9VcmwpIHtcbiAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIHZhciBlbGVtZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaWYgKCFpc1ZpbWVvVXJsKHZpZGVvVXJsKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlxcdTIwMUNcIi5jb25jYXQodmlkZW9VcmwsIFwiXFx1MjAxRCBpcyBub3QgYSB2aW1lby5jb20gdXJsLlwiKSk7XG4gICAgfVxuXG4gICAgdmFyIHVybCA9IFwiaHR0cHM6Ly92aW1lby5jb20vYXBpL29lbWJlZC5qc29uP3VybD1cIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHZpZGVvVXJsKSk7XG5cbiAgICBmb3IgKHZhciBwYXJhbSBpbiBwYXJhbXMpIHtcbiAgICAgIGlmIChwYXJhbXMuaGFzT3duUHJvcGVydHkocGFyYW0pKSB7XG4gICAgICAgIHVybCArPSBcIiZcIi5jb25jYXQocGFyYW0sIFwiPVwiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtc1twYXJhbV0pKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgeGhyID0gJ1hEb21haW5SZXF1ZXN0JyBpbiB3aW5kb3cgPyBuZXcgWERvbWFpblJlcXVlc3QoKSA6IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHhoci5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xuXG4gICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh4aHIuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIlxcdTIwMUNcIi5jb25jYXQodmlkZW9VcmwsIFwiXFx1MjAxRCB3YXMgbm90IGZvdW5kLlwiKSkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh4aHIuc3RhdHVzID09PSA0MDMpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIlxcdTIwMUNcIi5jb25jYXQodmlkZW9VcmwsIFwiXFx1MjAxRCBpcyBub3QgZW1iZWRkYWJsZS5cIikpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7IC8vIENoZWNrIGFwaSByZXNwb25zZSBmb3IgNDAzIG9uIG9lbWJlZFxuXG4gICAgICAgIGlmIChqc29uLmRvbWFpbl9zdGF0dXNfY29kZSA9PT0gNDAzKSB7XG4gICAgICAgICAgLy8gV2Ugc3RpbGwgd2FudCB0byBjcmVhdGUgdGhlIGVtYmVkIHRvIGdpdmUgdXNlcnMgdmlzdWFsIGZlZWRiYWNrXG4gICAgICAgICAgY3JlYXRlRW1iZWQoanNvbiwgZWxlbWVudCk7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIlxcdTIwMUNcIi5jb25jYXQodmlkZW9VcmwsIFwiXFx1MjAxRCBpcyBub3QgZW1iZWRkYWJsZS5cIikpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZXNvbHZlKGpzb24pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RhdHVzID0geGhyLnN0YXR1cyA/IFwiIChcIi5jb25jYXQoeGhyLnN0YXR1cywgXCIpXCIpIDogJyc7XG4gICAgICByZWplY3QobmV3IEVycm9yKFwiVGhlcmUgd2FzIGFuIGVycm9yIGZldGNoaW5nIHRoZSBlbWJlZCBjb2RlIGZyb20gVmltZW9cIi5jb25jYXQoc3RhdHVzLCBcIi5cIikpKTtcbiAgICB9O1xuXG4gICAgeGhyLnNlbmQoKTtcbiAgfSk7XG59XG4vKipcbiAqIEluaXRpYWxpemUgYWxsIGVtYmVkcyB3aXRoaW4gYSBzcGVjaWZpYyBlbGVtZW50XG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW3BhcmVudD1kb2N1bWVudF0gVGhlIHBhcmVudCBlbGVtZW50LlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuXG5mdW5jdGlvbiBpbml0aWFsaXplRW1iZWRzKCkge1xuICB2YXIgcGFyZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBkb2N1bWVudDtcbiAgdmFyIGVsZW1lbnRzID0gW10uc2xpY2UuY2FsbChwYXJlbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdmltZW8taWRdLCBbZGF0YS12aW1lby11cmxdJykpO1xuXG4gIHZhciBoYW5kbGVFcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKGVycm9yKSB7XG4gICAgaWYgKCdjb25zb2xlJyBpbiB3aW5kb3cgJiYgY29uc29sZS5lcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIlRoZXJlIHdhcyBhbiBlcnJvciBjcmVhdGluZyBhbiBlbWJlZDogXCIuY29uY2F0KGVycm9yKSk7XG4gICAgfVxuICB9O1xuXG4gIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICB0cnkge1xuICAgICAgLy8gU2tpcCBhbnkgdGhhdCBoYXZlIGRhdGEtdmltZW8tZGVmZXJcbiAgICAgIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS12aW1lby1kZWZlcicpICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhcmFtcyA9IGdldE9FbWJlZFBhcmFtZXRlcnMoZWxlbWVudCk7XG4gICAgICB2YXIgdXJsID0gZ2V0VmltZW9VcmwocGFyYW1zKTtcbiAgICAgIGdldE9FbWJlZERhdGEodXJsLCBwYXJhbXMsIGVsZW1lbnQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVtYmVkKGRhdGEsIGVsZW1lbnQpO1xuICAgICAgfSkuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBoYW5kbGVFcnJvcihlcnJvcik7XG4gICAgfVxuICB9KTtcbn1cbi8qKlxuICogUmVzaXplIGVtYmVkcyB3aGVuIG1lc3NhZ2VkIGJ5IHRoZSBwbGF5ZXIuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW3BhcmVudD1kb2N1bWVudF0gVGhlIHBhcmVudCBlbGVtZW50LlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuXG5mdW5jdGlvbiByZXNpemVFbWJlZHMoKSB7XG4gIHZhciBwYXJlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGRvY3VtZW50O1xuXG4gIC8vIFByZXZlbnQgZXhlY3V0aW9uIGlmIHVzZXJzIGluY2x1ZGUgdGhlIHBsYXllci5qcyBzY3JpcHQgbXVsdGlwbGUgdGltZXMuXG4gIGlmICh3aW5kb3cuVmltZW9QbGF5ZXJSZXNpemVFbWJlZHNfKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgd2luZG93LlZpbWVvUGxheWVyUmVzaXplRW1iZWRzXyA9IHRydWU7XG5cbiAgdmFyIG9uTWVzc2FnZSA9IGZ1bmN0aW9uIG9uTWVzc2FnZShldmVudCkge1xuICAgIGlmICghaXNWaW1lb1VybChldmVudC5vcmlnaW4pKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyAnc3BhY2VjaGFuZ2UnIGlzIGZpcmVkIG9ubHkgb24gZW1iZWRzIHdpdGggY2FyZHNcblxuXG4gICAgaWYgKCFldmVudC5kYXRhIHx8IGV2ZW50LmRhdGEuZXZlbnQgIT09ICdzcGFjZWNoYW5nZScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaWZyYW1lcyA9IHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKCdpZnJhbWUnKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWZyYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGlmcmFtZXNbaV0uY29udGVudFdpbmRvdyAhPT0gZXZlbnQuc291cmNlKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSAvLyBDaGFuZ2UgcGFkZGluZy1ib3R0b20gb2YgdGhlIGVuY2xvc2luZyBkaXYgdG8gYWNjb21tb2RhdGVcbiAgICAgIC8vIGNhcmQgY2Fyb3VzZWwgd2l0aG91dCBkaXN0b3J0aW5nIGFzcGVjdCByYXRpb1xuXG5cbiAgICAgIHZhciBzcGFjZSA9IGlmcmFtZXNbaV0ucGFyZW50RWxlbWVudDtcbiAgICAgIHNwYWNlLnN0eWxlLnBhZGRpbmdCb3R0b20gPSBcIlwiLmNvbmNhdChldmVudC5kYXRhLmRhdGFbMF0uYm90dG9tLCBcInB4XCIpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgb25NZXNzYWdlKTtcbn1cbi8qKlxuICogQWRkIGNoYXB0ZXJzIHRvIGV4aXN0aW5nIG1ldGFkYXRhIGZvciBHb29nbGUgU0VPXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW3BhcmVudD1kb2N1bWVudF0gVGhlIHBhcmVudCBlbGVtZW50LlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuXG5mdW5jdGlvbiBpbml0QXBwZW5kVmlkZW9NZXRhZGF0YSgpIHtcbiAgdmFyIHBhcmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZG9jdW1lbnQ7XG5cbiAgLy8gIFByZXZlbnQgZXhlY3V0aW9uIGlmIHVzZXJzIGluY2x1ZGUgdGhlIHBsYXllci5qcyBzY3JpcHQgbXVsdGlwbGUgdGltZXMuXG4gIGlmICh3aW5kb3cuVmltZW9TZW9NZXRhZGF0YUFwcGVuZGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgd2luZG93LlZpbWVvU2VvTWV0YWRhdGFBcHBlbmRlZCA9IHRydWU7XG5cbiAgdmFyIG9uTWVzc2FnZSA9IGZ1bmN0aW9uIG9uTWVzc2FnZShldmVudCkge1xuICAgIGlmICghaXNWaW1lb1VybChldmVudC5vcmlnaW4pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGRhdGEgPSBwYXJzZU1lc3NhZ2VEYXRhKGV2ZW50LmRhdGEpO1xuXG4gICAgaWYgKCFkYXRhIHx8IGRhdGEuZXZlbnQgIT09ICdyZWFkeScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaWZyYW1lcyA9IHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKCdpZnJhbWUnKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWZyYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlmcmFtZSA9IGlmcmFtZXNbaV07IC8vIEluaXRpYXRlIGFwcGVuZFZpZGVvTWV0YWRhdGEgaWYgaWZyYW1lIGlzIGEgVmltZW8gZW1iZWRcblxuICAgICAgdmFyIGlzVmFsaWRNZXNzYWdlU291cmNlID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cgPT09IGV2ZW50LnNvdXJjZTtcblxuICAgICAgaWYgKGlzVmltZW9FbWJlZChpZnJhbWUuc3JjKSAmJiBpc1ZhbGlkTWVzc2FnZVNvdXJjZSkge1xuICAgICAgICB2YXIgcGxheWVyID0gbmV3IFBsYXllcihpZnJhbWUpO1xuICAgICAgICBwbGF5ZXIuY2FsbE1ldGhvZCgnYXBwZW5kVmlkZW9NZXRhZGF0YScsIHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBvbk1lc3NhZ2UpO1xufVxuXG4vKiBNSVQgTGljZW5zZVxuXG5Db3B5cmlnaHQgKGMpIFNpbmRyZSBTb3JodXMgPHNpbmRyZXNvcmh1c0BnbWFpbC5jb20+IChzaW5kcmVzb3JodXMuY29tKVxuXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5UZXJtcyAqL1xuZnVuY3Rpb24gaW5pdGlhbGl6ZVNjcmVlbmZ1bGwoKSB7XG4gIHZhciBmbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdmFsO1xuICAgIHZhciBmbk1hcCA9IFtbJ3JlcXVlc3RGdWxsc2NyZWVuJywgJ2V4aXRGdWxsc2NyZWVuJywgJ2Z1bGxzY3JlZW5FbGVtZW50JywgJ2Z1bGxzY3JlZW5FbmFibGVkJywgJ2Z1bGxzY3JlZW5jaGFuZ2UnLCAnZnVsbHNjcmVlbmVycm9yJ10sIC8vIE5ldyBXZWJLaXRcbiAgICBbJ3dlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJywgJ3dlYmtpdEV4aXRGdWxsc2NyZWVuJywgJ3dlYmtpdEZ1bGxzY3JlZW5FbGVtZW50JywgJ3dlYmtpdEZ1bGxzY3JlZW5FbmFibGVkJywgJ3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnLCAnd2Via2l0ZnVsbHNjcmVlbmVycm9yJ10sIC8vIE9sZCBXZWJLaXRcbiAgICBbJ3dlYmtpdFJlcXVlc3RGdWxsU2NyZWVuJywgJ3dlYmtpdENhbmNlbEZ1bGxTY3JlZW4nLCAnd2Via2l0Q3VycmVudEZ1bGxTY3JlZW5FbGVtZW50JywgJ3dlYmtpdENhbmNlbEZ1bGxTY3JlZW4nLCAnd2Via2l0ZnVsbHNjcmVlbmNoYW5nZScsICd3ZWJraXRmdWxsc2NyZWVuZXJyb3InXSwgWydtb3pSZXF1ZXN0RnVsbFNjcmVlbicsICdtb3pDYW5jZWxGdWxsU2NyZWVuJywgJ21vekZ1bGxTY3JlZW5FbGVtZW50JywgJ21vekZ1bGxTY3JlZW5FbmFibGVkJywgJ21vemZ1bGxzY3JlZW5jaGFuZ2UnLCAnbW96ZnVsbHNjcmVlbmVycm9yJ10sIFsnbXNSZXF1ZXN0RnVsbHNjcmVlbicsICdtc0V4aXRGdWxsc2NyZWVuJywgJ21zRnVsbHNjcmVlbkVsZW1lbnQnLCAnbXNGdWxsc2NyZWVuRW5hYmxlZCcsICdNU0Z1bGxzY3JlZW5DaGFuZ2UnLCAnTVNGdWxsc2NyZWVuRXJyb3InXV07XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBsID0gZm5NYXAubGVuZ3RoO1xuICAgIHZhciByZXQgPSB7fTtcblxuICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YWwgPSBmbk1hcFtpXTtcblxuICAgICAgaWYgKHZhbCAmJiB2YWxbMV0gaW4gZG9jdW1lbnQpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHZhbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHJldFtmbk1hcFswXVtpXV0gPSB2YWxbaV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSgpO1xuXG4gIHZhciBldmVudE5hbWVNYXAgPSB7XG4gICAgZnVsbHNjcmVlbmNoYW5nZTogZm4uZnVsbHNjcmVlbmNoYW5nZSxcbiAgICBmdWxsc2NyZWVuZXJyb3I6IGZuLmZ1bGxzY3JlZW5lcnJvclxuICB9O1xuICB2YXIgc2NyZWVuZnVsbCA9IHtcbiAgICByZXF1ZXN0OiBmdW5jdGlvbiByZXF1ZXN0KGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciBvbkZ1bGxTY3JlZW5FbnRlcmVkID0gZnVuY3Rpb24gb25GdWxsU2NyZWVuRW50ZXJlZCgpIHtcbiAgICAgICAgICBzY3JlZW5mdWxsLm9mZignZnVsbHNjcmVlbmNoYW5nZScsIG9uRnVsbFNjcmVlbkVudGVyZWQpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzY3JlZW5mdWxsLm9uKCdmdWxsc2NyZWVuY2hhbmdlJywgb25GdWxsU2NyZWVuRW50ZXJlZCk7XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgdmFyIHJldHVyblByb21pc2UgPSBlbGVtZW50W2ZuLnJlcXVlc3RGdWxsc2NyZWVuXSgpO1xuXG4gICAgICAgIGlmIChyZXR1cm5Qcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgIHJldHVyblByb21pc2UudGhlbihvbkZ1bGxTY3JlZW5FbnRlcmVkKS5jYXRjaChyZWplY3QpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGV4aXQ6IGZ1bmN0aW9uIGV4aXQoKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBpZiAoIXNjcmVlbmZ1bGwuaXNGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvbkZ1bGxTY3JlZW5FeGl0ID0gZnVuY3Rpb24gb25GdWxsU2NyZWVuRXhpdCgpIHtcbiAgICAgICAgICBzY3JlZW5mdWxsLm9mZignZnVsbHNjcmVlbmNoYW5nZScsIG9uRnVsbFNjcmVlbkV4aXQpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzY3JlZW5mdWxsLm9uKCdmdWxsc2NyZWVuY2hhbmdlJywgb25GdWxsU2NyZWVuRXhpdCk7XG4gICAgICAgIHZhciByZXR1cm5Qcm9taXNlID0gZG9jdW1lbnRbZm4uZXhpdEZ1bGxzY3JlZW5dKCk7XG5cbiAgICAgICAgaWYgKHJldHVyblByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgcmV0dXJuUHJvbWlzZS50aGVuKG9uRnVsbFNjcmVlbkV4aXQpLmNhdGNoKHJlamVjdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb246IGZ1bmN0aW9uIG9uKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgdmFyIGV2ZW50TmFtZSA9IGV2ZW50TmFtZU1hcFtldmVudF07XG5cbiAgICAgIGlmIChldmVudE5hbWUpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9mZjogZnVuY3Rpb24gb2ZmKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgdmFyIGV2ZW50TmFtZSA9IGV2ZW50TmFtZU1hcFtldmVudF07XG5cbiAgICAgIGlmIChldmVudE5hbWUpIHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHNjcmVlbmZ1bGwsIHtcbiAgICBpc0Z1bGxzY3JlZW46IHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbihkb2N1bWVudFtmbi5mdWxsc2NyZWVuRWxlbWVudF0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgZWxlbWVudDoge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnRbZm4uZnVsbHNjcmVlbkVsZW1lbnRdO1xuICAgICAgfVxuICAgIH0sXG4gICAgaXNFbmFibGVkOiB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIC8vIENvZXJjZSB0byBib29sZWFuIGluIGNhc2Ugb2Ygb2xkIFdlYktpdFxuICAgICAgICByZXR1cm4gQm9vbGVhbihkb2N1bWVudFtmbi5mdWxsc2NyZWVuRW5hYmxlZF0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBzY3JlZW5mdWxsO1xufVxuXG52YXIgcGxheWVyTWFwID0gbmV3IFdlYWtNYXAoKTtcbnZhciByZWFkeU1hcCA9IG5ldyBXZWFrTWFwKCk7XG52YXIgc2NyZWVuZnVsbCA9IHt9O1xuXG52YXIgUGxheWVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIFBsYXllci5cbiAgICpcbiAgICogQHBhcmFtIHsoSFRNTElGcmFtZUVsZW1lbnR8SFRNTEVsZW1lbnR8c3RyaW5nfGpRdWVyeSl9IGVsZW1lbnQgQSByZWZlcmVuY2UgdG8gdGhlIFZpbWVvXG4gICAqICAgICAgICBwbGF5ZXIgaWZyYW1lLCBhbmQgaWQsIG9yIGEgalF1ZXJ5IG9iamVjdC5cbiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBvRW1iZWQgcGFyYW1ldGVycyB0byB1c2Ugd2hlbiBjcmVhdGluZyBhbiBlbWJlZCBpbiB0aGUgZWxlbWVudC5cbiAgICogQHJldHVybiB7UGxheWVyfVxuICAgKi9cbiAgZnVuY3Rpb24gUGxheWVyKGVsZW1lbnQpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBsYXllcik7XG5cbiAgICAvKiBnbG9iYWwgalF1ZXJ5ICovXG4gICAgaWYgKHdpbmRvdy5qUXVlcnkgJiYgZWxlbWVudCBpbnN0YW5jZW9mIGpRdWVyeSkge1xuICAgICAgaWYgKGVsZW1lbnQubGVuZ3RoID4gMSAmJiB3aW5kb3cuY29uc29sZSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdBIGpRdWVyeSBvYmplY3Qgd2l0aCBtdWx0aXBsZSBlbGVtZW50cyB3YXMgcGFzc2VkLCB1c2luZyB0aGUgZmlyc3QgZWxlbWVudC4nKTtcbiAgICAgIH1cblxuICAgICAgZWxlbWVudCA9IGVsZW1lbnRbMF07XG4gICAgfSAvLyBGaW5kIGFuIGVsZW1lbnQgYnkgSURcblxuXG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudCk7XG4gICAgfSAvLyBOb3QgYW4gZWxlbWVudCFcblxuXG4gICAgaWYgKCFpc0RvbUVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgZWl0aGVyIGEgdmFsaWQgZWxlbWVudCBvciBhIHZhbGlkIGlkLicpO1xuICAgIH0gLy8gQWxyZWFkeSBpbml0aWFsaXplZCBhbiBlbWJlZCBpbiB0aGlzIGRpdiwgc28gZ3JhYiB0aGUgaWZyYW1lXG5cblxuICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lICE9PSAnSUZSQU1FJykge1xuICAgICAgdmFyIGlmcmFtZSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignaWZyYW1lJyk7XG5cbiAgICAgIGlmIChpZnJhbWUpIHtcbiAgICAgICAgZWxlbWVudCA9IGlmcmFtZTtcbiAgICAgIH1cbiAgICB9IC8vIGlmcmFtZSB1cmwgaXMgbm90IGEgVmltZW8gdXJsXG5cblxuICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnSUZSQU1FJyAmJiAhaXNWaW1lb1VybChlbGVtZW50LmdldEF0dHJpYnV0ZSgnc3JjJykgfHwgJycpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBwbGF5ZXIgZWxlbWVudCBwYXNzZWQgaXNu4oCZdCBhIFZpbWVvIGVtYmVkLicpO1xuICAgIH0gLy8gSWYgdGhlcmUgaXMgYWxyZWFkeSBhIHBsYXllciBvYmplY3QgaW4gdGhlIG1hcCwgcmV0dXJuIHRoYXRcblxuXG4gICAgaWYgKHBsYXllck1hcC5oYXMoZWxlbWVudCkpIHtcbiAgICAgIHJldHVybiBwbGF5ZXJNYXAuZ2V0KGVsZW1lbnQpO1xuICAgIH1cblxuICAgIHRoaXMuX3dpbmRvdyA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMub3JpZ2luID0gJyonO1xuICAgIHZhciByZWFkeVByb21pc2UgPSBuZXcgbnBvX3NyYyhmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBfdGhpcy5fb25NZXNzYWdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICghaXNWaW1lb1VybChldmVudC5vcmlnaW4pIHx8IF90aGlzLmVsZW1lbnQuY29udGVudFdpbmRvdyAhPT0gZXZlbnQuc291cmNlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF90aGlzLm9yaWdpbiA9PT0gJyonKSB7XG4gICAgICAgICAgX3RoaXMub3JpZ2luID0gZXZlbnQub3JpZ2luO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRhdGEgPSBwYXJzZU1lc3NhZ2VEYXRhKGV2ZW50LmRhdGEpO1xuICAgICAgICB2YXIgaXNFcnJvciA9IGRhdGEgJiYgZGF0YS5ldmVudCA9PT0gJ2Vycm9yJztcbiAgICAgICAgdmFyIGlzUmVhZHlFcnJvciA9IGlzRXJyb3IgJiYgZGF0YS5kYXRhICYmIGRhdGEuZGF0YS5tZXRob2QgPT09ICdyZWFkeSc7XG5cbiAgICAgICAgaWYgKGlzUmVhZHlFcnJvcikge1xuICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihkYXRhLmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgZXJyb3IubmFtZSA9IGRhdGEuZGF0YS5uYW1lO1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGlzUmVhZHlFdmVudCA9IGRhdGEgJiYgZGF0YS5ldmVudCA9PT0gJ3JlYWR5JztcbiAgICAgICAgdmFyIGlzUGluZ1Jlc3BvbnNlID0gZGF0YSAmJiBkYXRhLm1ldGhvZCA9PT0gJ3BpbmcnO1xuXG4gICAgICAgIGlmIChpc1JlYWR5RXZlbnQgfHwgaXNQaW5nUmVzcG9uc2UpIHtcbiAgICAgICAgICBfdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1yZWFkeScsICd0cnVlJyk7XG5cbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvY2Vzc0RhdGEoX3RoaXMsIGRhdGEpO1xuICAgICAgfTtcblxuICAgICAgX3RoaXMuX3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgX3RoaXMuX29uTWVzc2FnZSk7XG5cbiAgICAgIGlmIChfdGhpcy5lbGVtZW50Lm5vZGVOYW1lICE9PSAnSUZSQU1FJykge1xuICAgICAgICB2YXIgcGFyYW1zID0gZ2V0T0VtYmVkUGFyYW1ldGVycyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgdmFyIHVybCA9IGdldFZpbWVvVXJsKHBhcmFtcyk7XG4gICAgICAgIGdldE9FbWJlZERhdGEodXJsLCBwYXJhbXMsIGVsZW1lbnQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICB2YXIgaWZyYW1lID0gY3JlYXRlRW1iZWQoZGF0YSwgZWxlbWVudCk7IC8vIE92ZXJ3cml0ZSBlbGVtZW50IHdpdGggdGhlIG5ldyBpZnJhbWUsXG4gICAgICAgICAgLy8gYnV0IHN0b3JlIHJlZmVyZW5jZSB0byB0aGUgb3JpZ2luYWwgZWxlbWVudFxuXG4gICAgICAgICAgX3RoaXMuZWxlbWVudCA9IGlmcmFtZTtcbiAgICAgICAgICBfdGhpcy5fb3JpZ2luYWxFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICBzd2FwQ2FsbGJhY2tzKGVsZW1lbnQsIGlmcmFtZSk7XG4gICAgICAgICAgcGxheWVyTWFwLnNldChfdGhpcy5lbGVtZW50LCBfdGhpcyk7XG4gICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH0pLmNhdGNoKHJlamVjdCk7XG4gICAgICB9XG4gICAgfSk7IC8vIFN0b3JlIGEgY29weSBvZiB0aGlzIFBsYXllciBpbiB0aGUgbWFwXG5cbiAgICByZWFkeU1hcC5zZXQodGhpcywgcmVhZHlQcm9taXNlKTtcbiAgICBwbGF5ZXJNYXAuc2V0KHRoaXMuZWxlbWVudCwgdGhpcyk7IC8vIFNlbmQgYSBwaW5nIHRvIHRoZSBpZnJhbWUgc28gdGhlIHJlYWR5IHByb21pc2Ugd2lsbCBiZSByZXNvbHZlZCBpZlxuICAgIC8vIHRoZSBwbGF5ZXIgaXMgYWxyZWFkeSByZWFkeS5cblxuICAgIGlmICh0aGlzLmVsZW1lbnQubm9kZU5hbWUgPT09ICdJRlJBTUUnKSB7XG4gICAgICBwb3N0TWVzc2FnZSh0aGlzLCAncGluZycpO1xuICAgIH1cblxuICAgIGlmIChzY3JlZW5mdWxsLmlzRW5hYmxlZCkge1xuICAgICAgdmFyIGV4aXRGdWxsc2NyZWVuID0gZnVuY3Rpb24gZXhpdEZ1bGxzY3JlZW4oKSB7XG4gICAgICAgIHJldHVybiBzY3JlZW5mdWxsLmV4aXQoKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuZnVsbHNjcmVlbmNoYW5nZUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChzY3JlZW5mdWxsLmlzRnVsbHNjcmVlbikge1xuICAgICAgICAgIHN0b3JlQ2FsbGJhY2soX3RoaXMsICdldmVudDpleGl0RnVsbHNjcmVlbicsIGV4aXRGdWxsc2NyZWVuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW1vdmVDYWxsYmFjayhfdGhpcywgJ2V2ZW50OmV4aXRGdWxsc2NyZWVuJywgZXhpdEZ1bGxzY3JlZW4pO1xuICAgICAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXG5cbiAgICAgICAgX3RoaXMucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBwb3N0TWVzc2FnZShfdGhpcywgJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBzY3JlZW5mdWxsLmlzRnVsbHNjcmVlbik7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgc2NyZWVuZnVsbC5vbignZnVsbHNjcmVlbmNoYW5nZScsIHRoaXMuZnVsbHNjcmVlbmNoYW5nZUhhbmRsZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBwcm9taXNlIGZvciBhIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIEFQSSBtZXRob2QgdG8gY2FsbC5cbiAgICogQHBhcmFtIHtPYmplY3R9IFthcmdzPXt9XSBBcmd1bWVudHMgdG8gc2VuZCB2aWEgcG9zdE1lc3NhZ2UuXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFBsYXllciwgW3tcbiAgICBrZXk6IFwiY2FsbE1ldGhvZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjYWxsTWV0aG9kKG5hbWUpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICByZXR1cm4gbmV3IG5wb19zcmMoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAvLyBXZSBhcmUgc3RvcmluZyB0aGUgcmVzb2x2ZS9yZWplY3QgaGFuZGxlcnMgdG8gY2FsbCBsYXRlciwgc28gd2VcbiAgICAgICAgLy8gY2Fu4oCZdCByZXR1cm4gaGVyZS5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByb21pc2UvYWx3YXlzLXJldHVyblxuICAgICAgICByZXR1cm4gX3RoaXMyLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc3RvcmVDYWxsYmFjayhfdGhpczIsIG5hbWUsIHtcbiAgICAgICAgICAgIHJlc29sdmU6IHJlc29sdmUsXG4gICAgICAgICAgICByZWplY3Q6IHJlamVjdFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHBvc3RNZXNzYWdlKF90aGlzMiwgbmFtZSwgYXJncyk7XG4gICAgICAgIH0pLmNhdGNoKHJlamVjdCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgcHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mIGEgcGxheWVyIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIHByb3BlcnR5IG5hbWVcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldChuYW1lKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgcmV0dXJuIG5ldyBucG9fc3JjKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgbmFtZSA9IGdldE1ldGhvZE5hbWUobmFtZSwgJ2dldCcpOyAvLyBXZSBhcmUgc3RvcmluZyB0aGUgcmVzb2x2ZS9yZWplY3QgaGFuZGxlcnMgdG8gY2FsbCBsYXRlciwgc28gd2VcbiAgICAgICAgLy8gY2Fu4oCZdCByZXR1cm4gaGVyZS5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByb21pc2UvYWx3YXlzLXJldHVyblxuXG4gICAgICAgIHJldHVybiBfdGhpczMucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzdG9yZUNhbGxiYWNrKF90aGlzMywgbmFtZSwge1xuICAgICAgICAgICAgcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgICAgICAgIHJlamVjdDogcmVqZWN0XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcG9zdE1lc3NhZ2UoX3RoaXMzLCBuYW1lKTtcbiAgICAgICAgfSkuY2F0Y2gocmVqZWN0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSBwcm9taXNlIGZvciBzZXR0aW5nIHRoZSB2YWx1ZSBvZiBhIHBsYXllciBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBBUEkgbWV0aG9kIHRvIGNhbGwuXG4gICAgICogQHBhcmFtIHttaXhlZH0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldChuYW1lLCB2YWx1ZSkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBuZXcgbnBvX3NyYyhmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIG5hbWUgPSBnZXRNZXRob2ROYW1lKG5hbWUsICdzZXQnKTtcblxuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZXJlIG11c3QgYmUgYSB2YWx1ZSB0byBzZXQuJyk7XG4gICAgICAgIH0gLy8gV2UgYXJlIHN0b3JpbmcgdGhlIHJlc29sdmUvcmVqZWN0IGhhbmRsZXJzIHRvIGNhbGwgbGF0ZXIsIHNvIHdlXG4gICAgICAgIC8vIGNhbuKAmXQgcmV0dXJuIGhlcmUuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcm9taXNlL2Fsd2F5cy1yZXR1cm5cblxuXG4gICAgICAgIHJldHVybiBfdGhpczQucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzdG9yZUNhbGxiYWNrKF90aGlzNCwgbmFtZSwge1xuICAgICAgICAgICAgcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgICAgICAgIHJlamVjdDogcmVqZWN0XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcG9zdE1lc3NhZ2UoX3RoaXM0LCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH0pLmNhdGNoKHJlamVjdCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyIGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50LiBXaWxsIGNhbGwgdGhlXG4gICAgICogY2FsbGJhY2sgd2l0aCBhIHNpbmdsZSBwYXJhbWV0ZXIsIGBkYXRhYCwgdGhhdCBjb250YWlucyB0aGUgZGF0YSBmb3JcbiAgICAgKiB0aGF0IGV2ZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigqKX0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGUgZXZlbnQgZmlyZXMuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgIGlmICghZXZlbnROYW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gZXZlbnQgbmFtZS4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGEgY2FsbGJhY2sgZnVuY3Rpb24uJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNhbGxiYWNrcyA9IGdldENhbGxiYWNrcyh0aGlzLCBcImV2ZW50OlwiLmNvbmNhdChldmVudE5hbWUpKTtcblxuICAgICAgaWYgKGNhbGxiYWNrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5jYWxsTWV0aG9kKCdhZGRFdmVudExpc3RlbmVyJywgZXZlbnROYW1lKS5jYXRjaChmdW5jdGlvbiAoKSB7Ly8gSWdub3JlIHRoZSBlcnJvci4gVGhlcmUgd2lsbCBiZSBhbiBlcnJvciBldmVudCBmaXJlZCB0aGF0XG4gICAgICAgICAgLy8gd2lsbCB0cmlnZ2VyIHRoZSBlcnJvciBjYWxsYmFjayBpZiB0aGV5IGFyZSBsaXN0ZW5pbmcuXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBzdG9yZUNhbGxiYWNrKHRoaXMsIFwiZXZlbnQ6XCIuY29uY2F0KGV2ZW50TmFtZSksIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFuIGV2ZW50IGxpc3RlbmVyIGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50LiBXaWxsIHJlbW92ZSBhbGxcbiAgICAgKiBsaXN0ZW5lcnMgZm9yIHRoYXQgZXZlbnQgaWYgYSBgY2FsbGJhY2tgIGlzbuKAmXQgcGFzc2VkLCBvciBvbmx5IHRoYXRcbiAgICAgKiBzcGVjaWZpYyBjYWxsYmFjayBpZiBpdCBpcyBwYXNzZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBzcGVjaWZpYyBjYWxsYmFjayB0byByZW1vdmUuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9mZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvZmYoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgaWYgKCFldmVudE5hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBldmVudCBuYW1lLicpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBsYXN0Q2FsbGJhY2sgPSByZW1vdmVDYWxsYmFjayh0aGlzLCBcImV2ZW50OlwiLmNvbmNhdChldmVudE5hbWUpLCBjYWxsYmFjayk7IC8vIElmIHRoZXJlIGFyZSBubyBjYWxsYmFja3MgbGVmdCwgcmVtb3ZlIHRoZSBsaXN0ZW5lclxuXG4gICAgICBpZiAobGFzdENhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuY2FsbE1ldGhvZCgncmVtb3ZlRXZlbnRMaXN0ZW5lcicsIGV2ZW50TmFtZSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsvLyBJZ25vcmUgdGhlIGVycm9yLiBUaGVyZSB3aWxsIGJlIGFuIGVycm9yIGV2ZW50IGZpcmVkIHRoYXRcbiAgICAgICAgICAvLyB3aWxsIHRyaWdnZXIgdGhlIGVycm9yIGNhbGxiYWNrIGlmIHRoZXkgYXJlIGxpc3RlbmluZy5cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBsb2FkIGEgbmV3IHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgTG9hZFZpZGVvUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtudW1iZXJ9IFRoZSB2aWRlbyB3aXRoIHRoaXMgaWQgb3IgdXJsIHN1Y2Nlc3NmdWxseSBsb2FkZWQuXG4gICAgICogQHJlamVjdCB7VHlwZUVycm9yfSBUaGUgaWQgd2FzIG5vdCBhIG51bWJlci5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIExvYWQgYSBuZXcgdmlkZW8gaW50byB0aGlzIGVtYmVkLiBUaGUgcHJvbWlzZSB3aWxsIGJlIHJlc29sdmVkIGlmXG4gICAgICogdGhlIHZpZGVvIGlzIHN1Y2Nlc3NmdWxseSBsb2FkZWQsIG9yIGl0IHdpbGwgYmUgcmVqZWN0ZWQgaWYgaXQgY291bGRcbiAgICAgKiBub3QgYmUgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfG9iamVjdH0gb3B0aW9ucyBUaGUgaWQgb2YgdGhlIHZpZGVvLCB0aGUgdXJsIG9mIHRoZSB2aWRlbywgb3IgYW4gb2JqZWN0IHdpdGggZW1iZWQgb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtMb2FkVmlkZW9Qcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibG9hZFZpZGVvXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRWaWRlbyhvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKCdsb2FkVmlkZW8nLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHBlcmZvcm0gYW4gYWN0aW9uIHdoZW4gdGhlIFBsYXllciBpcyByZWFkeS5cbiAgICAgKlxuICAgICAqIEB0b2RvIGRvY3VtZW50IGVycm9yc1xuICAgICAqIEBwcm9taXNlIExvYWRWaWRlb1Byb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7dm9pZH1cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgYSBmdW5jdGlvbiB3aGVuIHRoZSBwbGF5ZXIgaWZyYW1lIGhhcyBpbml0aWFsaXplZC4gWW91IGRvIG5vdFxuICAgICAqIG5lZWQgdG8gd2FpdCBmb3IgYHJlYWR5YCB0byB0cmlnZ2VyIHRvIGJlZ2luIGFkZGluZyBldmVudCBsaXN0ZW5lcnNcbiAgICAgKiBvciBjYWxsaW5nIG90aGVyIG1ldGhvZHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtSZWFkeVByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZWFkeVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWFkeSgpIHtcbiAgICAgIHZhciByZWFkeVByb21pc2UgPSByZWFkeU1hcC5nZXQodGhpcykgfHwgbmV3IG5wb19zcmMoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICByZWplY3QobmV3IEVycm9yKCdVbmtub3duIHBsYXllci4gUHJvYmFibHkgdW5sb2FkZWQuJykpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbnBvX3NyYy5yZXNvbHZlKHJlYWR5UHJvbWlzZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBhZGQgYSBjdWUgcG9pbnQgdG8gdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEFkZEN1ZVBvaW50UHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtzdHJpbmd9IFRoZSBpZCBvZiB0aGUgY3VlIHBvaW50IHRvIHVzZSBmb3IgcmVtb3ZlQ3VlUG9pbnQuXG4gICAgICogQHJlamVjdCB7UmFuZ2VFcnJvcn0gdGhlIHRpbWUgd2FzIGxlc3MgdGhhbiAwIG9yIGdyZWF0ZXIgdGhhbiB0aGVcbiAgICAgKiAgICAgICAgIHZpZGVv4oCZcyBkdXJhdGlvbi5cbiAgICAgKiBAcmVqZWN0IHtVbnN1cHBvcnRlZEVycm9yfSBDdWUgcG9pbnRzIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggdGhlIGN1cnJlbnRcbiAgICAgKiAgICAgICAgIHBsYXllciBvciBicm93c2VyLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQWRkIGEgY3VlIHBvaW50IHRvIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZSBUaGUgdGltZSBmb3IgdGhlIGN1ZSBwb2ludC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2RhdGFdIEFyYml0cmFyeSBkYXRhIHRvIGJlIHJldHVybmVkIHdpdGggdGhlIGN1ZSBwb2ludC5cbiAgICAgKiBAcmV0dXJuIHtBZGRDdWVQb2ludFByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJhZGRDdWVQb2ludFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRDdWVQb2ludCh0aW1lKSB7XG4gICAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKCdhZGRDdWVQb2ludCcsIHtcbiAgICAgICAgdGltZTogdGltZSxcbiAgICAgICAgZGF0YTogZGF0YVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byByZW1vdmUgYSBjdWUgcG9pbnQgZnJvbSB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHByb21pc2UgQWRkQ3VlUG9pbnRQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge3N0cmluZ30gVGhlIGlkIG9mIHRoZSBjdWUgcG9pbnQgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKiBAcmVqZWN0IHtJbnZhbGlkQ3VlUG9pbnR9IFRoZSBjdWUgcG9pbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGlkIHdhcyBub3RcbiAgICAgKiAgICAgICAgIGZvdW5kLlxuICAgICAqIEByZWplY3Qge1Vuc3VwcG9ydGVkRXJyb3J9IEN1ZSBwb2ludHMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCB0aGUgY3VycmVudFxuICAgICAqICAgICAgICAgcGxheWVyIG9yIGJyb3dzZXIuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBjdWUgcG9pbnQgZnJvbSB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIGlkIG9mIHRoZSBjdWUgcG9pbnQgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm4ge1JlbW92ZUN1ZVBvaW50UHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUN1ZVBvaW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUN1ZVBvaW50KGlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKCdyZW1vdmVDdWVQb2ludCcsIGlkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSByZXByZXNlbnRhdGlvbiBvZiBhIHRleHQgdHJhY2sgb24gYSB2aWRlby5cbiAgICAgKlxuICAgICAqIEB0eXBlZGVmIHtPYmplY3R9IFZpbWVvVGV4dFRyYWNrXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IGxhbmd1YWdlIFRoZSBJU08gbGFuZ3VhZ2UgY29kZS5cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30ga2luZCBUaGUga2luZCBvZiB0cmFjayBpdCBpcyAoY2FwdGlvbnMgb3Igc3VidGl0bGVzKS5cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gbGFiZWwgVGhlIGh1bWFu4oCQcmVhZGFibGUgbGFiZWwgZm9yIHRoZSB0cmFjay5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBlbmFibGUgYSB0ZXh0IHRyYWNrLlxuICAgICAqXG4gICAgICogQHByb21pc2UgRW5hYmxlVGV4dFRyYWNrUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtWaW1lb1RleHRUcmFja30gVGhlIHRleHQgdHJhY2sgdGhhdCB3YXMgZW5hYmxlZC5cbiAgICAgKiBAcmVqZWN0IHtJbnZhbGlkVHJhY2tMYW5ndWFnZUVycm9yfSBObyB0cmFjayB3YXMgYXZhaWxhYmxlIHdpdGggdGhlXG4gICAgICogICAgICAgICBzcGVjaWZpZWQgbGFuZ3VhZ2UuXG4gICAgICogQHJlamVjdCB7SW52YWxpZFRyYWNrRXJyb3J9IE5vIHRyYWNrIHdhcyBhdmFpbGFibGUgd2l0aCB0aGUgc3BlY2lmaWVkXG4gICAgICogICAgICAgICBsYW5ndWFnZSBhbmQga2luZC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSB0aGUgdGV4dCB0cmFjayB3aXRoIHRoZSBzcGVjaWZpZWQgbGFuZ3VhZ2UsIGFuZCBvcHRpb25hbGx5IHRoZVxuICAgICAqIHNwZWNpZmllZCBraW5kIChjYXB0aW9ucyBvciBzdWJ0aXRsZXMpLlxuICAgICAqXG4gICAgICogV2hlbiBzZXQgdmlhIHRoZSBBUEksIHRoZSB0cmFjayBsYW5ndWFnZSB3aWxsIG5vdCBjaGFuZ2UgdGhlIHZpZXdlcuKAmXNcbiAgICAgKiBzdG9yZWQgcHJlZmVyZW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZSBUaGUgdHdv4oCQbGV0dGVyIGxhbmd1YWdlIGNvZGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtraW5kXSBUaGUga2luZCBvZiB0cmFjayB0byBlbmFibGUgKGNhcHRpb25zIG9yIHN1YnRpdGxlcykuXG4gICAgICogQHJldHVybiB7RW5hYmxlVGV4dFRyYWNrUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImVuYWJsZVRleHRUcmFja1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmFibGVUZXh0VHJhY2sobGFuZ3VhZ2UsIGtpbmQpIHtcbiAgICAgIGlmICghbGFuZ3VhZ2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhIGxhbmd1YWdlLicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKCdlbmFibGVUZXh0VHJhY2snLCB7XG4gICAgICAgIGxhbmd1YWdlOiBsYW5ndWFnZSxcbiAgICAgICAga2luZDoga2luZFxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBkaXNhYmxlIHRoZSBhY3RpdmUgdGV4dCB0cmFjay5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIERpc2FibGVUZXh0VHJhY2tQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge3ZvaWR9IFRoZSB0cmFjayB3YXMgZGlzYWJsZWQuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlIHRoZSBjdXJyZW50bHktYWN0aXZlIHRleHQgdHJhY2suXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtEaXNhYmxlVGV4dFRyYWNrUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRpc2FibGVUZXh0VHJhY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzYWJsZVRleHRUcmFjaygpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGxNZXRob2QoJ2Rpc2FibGVUZXh0VHJhY2snKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHBhdXNlIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIFBhdXNlUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHt2b2lkfSBUaGUgdmlkZW8gd2FzIHBhdXNlZC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFBhdXNlIHRoZSB2aWRlbyBpZiBpdOKAmXMgcGxheWluZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BhdXNlUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInBhdXNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsbE1ldGhvZCgncGF1c2UnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHBsYXkgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgUGxheVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7dm9pZH0gVGhlIHZpZGVvIHdhcyBwbGF5ZWQuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBQbGF5IHRoZSB2aWRlbyBpZiBpdOKAmXMgcGF1c2VkLiAqKk5vdGU6Kiogb24gaU9TIGFuZCBzb21lIG90aGVyXG4gICAgICogbW9iaWxlIGRldmljZXMsIHlvdSBjYW5ub3QgcHJvZ3JhbW1hdGljYWxseSB0cmlnZ2VyIHBsYXkuIE9uY2UgdGhlXG4gICAgICogdmlld2VyIGhhcyB0YXBwZWQgb24gdGhlIHBsYXkgYnV0dG9uIGluIHRoZSBwbGF5ZXIsIGhvd2V2ZXIsIHlvdVxuICAgICAqIHdpbGwgYmUgYWJsZSB0byB1c2UgdGhpcyBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BsYXlQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicGxheVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwbGF5KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsbE1ldGhvZCgncGxheScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IHRoYXQgdGhlIHBsYXllciBlbnRlcnMgZnVsbHNjcmVlbi5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVxdWVzdEZ1bGxzY3JlZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVxdWVzdEZ1bGxzY3JlZW4oKSB7XG4gICAgICBpZiAoc2NyZWVuZnVsbC5pc0VuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIHNjcmVlbmZ1bGwucmVxdWVzdCh0aGlzLmVsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKCdyZXF1ZXN0RnVsbHNjcmVlbicpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IHRoYXQgdGhlIHBsYXllciBleGl0cyBmdWxsc2NyZWVuLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJleGl0RnVsbHNjcmVlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBleGl0RnVsbHNjcmVlbigpIHtcbiAgICAgIGlmIChzY3JlZW5mdWxsLmlzRW5hYmxlZCkge1xuICAgICAgICByZXR1cm4gc2NyZWVuZnVsbC5leGl0KCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNhbGxNZXRob2QoJ2V4aXRGdWxsc2NyZWVuJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcGxheWVyIGlzIGN1cnJlbnRseSBmdWxsc2NyZWVuLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRGdWxsc2NyZWVuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZ1bGxzY3JlZW4oKSB7XG4gICAgICBpZiAoc2NyZWVuZnVsbC5pc0VuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIG5wb19zcmMucmVzb2x2ZShzY3JlZW5mdWxsLmlzRnVsbHNjcmVlbik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmdldCgnZnVsbHNjcmVlbicpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IHRoYXQgdGhlIHBsYXllciBlbnRlcnMgcGljdHVyZS1pbi1waWN0dXJlLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZXF1ZXN0UGljdHVyZUluUGljdHVyZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXF1ZXN0UGljdHVyZUluUGljdHVyZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGxNZXRob2QoJ3JlcXVlc3RQaWN0dXJlSW5QaWN0dXJlJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgdGhhdCB0aGUgcGxheWVyIGV4aXRzIHBpY3R1cmUtaW4tcGljdHVyZS5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZXhpdFBpY3R1cmVJblBpY3R1cmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXhpdFBpY3R1cmVJblBpY3R1cmUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKCdleGl0UGljdHVyZUluUGljdHVyZScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHBsYXllciBpcyBjdXJyZW50bHkgcGljdHVyZS1pbi1waWN0dXJlLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRQaWN0dXJlSW5QaWN0dXJlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBpY3R1cmVJblBpY3R1cmUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3BpY3R1cmVJblBpY3R1cmUnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHVubG9hZCB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBVbmxvYWRQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge3ZvaWR9IFRoZSB2aWRlbyB3YXMgdW5sb2FkZWQuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHBsYXllciB0byBpdHMgaW5pdGlhbCBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1VubG9hZFByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1bmxvYWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5sb2FkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsbE1ldGhvZCgndW5sb2FkJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFudXAgdGhlIHBsYXllciBhbmQgcmVtb3ZlIGl0IGZyb20gdGhlIERPTVxuICAgICAqXG4gICAgICogSXQgd29uJ3QgYmUgdXNhYmxlIGFuZCBhIG5ldyBvbmUgc2hvdWxkIGJlIGNvbnN0cnVjdGVkXG4gICAgICogIGluIG9yZGVyIHRvIGRvIGFueSBvcGVyYXRpb25zLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlc3Ryb3lcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gbmV3IG5wb19zcmMoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgcmVhZHlNYXAuZGVsZXRlKF90aGlzNSk7XG4gICAgICAgIHBsYXllck1hcC5kZWxldGUoX3RoaXM1LmVsZW1lbnQpO1xuXG4gICAgICAgIGlmIChfdGhpczUuX29yaWdpbmFsRWxlbWVudCkge1xuICAgICAgICAgIHBsYXllck1hcC5kZWxldGUoX3RoaXM1Ll9vcmlnaW5hbEVsZW1lbnQpO1xuXG4gICAgICAgICAgX3RoaXM1Ll9vcmlnaW5hbEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXZpbWVvLWluaXRpYWxpemVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3RoaXM1LmVsZW1lbnQgJiYgX3RoaXM1LmVsZW1lbnQubm9kZU5hbWUgPT09ICdJRlJBTUUnICYmIF90aGlzNS5lbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAvLyBJZiB3ZSd2ZSBhZGRlZCBhbiBhZGRpdGlvbmFsIHdyYXBwZXIgZGl2LCByZW1vdmUgdGhhdCBmcm9tIHRoZSBET00uXG4gICAgICAgICAgLy8gSWYgbm90LCBqdXN0IHJlbW92ZSB0aGUgaWZyYW1lIGVsZW1lbnQuXG4gICAgICAgICAgaWYgKF90aGlzNS5lbGVtZW50LnBhcmVudE5vZGUucGFyZW50Tm9kZSAmJiBfdGhpczUuX29yaWdpbmFsRWxlbWVudCAmJiBfdGhpczUuX29yaWdpbmFsRWxlbWVudCAhPT0gX3RoaXM1LmVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgX3RoaXM1LmVsZW1lbnQucGFyZW50Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKF90aGlzNS5lbGVtZW50LnBhcmVudE5vZGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpczUuZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKF90aGlzNS5lbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gSWYgdGhlIGNsaXAgaXMgcHJpdmF0ZSB0aGVyZSBpcyBhIGNhc2Ugd2hlcmUgdGhlIGVsZW1lbnQgc3RheXMgdGhlXG4gICAgICAgIC8vIGRpdiBlbGVtZW50LiBEZXN0cm95IHNob3VsZCByZXNldCB0aGUgZGl2IGFuZCByZW1vdmUgdGhlIGlmcmFtZSBjaGlsZC5cblxuXG4gICAgICAgIGlmIChfdGhpczUuZWxlbWVudCAmJiBfdGhpczUuZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0RJVicgJiYgX3RoaXM1LmVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgIF90aGlzNS5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS12aW1lby1pbml0aWFsaXplZCcpO1xuXG4gICAgICAgICAgdmFyIGlmcmFtZSA9IF90aGlzNS5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lmcmFtZScpO1xuXG4gICAgICAgICAgaWYgKGlmcmFtZSAmJiBpZnJhbWUucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgLy8gSWYgd2UndmUgYWRkZWQgYW4gYWRkaXRpb25hbCB3cmFwcGVyIGRpdiwgcmVtb3ZlIHRoYXQgZnJvbSB0aGUgRE9NLlxuICAgICAgICAgICAgLy8gSWYgbm90LCBqdXN0IHJlbW92ZSB0aGUgaWZyYW1lIGVsZW1lbnQuXG4gICAgICAgICAgICBpZiAoaWZyYW1lLnBhcmVudE5vZGUucGFyZW50Tm9kZSAmJiBfdGhpczUuX29yaWdpbmFsRWxlbWVudCAmJiBfdGhpczUuX29yaWdpbmFsRWxlbWVudCAhPT0gaWZyYW1lLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgaWZyYW1lLnBhcmVudE5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpZnJhbWUucGFyZW50Tm9kZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzNS5fd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBfdGhpczUuX29uTWVzc2FnZSk7XG5cbiAgICAgICAgaWYgKHNjcmVlbmZ1bGwuaXNFbmFibGVkKSB7XG4gICAgICAgICAgc2NyZWVuZnVsbC5vZmYoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBfdGhpczUuZnVsbHNjcmVlbmNoYW5nZUhhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIGF1dG9wYXVzZSBiZWhhdmlvciBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRBdXRvcGF1c2VQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge2Jvb2xlYW59IFdoZXRoZXIgYXV0b3BhdXNlIGlzIHR1cm5lZCBvbiBvciBvZmYuXG4gICAgICogQHJlamVjdCB7VW5zdXBwb3J0ZWRFcnJvcn0gQXV0b3BhdXNlIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCB0aGUgY3VycmVudFxuICAgICAqICAgICAgICAgcGxheWVyIG9yIGJyb3dzZXIuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGF1dG9wYXVzZSBiZWhhdmlvciBmb3IgdGhpcyBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRBdXRvcGF1c2VQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0QXV0b3BhdXNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEF1dG9wYXVzZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgnYXV0b3BhdXNlJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBzZXQgdGhlIGF1dG9wYXVzZSBiZWhhdmlvciBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBTZXRBdXRvcGF1c2VQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge2Jvb2xlYW59IFdoZXRoZXIgYXV0b3BhdXNlIGlzIHR1cm5lZCBvbiBvciBvZmYuXG4gICAgICogQHJlamVjdCB7VW5zdXBwb3J0ZWRFcnJvcn0gQXV0b3BhdXNlIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCB0aGUgY3VycmVudFxuICAgICAqICAgICAgICAgcGxheWVyIG9yIGJyb3dzZXIuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgb3IgZGlzYWJsZSB0aGUgYXV0b3BhdXNlIGJlaGF2aW9yIG9mIHRoaXMgcGxheWVyLlxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCwgd2hlbiBhbm90aGVyIHZpZGVvIGlzIHBsYXllZCBpbiB0aGUgc2FtZSBicm93c2VyLCB0aGlzXG4gICAgICogcGxheWVyIHdpbGwgYXV0b21hdGljYWxseSBwYXVzZS4gVW5sZXNzIHlvdSBoYXZlIGEgc3BlY2lmaWMgcmVhc29uXG4gICAgICogZm9yIGRvaW5nIHNvLCB3ZSByZWNvbW1lbmQgdGhhdCB5b3UgbGVhdmUgYXV0b3BhdXNlIHNldCB0byB0aGVcbiAgICAgKiBkZWZhdWx0IChgdHJ1ZWApLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBhdXRvcGF1c2VcbiAgICAgKiBAcmV0dXJuIHtTZXRBdXRvcGF1c2VQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0QXV0b3BhdXNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEF1dG9wYXVzZShhdXRvcGF1c2UpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldCgnYXV0b3BhdXNlJywgYXV0b3BhdXNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgYnVmZmVyZWQgcHJvcGVydHkgb2YgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0QnVmZmVyZWRQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge0FycmF5fSBCdWZmZXJlZCBUaW1lcmFuZ2VzIGNvbnZlcnRlZCB0byBhbiBBcnJheS5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYnVmZmVyZWQgcHJvcGVydHkgb2YgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0QnVmZmVyZWRQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0QnVmZmVyZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QnVmZmVyZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ2J1ZmZlcmVkJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEB0eXBlZGVmIHtPYmplY3R9IENhbWVyYVByb3BlcnRpZXNcbiAgICAgKiBAcHJvcCB7bnVtYmVyfSBwcm9wcy55YXcgLSBOdW1iZXIgYmV0d2VlbiAwIGFuZCAzNjAuXG4gICAgICogQHByb3Age251bWJlcn0gcHJvcHMucGl0Y2ggLSBOdW1iZXIgYmV0d2VlbiAtOTAgYW5kIDkwLlxuICAgICAqIEBwcm9wIHtudW1iZXJ9IHByb3BzLnJvbGwgLSBOdW1iZXIgYmV0d2VlbiAtMTgwIGFuZCAxODAuXG4gICAgICogQHByb3Age251bWJlcn0gcHJvcHMuZm92IC0gVGhlIGZpZWxkIG9mIHZpZXcgaW4gZGVncmVlcy5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIGNhbWVyYSBwcm9wZXJ0aWVzIG9mIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRDYW1lcmFQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge0NhbWVyYVByb3BlcnRpZXN9IFRoZSBjYW1lcmEgcHJvcGVydGllcy5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEZvciAzNjDCsCB2aWRlb3MgZ2V0IHRoZSBjYW1lcmEgcHJvcGVydGllcyBmb3IgdGhpcyBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRDYW1lcmFQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Q2FtZXJhUHJvcHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2FtZXJhUHJvcHMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ2NhbWVyYVByb3BzJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBzZXQgdGhlIGNhbWVyYSBwcm9wZXJ0aWVzIG9mIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBTZXRDYW1lcmFQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge09iamVjdH0gVGhlIGNhbWVyYSB3YXMgc3VjY2Vzc2Z1bGx5IHNldC5cbiAgICAgKiBAcmVqZWN0IHtSYW5nZUVycm9yfSBUaGUgcmFuZ2Ugd2FzIG91dCBvZiBib3VuZHMuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBGb3IgMzYwwrAgdmlkZW9zIHNldCB0aGUgY2FtZXJhIHByb3BlcnRpZXMgZm9yIHRoaXMgcGxheWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtDYW1lcmFQcm9wZXJ0aWVzfSBjYW1lcmEgVGhlIGNhbWVyYSBwcm9wZXJ0aWVzXG4gICAgICogQHJldHVybiB7U2V0Q2FtZXJhUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldENhbWVyYVByb3BzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENhbWVyYVByb3BzKGNhbWVyYSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0KCdjYW1lcmFQcm9wcycsIGNhbWVyYSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcmVwcmVzZW50YXRpb24gb2YgYSBjaGFwdGVyLlxuICAgICAqXG4gICAgICogQHR5cGVkZWYge09iamVjdH0gVmltZW9DaGFwdGVyXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHN0YXJ0VGltZSBUaGUgc3RhcnQgdGltZSBvZiB0aGUgY2hhcHRlci5cbiAgICAgKiBAcHJvcGVydHkge29iamVjdH0gdGl0bGUgVGhlIHRpdGxlIG9mIHRoZSBjaGFwdGVyLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpbmRleCBUaGUgcGxhY2UgaW4gdGhlIG9yZGVyIG9mIENoYXB0ZXJzLiBTdGFydHMgYXQgMS5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgY2hhcHRlcnMgZm9yIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldENoYXB0ZXJzUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtWaW1lb0NoYXB0ZXJbXX0gVGhlIGNoYXB0ZXJzIGZvciB0aGUgdmlkZW8uXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gYXJyYXkgb2YgYWxsIHRoZSBjaGFwdGVycyBmb3IgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0Q2hhcHRlcnNQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Q2hhcHRlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2hhcHRlcnMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ2NoYXB0ZXJzJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIGN1cnJlbnRseSBhY3RpdmUgY2hhcHRlci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldEN1cnJlbnRDaGFwdGVyc1Byb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7VmltZW9DaGFwdGVyfHVuZGVmaW5lZH0gVGhlIGN1cnJlbnQgY2hhcHRlciBmb3IgdGhlIHZpZGVvLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50bHkgYWN0aXZlIGNoYXB0ZXIgZm9yIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldEN1cnJlbnRDaGFwdGVyc1Byb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRDdXJyZW50Q2hhcHRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXJyZW50Q2hhcHRlcigpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgnY3VycmVudENoYXB0ZXInKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgY29sb3Igb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldENvbG9yUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtzdHJpbmd9IFRoZSBoZXggY29sb3Igb2YgdGhlIHBsYXllci5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY29sb3IgZm9yIHRoaXMgcGxheWVyLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0Q29sb3JQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Q29sb3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29sb3IoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ2NvbG9yJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBzZXQgdGhlIGNvbG9yIG9mIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBTZXRDb2xvclByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7c3RyaW5nfSBUaGUgY29sb3Igd2FzIHN1Y2Nlc3NmdWxseSBzZXQuXG4gICAgICogQHJlamVjdCB7VHlwZUVycm9yfSBUaGUgc3RyaW5nIHdhcyBub3QgYSB2YWxpZCBoZXggb3IgcmdiIGNvbG9yLlxuICAgICAqIEByZWplY3Qge0NvbnRyYXN0RXJyb3J9IFRoZSBjb2xvciB3YXMgc2V0LCBidXQgdGhlIGNvbnRyYXN0IGlzXG4gICAgICogICAgICAgICBvdXRzaWRlIG9mIHRoZSBhY2NlcHRhYmxlIHJhbmdlLlxuICAgICAqIEByZWplY3Qge0VtYmVkU2V0dGluZ3NFcnJvcn0gVGhlIG93bmVyIG9mIHRoZSBwbGF5ZXIgaGFzIGNob3NlbiB0b1xuICAgICAqICAgICAgICAgdXNlIGEgc3BlY2lmaWMgY29sb3IuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvbG9yIG9mIHRoaXMgcGxheWVyIHRvIGEgaGV4IG9yIHJnYiBzdHJpbmcuIFNldHRpbmcgdGhlXG4gICAgICogY29sb3IgbWF5IGZhaWwgaWYgdGhlIG93bmVyIG9mIHRoZSB2aWRlbyBoYXMgc2V0IHRoZWlyIGVtYmVkXG4gICAgICogcHJlZmVyZW5jZXMgdG8gZm9yY2UgYSBzcGVjaWZpYyBjb2xvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciBUaGUgaGV4IG9yIHJnYiBjb2xvciBzdHJpbmcgdG8gc2V0LlxuICAgICAqIEByZXR1cm4ge1NldENvbG9yUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldENvbG9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENvbG9yKGNvbG9yKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ2NvbG9yJywgY29sb3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHJlcHJlc2VudGF0aW9uIG9mIGEgY3VlIHBvaW50LlxuICAgICAqXG4gICAgICogQHR5cGVkZWYge09iamVjdH0gVmltZW9DdWVQb2ludFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lIFRoZSB0aW1lIG9mIHRoZSBjdWUgcG9pbnQuXG4gICAgICogQHByb3BlcnR5IHtvYmplY3R9IGRhdGEgVGhlIGRhdGEgcGFzc2VkIHdoZW4gYWRkaW5nIHRoZSBjdWUgcG9pbnQuXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IGlkIFRoZSB1bmlxdWUgaWQgZm9yIHVzZSB3aXRoIHJlbW92ZUN1ZVBvaW50LlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgY3VlIHBvaW50cyBvZiBhIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0Q3VlUG9pbnRzUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtWaW1lb0N1ZVBvaW50W119IFRoZSBjdWUgcG9pbnRzIGFkZGVkIHRvIHRoZSB2aWRlby5cbiAgICAgKiBAcmVqZWN0IHtVbnN1cHBvcnRlZEVycm9yfSBDdWUgcG9pbnRzIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggdGhlIGN1cnJlbnRcbiAgICAgKiAgICAgICAgIHBsYXllciBvciBicm93c2VyLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IGFuIGFycmF5IG9mIHRoZSBjdWUgcG9pbnRzIGFkZGVkIHRvIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldEN1ZVBvaW50c1Byb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRDdWVQb2ludHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q3VlUG9pbnRzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdjdWVQb2ludHMnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgY3VycmVudCB0aW1lIG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldEN1cnJlbnRUaW1lUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtudW1iZXJ9IFRoZSBjdXJyZW50IHRpbWUgaW4gc2Vjb25kcy5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBwbGF5YmFjayBwb3NpdGlvbiBpbiBzZWNvbmRzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0Q3VycmVudFRpbWVQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Q3VycmVudFRpbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q3VycmVudFRpbWUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ2N1cnJlbnRUaW1lJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBzZXQgdGhlIGN1cnJlbnQgdGltZSBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBTZXRDdXJyZW50VGltZVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7bnVtYmVyfSBUaGUgYWN0dWFsIGN1cnJlbnQgdGltZSB0aGF0IHdhcyBzZXQuXG4gICAgICogQHJlamVjdCB7UmFuZ2VFcnJvcn0gdGhlIHRpbWUgd2FzIGxlc3MgdGhhbiAwIG9yIGdyZWF0ZXIgdGhhbiB0aGVcbiAgICAgKiAgICAgICAgIHZpZGVv4oCZcyBkdXJhdGlvbi5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY3VycmVudCBwbGF5YmFjayBwb3NpdGlvbiBpbiBzZWNvbmRzLiBJZiB0aGUgcGxheWVyIHdhc1xuICAgICAqIHBhdXNlZCwgaXQgd2lsbCByZW1haW4gcGF1c2VkLiBMaWtld2lzZSwgaWYgdGhlIHBsYXllciB3YXMgcGxheWluZyxcbiAgICAgKiBpdCB3aWxsIHJlc3VtZSBwbGF5aW5nIG9uY2UgdGhlIHZpZGVvIGhhcyBidWZmZXJlZC5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gcHJvdmlkZSBhbiBhY2N1cmF0ZSB0aW1lIGFuZCB0aGUgcGxheWVyIHdpbGwgYXR0ZW1wdCB0byBzZWVrXG4gICAgICogdG8gYXMgY2xvc2UgdG8gdGhhdCB0aW1lIGFzIHBvc3NpYmxlLiBUaGUgZXhhY3QgdGltZSB3aWxsIGJlIHRoZVxuICAgICAqIGZ1bGZpbGxlZCB2YWx1ZSBvZiB0aGUgcHJvbWlzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjdXJyZW50VGltZVxuICAgICAqIEByZXR1cm4ge1NldEN1cnJlbnRUaW1lUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldEN1cnJlbnRUaW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEN1cnJlbnRUaW1lKGN1cnJlbnRUaW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ2N1cnJlbnRUaW1lJywgY3VycmVudFRpbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBkdXJhdGlvbiBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXREdXJhdGlvblByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7bnVtYmVyfSBUaGUgZHVyYXRpb24gaW4gc2Vjb25kcy5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZHVyYXRpb24gb2YgdGhlIHZpZGVvIGluIHNlY29uZHMuIEl0IHdpbGwgYmUgcm91bmRlZCB0byB0aGVcbiAgICAgKiBuZWFyZXN0IHNlY29uZCBiZWZvcmUgcGxheWJhY2sgYmVnaW5zLCBhbmQgdG8gdGhlIG5lYXJlc3QgdGhvdXNhbmR0aFxuICAgICAqIG9mIGEgc2Vjb25kIGFmdGVyIHBsYXliYWNrIGJlZ2lucy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldER1cmF0aW9uUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldER1cmF0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldER1cmF0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdkdXJhdGlvbicpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBlbmRlZCBzdGF0ZSBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRFbmRlZFByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIHZpZGVvIGhhcyBlbmRlZC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZW5kZWQgc3RhdGUgb2YgdGhlIHZpZGVvLiBUaGUgdmlkZW8gaGFzIGVuZGVkIGlmXG4gICAgICogYGN1cnJlbnRUaW1lID09PSBkdXJhdGlvbmAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRFbmRlZFByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRFbmRlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFbmRlZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgnZW5kZWQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgbG9vcCBzdGF0ZSBvZiB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0TG9vcFByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIHBsYXllciBpcyBzZXQgdG8gbG9vcC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbG9vcCBzdGF0ZSBvZiB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0TG9vcFByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRMb29wXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldExvb3AoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ2xvb3AnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHNldCB0aGUgbG9vcCBzdGF0ZSBvZiB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHByb21pc2UgU2V0TG9vcFByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7Ym9vbGVhbn0gVGhlIGxvb3Agc3RhdGUgdGhhdCB3YXMgc2V0LlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBsb29wIHN0YXRlIG9mIHRoZSBwbGF5ZXIuIFdoZW4gc2V0IHRvIGB0cnVlYCwgdGhlIHBsYXllclxuICAgICAqIHdpbGwgc3RhcnQgb3ZlciBpbW1lZGlhdGVseSBvbmNlIHBsYXliYWNrIGVuZHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGxvb3BcbiAgICAgKiBAcmV0dXJuIHtTZXRMb29wUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldExvb3BcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0TG9vcChsb29wKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ2xvb3AnLCBsb29wKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHNldCB0aGUgbXV0ZWQgc3RhdGUgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIFNldE11dGVkUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtib29sZWFufSBUaGUgbXV0ZWQgc3RhdGUgdGhhdCB3YXMgc2V0LlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtdXRlZCBzdGF0ZSBvZiB0aGUgcGxheWVyLiBXaGVuIHNldCB0byBgdHJ1ZWAsIHRoZSBwbGF5ZXJcbiAgICAgKiB2b2x1bWUgd2lsbCBiZSBtdXRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXV0ZWRcbiAgICAgKiBAcmV0dXJuIHtTZXRNdXRlZFByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRNdXRlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRNdXRlZChtdXRlZCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0KCdtdXRlZCcsIG11dGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgbXV0ZWQgc3RhdGUgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldE11dGVkUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgcGxheWVyIGlzIG11dGVkLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtdXRlZCBzdGF0ZSBvZiB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0TXV0ZWRQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0TXV0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TXV0ZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ211dGVkJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIHBhdXNlZCBzdGF0ZSBvZiB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0TG9vcFByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIHZpZGVvIGlzIHBhdXNlZC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcGF1c2VkIHN0YXRlIG9mIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRMb29wUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFBhdXNlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQYXVzZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3BhdXNlZCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBwbGF5YmFjayByYXRlIG9mIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRQbGF5YmFja1JhdGVQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge251bWJlcn0gVGhlIHBsYXliYWNrIHJhdGUgb2YgdGhlIHBsYXllciBvbiBhIHNjYWxlIGZyb20gMC41IHRvIDIuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBsYXliYWNrIHJhdGUgb2YgdGhlIHBsYXllciBvbiBhIHNjYWxlIGZyb20gYDAuNWAgdG8gYDJgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0UGxheWJhY2tSYXRlUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFBsYXliYWNrUmF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQbGF5YmFja1JhdGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3BsYXliYWNrUmF0ZScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gc2V0IHRoZSBwbGF5YmFja3JhdGUgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIFNldFBsYXliYWNrUmF0ZVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7bnVtYmVyfSBUaGUgcGxheWJhY2sgcmF0ZSB3YXMgc2V0LlxuICAgICAqIEByZWplY3Qge1JhbmdlRXJyb3J9IFRoZSBwbGF5YmFjayByYXRlIHdhcyBsZXNzIHRoYW4gMC41IG9yIGdyZWF0ZXIgdGhhbiAyLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwbGF5YmFjayByYXRlIG9mIHRoZSBwbGF5ZXIgb24gYSBzY2FsZSBmcm9tIGAwLjVgIHRvIGAyYC4gV2hlbiBzZXRcbiAgICAgKiB2aWEgdGhlIEFQSSwgdGhlIHBsYXliYWNrIHJhdGUgd2lsbCBub3QgYmUgc3luY2hyb25pemVkIHRvIG90aGVyXG4gICAgICogcGxheWVycyBvciBzdG9yZWQgYXMgdGhlIHZpZXdlcidzIHByZWZlcmVuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGxheWJhY2tSYXRlXG4gICAgICogQHJldHVybiB7U2V0UGxheWJhY2tSYXRlUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldFBsYXliYWNrUmF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRQbGF5YmFja1JhdGUocGxheWJhY2tSYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ3BsYXliYWNrUmF0ZScsIHBsYXliYWNrUmF0ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIHBsYXllZCBwcm9wZXJ0eSBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRQbGF5ZWRQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge0FycmF5fSBQbGF5ZWQgVGltZXJhbmdlcyBjb252ZXJ0ZWQgdG8gYW4gQXJyYXkuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBsYXllZCBwcm9wZXJ0eSBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRQbGF5ZWRQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UGxheWVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBsYXllZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgncGxheWVkJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIHF1YWxpdGllcyBhdmFpbGFibGUgb2YgdGhlIGN1cnJlbnQgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRRdWFsaXRpZXNQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge0FycmF5fSBUaGUgcXVhbGl0aWVzIG9mIHRoZSB2aWRlby5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcXVhbGl0aWVzIG9mIHRoZSBjdXJyZW50IHZpZGVvLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0UXVhbGl0aWVzUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFF1YWxpdGllc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRRdWFsaXRpZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3F1YWxpdGllcycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBjdXJyZW50IHNldCBxdWFsaXR5IG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldFF1YWxpdHlQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge3N0cmluZ30gVGhlIGN1cnJlbnQgc2V0IHF1YWxpdHkuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgc2V0IHF1YWxpdHkgb2YgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0UXVhbGl0eVByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRRdWFsaXR5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFF1YWxpdHkoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3F1YWxpdHknKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHNldCB0aGUgdmlkZW8gcXVhbGl0eS5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIFNldFF1YWxpdHlQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge251bWJlcn0gVGhlIHF1YWxpdHkgd2FzIHNldC5cbiAgICAgKiBAcmVqZWN0IHtSYW5nZUVycm9yfSBUaGUgcXVhbGl0eSBpcyBub3QgYXZhaWxhYmxlLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogU2V0IGEgdmlkZW8gcXVhbGl0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBxdWFsaXR5XG4gICAgICogQHJldHVybiB7U2V0UXVhbGl0eVByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRRdWFsaXR5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFF1YWxpdHkocXVhbGl0eSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0KCdxdWFsaXR5JywgcXVhbGl0eSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIHNlZWthYmxlIHByb3BlcnR5IG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldFNlZWthYmxlUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtBcnJheX0gU2Vla2FibGUgVGltZXJhbmdlcyBjb252ZXJ0ZWQgdG8gYW4gQXJyYXkuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNlZWthYmxlIHByb3BlcnR5IG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldFNlZWthYmxlUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFNlZWthYmxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlZWthYmxlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdzZWVrYWJsZScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBzZWVraW5nIHByb3BlcnR5IG9mIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRTZWVraW5nUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgcGxheWVyIGlzIGN1cnJlbnRseSBzZWVraW5nLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IGlmIHRoZSBwbGF5ZXIgaXMgY3VycmVudGx5IHNlZWtpbmcuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRTZWVraW5nUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFNlZWtpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2Vla2luZygpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgnc2Vla2luZycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSB0ZXh0IHRyYWNrcyBvZiBhIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0VGV4dFRyYWNrc1Byb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7VmltZW9UZXh0VHJhY2tbXX0gVGhlIHRleHQgdHJhY2tzIGFzc29jaWF0ZWQgd2l0aCB0aGUgdmlkZW8uXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gYXJyYXkgb2YgdGhlIHRleHQgdHJhY2tzIHRoYXQgZXhpc3QgZm9yIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldFRleHRUcmFja3NQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VGV4dFRyYWNrc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUZXh0VHJhY2tzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd0ZXh0VHJhY2tzJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIGVtYmVkIGNvZGUgZm9yIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldFZpZGVvRW1iZWRDb2RlUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtzdHJpbmd9IFRoZSBgPGlmcmFtZT5gIGVtYmVkIGNvZGUgZm9yIHRoZSB2aWRlby5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYDxpZnJhbWU+YCBlbWJlZCBjb2RlIGZvciB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRWaWRlb0VtYmVkQ29kZVByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRWaWRlb0VtYmVkQ29kZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWaWRlb0VtYmVkQ29kZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgndmlkZW9FbWJlZENvZGUnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgaWQgb2YgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0VmlkZW9JZFByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7bnVtYmVyfSBUaGUgaWQgb2YgdGhlIHZpZGVvLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpZCBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRWaWRlb0lkUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFZpZGVvSWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmlkZW9JZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgndmlkZW9JZCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSB0aXRsZSBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRWaWRlb1RpdGxlUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtudW1iZXJ9IFRoZSB0aXRsZSBvZiB0aGUgdmlkZW8uXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHRpdGxlIG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldFZpZGVvVGl0bGVQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VmlkZW9UaXRsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWaWRlb1RpdGxlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd2aWRlb1RpdGxlJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIG5hdGl2ZSB3aWR0aCBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRWaWRlb1dpZHRoUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtudW1iZXJ9IFRoZSBuYXRpdmUgd2lkdGggb2YgdGhlIHZpZGVvLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBuYXRpdmUgd2lkdGggb2YgdGhlIGN1cnJlbnRseeKAkHBsYXlpbmcgdmlkZW8uIFRoZSB3aWR0aCBvZlxuICAgICAqIHRoZSBoaWdoZXN04oCQcmVzb2x1dGlvbiBhdmFpbGFibGUgd2lsbCBiZSB1c2VkIGJlZm9yZSBwbGF5YmFjayBiZWdpbnMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRWaWRlb1dpZHRoUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFZpZGVvV2lkdGhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmlkZW9XaWR0aCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgndmlkZW9XaWR0aCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBuYXRpdmUgaGVpZ2h0IG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldFZpZGVvSGVpZ2h0UHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtudW1iZXJ9IFRoZSBuYXRpdmUgaGVpZ2h0IG9mIHRoZSB2aWRlby5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbmF0aXZlIGhlaWdodCBvZiB0aGUgY3VycmVudGx54oCQcGxheWluZyB2aWRlby4gVGhlIGhlaWdodCBvZlxuICAgICAqIHRoZSBoaWdoZXN04oCQcmVzb2x1dGlvbiBhdmFpbGFibGUgd2lsbCBiZSB1c2VkIGJlZm9yZSBwbGF5YmFjayBiZWdpbnMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRWaWRlb0hlaWdodFByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRWaWRlb0hlaWdodFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWaWRlb0hlaWdodCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgndmlkZW9IZWlnaHQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgdmltZW8uY29tIHVybCBmb3IgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0VmlkZW9VcmxQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge251bWJlcn0gVGhlIHZpbWVvLmNvbSB1cmwgZm9yIHRoZSB2aWRlby5cbiAgICAgKiBAcmVqZWN0IHtQcml2YWN5RXJyb3J9IFRoZSB1cmwgaXNu4oCZdCBhdmFpbGFibGUgYmVjYXVzZSBvZiB0aGUgdmlkZW/igJlzIHByaXZhY3kgc2V0dGluZy5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmltZW8uY29tIHVybCBmb3IgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0VmlkZW9VcmxQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VmlkZW9VcmxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmlkZW9VcmwoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3ZpZGVvVXJsJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIHZvbHVtZSBsZXZlbCBvZiB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0Vm9sdW1lUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtudW1iZXJ9IFRoZSB2b2x1bWUgbGV2ZWwgb2YgdGhlIHBsYXllciBvbiBhIHNjYWxlIGZyb20gMCB0byAxLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IHZvbHVtZSBsZXZlbCBvZiB0aGUgcGxheWVyIG9uIGEgc2NhbGUgZnJvbSBgMGAgdG8gYDFgLlxuICAgICAqXG4gICAgICogTW9zdCBtb2JpbGUgZGV2aWNlcyBkbyBub3Qgc3VwcG9ydCBhbiBpbmRlcGVuZGVudCB2b2x1bWUgZnJvbSB0aGVcbiAgICAgKiBzeXN0ZW0gdm9sdW1lLiBJbiB0aG9zZSBjYXNlcywgdGhpcyBtZXRob2Qgd2lsbCBhbHdheXMgcmV0dXJuIGAxYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldFZvbHVtZVByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRWb2x1bWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Vm9sdW1lKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd2b2x1bWUnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHNldCB0aGUgdm9sdW1lIGxldmVsIG9mIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBTZXRWb2x1bWVQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge251bWJlcn0gVGhlIHZvbHVtZSB3YXMgc2V0LlxuICAgICAqIEByZWplY3Qge1JhbmdlRXJyb3J9IFRoZSB2b2x1bWUgd2FzIGxlc3MgdGhhbiAwIG9yIGdyZWF0ZXIgdGhhbiAxLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB2b2x1bWUgb2YgdGhlIHBsYXllciBvbiBhIHNjYWxlIGZyb20gYDBgIHRvIGAxYC4gV2hlbiBzZXRcbiAgICAgKiB2aWEgdGhlIEFQSSwgdGhlIHZvbHVtZSBsZXZlbCB3aWxsIG5vdCBiZSBzeW5jaHJvbml6ZWQgdG8gb3RoZXJcbiAgICAgKiBwbGF5ZXJzIG9yIHN0b3JlZCBhcyB0aGUgdmlld2Vy4oCZcyBwcmVmZXJlbmNlLlxuICAgICAqXG4gICAgICogTW9zdCBtb2JpbGUgZGV2aWNlcyBkbyBub3Qgc3VwcG9ydCBzZXR0aW5nIHRoZSB2b2x1bWUuIEFuIGVycm9yIHdpbGxcbiAgICAgKiAqbm90KiBiZSB0cmlnZ2VyZWQgaW4gdGhhdCBzaXR1YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdm9sdW1lXG4gICAgICogQHJldHVybiB7U2V0Vm9sdW1lUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldFZvbHVtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWb2x1bWUodm9sdW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ3ZvbHVtZScsIHZvbHVtZSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBsYXllcjtcbn0oKTsgLy8gU2V0dXAgZW1iZWQgb25seSBpZiB0aGlzIGlzIG5vdCBhIG5vZGUgZW52aXJvbm1lbnRcblxuXG5pZiAoIWlzTm9kZSkge1xuICBzY3JlZW5mdWxsID0gaW5pdGlhbGl6ZVNjcmVlbmZ1bGwoKTtcbiAgaW5pdGlhbGl6ZUVtYmVkcygpO1xuICByZXNpemVFbWJlZHMoKTtcbiAgaW5pdEFwcGVuZFZpZGVvTWV0YWRhdGEoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUGxheWVyO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUGxheWVyIGZyb20gJ0B2aW1lby9wbGF5ZXInO1xuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTtcbiAgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7XG5cbiAgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbn1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgby5fX3Byb3RvX18gPSBwO1xuICAgIHJldHVybiBvO1xuICB9O1xuXG4gIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7XG59XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikge1xuICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIHNlbGY7XG59XG5cbnZhciBldmVudE5hbWVzID0ge1xuICBwbGF5OiAnb25QbGF5JyxcbiAgcGF1c2U6ICdvblBhdXNlJyxcbiAgZW5kZWQ6ICdvbkVuZCcsXG4gIHRpbWV1cGRhdGU6ICdvblRpbWVVcGRhdGUnLFxuICBwcm9ncmVzczogJ29uUHJvZ3Jlc3MnLFxuICBzZWVrZWQ6ICdvblNlZWtlZCcsXG4gIHRleHR0cmFja2NoYW5nZTogJ29uVGV4dFRyYWNrQ2hhbmdlJyxcbiAgY3VlY2hhbmdlOiAnb25DdWVDaGFuZ2UnLFxuICBjdWVwb2ludDogJ29uQ3VlUG9pbnQnLFxuICB2b2x1bWVjaGFuZ2U6ICdvblZvbHVtZUNoYW5nZScsXG4gIHBsYXliYWNrcmF0ZWNoYW5nZTogJ29uUGxheWJhY2tSYXRlQ2hhbmdlJyxcbiAgZXJyb3I6ICdvbkVycm9yJyxcbiAgbG9hZGVkOiAnb25Mb2FkZWQnXG59O1xuXG52YXIgVmltZW8gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoVmltZW8sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFZpbWVvKHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG4gICAgX3RoaXMucmVmQ29udGFpbmVyID0gX3RoaXMucmVmQ29udGFpbmVyLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBWaW1lby5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5jcmVhdGVQbGF5ZXIoKTtcbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L2Rlc3RydWN0dXJpbmctYXNzaWdubWVudFxuICAgIHZhciBjaGFuZ2VzID0gT2JqZWN0LmtleXModGhpcy5wcm9wcykuZmlsdGVyKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICByZXR1cm4gX3RoaXMyLnByb3BzW25hbWVdICE9PSBwcmV2UHJvcHNbbmFtZV07XG4gICAgfSk7XG4gICAgdGhpcy51cGRhdGVQcm9wcyhjaGFuZ2VzKTtcbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnBsYXllci5kZXN0cm95KCk7XG4gIH1cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmdldEluaXRpYWxPcHRpb25zID0gZnVuY3Rpb24gZ2V0SW5pdGlhbE9wdGlvbnMoKSB7XG4gICAgLyogZXNsaW50LWRpc2FibGUgcmVhY3QvZGVzdHJ1Y3R1cmluZy1hc3NpZ25tZW50ICovXG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiB0aGlzLnByb3BzLnZpZGVvLFxuICAgICAgd2lkdGg6IHRoaXMucHJvcHMud2lkdGgsXG4gICAgICBoZWlnaHQ6IHRoaXMucHJvcHMuaGVpZ2h0LFxuICAgICAgYXV0b3BhdXNlOiB0aGlzLnByb3BzLmF1dG9wYXVzZSxcbiAgICAgIGF1dG9wbGF5OiB0aGlzLnByb3BzLmF1dG9wbGF5LFxuICAgICAgYnlsaW5lOiB0aGlzLnByb3BzLnNob3dCeWxpbmUsXG4gICAgICBjb2xvcjogdGhpcy5wcm9wcy5jb2xvcixcbiAgICAgIGNvbnRyb2xzOiB0aGlzLnByb3BzLmNvbnRyb2xzLFxuICAgICAgbG9vcDogdGhpcy5wcm9wcy5sb29wLFxuICAgICAgcG9ydHJhaXQ6IHRoaXMucHJvcHMuc2hvd1BvcnRyYWl0LFxuICAgICAgdGl0bGU6IHRoaXMucHJvcHMuc2hvd1RpdGxlLFxuICAgICAgbXV0ZWQ6IHRoaXMucHJvcHMubXV0ZWQsXG4gICAgICBiYWNrZ3JvdW5kOiB0aGlzLnByb3BzLmJhY2tncm91bmQsXG4gICAgICByZXNwb25zaXZlOiB0aGlzLnByb3BzLnJlc3BvbnNpdmUsXG4gICAgICBkbnQ6IHRoaXMucHJvcHMuZG50LFxuICAgICAgc3BlZWQ6IHRoaXMucHJvcHMuc3BlZWQsXG4gICAgICBrZXlib2FyZDogdGhpcy5wcm9wcy5rZXlib2FyZCxcbiAgICAgIHBpcDogdGhpcy5wcm9wcy5waXAsXG4gICAgICBwbGF5c2lubGluZTogdGhpcy5wcm9wcy5wbGF5c0lubGluZSxcbiAgICAgIHF1YWxpdHk6IHRoaXMucHJvcHMucXVhbGl0eSxcbiAgICAgIHRleHR0cmFjazogdGhpcy5wcm9wcy50ZXh0VHJhY2ssXG4gICAgICB0cmFuc3BhcmVudDogdGhpcy5wcm9wcy50cmFuc3BhcmVudFxuICAgIH07XG4gICAgLyogZXNsaW50LWVuYWJsZSByZWFjdC9kZXN0cnVjdHVyaW5nLWFzc2lnbm1lbnQgKi9cbiAgfVxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8udXBkYXRlUHJvcHMgPSBmdW5jdGlvbiB1cGRhdGVQcm9wcyhwcm9wTmFtZXMpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHZhciBwbGF5ZXIgPSB0aGlzLnBsYXllcjtcbiAgICBwcm9wTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L2Rlc3RydWN0dXJpbmctYXNzaWdubWVudFxuICAgICAgdmFyIHZhbHVlID0gX3RoaXMzLnByb3BzW25hbWVdO1xuXG4gICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgY2FzZSAnYXV0b3BhdXNlJzpcbiAgICAgICAgICBwbGF5ZXIuc2V0QXV0b3BhdXNlKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdjb2xvcic6XG4gICAgICAgICAgcGxheWVyLnNldENvbG9yKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdsb29wJzpcbiAgICAgICAgICBwbGF5ZXIuc2V0TG9vcCh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAndm9sdW1lJzpcbiAgICAgICAgICBwbGF5ZXIuc2V0Vm9sdW1lKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdwYXVzZWQnOlxuICAgICAgICAgIHBsYXllci5nZXRQYXVzZWQoKS50aGVuKGZ1bmN0aW9uIChwYXVzZWQpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiAhcGF1c2VkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwbGF5ZXIucGF1c2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF2YWx1ZSAmJiBwYXVzZWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHBsYXllci5wbGF5KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3dpZHRoJzpcbiAgICAgICAgY2FzZSAnaGVpZ2h0JzpcbiAgICAgICAgICBwbGF5ZXIuZWxlbWVudFtuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IF90aGlzMy5wcm9wcy5zdGFydDtcbiAgICAgICAgICAgIHZhciBsb2FkZWQgPSBwbGF5ZXIubG9hZFZpZGVvKHZhbHVlKTsgLy8gU2V0IHRoZSBzdGFydCB0aW1lIG9ubHkgd2hlbiBsb2FkaW5nIGEgbmV3IHZpZGVvLlxuICAgICAgICAgICAgLy8gSXQgc2VlbXMgbGlrZSB0aGlzIGhhcyB0byBiZSBkb25lIGFmdGVyIHRoZSB2aWRlbyBoYXMgbG9hZGVkLCBlbHNlIGl0IGp1c3Qgc3RhcnRzIGF0XG4gICAgICAgICAgICAvLyB0aGUgYmVnaW5uaW5nIVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICBsb2FkZWQudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyLnNldEN1cnJlbnRUaW1lKHN0YXJ0KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBsYXllci51bmxvYWQoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jcmVhdGVQbGF5ZXIgPSBmdW5jdGlvbiBjcmVhdGVQbGF5ZXIoKSB7XG4gICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBzdGFydCA9IF90aGlzJHByb3BzLnN0YXJ0LFxuICAgICAgICB2b2x1bWUgPSBfdGhpcyRwcm9wcy52b2x1bWU7XG4gICAgdGhpcy5wbGF5ZXIgPSBuZXcgUGxheWVyKHRoaXMuY29udGFpbmVyLCB0aGlzLmdldEluaXRpYWxPcHRpb25zKCkpO1xuICAgIE9iamVjdC5rZXlzKGV2ZW50TmFtZXMpLmZvckVhY2goZnVuY3Rpb24gKGRtTmFtZSkge1xuICAgICAgdmFyIHJlYWN0TmFtZSA9IGV2ZW50TmFtZXNbZG1OYW1lXTtcblxuICAgICAgX3RoaXM0LnBsYXllci5vbihkbU5hbWUsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvZGVzdHJ1Y3R1cmluZy1hc3NpZ25tZW50XG4gICAgICAgIHZhciBoYW5kbGVyID0gX3RoaXM0LnByb3BzW3JlYWN0TmFtZV07XG5cbiAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICBoYW5kbGVyKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgIG9uRXJyb3IgPSBfdGhpcyRwcm9wczIub25FcnJvcixcbiAgICAgICAgb25SZWFkeSA9IF90aGlzJHByb3BzMi5vblJlYWR5O1xuICAgIHRoaXMucGxheWVyLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAob25SZWFkeSkge1xuICAgICAgICBvblJlYWR5KF90aGlzNC5wbGF5ZXIpO1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdudW1iZXInKSB7XG4gICAgICB0aGlzLnBsYXllci5zZXRDdXJyZW50VGltZShzdGFydCk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2b2x1bWUgPT09ICdudW1iZXInKSB7XG4gICAgICB0aGlzLnVwZGF0ZVByb3BzKFsndm9sdW1lJ10pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8ucmVmQ29udGFpbmVyID0gZnVuY3Rpb24gcmVmQ29udGFpbmVyKGNvbnRhaW5lcikge1xuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGlkID0gX3RoaXMkcHJvcHMzLmlkLFxuICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRwcm9wczMuY2xhc3NOYW1lLFxuICAgICAgICBzdHlsZSA9IF90aGlzJHByb3BzMy5zdHlsZTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgaWQ6IGlkLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICBzdHlsZTogc3R5bGUsXG4gICAgICByZWY6IHRoaXMucmVmQ29udGFpbmVyXG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFZpbWVvO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBWaW1lby5wcm9wVHlwZXMgPSB7XG4gICAgLyoqXG4gICAgICogQSBWaW1lbyB2aWRlbyBJRCBvciBVUkwuXG4gICAgICovXG4gICAgdmlkZW86IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5zdHJpbmddKSxcblxuICAgIC8qKlxuICAgICAqIERPTSBJRCBmb3IgdGhlIHBsYXllciBlbGVtZW50LlxuICAgICAqL1xuICAgIGlkOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gICAgLyoqXG4gICAgICogQ1NTIGNsYXNzTmFtZSBmb3IgdGhlIHBsYXllciBlbGVtZW50LlxuICAgICAqL1xuICAgIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcblxuICAgIC8qKlxuICAgICAqIElubGluZSBzdHlsZSBmb3IgY29udGFpbmVyIGVsZW1lbnQuXG4gICAgICovXG4gICAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9mb3JiaWQtcHJvcC10eXBlc1xuXG4gICAgLyoqXG4gICAgICogV2lkdGggb2YgdGhlIHBsYXllciBlbGVtZW50LlxuICAgICAqL1xuICAgIHdpZHRoOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc3RyaW5nXSksXG5cbiAgICAvKipcbiAgICAgKiBIZWlnaHQgb2YgdGhlIHBsYXllciBlbGVtZW50LlxuICAgICAqL1xuICAgIGhlaWdodDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLnN0cmluZ10pLFxuXG4gICAgLyoqXG4gICAgICogUGF1c2UgdGhlIHZpZGVvLlxuICAgICAqL1xuICAgIHBhdXNlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9uby11bnVzZWQtcHJvcC10eXBlc1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBsYXliYWNrIHZvbHVtZSBhcyBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEuXG4gICAgICovXG4gICAgdm9sdW1lOiBQcm9wVHlwZXMubnVtYmVyLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbWUgaW4gc2Vjb25kcyBhdCB3aGljaCB0byBzdGFydCBwbGF5aW5nIHRoZSB2aWRlby5cbiAgICAgKi9cbiAgICBzdGFydDogUHJvcFR5cGVzLm51bWJlcixcbiAgICAvLyBQbGF5ZXIgcGFyYW1ldGVyc1xuXG4gICAgLyoqXG4gICAgICogUGF1c2UgdGhpcyB2aWRlbyBhdXRvbWF0aWNhbGx5IHdoZW4gYW5vdGhlciBvbmUgcGxheXMuXG4gICAgICovXG4gICAgYXV0b3BhdXNlOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgIC8qKlxuICAgICAqIEF1dG9tYXRpY2FsbHkgc3RhcnQgcGxheWJhY2sgb2YgdGhlIHZpZGVvLiBOb3RlIHRoYXQgdGhpcyB3b27igJl0IHdvcmsgb25cbiAgICAgKiBzb21lIGRldmljZXMuXG4gICAgICovXG4gICAgYXV0b3BsYXk6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgLyoqXG4gICAgICogU2hvdyB0aGUgYnlsaW5lIG9uIHRoZSB2aWRlby5cbiAgICAgKi9cbiAgICBzaG93QnlsaW5lOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgIC8qKlxuICAgICAqIFNwZWNpZnkgdGhlIGNvbG9yIG9mIHRoZSB2aWRlbyBjb250cm9scy4gQ29sb3JzIG1heSBiZSBvdmVycmlkZGVuIGJ5IHRoZVxuICAgICAqIGVtYmVkIHNldHRpbmdzIG9mIHRoZSB2aWRlby4gXyhFeDogXCJlZjJmOWZcIilfXG4gICAgICovXG4gICAgY29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgICAvKipcbiAgICAgKiBCbG9ja3MgdGhlIHBsYXllciBmcm9tIHRyYWNraW5nIGFueSBzZXNzaW9uIGRhdGEsIGluY2x1ZGluZyBhbGwgY29va2llcyBhbmQgYW5hbHl0aWNzLlxuICAgICAqL1xuICAgIGRudDogUHJvcFR5cGVzLmJvb2wsXG4gICAgLy8gUGxheWVyIGNvbnRyb2xzXG5cbiAgICAvKipcbiAgICAgKiBIaWRlIGFsbCBlbGVtZW50cyBpbiB0aGUgcGxheWVyIChwbGF5IGJhciwgc2hhcmluZyBidXR0b25zLCBldGMpLlxuICAgICAqL1xuICAgIGNvbnRyb2xzOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgIC8qKlxuICAgICAqIFBsYXkgdGhlIHZpZGVvIGFnYWluIHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kLlxuICAgICAqL1xuICAgIGxvb3A6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgLyoqXG4gICAgICogU2hvdyB0aGUgcG9ydHJhaXQgb24gdGhlIHZpZGVvLlxuICAgICAqL1xuICAgIHNob3dQb3J0cmFpdDogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAvKipcbiAgICAgKiBTaG93IHRoZSB0aXRsZSBvbiB0aGUgdmlkZW8uXG4gICAgICovXG4gICAgc2hvd1RpdGxlOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBpbiBhIG11dGVkIHN0YXRlIHRvIGhlbHAgd2l0aCBhdXRvcGxheVxuICAgICAqL1xuICAgIG11dGVkOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBpbiBhIGJhY2tncm91bmQgc3RhdGUgd2l0aCBubyBjb250cm9scyB0byBoZWxwIHdpdGggYXV0b3BsYXlcbiAgICAgKi9cbiAgICBiYWNrZ3JvdW5kOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSByZXNwb25zaXZlIG1vZGUgYW5kIHJlc2l6ZSBhY2NvcmRpbmcgdG8gcGFyZW50IGVsZW1lbnQgKGV4cGVyaW1lbnRhbClcbiAgICAgKi9cbiAgICByZXNwb25zaXZlOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSBwbGF5YmFjayByYXRlIGNvbnRyb2xzIChyZXF1aXJlcyBWaW1lbyBQUk8gLyBCdXNpbmVzcyBhY2NvdW50KVxuICAgICAqL1xuICAgIHNwZWVkOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgIC8qKlxuICAgICAqIEFsbG93cyBmb3Iga2V5Ym9hcmQgaW5wdXQgdG8gdHJpZ2dlciBwbGF5ZXIgZXZlbnRzLlxuICAgICAqL1xuICAgIGtleWJvYXJkOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgIC8qKlxuICAgICAqIFNob3cgdGhlIHBpY3R1cmUtaW4tcGljdHVyZSBidXR0b24gaW4gdGhlIGNvbnRyb2xiYXJcbiAgICAgKiBhbmQgZW5hYmxlIHRoZSBwaWN0dXJlLWluLXBpY3R1cmUgQVBJLlxuICAgICAqL1xuICAgIHBpcDogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAvKipcbiAgICAgKiBQbGF5IHZpZGVvIGlubGluZSBvbiBtb2JpbGUgZGV2aWNlcywgdG8gYXV0b21hdGljYWxseVxuICAgICAqIGdvIGZ1bGxzY3JlZW4gb24gcGxheWJhY2sgc2V0IHRoaXMgcGFyYW1ldGVyIHRvIGZhbHNlLlxuICAgICAqL1xuICAgIHBsYXlzSW5saW5lOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgIC8qKlxuICAgICAqIFZpbWVvIFBsdXMsIFBSTywgYW5kIEJ1c2luZXNzIG1lbWJlcnMgY2FuIGRlZmF1bHRcbiAgICAgKiBhbiBlbWJlZGRlZCB2aWRlbyB0byBhIHNwZWNpZmljIHF1YWxpdHkgb24gZGVza3RvcC5cbiAgICAgKi9cbiAgICBxdWFsaXR5OiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gICAgLyoqXG4gICAgICogVHVybiBjYXB0aW9ucy9zdWJ0aXRsZXMgb24gZm9yIGEgc3BlY2lmaWMgbGFuZ3VhZ2UgYnkgZGVmYXVsdC5cbiAgICAgKi9cbiAgICB0ZXh0VHJhY2s6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVzcG9uc2l2ZSBwbGF5ZXIgYW5kIHRyYW5zcGFyZW50IGJhY2tncm91bmQgYXJlIGVuYWJsZWRcbiAgICAgKiBieSBkZWZhdWx0LCB0byBkaXNhYmxlIHNldCB0aGlzIHBhcmFtZXRlciB0byBmYWxzZS5cbiAgICAgKi9cbiAgICB0cmFuc3BhcmVudDogUHJvcFR5cGVzLmJvb2wsXG4gICAgLy8gRXZlbnRzXG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9uby11bnVzZWQtcHJvcC10eXBlcyAqL1xuXG4gICAgLyoqXG4gICAgICogU2VudCB3aGVuIHRoZSBWaW1lbyBwbGF5ZXIgQVBJIGhhcyBsb2FkZWQuXG4gICAgICogUmVjZWl2ZXMgdGhlIFZpbWVvIHBsYXllciBvYmplY3QgaW4gdGhlIGZpcnN0IHBhcmFtZXRlci5cbiAgICAgKi9cbiAgICBvblJlYWR5OiBQcm9wVHlwZXMuZnVuYyxcblxuICAgIC8qKlxuICAgICAqIFNlbnQgd2hlbiB0aGUgcGxheWVyIHRyaWdnZXJzIGFuIGVycm9yLlxuICAgICAqL1xuICAgIG9uRXJyb3I6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gdGhlIHZpZGVvIHBsYXlzLlxuICAgICAqL1xuICAgIG9uUGxheTogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgdmlkZW8gcGF1c2VzLlxuICAgICAqL1xuICAgIG9uUGF1c2U6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGFueSB0aW1lIHRoZSB2aWRlbyBwbGF5YmFjayByZWFjaGVzIHRoZSBlbmQuXG4gICAgICogTm90ZTogd2hlbiBgbG9vcGAgaXMgdHVybmVkIG9uLCB0aGUgZW5kZWQgZXZlbnQgd2lsbCBub3QgZmlyZS5cbiAgICAgKi9cbiAgICBvbkVuZDogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYXMgdGhlIGBjdXJyZW50VGltZWAgb2YgdGhlIHZpZGVvIHVwZGF0ZXMuIEl0IGdlbmVyYWxseSBmaXJlc1xuICAgICAqIGV2ZXJ5IDI1MG1zLCBidXQgaXQgbWF5IHZhcnkgZGVwZW5kaW5nIG9uIHRoZSBicm93c2VyLlxuICAgICAqL1xuICAgIG9uVGltZVVwZGF0ZTogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYXMgdGhlIHZpZGVvIGlzIGxvYWRlZC4gUmVwb3J0cyBiYWNrIHRoZSBhbW91bnQgb2YgdGhlIHZpZGVvXG4gICAgICogdGhhdCBoYXMgYmVlbiBidWZmZXJlZC5cbiAgICAgKi9cbiAgICBvblByb2dyZXNzOiBQcm9wVHlwZXMuZnVuYyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIHRoZSBwbGF5ZXIgc2Vla3MgdG8gYSBzcGVjaWZpYyB0aW1lLiBBbiBgb25UaW1lVXBkYXRlYFxuICAgICAqIGV2ZW50IHdpbGwgYWxzbyBiZSBmaXJlZCBhdCB0aGUgc2FtZSB0aW1lLlxuICAgICAqL1xuICAgIG9uU2Vla2VkOiBQcm9wVHlwZXMuZnVuYyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIHRoZSBhY3RpdmUgdGV4dCB0cmFjayAoY2FwdGlvbnMvc3VidGl0bGVzKSBjaGFuZ2VzLiBUaGVcbiAgICAgKiB2YWx1ZXMgd2lsbCBiZSBgbnVsbGAgaWYgdGV4dCB0cmFja3MgYXJlIHR1cm5lZCBvZmYuXG4gICAgICovXG4gICAgb25UZXh0VHJhY2tDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gdGhlIGFjdGl2ZSBjdWUgZm9yIHRoZSBjdXJyZW50IHRleHQgdHJhY2sgY2hhbmdlcy4gSXQgYWxzb1xuICAgICAqIGZpcmVzIHdoZW4gdGhlIGFjdGl2ZSB0ZXh0IHRyYWNrIGNoYW5nZXMuIFRoZXJlIG1heSBiZSBtdWx0aXBsZSBjdWVzXG4gICAgICogYWN0aXZlLlxuICAgICAqL1xuICAgIG9uQ3VlQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIHRoZSBjdXJyZW50IHRpbWUgaGl0cyBhIHJlZ2lzdGVyZWQgY3VlIHBvaW50LlxuICAgICAqL1xuICAgIG9uQ3VlUG9pbnQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gdGhlIHZvbHVtZSBpbiB0aGUgcGxheWVyIGNoYW5nZXMuIFNvbWUgZGV2aWNlcyBkbyBub3RcbiAgICAgKiBzdXBwb3J0IHNldHRpbmcgdGhlIHZvbHVtZSBvZiB0aGUgdmlkZW8gaW5kZXBlbmRlbnRseSBmcm9tIHRoZSBzeXN0ZW1cbiAgICAgKiB2b2x1bWUsIHNvIHRoaXMgZXZlbnQgd2lsbCBuZXZlciBmaXJlIG9uIHRob3NlIGRldmljZXMuXG4gICAgICovXG4gICAgb25Wb2x1bWVDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gdGhlIHBsYXliYWNrIHJhdGUgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBvblBsYXliYWNrUmF0ZUNoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBhIG5ldyB2aWRlbyBpcyBsb2FkZWQgaW4gdGhlIHBsYXllci5cbiAgICAgKi9cbiAgICBvbkxvYWRlZDogUHJvcFR5cGVzLmZ1bmNcbiAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0L25vLXVudXNlZC1wcm9wLXR5cGVzICovXG5cbiAgfTtcbn1cblxuVmltZW8uZGVmYXVsdFByb3BzID0ge1xuICBhdXRvcGF1c2U6IHRydWUsXG4gIGF1dG9wbGF5OiBmYWxzZSxcbiAgc2hvd0J5bGluZTogdHJ1ZSxcbiAgY29udHJvbHM6IHRydWUsXG4gIGxvb3A6IGZhbHNlLFxuICBzaG93UG9ydHJhaXQ6IHRydWUsXG4gIHNob3dUaXRsZTogdHJ1ZSxcbiAgbXV0ZWQ6IGZhbHNlLFxuICBiYWNrZ3JvdW5kOiBmYWxzZSxcbiAgcmVzcG9uc2l2ZTogZmFsc2UsXG4gIGRudDogZmFsc2UsXG4gIHNwZWVkOiBmYWxzZSxcbiAga2V5Ym9hcmQ6IHRydWUsXG4gIHBpcDogZmFsc2UsXG4gIHBsYXlzSW5saW5lOiB0cnVlLFxuICB0cmFuc3BhcmVudDogdHJ1ZVxufTtcblxuZXhwb3J0IHsgVmltZW8gYXMgZGVmYXVsdCB9O1xuIiwiLyohXG4gIENvcHlyaWdodCAoYykgMjAxOCBKZWQgV2F0c29uLlxuICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKE1JVCksIHNlZVxuICBodHRwOi8vamVkd2F0c29uLmdpdGh1Yi5pby9jbGFzc25hbWVzXG4qL1xuLyogZ2xvYmFsIGRlZmluZSAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGhhc093biA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5cdGZ1bmN0aW9uIGNsYXNzTmFtZXMoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdGlmIChhcmcubGVuZ3RoKSB7XG5cdFx0XHRcdFx0dmFyIGlubmVyID0gY2xhc3NOYW1lcy5hcHBseShudWxsLCBhcmcpO1xuXHRcdFx0XHRcdGlmIChpbm5lcikge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGlubmVyKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoYXJnVHlwZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0aWYgKGFyZy50b1N0cmluZyA9PT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZykge1xuXHRcdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRcdGlmIChoYXNPd24uY2FsbChhcmcsIGtleSkgJiYgYXJnW2tleV0pIHtcblx0XHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNsYXNzZXMucHVzaChhcmcudG9TdHJpbmcoKSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG5cdH1cblxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRjbGFzc05hbWVzLmRlZmF1bHQgPSBjbGFzc05hbWVzO1xuXHRcdG1vZHVsZS5leHBvcnRzID0gY2xhc3NOYW1lcztcblx0fSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gcmVnaXN0ZXIgYXMgJ2NsYXNzbmFtZXMnLCBjb25zaXN0ZW50IHdpdGggbnBtIHBhY2thZ2UgbmFtZVxuXHRcdGRlZmluZSgnY2xhc3NuYW1lcycsIFtdLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gY2xhc3NOYW1lcztcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHR3aW5kb3cuY2xhc3NOYW1lcyA9IGNsYXNzTmFtZXM7XG5cdH1cbn0oKSk7XG4iLCJpbXBvcnQgeyBjcmVhdGVDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuY29uc3QgTW90aW9uQ29uZmlnQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe1xuICAgIHRyYW5zZm9ybVBhZ2VQb2ludDogKHApID0+IHAsXG4gICAgaXNTdGF0aWM6IGZhbHNlLFxuICAgIHJlZHVjZWRNb3Rpb246IFwibmV2ZXJcIixcbn0pO1xuXG5leHBvcnQgeyBNb3Rpb25Db25maWdDb250ZXh0IH07XG4iLCJpbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuXG5jb25zdCBNb3Rpb25Db250ZXh0ID0gY3JlYXRlQ29udGV4dCh7fSk7XG5mdW5jdGlvbiB1c2VWaXN1YWxFbGVtZW50Q29udGV4dCgpIHtcbiAgICByZXR1cm4gdXNlQ29udGV4dChNb3Rpb25Db250ZXh0KS52aXN1YWxFbGVtZW50O1xufVxuXG5leHBvcnQgeyBNb3Rpb25Db250ZXh0LCB1c2VWaXN1YWxFbGVtZW50Q29udGV4dCB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmNvbnN0IFByZXNlbmNlQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQobnVsbCk7XG5cbmV4cG9ydCB7IFByZXNlbmNlQ29udGV4dCB9O1xuIiwiY29uc3QgaXNCcm93c2VyID0gdHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiO1xuXG5leHBvcnQgeyBpc0Jyb3dzZXIgfTtcbiIsImltcG9ydCB7IHVzZUxheW91dEVmZmVjdCwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaXNCcm93c2VyIH0gZnJvbSAnLi9pcy1icm93c2VyLm1qcyc7XG5cbmNvbnN0IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSBpc0Jyb3dzZXIgPyB1c2VMYXlvdXRFZmZlY3QgOiB1c2VFZmZlY3Q7XG5cbmV4cG9ydCB7IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfTtcbiIsImltcG9ydCB7IGNyZWF0ZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IExhenlDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7IHN0cmljdDogZmFsc2UgfSk7XG5cbmV4cG9ydCB7IExhenlDb250ZXh0IH07XG4iLCJmdW5jdGlvbiBpc1JlZk9iamVjdChyZWYpIHtcbiAgICByZXR1cm4gKHR5cGVvZiByZWYgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlZiwgXCJjdXJyZW50XCIpKTtcbn1cblxuZXhwb3J0IHsgaXNSZWZPYmplY3QgfTtcbiIsIi8qKlxuICogRGVjaWRlcyBpZiB0aGUgc3VwcGxpZWQgdmFyaWFibGUgaXMgdmFyaWFudCBsYWJlbFxuICovXG5mdW5jdGlvbiBpc1ZhcmlhbnRMYWJlbCh2KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkodik7XG59XG5cbmV4cG9ydCB7IGlzVmFyaWFudExhYmVsIH07XG4iLCJmdW5jdGlvbiBpc0FuaW1hdGlvbkNvbnRyb2xzKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHYuc3RhcnQgPT09IFwiZnVuY3Rpb25cIjtcbn1cblxuZXhwb3J0IHsgaXNBbmltYXRpb25Db250cm9scyB9O1xuIiwiaW1wb3J0IHsgaXNBbmltYXRpb25Db250cm9scyB9IGZyb20gJy4uLy4uL2FuaW1hdGlvbi91dGlscy9pcy1hbmltYXRpb24tY29udHJvbHMubWpzJztcbmltcG9ydCB7IGlzVmFyaWFudExhYmVsIH0gZnJvbSAnLi9pcy12YXJpYW50LWxhYmVsLm1qcyc7XG5cbmNvbnN0IHZhcmlhbnRQcm9wcyA9IFtcbiAgICBcImluaXRpYWxcIixcbiAgICBcImFuaW1hdGVcIixcbiAgICBcImV4aXRcIixcbiAgICBcIndoaWxlSG92ZXJcIixcbiAgICBcIndoaWxlRHJhZ1wiLFxuICAgIFwid2hpbGVUYXBcIixcbiAgICBcIndoaWxlRm9jdXNcIixcbiAgICBcIndoaWxlSW5WaWV3XCIsXG5dO1xuZnVuY3Rpb24gaXNDb250cm9sbGluZ1ZhcmlhbnRzKHByb3BzKSB7XG4gICAgcmV0dXJuIChpc0FuaW1hdGlvbkNvbnRyb2xzKHByb3BzLmFuaW1hdGUpIHx8XG4gICAgICAgIHZhcmlhbnRQcm9wcy5zb21lKChuYW1lKSA9PiBpc1ZhcmlhbnRMYWJlbChwcm9wc1tuYW1lXSkpKTtcbn1cbmZ1bmN0aW9uIGlzVmFyaWFudE5vZGUocHJvcHMpIHtcbiAgICByZXR1cm4gQm9vbGVhbihpc0NvbnRyb2xsaW5nVmFyaWFudHMocHJvcHMpIHx8IHByb3BzLnZhcmlhbnRzKTtcbn1cblxuZXhwb3J0IHsgaXNDb250cm9sbGluZ1ZhcmlhbnRzLCBpc1ZhcmlhbnROb2RlIH07XG4iLCJpbXBvcnQgeyB1c2VDb250ZXh0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTW90aW9uQ29udGV4dCB9IGZyb20gJy4vaW5kZXgubWpzJztcbmltcG9ydCB7IGdldEN1cnJlbnRUcmVlVmFyaWFudHMgfSBmcm9tICcuL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIHVzZUNyZWF0ZU1vdGlvbkNvbnRleHQocHJvcHMpIHtcbiAgICBjb25zdCB7IGluaXRpYWwsIGFuaW1hdGUgfSA9IGdldEN1cnJlbnRUcmVlVmFyaWFudHMocHJvcHMsIHVzZUNvbnRleHQoTW90aW9uQ29udGV4dCkpO1xuICAgIHJldHVybiB1c2VNZW1vKCgpID0+ICh7IGluaXRpYWwsIGFuaW1hdGUgfSksIFt2YXJpYW50TGFiZWxzQXNEZXBlbmRlbmN5KGluaXRpYWwpLCB2YXJpYW50TGFiZWxzQXNEZXBlbmRlbmN5KGFuaW1hdGUpXSk7XG59XG5mdW5jdGlvbiB2YXJpYW50TGFiZWxzQXNEZXBlbmRlbmN5KHByb3ApIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwcm9wKSA/IHByb3Auam9pbihcIiBcIikgOiBwcm9wO1xufVxuXG5leHBvcnQgeyB1c2VDcmVhdGVNb3Rpb25Db250ZXh0IH07XG4iLCJjb25zdCBjcmVhdGVEZWZpbml0aW9uID0gKHByb3BOYW1lcykgPT4gKHtcbiAgICBpc0VuYWJsZWQ6IChwcm9wcykgPT4gcHJvcE5hbWVzLnNvbWUoKG5hbWUpID0+ICEhcHJvcHNbbmFtZV0pLFxufSk7XG5jb25zdCBmZWF0dXJlRGVmaW5pdGlvbnMgPSB7XG4gICAgbWVhc3VyZUxheW91dDogY3JlYXRlRGVmaW5pdGlvbihbXCJsYXlvdXRcIiwgXCJsYXlvdXRJZFwiLCBcImRyYWdcIl0pLFxuICAgIGFuaW1hdGlvbjogY3JlYXRlRGVmaW5pdGlvbihbXG4gICAgICAgIFwiYW5pbWF0ZVwiLFxuICAgICAgICBcImV4aXRcIixcbiAgICAgICAgXCJ2YXJpYW50c1wiLFxuICAgICAgICBcIndoaWxlSG92ZXJcIixcbiAgICAgICAgXCJ3aGlsZVRhcFwiLFxuICAgICAgICBcIndoaWxlRm9jdXNcIixcbiAgICAgICAgXCJ3aGlsZURyYWdcIixcbiAgICAgICAgXCJ3aGlsZUluVmlld1wiLFxuICAgIF0pLFxuICAgIGV4aXQ6IGNyZWF0ZURlZmluaXRpb24oW1wiZXhpdFwiXSksXG4gICAgZHJhZzogY3JlYXRlRGVmaW5pdGlvbihbXCJkcmFnXCIsIFwiZHJhZ0NvbnRyb2xzXCJdKSxcbiAgICBmb2N1czogY3JlYXRlRGVmaW5pdGlvbihbXCJ3aGlsZUZvY3VzXCJdKSxcbiAgICBob3ZlcjogY3JlYXRlRGVmaW5pdGlvbihbXCJ3aGlsZUhvdmVyXCIsIFwib25Ib3ZlclN0YXJ0XCIsIFwib25Ib3ZlckVuZFwiXSksXG4gICAgdGFwOiBjcmVhdGVEZWZpbml0aW9uKFtcIndoaWxlVGFwXCIsIFwib25UYXBcIiwgXCJvblRhcFN0YXJ0XCIsIFwib25UYXBDYW5jZWxcIl0pLFxuICAgIHBhbjogY3JlYXRlRGVmaW5pdGlvbihbXG4gICAgICAgIFwib25QYW5cIixcbiAgICAgICAgXCJvblBhblN0YXJ0XCIsXG4gICAgICAgIFwib25QYW5TZXNzaW9uU3RhcnRcIixcbiAgICAgICAgXCJvblBhbkVuZFwiLFxuICAgIF0pLFxuICAgIGluVmlldzogY3JlYXRlRGVmaW5pdGlvbihbXG4gICAgICAgIFwid2hpbGVJblZpZXdcIixcbiAgICAgICAgXCJvblZpZXdwb3J0RW50ZXJcIixcbiAgICAgICAgXCJvblZpZXdwb3J0TGVhdmVcIixcbiAgICBdKSxcbn07XG5cbmV4cG9ydCB7IGZlYXR1cmVEZWZpbml0aW9ucyB9O1xuIiwiaW1wb3J0IHsgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjb25zdGFudCB2YWx1ZSBvdmVyIHRoZSBsaWZlY3ljbGUgb2YgYSBjb21wb25lbnQuXG4gKlxuICogRXZlbiBpZiBgdXNlTWVtb2AgaXMgcHJvdmlkZWQgYW4gZW1wdHkgYXJyYXkgYXMgaXRzIGZpbmFsIGFyZ3VtZW50LCBpdCBkb2Vzbid0IG9mZmVyXG4gKiBhIGd1YXJhbnRlZSB0aGF0IGl0IHdvbid0IHJlLXJ1biBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyBsYXRlciBvbi4gQnkgdXNpbmcgYHVzZUNvbnN0YW50YFxuICogeW91IGNhbiBlbnN1cmUgdGhhdCBpbml0aWFsaXNlcnMgZG9uJ3QgZXhlY3V0ZSB0d2ljZSBvciBtb3JlLlxuICovXG5mdW5jdGlvbiB1c2VDb25zdGFudChpbml0KSB7XG4gICAgY29uc3QgcmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGlmIChyZWYuY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgICByZWYuY3VycmVudCA9IGluaXQoKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlZi5jdXJyZW50O1xufVxuXG5leHBvcnQgeyB1c2VDb25zdGFudCB9O1xuIiwiLyoqXG4gKiBUaGlzIHNob3VsZCBvbmx5IGV2ZXIgYmUgbW9kaWZpZWQgb24gdGhlIGNsaWVudCBvdGhlcndpc2UgaXQnbGxcbiAqIHBlcnNpc3QgdGhyb3VnaCBzZXJ2ZXIgcmVxdWVzdHMuIElmIHdlIG5lZWQgaW5zdGFuY2VkIHN0YXRlcyB3ZVxuICogY291bGQgbGF6eS1pbml0IHZpYSByb290LlxuICovXG5jb25zdCBnbG9iYWxQcm9qZWN0aW9uU3RhdGUgPSB7XG4gICAgLyoqXG4gICAgICogR2xvYmFsIGZsYWcgYXMgdG8gd2hldGhlciB0aGUgdHJlZSBoYXMgYW5pbWF0ZWQgc2luY2UgdGhlIGxhc3QgdGltZVxuICAgICAqIHdlIHJlc2l6ZWQgdGhlIHdpbmRvd1xuICAgICAqL1xuICAgIGhhc0FuaW1hdGVkU2luY2VSZXNpemU6IHRydWUsXG4gICAgLyoqXG4gICAgICogV2Ugc2V0IHRoaXMgdG8gdHJ1ZSBvbmNlLCBvbiB0aGUgZmlyc3QgdXBkYXRlLiBBbnkgbm9kZXMgYWRkZWQgdG8gdGhlIHRyZWUgYmV5b25kIHRoYXRcbiAgICAgKiB1cGRhdGUgd2lsbCBiZSBnaXZlbiBhIGBkYXRhLXByb2plY3Rpb24taWRgIGF0dHJpYnV0ZS5cbiAgICAgKi9cbiAgICBoYXNFdmVyVXBkYXRlZDogZmFsc2UsXG59O1xuXG5leHBvcnQgeyBnbG9iYWxQcm9qZWN0aW9uU3RhdGUgfTtcbiIsImltcG9ydCB7IHVzZUNvbnN0YW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLWNvbnN0YW50Lm1qcyc7XG5pbXBvcnQgeyBnbG9iYWxQcm9qZWN0aW9uU3RhdGUgfSBmcm9tICcuL3N0YXRlLm1qcyc7XG5cbmxldCBpZCA9IDE7XG5mdW5jdGlvbiB1c2VQcm9qZWN0aW9uSWQoKSB7XG4gICAgcmV0dXJuIHVzZUNvbnN0YW50KCgpID0+IHtcbiAgICAgICAgaWYgKGdsb2JhbFByb2plY3Rpb25TdGF0ZS5oYXNFdmVyVXBkYXRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGlkKys7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZXhwb3J0IHsgdXNlUHJvamVjdGlvbklkIH07XG4iLCJpbXBvcnQgeyBjcmVhdGVDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuXG5jb25zdCBMYXlvdXRHcm91cENvbnRleHQgPSBjcmVhdGVDb250ZXh0KHt9KTtcblxuZXhwb3J0IHsgTGF5b3V0R3JvdXBDb250ZXh0IH07XG4iLCJpbXBvcnQgUmVhY3RfX2RlZmF1bHQgZnJvbSAncmVhY3QnO1xuXG5jbGFzcyBWaXN1YWxFbGVtZW50SGFuZGxlciBleHRlbmRzIFJlYWN0X19kZWZhdWx0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHZpc3VhbCBlbGVtZW50IHByb3BzIGFzIHNvb24gYXMgd2Uga25vdyB0aGlzIHVwZGF0ZSBpcyBnb2luZyB0byBiZSBjb21taXRlZC5cbiAgICAgKi9cbiAgICBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpIHtcbiAgICAgICAgY29uc3QgeyB2aXN1YWxFbGVtZW50LCBwcm9wcyB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgaWYgKHZpc3VhbEVsZW1lbnQpXG4gICAgICAgICAgICB2aXN1YWxFbGVtZW50LnNldFByb3BzKHByb3BzKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbXBvbmVudERpZFVwZGF0ZSgpIHsgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgfVxufVxuXG5leHBvcnQgeyBWaXN1YWxFbGVtZW50SGFuZGxlciB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBJbnRlcm5hbCwgZXhwb3J0ZWQgb25seSBmb3IgdXNhZ2UgaW4gRnJhbWVyXG4gKi9cbmNvbnN0IFN3aXRjaExheW91dEdyb3VwQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe30pO1xuXG5leHBvcnQgeyBTd2l0Y2hMYXlvdXRHcm91cENvbnRleHQgfTtcbiIsImNvbnN0IG1vdGlvbkNvbXBvbmVudFN5bWJvbCA9IFN5bWJvbC5mb3IoXCJtb3Rpb25Db21wb25lbnRTeW1ib2xcIik7XG5cbmV4cG9ydCB7IG1vdGlvbkNvbXBvbmVudFN5bWJvbCB9O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZm9yd2FyZFJlZiwgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IE1vdGlvbkNvbmZpZ0NvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L01vdGlvbkNvbmZpZ0NvbnRleHQubWpzJztcbmltcG9ydCB7IE1vdGlvbkNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L01vdGlvbkNvbnRleHQvaW5kZXgubWpzJztcbmltcG9ydCB7IHVzZVZpc3VhbEVsZW1lbnQgfSBmcm9tICcuL3V0aWxzL3VzZS12aXN1YWwtZWxlbWVudC5tanMnO1xuaW1wb3J0IHsgdXNlTW90aW9uUmVmIH0gZnJvbSAnLi91dGlscy91c2UtbW90aW9uLXJlZi5tanMnO1xuaW1wb3J0IHsgdXNlQ3JlYXRlTW90aW9uQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvTW90aW9uQ29udGV4dC9jcmVhdGUubWpzJztcbmltcG9ydCB7IGZlYXR1cmVEZWZpbml0aW9ucyB9IGZyb20gJy4vZmVhdHVyZXMvZGVmaW5pdGlvbnMubWpzJztcbmltcG9ydCB7IGxvYWRGZWF0dXJlcyB9IGZyb20gJy4vZmVhdHVyZXMvbG9hZC1mZWF0dXJlcy5tanMnO1xuaW1wb3J0IHsgaXNCcm93c2VyIH0gZnJvbSAnLi4vdXRpbHMvaXMtYnJvd3Nlci5tanMnO1xuaW1wb3J0IHsgdXNlUHJvamVjdGlvbklkIH0gZnJvbSAnLi4vcHJvamVjdGlvbi9ub2RlL2lkLm1qcyc7XG5pbXBvcnQgeyBMYXlvdXRHcm91cENvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L0xheW91dEdyb3VwQ29udGV4dC5tanMnO1xuaW1wb3J0IHsgVmlzdWFsRWxlbWVudEhhbmRsZXIgfSBmcm9tICcuL3V0aWxzL1Zpc3VhbEVsZW1lbnRIYW5kbGVyLm1qcyc7XG5pbXBvcnQgeyBMYXp5Q29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvTGF6eUNvbnRleHQubWpzJztcbmltcG9ydCB7IFN3aXRjaExheW91dEdyb3VwQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvU3dpdGNoTGF5b3V0R3JvdXBDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyBtb3Rpb25Db21wb25lbnRTeW1ib2wgfSBmcm9tICcuL3V0aWxzL3N5bWJvbC5tanMnO1xuXG4vKipcbiAqIENyZWF0ZSBhIGBtb3Rpb25gIGNvbXBvbmVudC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHMgYSBDb21wb25lbnQgYXJndW1lbnQsIHdoaWNoIGNhbiBiZSBlaXRoZXIgYSBzdHJpbmcgKGllIFwiZGl2XCJcbiAqIGZvciBgbW90aW9uLmRpdmApLCBvciBhbiBhY3R1YWwgUmVhY3QgY29tcG9uZW50LlxuICpcbiAqIEFsb25nc2lkZSB0aGlzIGlzIGEgY29uZmlnIG9wdGlvbiB3aGljaCBwcm92aWRlcyBhIHdheSBvZiByZW5kZXJpbmcgdGhlIHByb3ZpZGVkXG4gKiBjb21wb25lbnQgXCJvZmZsaW5lXCIsIG9yIG91dHNpZGUgdGhlIFJlYWN0IHJlbmRlciBjeWNsZS5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlTW90aW9uQ29tcG9uZW50KHsgcHJlbG9hZGVkRmVhdHVyZXMsIGNyZWF0ZVZpc3VhbEVsZW1lbnQsIHByb2plY3Rpb25Ob2RlQ29uc3RydWN0b3IsIHVzZVJlbmRlciwgdXNlVmlzdWFsU3RhdGUsIENvbXBvbmVudCwgfSkge1xuICAgIHByZWxvYWRlZEZlYXR1cmVzICYmIGxvYWRGZWF0dXJlcyhwcmVsb2FkZWRGZWF0dXJlcyk7XG4gICAgZnVuY3Rpb24gTW90aW9uQ29tcG9uZW50KHByb3BzLCBleHRlcm5hbFJlZikge1xuICAgICAgICBjb25zdCBjb25maWdBbmRQcm9wcyA9IHtcbiAgICAgICAgICAgIC4uLnVzZUNvbnRleHQoTW90aW9uQ29uZmlnQ29udGV4dCksXG4gICAgICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgICAgIGxheW91dElkOiB1c2VMYXlvdXRJZChwcm9wcyksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHsgaXNTdGF0aWMgfSA9IGNvbmZpZ0FuZFByb3BzO1xuICAgICAgICBsZXQgZmVhdHVyZXMgPSBudWxsO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdXNlQ3JlYXRlTW90aW9uQ29udGV4dChwcm9wcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgYSB1bmlxdWUgcHJvamVjdGlvbiBJRCBmb3IgdGhpcyBjb21wb25lbnQuIElmIGEgbmV3IGNvbXBvbmVudCBpcyBhZGRlZFxuICAgICAgICAgKiBkdXJpbmcgYSBsYXlvdXQgYW5pbWF0aW9uIHdlJ2xsIHVzZSB0aGlzIHRvIHF1ZXJ5IHRoZSBET00gYW5kIGh5ZHJhdGUgaXRzIHJlZiBlYXJseSwgYWxsb3dpbmdcbiAgICAgICAgICogdXMgdG8gbWVhc3VyZSBpdCBhcyBzb29uIGFzIGFueSBsYXlvdXQgZWZmZWN0IGZsdXNoZXMgcGVuZGluZyBsYXlvdXQgYW5pbWF0aW9ucy5cbiAgICAgICAgICpcbiAgICAgICAgICogUGVyZm9ybWFuY2Ugbm90ZTogSXQnZCBiZSBiZXR0ZXIgbm90IHRvIGhhdmUgdG8gc2VhcmNoIHRoZSBET00gZm9yIHRoZXNlIGVsZW1lbnRzLlxuICAgICAgICAgKiBGb3IgbmV3bHktZW50ZXJpbmcgY29tcG9uZW50cyBpdCBjb3VsZCBiZSBlbm91Z2ggdG8gb25seSBjb3JyZWN0IHRyZWVTY2FsZSwgaW4gd2hpY2hcbiAgICAgICAgICogY2FzZSB3ZSBjb3VsZCBtb3VudCBpbiBhIHNjYWxlLWNvcnJlY3Rpb24gbW9kZS4gVGhpcyB3b3VsZG4ndCBiZSBlbm91Z2ggZm9yXG4gICAgICAgICAqIHNoYXJlZCBlbGVtZW50IHRyYW5zaXRpb25zIGhvd2V2ZXIuIFBlcmhhcHMgZm9yIHRob3NlIHdlIGNvdWxkIHJldmVydCB0byBhIHJvb3Qgbm9kZVxuICAgICAgICAgKiB0aGF0IGdldHMgZm9yY2VSZW5kZXJlZCBhbmQgbGF5b3V0IGFuaW1hdGlvbnMgYXJlIHRyaWdnZXJlZCBvbiBpdHMgbGF5b3V0IGVmZmVjdC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHByb2plY3Rpb25JZCA9IGlzU3RhdGljID8gdW5kZWZpbmVkIDogdXNlUHJvamVjdGlvbklkKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgdmlzdWFsU3RhdGUgPSB1c2VWaXN1YWxTdGF0ZShwcm9wcywgaXNTdGF0aWMpO1xuICAgICAgICBpZiAoIWlzU3RhdGljICYmIGlzQnJvd3Nlcikge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDcmVhdGUgYSBWaXN1YWxFbGVtZW50IGZvciB0aGlzIGNvbXBvbmVudC4gQSBWaXN1YWxFbGVtZW50IHByb3ZpZGVzIGEgY29tbW9uXG4gICAgICAgICAgICAgKiBpbnRlcmZhY2UgdG8gcmVuZGVyZXItc3BlY2lmaWMgQVBJcyAoaWUgRE9NL1RocmVlLmpzIGV0YykgYXMgd2VsbCBhc1xuICAgICAgICAgICAgICogcHJvdmlkaW5nIGEgd2F5IG9mIHJlbmRlcmluZyB0byB0aGVzZSBBUElzIG91dHNpZGUgb2YgdGhlIFJlYWN0IHJlbmRlciBsb29wXG4gICAgICAgICAgICAgKiBmb3IgbW9yZSBwZXJmb3JtYW50IGFuaW1hdGlvbnMgYW5kIGludGVyYWN0aW9uc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb250ZXh0LnZpc3VhbEVsZW1lbnQgPSB1c2VWaXN1YWxFbGVtZW50KENvbXBvbmVudCwgdmlzdWFsU3RhdGUsIGNvbmZpZ0FuZFByb3BzLCBjcmVhdGVWaXN1YWxFbGVtZW50KTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTG9hZCBNb3Rpb24gZ2VzdHVyZSBhbmQgYW5pbWF0aW9uIGZlYXR1cmVzLiBUaGVzZSBhcmUgcmVuZGVyZWQgYXMgcmVuZGVybGVzc1xuICAgICAgICAgICAgICogY29tcG9uZW50cyBzbyBlYWNoIGZlYXR1cmUgY2FuIG9wdGlvbmFsbHkgbWFrZSB1c2Ugb2YgUmVhY3QgbGlmZWN5Y2xlIG1ldGhvZHMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IGxhenlTdHJpY3RNb2RlID0gdXNlQ29udGV4dChMYXp5Q29udGV4dCkuc3RyaWN0O1xuICAgICAgICAgICAgY29uc3QgaW5pdGlhbExheW91dEdyb3VwQ29uZmlnID0gdXNlQ29udGV4dChTd2l0Y2hMYXlvdXRHcm91cENvbnRleHQpO1xuICAgICAgICAgICAgaWYgKGNvbnRleHQudmlzdWFsRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGZlYXR1cmVzID0gY29udGV4dC52aXN1YWxFbGVtZW50LmxvYWRGZWF0dXJlcyhwcm9wcywgbGF6eVN0cmljdE1vZGUsIHByZWxvYWRlZEZlYXR1cmVzLCBwcm9qZWN0aW9uSWQsIHByb2plY3Rpb25Ob2RlQ29uc3RydWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZURlZmluaXRpb25zLnByb2plY3Rpb25Ob2RlQ29uc3RydWN0b3IsIGluaXRpYWxMYXlvdXRHcm91cENvbmZpZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtb3VudCBvcmRlciBhbmQgaGllcmFyY2h5IGlzIHNwZWNpZmljIHRvIGVuc3VyZSBvdXIgZWxlbWVudCByZWZcbiAgICAgICAgICogaXMgaHlkcmF0ZWQgYnkgdGhlIHRpbWUgZmVhdHVyZXMgZmlyZSB0aGVpciBlZmZlY3RzLlxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFZpc3VhbEVsZW1lbnRIYW5kbGVyLCB7IHZpc3VhbEVsZW1lbnQ6IGNvbnRleHQudmlzdWFsRWxlbWVudCwgcHJvcHM6IGNvbmZpZ0FuZFByb3BzIH0sXG4gICAgICAgICAgICBmZWF0dXJlcyxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTW90aW9uQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogY29udGV4dCB9LCB1c2VSZW5kZXIoQ29tcG9uZW50LCBwcm9wcywgcHJvamVjdGlvbklkLCB1c2VNb3Rpb25SZWYodmlzdWFsU3RhdGUsIGNvbnRleHQudmlzdWFsRWxlbWVudCwgZXh0ZXJuYWxSZWYpLCB2aXN1YWxTdGF0ZSwgaXNTdGF0aWMsIGNvbnRleHQudmlzdWFsRWxlbWVudCkpKSk7XG4gICAgfVxuICAgIGNvbnN0IEZvcndhcmRSZWZDb21wb25lbnQgPSBmb3J3YXJkUmVmKE1vdGlvbkNvbXBvbmVudCk7XG4gICAgRm9yd2FyZFJlZkNvbXBvbmVudFttb3Rpb25Db21wb25lbnRTeW1ib2xdID0gQ29tcG9uZW50O1xuICAgIHJldHVybiBGb3J3YXJkUmVmQ29tcG9uZW50O1xufVxuZnVuY3Rpb24gdXNlTGF5b3V0SWQoeyBsYXlvdXRJZCB9KSB7XG4gICAgY29uc3QgbGF5b3V0R3JvdXBJZCA9IHVzZUNvbnRleHQoTGF5b3V0R3JvdXBDb250ZXh0KS5pZDtcbiAgICByZXR1cm4gbGF5b3V0R3JvdXBJZCAmJiBsYXlvdXRJZCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gbGF5b3V0R3JvdXBJZCArIFwiLVwiICsgbGF5b3V0SWRcbiAgICAgICAgOiBsYXlvdXRJZDtcbn1cblxuZXhwb3J0IHsgY3JlYXRlTW90aW9uQ29tcG9uZW50IH07XG4iLCJpbXBvcnQgeyBmZWF0dXJlRGVmaW5pdGlvbnMgfSBmcm9tICcuL2RlZmluaXRpb25zLm1qcyc7XG5cbmZ1bmN0aW9uIGxvYWRGZWF0dXJlcyhmZWF0dXJlcykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGZlYXR1cmVzKSB7XG4gICAgICAgIGlmIChrZXkgPT09IFwicHJvamVjdGlvbk5vZGVDb25zdHJ1Y3RvclwiKSB7XG4gICAgICAgICAgICBmZWF0dXJlRGVmaW5pdGlvbnMucHJvamVjdGlvbk5vZGVDb25zdHJ1Y3RvciA9IGZlYXR1cmVzW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmZWF0dXJlRGVmaW5pdGlvbnNba2V5XS5Db21wb25lbnQgPSBmZWF0dXJlc1trZXldO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgeyBsb2FkRmVhdHVyZXMgfTtcbiIsImltcG9ydCB7IGlzVmFyaWFudExhYmVsIH0gZnJvbSAnLi4vLi4vcmVuZGVyL3V0aWxzL2lzLXZhcmlhbnQtbGFiZWwubWpzJztcbmltcG9ydCB7IGlzQ29udHJvbGxpbmdWYXJpYW50cyB9IGZyb20gJy4uLy4uL3JlbmRlci91dGlscy9pcy1jb250cm9sbGluZy12YXJpYW50cy5tanMnO1xuXG5mdW5jdGlvbiBnZXRDdXJyZW50VHJlZVZhcmlhbnRzKHByb3BzLCBjb250ZXh0KSB7XG4gICAgaWYgKGlzQ29udHJvbGxpbmdWYXJpYW50cyhwcm9wcykpIHtcbiAgICAgICAgY29uc3QgeyBpbml0aWFsLCBhbmltYXRlIH0gPSBwcm9wcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGluaXRpYWw6IGluaXRpYWwgPT09IGZhbHNlIHx8IGlzVmFyaWFudExhYmVsKGluaXRpYWwpXG4gICAgICAgICAgICAgICAgPyBpbml0aWFsXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBhbmltYXRlOiBpc1ZhcmlhbnRMYWJlbChhbmltYXRlKSA/IGFuaW1hdGUgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBwcm9wcy5pbmhlcml0ICE9PSBmYWxzZSA/IGNvbnRleHQgOiB7fTtcbn1cblxuZXhwb3J0IHsgZ2V0Q3VycmVudFRyZWVWYXJpYW50cyB9O1xuIiwiaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQcmVzZW5jZUNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L1ByZXNlbmNlQ29udGV4dC5tanMnO1xuaW1wb3J0IHsgdXNlVmlzdWFsRWxlbWVudENvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L01vdGlvbkNvbnRleHQvaW5kZXgubWpzJztcbmltcG9ydCB7IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfSBmcm9tICcuLi8uLi91dGlscy91c2UtaXNvbW9ycGhpYy1lZmZlY3QubWpzJztcbmltcG9ydCB7IExhenlDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9MYXp5Q29udGV4dC5tanMnO1xuaW1wb3J0IHsgTW90aW9uQ29uZmlnQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvTW90aW9uQ29uZmlnQ29udGV4dC5tanMnO1xuXG5mdW5jdGlvbiB1c2VWaXN1YWxFbGVtZW50KENvbXBvbmVudCwgdmlzdWFsU3RhdGUsIHByb3BzLCBjcmVhdGVWaXN1YWxFbGVtZW50KSB7XG4gICAgY29uc3QgcGFyZW50ID0gdXNlVmlzdWFsRWxlbWVudENvbnRleHQoKTtcbiAgICBjb25zdCBsYXp5Q29udGV4dCA9IHVzZUNvbnRleHQoTGF6eUNvbnRleHQpO1xuICAgIGNvbnN0IHByZXNlbmNlQ29udGV4dCA9IHVzZUNvbnRleHQoUHJlc2VuY2VDb250ZXh0KTtcbiAgICBjb25zdCByZWR1Y2VkTW90aW9uQ29uZmlnID0gdXNlQ29udGV4dChNb3Rpb25Db25maWdDb250ZXh0KS5yZWR1Y2VkTW90aW9uO1xuICAgIGNvbnN0IHZpc3VhbEVsZW1lbnRSZWYgPSB1c2VSZWYodW5kZWZpbmVkKTtcbiAgICAvKipcbiAgICAgKiBJZiB3ZSBoYXZlbid0IHByZWxvYWRlZCBhIHJlbmRlcmVyLCBjaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBvbmUgbGF6eS1sb2FkZWRcbiAgICAgKi9cbiAgICBjcmVhdGVWaXN1YWxFbGVtZW50ID0gY3JlYXRlVmlzdWFsRWxlbWVudCB8fCBsYXp5Q29udGV4dC5yZW5kZXJlcjtcbiAgICBpZiAoIXZpc3VhbEVsZW1lbnRSZWYuY3VycmVudCAmJiBjcmVhdGVWaXN1YWxFbGVtZW50KSB7XG4gICAgICAgIHZpc3VhbEVsZW1lbnRSZWYuY3VycmVudCA9IGNyZWF0ZVZpc3VhbEVsZW1lbnQoQ29tcG9uZW50LCB7XG4gICAgICAgICAgICB2aXN1YWxTdGF0ZSxcbiAgICAgICAgICAgIHBhcmVudCxcbiAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgcHJlc2VuY2VJZDogcHJlc2VuY2VDb250ZXh0ID8gcHJlc2VuY2VDb250ZXh0LmlkIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgYmxvY2tJbml0aWFsQW5pbWF0aW9uOiBwcmVzZW5jZUNvbnRleHRcbiAgICAgICAgICAgICAgICA/IHByZXNlbmNlQ29udGV4dC5pbml0aWFsID09PSBmYWxzZVxuICAgICAgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICByZWR1Y2VkTW90aW9uQ29uZmlnLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgdmlzdWFsRWxlbWVudCA9IHZpc3VhbEVsZW1lbnRSZWYuY3VycmVudDtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgdmlzdWFsRWxlbWVudCAmJiB2aXN1YWxFbGVtZW50LnN5bmNSZW5kZXIoKTtcbiAgICB9KTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAodmlzdWFsRWxlbWVudCAmJiB2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgICAgICB2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlLmFuaW1hdGVDaGFuZ2VzKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+ICgpID0+IHZpc3VhbEVsZW1lbnQgJiYgdmlzdWFsRWxlbWVudC5ub3RpZnlVbm1vdW50KCksIFtdKTtcbiAgICByZXR1cm4gdmlzdWFsRWxlbWVudDtcbn1cblxuZXhwb3J0IHsgdXNlVmlzdWFsRWxlbWVudCB9O1xuIiwiaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBpc1JlZk9iamVjdCB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLXJlZi1vYmplY3QubWpzJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgcmVmIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLCBoeWRyYXRlcyB0aGUgcHJvdmlkZWRcbiAqIGV4dGVybmFsIHJlZiBhbmQgVmlzdWFsRWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gdXNlTW90aW9uUmVmKHZpc3VhbFN0YXRlLCB2aXN1YWxFbGVtZW50LCBleHRlcm5hbFJlZikge1xuICAgIHJldHVybiB1c2VDYWxsYmFjaygoaW5zdGFuY2UpID0+IHtcbiAgICAgICAgaW5zdGFuY2UgJiYgdmlzdWFsU3RhdGUubW91bnQgJiYgdmlzdWFsU3RhdGUubW91bnQoaW5zdGFuY2UpO1xuICAgICAgICBpZiAodmlzdWFsRWxlbWVudCkge1xuICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICA/IHZpc3VhbEVsZW1lbnQubW91bnQoaW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgOiB2aXN1YWxFbGVtZW50LnVubW91bnQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXh0ZXJuYWxSZWYpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXh0ZXJuYWxSZWYgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIGV4dGVybmFsUmVmKGluc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVmT2JqZWN0KGV4dGVybmFsUmVmKSkge1xuICAgICAgICAgICAgICAgIGV4dGVybmFsUmVmLmN1cnJlbnQgPSBpbnN0YW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFxuICAgIC8qKlxuICAgICAqIE9ubHkgcGFzcyBhIG5ldyByZWYgY2FsbGJhY2sgdG8gUmVhY3QgaWYgd2UndmUgcmVjZWl2ZWQgYSB2aXN1YWwgZWxlbWVudFxuICAgICAqIGZhY3RvcnkuIE90aGVyd2lzZSB3ZSdsbCBiZSBtb3VudGluZy9yZW1vdW50aW5nIGV2ZXJ5IHRpbWUgZXh0ZXJuYWxSZWZcbiAgICAgKiBvciBvdGhlciBkZXBlbmRlbmNpZXMgY2hhbmdlLlxuICAgICAqL1xuICAgIFt2aXN1YWxFbGVtZW50XSk7XG59XG5cbmV4cG9ydCB7IHVzZU1vdGlvblJlZiB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlTW90aW9uQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vbW90aW9uL2luZGV4Lm1qcyc7XG5cbi8qKlxuICogQ29udmVydCBhbnkgUmVhY3QgY29tcG9uZW50IGludG8gYSBgbW90aW9uYCBjb21wb25lbnQuIFRoZSBwcm92aWRlZCBjb21wb25lbnRcbiAqICoqbXVzdCoqIHVzZSBgUmVhY3QuZm9yd2FyZFJlZmAgdG8gdGhlIHVuZGVybHlpbmcgRE9NIGNvbXBvbmVudCB5b3Ugd2FudCB0byBhbmltYXRlLlxuICpcbiAqIGBgYGpzeFxuICogY29uc3QgQ29tcG9uZW50ID0gUmVhY3QuZm9yd2FyZFJlZigocHJvcHMsIHJlZikgPT4ge1xuICogICByZXR1cm4gPGRpdiByZWY9e3JlZn0gLz5cbiAqIH0pXG4gKlxuICogY29uc3QgTW90aW9uQ29tcG9uZW50ID0gbW90aW9uKENvbXBvbmVudClcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTW90aW9uUHJveHkoY3JlYXRlQ29uZmlnKSB7XG4gICAgZnVuY3Rpb24gY3VzdG9tKENvbXBvbmVudCwgY3VzdG9tTW90aW9uQ29tcG9uZW50Q29uZmlnID0ge30pIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU1vdGlvbkNvbXBvbmVudChjcmVhdGVDb25maWcoQ29tcG9uZW50LCBjdXN0b21Nb3Rpb25Db21wb25lbnRDb25maWcpKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gY3VzdG9tO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIGNhY2hlIG9mIGdlbmVyYXRlZCBgbW90aW9uYCBjb21wb25lbnRzLCBlLmcgYG1vdGlvbi5kaXZgLCBgbW90aW9uLmlucHV0YCBldGMuXG4gICAgICogUmF0aGVyIHRoYW4gZ2VuZXJhdGluZyB0aGVtIGFuZXcgZXZlcnkgcmVuZGVyLlxuICAgICAqL1xuICAgIGNvbnN0IGNvbXBvbmVudENhY2hlID0gbmV3IE1hcCgpO1xuICAgIHJldHVybiBuZXcgUHJveHkoY3VzdG9tLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsZWQgd2hlbiBgbW90aW9uYCBpcyByZWZlcmVuY2VkIHdpdGggYSBwcm9wOiBgbW90aW9uLmRpdmAsIGBtb3Rpb24uaW5wdXRgIGV0Yy5cbiAgICAgICAgICogVGhlIHByb3AgbmFtZSBpcyBwYXNzZWQgdGhyb3VnaCBhcyBga2V5YCBhbmQgd2UgY2FuIHVzZSB0aGF0IHRvIGdlbmVyYXRlIGEgYG1vdGlvbmBcbiAgICAgICAgICogRE9NIGNvbXBvbmVudCB3aXRoIHRoYXQgbmFtZS5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogKF90YXJnZXQsIGtleSkgPT4ge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0aGlzIGVsZW1lbnQgZG9lc24ndCBleGlzdCBpbiB0aGUgY29tcG9uZW50IGNhY2hlLCBjcmVhdGUgaXQgYW5kIGNhY2hlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoIWNvbXBvbmVudENhY2hlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50Q2FjaGUuc2V0KGtleSwgY3VzdG9tKGtleSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudENhY2hlLmdldChrZXkpO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuXG5leHBvcnQgeyBjcmVhdGVNb3Rpb25Qcm94eSB9O1xuIiwiLyoqXG4gKiBXZSBrZWVwIHRoZXNlIGxpc3RlZCBzZXBlcmF0ZWx5IGFzIHdlIHVzZSB0aGUgbG93ZXJjYXNlIHRhZyBuYW1lcyBhcyBwYXJ0XG4gKiBvZiB0aGUgcnVudGltZSBidW5kbGUgdG8gZGV0ZWN0IFNWRyBjb21wb25lbnRzXG4gKi9cbmNvbnN0IGxvd2VyY2FzZVNWR0VsZW1lbnRzID0gW1xuICAgIFwiYW5pbWF0ZVwiLFxuICAgIFwiY2lyY2xlXCIsXG4gICAgXCJkZWZzXCIsXG4gICAgXCJkZXNjXCIsXG4gICAgXCJlbGxpcHNlXCIsXG4gICAgXCJnXCIsXG4gICAgXCJpbWFnZVwiLFxuICAgIFwibGluZVwiLFxuICAgIFwiZmlsdGVyXCIsXG4gICAgXCJtYXJrZXJcIixcbiAgICBcIm1hc2tcIixcbiAgICBcIm1ldGFkYXRhXCIsXG4gICAgXCJwYXRoXCIsXG4gICAgXCJwYXR0ZXJuXCIsXG4gICAgXCJwb2x5Z29uXCIsXG4gICAgXCJwb2x5bGluZVwiLFxuICAgIFwicmVjdFwiLFxuICAgIFwic3RvcFwiLFxuICAgIFwic3ZnXCIsXG4gICAgXCJzd2l0Y2hcIixcbiAgICBcInN5bWJvbFwiLFxuICAgIFwidGV4dFwiLFxuICAgIFwidHNwYW5cIixcbiAgICBcInVzZVwiLFxuICAgIFwidmlld1wiLFxuXTtcblxuZXhwb3J0IHsgbG93ZXJjYXNlU1ZHRWxlbWVudHMgfTtcbiIsImltcG9ydCB7IGxvd2VyY2FzZVNWR0VsZW1lbnRzIH0gZnJvbSAnLi4vLi4vc3ZnL2xvd2VyY2FzZS1lbGVtZW50cy5tanMnO1xuXG5mdW5jdGlvbiBpc1NWR0NvbXBvbmVudChDb21wb25lbnQpIHtcbiAgICBpZiAoXG4gICAgLyoqXG4gICAgICogSWYgaXQncyBub3QgYSBzdHJpbmcsIGl0J3MgYSBjdXN0b20gUmVhY3QgY29tcG9uZW50LiBDdXJyZW50bHkgd2Ugb25seSBzdXBwb3J0XG4gICAgICogSFRNTCBjdXN0b20gUmVhY3QgY29tcG9uZW50cy5cbiAgICAgKi9cbiAgICB0eXBlb2YgQ29tcG9uZW50ICE9PSBcInN0cmluZ1wiIHx8XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBpdCBjb250YWlucyBhIGRhc2gsIHRoZSBlbGVtZW50IGlzIGEgY3VzdG9tIEhUTUwgd2ViY29tcG9uZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgQ29tcG9uZW50LmluY2x1ZGVzKFwiLVwiKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVsc2UgaWYgKFxuICAgIC8qKlxuICAgICAqIElmIGl0J3MgaW4gb3VyIGxpc3Qgb2YgbG93ZXJjYXNlIFNWRyB0YWdzLCBpdCdzIGFuIFNWRyBjb21wb25lbnRcbiAgICAgKi9cbiAgICBsb3dlcmNhc2VTVkdFbGVtZW50cy5pbmRleE9mKENvbXBvbmVudCkgPiAtMSB8fFxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgaXQgY29udGFpbnMgYSBjYXBpdGFsIGxldHRlciwgaXQncyBhbiBTVkcgY29tcG9uZW50XG4gICAgICAgICAqL1xuICAgICAgICAvW0EtWl0vLnRlc3QoQ29tcG9uZW50KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgeyBpc1NWR0NvbXBvbmVudCB9O1xuIiwiY29uc3Qgc2NhbGVDb3JyZWN0b3JzID0ge307XG5mdW5jdGlvbiBhZGRTY2FsZUNvcnJlY3Rvcihjb3JyZWN0b3JzKSB7XG4gICAgT2JqZWN0LmFzc2lnbihzY2FsZUNvcnJlY3RvcnMsIGNvcnJlY3RvcnMpO1xufVxuXG5leHBvcnQgeyBhZGRTY2FsZUNvcnJlY3Rvciwgc2NhbGVDb3JyZWN0b3JzIH07XG4iLCIvKipcbiAqIEdlbmVyYXRlIGEgbGlzdCBvZiBldmVyeSBwb3NzaWJsZSB0cmFuc2Zvcm0ga2V5LlxuICovXG5jb25zdCB0cmFuc2Zvcm1Qcm9wT3JkZXIgPSBbXG4gICAgXCJ0cmFuc2Zvcm1QZXJzcGVjdGl2ZVwiLFxuICAgIFwieFwiLFxuICAgIFwieVwiLFxuICAgIFwielwiLFxuICAgIFwidHJhbnNsYXRlWFwiLFxuICAgIFwidHJhbnNsYXRlWVwiLFxuICAgIFwidHJhbnNsYXRlWlwiLFxuICAgIFwic2NhbGVcIixcbiAgICBcInNjYWxlWFwiLFxuICAgIFwic2NhbGVZXCIsXG4gICAgXCJyb3RhdGVcIixcbiAgICBcInJvdGF0ZVhcIixcbiAgICBcInJvdGF0ZVlcIixcbiAgICBcInJvdGF0ZVpcIixcbiAgICBcInNrZXdcIixcbiAgICBcInNrZXdYXCIsXG4gICAgXCJza2V3WVwiLFxuXTtcbi8qKlxuICogQSBxdWljayBsb29rdXAgZm9yIHRyYW5zZm9ybSBwcm9wcy5cbiAqL1xuY29uc3QgdHJhbnNmb3JtUHJvcHMgPSBuZXcgU2V0KHRyYW5zZm9ybVByb3BPcmRlcik7XG5cbmV4cG9ydCB7IHRyYW5zZm9ybVByb3BPcmRlciwgdHJhbnNmb3JtUHJvcHMgfTtcbiIsImltcG9ydCB7IHNjYWxlQ29ycmVjdG9ycyB9IGZyb20gJy4uLy4uL3Byb2plY3Rpb24vc3R5bGVzL3NjYWxlLWNvcnJlY3Rpb24ubWpzJztcbmltcG9ydCB7IHRyYW5zZm9ybVByb3BzIH0gZnJvbSAnLi4vLi4vcmVuZGVyL2h0bWwvdXRpbHMvdHJhbnNmb3JtLm1qcyc7XG5cbmZ1bmN0aW9uIGlzRm9yY2VkTW90aW9uVmFsdWUoa2V5LCB7IGxheW91dCwgbGF5b3V0SWQgfSkge1xuICAgIHJldHVybiAodHJhbnNmb3JtUHJvcHMuaGFzKGtleSkgfHxcbiAgICAgICAga2V5LnN0YXJ0c1dpdGgoXCJvcmlnaW5cIikgfHxcbiAgICAgICAgKChsYXlvdXQgfHwgbGF5b3V0SWQgIT09IHVuZGVmaW5lZCkgJiZcbiAgICAgICAgICAgICghIXNjYWxlQ29ycmVjdG9yc1trZXldIHx8IGtleSA9PT0gXCJvcGFjaXR5XCIpKSk7XG59XG5cbmV4cG9ydCB7IGlzRm9yY2VkTW90aW9uVmFsdWUgfTtcbiIsImNvbnN0IGlzTW90aW9uVmFsdWUgPSAodmFsdWUpID0+IHZhbHVlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6ICEhdmFsdWUuZ2V0VmVsb2NpdHk7XG5cbmV4cG9ydCB7IGlzTW90aW9uVmFsdWUgfTtcbiIsImltcG9ydCB7IHRyYW5zZm9ybVByb3BPcmRlciB9IGZyb20gJy4vdHJhbnNmb3JtLm1qcyc7XG5cbmNvbnN0IHRyYW5zbGF0ZUFsaWFzID0ge1xuICAgIHg6IFwidHJhbnNsYXRlWFwiLFxuICAgIHk6IFwidHJhbnNsYXRlWVwiLFxuICAgIHo6IFwidHJhbnNsYXRlWlwiLFxuICAgIHRyYW5zZm9ybVBlcnNwZWN0aXZlOiBcInBlcnNwZWN0aXZlXCIsXG59O1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRvIHVzZSB3aXRoIEFycmF5LnNvcnQgdG8gc29ydCB0cmFuc2Zvcm0ga2V5cyBieSB0aGVpciBkZWZhdWx0IG9yZGVyLlxuICovXG5jb25zdCBzb3J0VHJhbnNmb3JtUHJvcHMgPSAoYSwgYikgPT4gdHJhbnNmb3JtUHJvcE9yZGVyLmluZGV4T2YoYSkgLSB0cmFuc2Zvcm1Qcm9wT3JkZXIuaW5kZXhPZihiKTtcbi8qKlxuICogQnVpbGQgYSBDU1MgdHJhbnNmb3JtIHN0eWxlIGZyb20gaW5kaXZpZHVhbCB4L3kvc2NhbGUgZXRjIHByb3BlcnRpZXMuXG4gKlxuICogVGhpcyBvdXRwdXRzIHdpdGggYSBkZWZhdWx0IG9yZGVyIG9mIHRyYW5zZm9ybXMvc2NhbGVzL3JvdGF0aW9ucywgdGhpcyBjYW4gYmUgY3VzdG9taXNlZCBieVxuICogcHJvdmlkaW5nIGEgdHJhbnNmb3JtVGVtcGxhdGUgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkVHJhbnNmb3JtKHsgdHJhbnNmb3JtLCB0cmFuc2Zvcm1LZXlzIH0sIHsgZW5hYmxlSGFyZHdhcmVBY2NlbGVyYXRpb24gPSB0cnVlLCBhbGxvd1RyYW5zZm9ybU5vbmUgPSB0cnVlLCB9LCB0cmFuc2Zvcm1Jc0RlZmF1bHQsIHRyYW5zZm9ybVRlbXBsYXRlKSB7XG4gICAgLy8gVGhlIHRyYW5zZm9ybSBzdHJpbmcgd2UncmUgZ29pbmcgdG8gYnVpbGQgaW50by5cbiAgICBsZXQgdHJhbnNmb3JtU3RyaW5nID0gXCJcIjtcbiAgICAvLyBUcmFuc2Zvcm0ga2V5cyBpbnRvIHRoZWlyIGRlZmF1bHQgb3JkZXIgLSB0aGlzIHdpbGwgZGV0ZXJtaW5lIHRoZSBvdXRwdXQgb3JkZXIuXG4gICAgdHJhbnNmb3JtS2V5cy5zb3J0KHNvcnRUcmFuc2Zvcm1Qcm9wcyk7XG4gICAgLy8gTG9vcCBvdmVyIGVhY2ggdHJhbnNmb3JtIGFuZCBidWlsZCB0aGVtIGludG8gdHJhbnNmb3JtU3RyaW5nXG4gICAgZm9yIChjb25zdCBrZXkgb2YgdHJhbnNmb3JtS2V5cykge1xuICAgICAgICB0cmFuc2Zvcm1TdHJpbmcgKz0gYCR7dHJhbnNsYXRlQWxpYXNba2V5XSB8fCBrZXl9KCR7dHJhbnNmb3JtW2tleV19KSBgO1xuICAgIH1cbiAgICBpZiAoZW5hYmxlSGFyZHdhcmVBY2NlbGVyYXRpb24gJiYgIXRyYW5zZm9ybS56KSB7XG4gICAgICAgIHRyYW5zZm9ybVN0cmluZyArPSBcInRyYW5zbGF0ZVooMClcIjtcbiAgICB9XG4gICAgdHJhbnNmb3JtU3RyaW5nID0gdHJhbnNmb3JtU3RyaW5nLnRyaW0oKTtcbiAgICAvLyBJZiB3ZSBoYXZlIGEgY3VzdG9tIGB0cmFuc2Zvcm1gIHRlbXBsYXRlLCBwYXNzIG91ciB0cmFuc2Zvcm0gdmFsdWVzIGFuZFxuICAgIC8vIGdlbmVyYXRlZCB0cmFuc2Zvcm1TdHJpbmcgdG8gdGhhdCBiZWZvcmUgcmV0dXJuaW5nXG4gICAgaWYgKHRyYW5zZm9ybVRlbXBsYXRlKSB7XG4gICAgICAgIHRyYW5zZm9ybVN0cmluZyA9IHRyYW5zZm9ybVRlbXBsYXRlKHRyYW5zZm9ybSwgdHJhbnNmb3JtSXNEZWZhdWx0ID8gXCJcIiA6IHRyYW5zZm9ybVN0cmluZyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFsbG93VHJhbnNmb3JtTm9uZSAmJiB0cmFuc2Zvcm1Jc0RlZmF1bHQpIHtcbiAgICAgICAgdHJhbnNmb3JtU3RyaW5nID0gXCJub25lXCI7XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2Zvcm1TdHJpbmc7XG59XG5cbmV4cG9ydCB7IGJ1aWxkVHJhbnNmb3JtIH07XG4iLCIvKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZWQga2V5IGlzIGEgQ1NTIHZhcmlhYmxlXG4gKi9cbmZ1bmN0aW9uIGlzQ1NTVmFyaWFibGUoa2V5KSB7XG4gICAgcmV0dXJuIGtleS5zdGFydHNXaXRoKFwiLS1cIik7XG59XG5cbmV4cG9ydCB7IGlzQ1NTVmFyaWFibGUgfTtcbiIsIi8qKlxuICogUHJvdmlkZWQgYSB2YWx1ZSBhbmQgYSBWYWx1ZVR5cGUsIHJldHVybnMgdGhlIHZhbHVlIGFzIHRoYXQgdmFsdWUgdHlwZS5cbiAqL1xuY29uc3QgZ2V0VmFsdWVBc1R5cGUgPSAodmFsdWUsIHR5cGUpID0+IHtcbiAgICByZXR1cm4gdHlwZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCJcbiAgICAgICAgPyB0eXBlLnRyYW5zZm9ybSh2YWx1ZSlcbiAgICAgICAgOiB2YWx1ZTtcbn07XG5cbmV4cG9ydCB7IGdldFZhbHVlQXNUeXBlIH07XG4iLCJjb25zdCBjbGFtcCA9IChtaW4sIG1heCkgPT4gKHYpID0+IE1hdGgubWF4KE1hdGgubWluKHYsIG1heCksIG1pbik7XG5jb25zdCBzYW5pdGl6ZSA9ICh2KSA9PiAodiAlIDEgPyBOdW1iZXIodi50b0ZpeGVkKDUpKSA6IHYpO1xuY29uc3QgZmxvYXRSZWdleCA9IC8oLSk/KFtcXGRdKlxcLj9bXFxkXSkrL2c7XG5jb25zdCBjb2xvclJlZ2V4ID0gLygjWzAtOWEtZl17Nn18I1swLTlhLWZdezN9fCMoPzpbMC05YS1mXXsyfSl7Miw0fXwocmdifGhzbClhP1xcKCgtP1tcXGRcXC5dKyU/WyxcXHNdKyl7Mn0oLT9bXFxkXFwuXSslPylcXHMqW1xcLFxcL10/XFxzKltcXGRcXC5dKiU/XFwpKS9naTtcbmNvbnN0IHNpbmdsZUNvbG9yUmVnZXggPSAvXigjWzAtOWEtZl17M318Iyg/OlswLTlhLWZdezJ9KXsyLDR9fChyZ2J8aHNsKWE/XFwoKC0/W1xcZFxcLl0rJT9bLFxcc10rKXsyfSgtP1tcXGRcXC5dKyU/KVxccypbXFwsXFwvXT9cXHMqW1xcZFxcLl0qJT9cXCkpJC9pO1xuZnVuY3Rpb24gaXNTdHJpbmcodikge1xuICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ3N0cmluZyc7XG59XG5cbmV4cG9ydCB7IGNsYW1wLCBjb2xvclJlZ2V4LCBmbG9hdFJlZ2V4LCBpc1N0cmluZywgc2FuaXRpemUsIHNpbmdsZUNvbG9yUmVnZXggfTtcbiIsImltcG9ydCB7IGlzU3RyaW5nIH0gZnJvbSAnLi4vdXRpbHMubWpzJztcblxuY29uc3QgY3JlYXRlVW5pdFR5cGUgPSAodW5pdCkgPT4gKHtcbiAgICB0ZXN0OiAodikgPT4gaXNTdHJpbmcodikgJiYgdi5lbmRzV2l0aCh1bml0KSAmJiB2LnNwbGl0KCcgJykubGVuZ3RoID09PSAxLFxuICAgIHBhcnNlOiBwYXJzZUZsb2F0LFxuICAgIHRyYW5zZm9ybTogKHYpID0+IGAke3Z9JHt1bml0fWAsXG59KTtcbmNvbnN0IGRlZ3JlZXMgPSBjcmVhdGVVbml0VHlwZSgnZGVnJyk7XG5jb25zdCBwZXJjZW50ID0gY3JlYXRlVW5pdFR5cGUoJyUnKTtcbmNvbnN0IHB4ID0gY3JlYXRlVW5pdFR5cGUoJ3B4Jyk7XG5jb25zdCB2aCA9IGNyZWF0ZVVuaXRUeXBlKCd2aCcpO1xuY29uc3QgdncgPSBjcmVhdGVVbml0VHlwZSgndncnKTtcbmNvbnN0IHByb2dyZXNzUGVyY2VudGFnZSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcGVyY2VudCksIHsgcGFyc2U6ICh2KSA9PiBwZXJjZW50LnBhcnNlKHYpIC8gMTAwLCB0cmFuc2Zvcm06ICh2KSA9PiBwZXJjZW50LnRyYW5zZm9ybSh2ICogMTAwKSB9KTtcblxuZXhwb3J0IHsgZGVncmVlcywgcGVyY2VudCwgcHJvZ3Jlc3NQZXJjZW50YWdlLCBweCwgdmgsIHZ3IH07XG4iLCJpbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4uL3V0aWxzLm1qcyc7XG5cbmNvbnN0IG51bWJlciA9IHtcbiAgICB0ZXN0OiAodikgPT4gdHlwZW9mIHYgPT09ICdudW1iZXInLFxuICAgIHBhcnNlOiBwYXJzZUZsb2F0LFxuICAgIHRyYW5zZm9ybTogKHYpID0+IHYsXG59O1xuY29uc3QgYWxwaGEgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG51bWJlciksIHsgdHJhbnNmb3JtOiBjbGFtcCgwLCAxKSB9KTtcbmNvbnN0IHNjYWxlID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBudW1iZXIpLCB7IGRlZmF1bHQ6IDEgfSk7XG5cbmV4cG9ydCB7IGFscGhhLCBudW1iZXIsIHNjYWxlIH07XG4iLCJpbXBvcnQgeyBudW1iZXIgfSBmcm9tICdzdHlsZS12YWx1ZS10eXBlcyc7XG5cbmNvbnN0IGludCA9IHtcbiAgICAuLi5udW1iZXIsXG4gICAgdHJhbnNmb3JtOiBNYXRoLnJvdW5kLFxufTtcblxuZXhwb3J0IHsgaW50IH07XG4iLCJpbXBvcnQgeyBweCwgZGVncmVlcywgc2NhbGUsIGFscGhhLCBwcm9ncmVzc1BlcmNlbnRhZ2UgfSBmcm9tICdzdHlsZS12YWx1ZS10eXBlcyc7XG5pbXBvcnQgeyBpbnQgfSBmcm9tICcuL3R5cGUtaW50Lm1qcyc7XG5cbmNvbnN0IG51bWJlclZhbHVlVHlwZXMgPSB7XG4gICAgLy8gQm9yZGVyIHByb3BzXG4gICAgYm9yZGVyV2lkdGg6IHB4LFxuICAgIGJvcmRlclRvcFdpZHRoOiBweCxcbiAgICBib3JkZXJSaWdodFdpZHRoOiBweCxcbiAgICBib3JkZXJCb3R0b21XaWR0aDogcHgsXG4gICAgYm9yZGVyTGVmdFdpZHRoOiBweCxcbiAgICBib3JkZXJSYWRpdXM6IHB4LFxuICAgIHJhZGl1czogcHgsXG4gICAgYm9yZGVyVG9wTGVmdFJhZGl1czogcHgsXG4gICAgYm9yZGVyVG9wUmlnaHRSYWRpdXM6IHB4LFxuICAgIGJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzOiBweCxcbiAgICBib3JkZXJCb3R0b21MZWZ0UmFkaXVzOiBweCxcbiAgICAvLyBQb3NpdGlvbmluZyBwcm9wc1xuICAgIHdpZHRoOiBweCxcbiAgICBtYXhXaWR0aDogcHgsXG4gICAgaGVpZ2h0OiBweCxcbiAgICBtYXhIZWlnaHQ6IHB4LFxuICAgIHNpemU6IHB4LFxuICAgIHRvcDogcHgsXG4gICAgcmlnaHQ6IHB4LFxuICAgIGJvdHRvbTogcHgsXG4gICAgbGVmdDogcHgsXG4gICAgLy8gU3BhY2luZyBwcm9wc1xuICAgIHBhZGRpbmc6IHB4LFxuICAgIHBhZGRpbmdUb3A6IHB4LFxuICAgIHBhZGRpbmdSaWdodDogcHgsXG4gICAgcGFkZGluZ0JvdHRvbTogcHgsXG4gICAgcGFkZGluZ0xlZnQ6IHB4LFxuICAgIG1hcmdpbjogcHgsXG4gICAgbWFyZ2luVG9wOiBweCxcbiAgICBtYXJnaW5SaWdodDogcHgsXG4gICAgbWFyZ2luQm90dG9tOiBweCxcbiAgICBtYXJnaW5MZWZ0OiBweCxcbiAgICAvLyBUcmFuc2Zvcm0gcHJvcHNcbiAgICByb3RhdGU6IGRlZ3JlZXMsXG4gICAgcm90YXRlWDogZGVncmVlcyxcbiAgICByb3RhdGVZOiBkZWdyZWVzLFxuICAgIHJvdGF0ZVo6IGRlZ3JlZXMsXG4gICAgc2NhbGUsXG4gICAgc2NhbGVYOiBzY2FsZSxcbiAgICBzY2FsZVk6IHNjYWxlLFxuICAgIHNjYWxlWjogc2NhbGUsXG4gICAgc2tldzogZGVncmVlcyxcbiAgICBza2V3WDogZGVncmVlcyxcbiAgICBza2V3WTogZGVncmVlcyxcbiAgICBkaXN0YW5jZTogcHgsXG4gICAgdHJhbnNsYXRlWDogcHgsXG4gICAgdHJhbnNsYXRlWTogcHgsXG4gICAgdHJhbnNsYXRlWjogcHgsXG4gICAgeDogcHgsXG4gICAgeTogcHgsXG4gICAgejogcHgsXG4gICAgcGVyc3BlY3RpdmU6IHB4LFxuICAgIHRyYW5zZm9ybVBlcnNwZWN0aXZlOiBweCxcbiAgICBvcGFjaXR5OiBhbHBoYSxcbiAgICBvcmlnaW5YOiBwcm9ncmVzc1BlcmNlbnRhZ2UsXG4gICAgb3JpZ2luWTogcHJvZ3Jlc3NQZXJjZW50YWdlLFxuICAgIG9yaWdpblo6IHB4LFxuICAgIC8vIE1pc2NcbiAgICB6SW5kZXg6IGludCxcbiAgICAvLyBTVkdcbiAgICBmaWxsT3BhY2l0eTogYWxwaGEsXG4gICAgc3Ryb2tlT3BhY2l0eTogYWxwaGEsXG4gICAgbnVtT2N0YXZlczogaW50LFxufTtcblxuZXhwb3J0IHsgbnVtYmVyVmFsdWVUeXBlcyB9O1xuIiwiaW1wb3J0IHsgYnVpbGRUcmFuc2Zvcm0gfSBmcm9tICcuL2J1aWxkLXRyYW5zZm9ybS5tanMnO1xuaW1wb3J0IHsgaXNDU1NWYXJpYWJsZSB9IGZyb20gJy4uLy4uL2RvbS91dGlscy9pcy1jc3MtdmFyaWFibGUubWpzJztcbmltcG9ydCB7IHRyYW5zZm9ybVByb3BzIH0gZnJvbSAnLi90cmFuc2Zvcm0ubWpzJztcbmltcG9ydCB7IGdldFZhbHVlQXNUeXBlIH0gZnJvbSAnLi4vLi4vZG9tL3ZhbHVlLXR5cGVzL2dldC1hcy10eXBlLm1qcyc7XG5pbXBvcnQgeyBudW1iZXJWYWx1ZVR5cGVzIH0gZnJvbSAnLi4vLi4vZG9tL3ZhbHVlLXR5cGVzL251bWJlci5tanMnO1xuXG5mdW5jdGlvbiBidWlsZEhUTUxTdHlsZXMoc3RhdGUsIGxhdGVzdFZhbHVlcywgb3B0aW9ucywgdHJhbnNmb3JtVGVtcGxhdGUpIHtcbiAgICBjb25zdCB7IHN0eWxlLCB2YXJzLCB0cmFuc2Zvcm0sIHRyYW5zZm9ybUtleXMsIHRyYW5zZm9ybU9yaWdpbiB9ID0gc3RhdGU7XG4gICAgdHJhbnNmb3JtS2V5cy5sZW5ndGggPSAwO1xuICAgIC8vIFRyYWNrIHdoZXRoZXIgd2UgZW5jb3VudGVyIGFueSB0cmFuc2Zvcm0gb3IgdHJhbnNmb3JtT3JpZ2luIHZhbHVlcy5cbiAgICBsZXQgaGFzVHJhbnNmb3JtID0gZmFsc2U7XG4gICAgbGV0IGhhc1RyYW5zZm9ybU9yaWdpbiA9IGZhbHNlO1xuICAgIC8vIERvZXMgdGhlIGNhbGN1bGF0ZWQgdHJhbnNmb3JtIGVzc2VudGlhbGx5IGVxdWFsIFwibm9uZVwiP1xuICAgIGxldCB0cmFuc2Zvcm1Jc05vbmUgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIExvb3Agb3ZlciBhbGwgb3VyIGxhdGVzdCBhbmltYXRlZCB2YWx1ZXMgYW5kIGRlY2lkZSB3aGV0aGVyIHRvIGhhbmRsZSB0aGVtXG4gICAgICogYXMgYSBzdHlsZSBvciBDU1MgdmFyaWFibGUuXG4gICAgICpcbiAgICAgKiBUcmFuc2Zvcm1zIGFuZCB0cmFuc2Zvcm0gb3JpZ2lucyBhcmUga2VwdCBzZXBlcmF0ZWx5IGZvciBmdXJ0aGVyIHByb2Nlc3NpbmcuXG4gICAgICovXG4gICAgZm9yIChjb25zdCBrZXkgaW4gbGF0ZXN0VmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gbGF0ZXN0VmFsdWVzW2tleV07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGlzIGlzIGEgQ1NTIHZhcmlhYmxlIHdlIGRvbid0IGRvIGFueSBmdXJ0aGVyIHByb2Nlc3NpbmcuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoaXNDU1NWYXJpYWJsZShrZXkpKSB7XG4gICAgICAgICAgICB2YXJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIENvbnZlcnQgdGhlIHZhbHVlIHRvIGl0cyBkZWZhdWx0IHZhbHVlIHR5cGUsIGllIDAgLT4gXCIwcHhcIlxuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSBudW1iZXJWYWx1ZVR5cGVzW2tleV07XG4gICAgICAgIGNvbnN0IHZhbHVlQXNUeXBlID0gZ2V0VmFsdWVBc1R5cGUodmFsdWUsIHZhbHVlVHlwZSk7XG4gICAgICAgIGlmICh0cmFuc2Zvcm1Qcm9wcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIHRyYW5zZm9ybSwgZmxhZyB0byBlbmFibGUgZnVydGhlciB0cmFuc2Zvcm0gcHJvY2Vzc2luZ1xuICAgICAgICAgICAgaGFzVHJhbnNmb3JtID0gdHJ1ZTtcbiAgICAgICAgICAgIHRyYW5zZm9ybVtrZXldID0gdmFsdWVBc1R5cGU7XG4gICAgICAgICAgICB0cmFuc2Zvcm1LZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgIC8vIElmIHdlIGFscmVhZHkga25vdyB3ZSBoYXZlIGEgbm9uLWRlZmF1bHQgdHJhbnNmb3JtLCBlYXJseSByZXR1cm5cbiAgICAgICAgICAgIGlmICghdHJhbnNmb3JtSXNOb25lKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIGNoZWNrIHRvIHNlZSBpZiB0aGlzIGlzIGEgZGVmYXVsdCB0cmFuc2Zvcm1cbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gKHZhbHVlVHlwZS5kZWZhdWx0IHx8IDApKVxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybUlzTm9uZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleS5zdGFydHNXaXRoKFwib3JpZ2luXCIpKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGlzIGlzIGEgdHJhbnNmb3JtIG9yaWdpbiwgZmxhZyBhbmQgZW5hYmxlIGZ1cnRoZXIgdHJhbnNmb3JtLW9yaWdpbiBwcm9jZXNzaW5nXG4gICAgICAgICAgICBoYXNUcmFuc2Zvcm1PcmlnaW4gPSB0cnVlO1xuICAgICAgICAgICAgdHJhbnNmb3JtT3JpZ2luW2tleV0gPSB2YWx1ZUFzVHlwZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlW2tleV0gPSB2YWx1ZUFzVHlwZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaGFzVHJhbnNmb3JtIHx8IHRyYW5zZm9ybVRlbXBsYXRlKSB7XG4gICAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IGJ1aWxkVHJhbnNmb3JtKHN0YXRlLCBvcHRpb25zLCB0cmFuc2Zvcm1Jc05vbmUsIHRyYW5zZm9ybVRlbXBsYXRlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWxhdGVzdFZhbHVlcy50cmFuc2Zvcm0gJiYgc3R5bGUudHJhbnNmb3JtKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB3ZSBoYXZlIHByZXZpb3VzbHkgY3JlYXRlZCBhIHRyYW5zZm9ybSBidXQgY3VycmVudGx5IGRvbid0IGhhdmUgYW55LFxuICAgICAgICAgKiByZXNldCB0cmFuc2Zvcm0gc3R5bGUgdG8gbm9uZS5cbiAgICAgICAgICovXG4gICAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IFwibm9uZVwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCdWlsZCBhIHRyYW5zZm9ybU9yaWdpbiBzdHlsZS4gVXNlcyB0aGUgc2FtZSBkZWZhdWx0cyBhcyB0aGUgYnJvd3NlciBmb3JcbiAgICAgKiB1bmRlZmluZWQgb3JpZ2lucy5cbiAgICAgKi9cbiAgICBpZiAoaGFzVHJhbnNmb3JtT3JpZ2luKSB7XG4gICAgICAgIGNvbnN0IHsgb3JpZ2luWCA9IFwiNTAlXCIsIG9yaWdpblkgPSBcIjUwJVwiLCBvcmlnaW5aID0gMCwgfSA9IHRyYW5zZm9ybU9yaWdpbjtcbiAgICAgICAgc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gYCR7b3JpZ2luWH0gJHtvcmlnaW5ZfSAke29yaWdpblp9YDtcbiAgICB9XG59XG5cbmV4cG9ydCB7IGJ1aWxkSFRNTFN0eWxlcyB9O1xuIiwiaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGlzRm9yY2VkTW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi9tb3Rpb24vdXRpbHMvaXMtZm9yY2VkLW1vdGlvbi12YWx1ZS5tanMnO1xuaW1wb3J0IHsgaXNNb3Rpb25WYWx1ZSB9IGZyb20gJy4uLy4uL3ZhbHVlL3V0aWxzL2lzLW1vdGlvbi12YWx1ZS5tanMnO1xuaW1wb3J0IHsgYnVpbGRIVE1MU3R5bGVzIH0gZnJvbSAnLi91dGlscy9idWlsZC1zdHlsZXMubWpzJztcbmltcG9ydCB7IGNyZWF0ZUh0bWxSZW5kZXJTdGF0ZSB9IGZyb20gJy4vdXRpbHMvY3JlYXRlLXJlbmRlci1zdGF0ZS5tanMnO1xuXG5mdW5jdGlvbiBjb3B5UmF3VmFsdWVzT25seSh0YXJnZXQsIHNvdXJjZSwgcHJvcHMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKCFpc01vdGlvblZhbHVlKHNvdXJjZVtrZXldKSAmJiAhaXNGb3JjZWRNb3Rpb25WYWx1ZShrZXksIHByb3BzKSkge1xuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHVzZUluaXRpYWxNb3Rpb25WYWx1ZXMoeyB0cmFuc2Zvcm1UZW1wbGF0ZSB9LCB2aXN1YWxTdGF0ZSwgaXNTdGF0aWMpIHtcbiAgICByZXR1cm4gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gY3JlYXRlSHRtbFJlbmRlclN0YXRlKCk7XG4gICAgICAgIGJ1aWxkSFRNTFN0eWxlcyhzdGF0ZSwgdmlzdWFsU3RhdGUsIHsgZW5hYmxlSGFyZHdhcmVBY2NlbGVyYXRpb246ICFpc1N0YXRpYyB9LCB0cmFuc2Zvcm1UZW1wbGF0ZSk7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS52YXJzLCBzdGF0ZS5zdHlsZSk7XG4gICAgfSwgW3Zpc3VhbFN0YXRlXSk7XG59XG5mdW5jdGlvbiB1c2VTdHlsZShwcm9wcywgdmlzdWFsU3RhdGUsIGlzU3RhdGljKSB7XG4gICAgY29uc3Qgc3R5bGVQcm9wID0gcHJvcHMuc3R5bGUgfHwge307XG4gICAgY29uc3Qgc3R5bGUgPSB7fTtcbiAgICAvKipcbiAgICAgKiBDb3B5IG5vbi1Nb3Rpb24gVmFsdWVzIHN0cmFpZ2h0IGludG8gc3R5bGVcbiAgICAgKi9cbiAgICBjb3B5UmF3VmFsdWVzT25seShzdHlsZSwgc3R5bGVQcm9wLCBwcm9wcyk7XG4gICAgT2JqZWN0LmFzc2lnbihzdHlsZSwgdXNlSW5pdGlhbE1vdGlvblZhbHVlcyhwcm9wcywgdmlzdWFsU3RhdGUsIGlzU3RhdGljKSk7XG4gICAgcmV0dXJuIHByb3BzLnRyYW5zZm9ybVZhbHVlcyA/IHByb3BzLnRyYW5zZm9ybVZhbHVlcyhzdHlsZSkgOiBzdHlsZTtcbn1cbmZ1bmN0aW9uIHVzZUhUTUxQcm9wcyhwcm9wcywgdmlzdWFsU3RhdGUsIGlzU3RhdGljKSB7XG4gICAgLy8gVGhlIGBhbnlgIGlzbid0IGlkZWFsIGJ1dCBpdCBpcyB0aGUgdHlwZSBvZiBjcmVhdGVFbGVtZW50IHByb3BzIGFyZ3VtZW50XG4gICAgY29uc3QgaHRtbFByb3BzID0ge307XG4gICAgY29uc3Qgc3R5bGUgPSB1c2VTdHlsZShwcm9wcywgdmlzdWFsU3RhdGUsIGlzU3RhdGljKTtcbiAgICBpZiAocHJvcHMuZHJhZyAmJiBwcm9wcy5kcmFnTGlzdGVuZXIgIT09IGZhbHNlKSB7XG4gICAgICAgIC8vIERpc2FibGUgdGhlIGdob3N0IGVsZW1lbnQgd2hlbiBhIHVzZXIgZHJhZ3NcbiAgICAgICAgaHRtbFByb3BzLmRyYWdnYWJsZSA9IGZhbHNlO1xuICAgICAgICAvLyBEaXNhYmxlIHRleHQgc2VsZWN0aW9uXG4gICAgICAgIHN0eWxlLnVzZXJTZWxlY3QgPVxuICAgICAgICAgICAgc3R5bGUuV2Via2l0VXNlclNlbGVjdCA9XG4gICAgICAgICAgICAgICAgc3R5bGUuV2Via2l0VG91Y2hDYWxsb3V0ID1cbiAgICAgICAgICAgICAgICAgICAgXCJub25lXCI7XG4gICAgICAgIC8vIERpc2FibGUgc2Nyb2xsaW5nIG9uIHRoZSBkcmFnZ2FibGUgZGlyZWN0aW9uXG4gICAgICAgIHN0eWxlLnRvdWNoQWN0aW9uID1cbiAgICAgICAgICAgIHByb3BzLmRyYWcgPT09IHRydWVcbiAgICAgICAgICAgICAgICA/IFwibm9uZVwiXG4gICAgICAgICAgICAgICAgOiBgcGFuLSR7cHJvcHMuZHJhZyA9PT0gXCJ4XCIgPyBcInlcIiA6IFwieFwifWA7XG4gICAgfVxuICAgIGh0bWxQcm9wcy5zdHlsZSA9IHN0eWxlO1xuICAgIHJldHVybiBodG1sUHJvcHM7XG59XG5cbmV4cG9ydCB7IGNvcHlSYXdWYWx1ZXNPbmx5LCB1c2VIVE1MUHJvcHMgfTtcbiIsImNvbnN0IGNyZWF0ZUh0bWxSZW5kZXJTdGF0ZSA9ICgpID0+ICh7XG4gICAgc3R5bGU6IHt9LFxuICAgIHRyYW5zZm9ybToge30sXG4gICAgdHJhbnNmb3JtS2V5czogW10sXG4gICAgdHJhbnNmb3JtT3JpZ2luOiB7fSxcbiAgICB2YXJzOiB7fSxcbn0pO1xuXG5leHBvcnQgeyBjcmVhdGVIdG1sUmVuZGVyU3RhdGUgfTtcbiIsImNvbnN0IGFuaW1hdGlvblByb3BzID0gW1xuICAgIFwiYW5pbWF0ZVwiLFxuICAgIFwiZXhpdFwiLFxuICAgIFwidmFyaWFudHNcIixcbiAgICBcIndoaWxlSG92ZXJcIixcbiAgICBcIndoaWxlVGFwXCIsXG4gICAgXCJ3aGlsZUZvY3VzXCIsXG4gICAgXCJ3aGlsZURyYWdcIixcbiAgICBcIndoaWxlSW5WaWV3XCIsXG5dO1xuY29uc3QgdGFwUHJvcHMgPSBbXCJ3aGlsZVRhcFwiLCBcIm9uVGFwXCIsIFwib25UYXBTdGFydFwiLCBcIm9uVGFwQ2FuY2VsXCJdO1xuY29uc3QgcGFuUHJvcHMgPSBbXCJvblBhblwiLCBcIm9uUGFuU3RhcnRcIiwgXCJvblBhblNlc3Npb25TdGFydFwiLCBcIm9uUGFuRW5kXCJdO1xuY29uc3QgaW5WaWV3UHJvcHMgPSBbXG4gICAgXCJ3aGlsZUluVmlld1wiLFxuICAgIFwib25WaWV3cG9ydEVudGVyXCIsXG4gICAgXCJvblZpZXdwb3J0TGVhdmVcIixcbiAgICBcInZpZXdwb3J0XCIsXG5dO1xuLyoqXG4gKiBBIGxpc3Qgb2YgYWxsIHZhbGlkIE1vdGlvblByb3BzLlxuICpcbiAqIEBwcml2YXRlUmVtYXJrc1xuICogVGhpcyBkb2Vzbid0IHRocm93IGlmIGEgYE1vdGlvblByb3BgIG5hbWUgaXMgbWlzc2luZyAtIGl0IHNob3VsZC5cbiAqL1xuY29uc3QgdmFsaWRNb3Rpb25Qcm9wcyA9IG5ldyBTZXQoW1xuICAgIFwiaW5pdGlhbFwiLFxuICAgIFwic3R5bGVcIixcbiAgICBcInZhcmlhbnRzXCIsXG4gICAgXCJ0cmFuc2l0aW9uXCIsXG4gICAgXCJ0cmFuc2Zvcm1UZW1wbGF0ZVwiLFxuICAgIFwidHJhbnNmb3JtVmFsdWVzXCIsXG4gICAgXCJjdXN0b21cIixcbiAgICBcImluaGVyaXRcIixcbiAgICBcImxheW91dFwiLFxuICAgIFwibGF5b3V0SWRcIixcbiAgICBcImxheW91dERlcGVuZGVuY3lcIixcbiAgICBcIm9uTGF5b3V0QW5pbWF0aW9uU3RhcnRcIixcbiAgICBcIm9uTGF5b3V0QW5pbWF0aW9uQ29tcGxldGVcIixcbiAgICBcIm9uTGF5b3V0TWVhc3VyZVwiLFxuICAgIFwib25CZWZvcmVMYXlvdXRNZWFzdXJlXCIsXG4gICAgXCJvbkFuaW1hdGlvblN0YXJ0XCIsXG4gICAgXCJvbkFuaW1hdGlvbkNvbXBsZXRlXCIsXG4gICAgXCJvblVwZGF0ZVwiLFxuICAgIFwib25EcmFnU3RhcnRcIixcbiAgICBcIm9uRHJhZ1wiLFxuICAgIFwib25EcmFnRW5kXCIsXG4gICAgXCJvbk1lYXN1cmVEcmFnQ29uc3RyYWludHNcIixcbiAgICBcIm9uRGlyZWN0aW9uTG9ja1wiLFxuICAgIFwib25EcmFnVHJhbnNpdGlvbkVuZFwiLFxuICAgIFwiZHJhZ1wiLFxuICAgIFwiZHJhZ0NvbnRyb2xzXCIsXG4gICAgXCJkcmFnTGlzdGVuZXJcIixcbiAgICBcImRyYWdDb25zdHJhaW50c1wiLFxuICAgIFwiZHJhZ0RpcmVjdGlvbkxvY2tcIixcbiAgICBcImRyYWdTbmFwVG9PcmlnaW5cIixcbiAgICBcIl9kcmFnWFwiLFxuICAgIFwiX2RyYWdZXCIsXG4gICAgXCJkcmFnRWxhc3RpY1wiLFxuICAgIFwiZHJhZ01vbWVudHVtXCIsXG4gICAgXCJkcmFnUHJvcGFnYXRpb25cIixcbiAgICBcImRyYWdUcmFuc2l0aW9uXCIsXG4gICAgXCJvbkhvdmVyU3RhcnRcIixcbiAgICBcIm9uSG92ZXJFbmRcIixcbiAgICBcImxheW91dFNjcm9sbFwiLFxuICAgIC4uLmluVmlld1Byb3BzLFxuICAgIC4uLnRhcFByb3BzLFxuICAgIC4uLmFuaW1hdGlvblByb3BzLFxuICAgIC4uLnBhblByb3BzLFxuXSk7XG4vKipcbiAqIENoZWNrIHdoZXRoZXIgYSBwcm9wIG5hbWUgaXMgYSB2YWxpZCBgTW90aW9uUHJvcGAga2V5LlxuICpcbiAqIEBwYXJhbSBrZXkgLSBOYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBjaGVja1xuICogQHJldHVybnMgYHRydWVgIGlzIGtleSBpcyBhIHZhbGlkIGBNb3Rpb25Qcm9wYC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRNb3Rpb25Qcm9wKGtleSkge1xuICAgIHJldHVybiB2YWxpZE1vdGlvblByb3BzLmhhcyhrZXkpO1xufVxuXG5leHBvcnQgeyBpc1ZhbGlkTW90aW9uUHJvcCB9O1xuIiwiaW1wb3J0IHsgaXNWYWxpZE1vdGlvblByb3AgfSBmcm9tICcuLi8uLi8uLi9tb3Rpb24vdXRpbHMvdmFsaWQtcHJvcC5tanMnO1xuXG5sZXQgc2hvdWxkRm9yd2FyZCA9IChrZXkpID0+ICFpc1ZhbGlkTW90aW9uUHJvcChrZXkpO1xuZnVuY3Rpb24gbG9hZEV4dGVybmFsSXNWYWxpZFByb3AoaXNWYWxpZFByb3ApIHtcbiAgICBpZiAoIWlzVmFsaWRQcm9wKVxuICAgICAgICByZXR1cm47XG4gICAgLy8gRXhwbGljaXRseSBmaWx0ZXIgb3VyIGV2ZW50c1xuICAgIHNob3VsZEZvcndhcmQgPSAoa2V5KSA9PiBrZXkuc3RhcnRzV2l0aChcIm9uXCIpID8gIWlzVmFsaWRNb3Rpb25Qcm9wKGtleSkgOiBpc1ZhbGlkUHJvcChrZXkpO1xufVxuLyoqXG4gKiBFbW90aW9uIGFuZCBTdHlsZWQgQ29tcG9uZW50cyBib3RoIGFsbG93IHVzZXJzIHRvIHBhc3MgdGhyb3VnaCBhcmJpdHJhcnkgcHJvcHMgdG8gdGhlaXIgY29tcG9uZW50c1xuICogdG8gZHluYW1pY2FsbHkgZ2VuZXJhdGUgQ1NTLiBUaGV5IGJvdGggdXNlIHRoZSBgQGVtb3Rpb24vaXMtcHJvcC12YWxpZGAgcGFja2FnZSB0byBkZXRlcm1pbmUgd2hpY2hcbiAqIG9mIHRoZXNlIHNob3VsZCBiZSBwYXNzZWQgdG8gdGhlIHVuZGVybHlpbmcgRE9NIG5vZGUuXG4gKlxuICogSG93ZXZlciwgd2hlbiBzdHlsaW5nIGEgTW90aW9uIGNvbXBvbmVudCBgc3R5bGVkKG1vdGlvbi5kaXYpYCwgYm90aCBwYWNrYWdlcyBwYXNzIHRocm91Z2ggKmFsbCogcHJvcHNcbiAqIGFzIGl0J3Mgc2VlbiBhcyBhbiBhcmJpdHJhcnkgY29tcG9uZW50IHJhdGhlciB0aGFuIGEgRE9NIG5vZGUuIE1vdGlvbiBvbmx5IGFsbG93cyBhcmJpdHJhcnkgcHJvcHNcbiAqIHBhc3NlZCB0aHJvdWdoIHRoZSBgY3VzdG9tYCBwcm9wIHNvIGl0IGRvZXNuJ3QgKm5lZWQqIHRoZSBwYXlsb2FkIG9yIGNvbXB1dGF0aW9uYWwgb3ZlcmhlYWQgb2ZcbiAqIGBAZW1vdGlvbi9pcy1wcm9wLXZhbGlkYCwgaG93ZXZlciB0byBmaXggdGhpcyBwcm9ibGVtIHdlIG5lZWQgdG8gdXNlIGl0LlxuICpcbiAqIEJ5IG1ha2luZyBpdCBhbiBvcHRpb25hbERlcGVuZGVuY3kgd2UgY2FuIG9mZmVyIHRoaXMgZnVuY3Rpb25hbGl0eSBvbmx5IGluIHRoZSBzaXR1YXRpb25zIHdoZXJlIGl0J3NcbiAqIGFjdHVhbGx5IHJlcXVpcmVkLlxuICovXG50cnkge1xuICAgIC8qKlxuICAgICAqIFdlIGF0dGVtcHQgdG8gaW1wb3J0IHRoaXMgcGFja2FnZSBidXQgcmVxdWlyZSB3b24ndCBiZSBkZWZpbmVkIGluIGVzbSBlbnZpcm9ubWVudHMsIGluIHRoYXQgY2FzZVxuICAgICAqIGlzUHJvcFZhbGlkIHdpbGwgaGF2ZSB0byBiZSBwcm92aWRlZCB2aWEgYE1vdGlvbkNvbnRleHRgLiBJbiBhIDYuMC4wIHRoaXMgc2hvdWxkIHByb2JhYmx5IGJlIHJlbW92ZWRcbiAgICAgKiBpbiBmYXZvdXIgb2YgZXhwbGljaXQgaW5qZWN0aW9uLlxuICAgICAqL1xuICAgIGxvYWRFeHRlcm5hbElzVmFsaWRQcm9wKHJlcXVpcmUoXCJAZW1vdGlvbi9pcy1wcm9wLXZhbGlkXCIpLmRlZmF1bHQpO1xufVxuY2F0Y2ggKF9hKSB7XG4gICAgLy8gV2UgZG9uJ3QgbmVlZCB0byBhY3R1YWxseSBkbyBhbnl0aGluZyBoZXJlIC0gdGhlIGZhbGxiYWNrIGlzIHRoZSBleGlzdGluZyBgaXNQcm9wVmFsaWRgLlxufVxuZnVuY3Rpb24gZmlsdGVyUHJvcHMocHJvcHMsIGlzRG9tLCBmb3J3YXJkTW90aW9uUHJvcHMpIHtcbiAgICBjb25zdCBmaWx0ZXJlZFByb3BzID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgaWYgKHNob3VsZEZvcndhcmQoa2V5KSB8fFxuICAgICAgICAgICAgKGZvcndhcmRNb3Rpb25Qcm9wcyA9PT0gdHJ1ZSAmJiBpc1ZhbGlkTW90aW9uUHJvcChrZXkpKSB8fFxuICAgICAgICAgICAgKCFpc0RvbSAmJiAhaXNWYWxpZE1vdGlvblByb3Aoa2V5KSkgfHxcbiAgICAgICAgICAgIC8vIElmIHRyeWluZyB0byB1c2UgbmF0aXZlIEhUTUwgZHJhZyBldmVudHMsIGZvcndhcmQgZHJhZyBsaXN0ZW5lcnNcbiAgICAgICAgICAgIChwcm9wc1tcImRyYWdnYWJsZVwiXSAmJiBrZXkuc3RhcnRzV2l0aChcIm9uRHJhZ1wiKSkpIHtcbiAgICAgICAgICAgIGZpbHRlcmVkUHJvcHNba2V5XSA9IHByb3BzW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZpbHRlcmVkUHJvcHM7XG59XG5cbmV4cG9ydCB7IGZpbHRlclByb3BzLCBsb2FkRXh0ZXJuYWxJc1ZhbGlkUHJvcCB9O1xuIiwiaW1wb3J0IHsgcHggfSBmcm9tICdzdHlsZS12YWx1ZS10eXBlcyc7XG5cbmZ1bmN0aW9uIGNhbGNPcmlnaW4ob3JpZ2luLCBvZmZzZXQsIHNpemUpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9yaWdpbiA9PT0gXCJzdHJpbmdcIlxuICAgICAgICA/IG9yaWdpblxuICAgICAgICA6IHB4LnRyYW5zZm9ybShvZmZzZXQgKyBzaXplICogb3JpZ2luKTtcbn1cbi8qKlxuICogVGhlIFNWRyB0cmFuc2Zvcm0gb3JpZ2luIGRlZmF1bHRzIGFyZSBkaWZmZXJlbnQgdG8gQ1NTIGFuZCBpcyBsZXNzIGludHVpdGl2ZSxcbiAqIHNvIHdlIHVzZSB0aGUgbWVhc3VyZWQgZGltZW5zaW9ucyBvZiB0aGUgU1ZHIHRvIHJlY29uY2lsZSB0aGVzZS5cbiAqL1xuZnVuY3Rpb24gY2FsY1NWR1RyYW5zZm9ybU9yaWdpbihkaW1lbnNpb25zLCBvcmlnaW5YLCBvcmlnaW5ZKSB7XG4gICAgY29uc3QgcHhPcmlnaW5YID0gY2FsY09yaWdpbihvcmlnaW5YLCBkaW1lbnNpb25zLngsIGRpbWVuc2lvbnMud2lkdGgpO1xuICAgIGNvbnN0IHB4T3JpZ2luWSA9IGNhbGNPcmlnaW4ob3JpZ2luWSwgZGltZW5zaW9ucy55LCBkaW1lbnNpb25zLmhlaWdodCk7XG4gICAgcmV0dXJuIGAke3B4T3JpZ2luWH0gJHtweE9yaWdpbll9YDtcbn1cblxuZXhwb3J0IHsgY2FsY1NWR1RyYW5zZm9ybU9yaWdpbiB9O1xuIiwiaW1wb3J0IHsgcHggfSBmcm9tICdzdHlsZS12YWx1ZS10eXBlcyc7XG5cbmNvbnN0IGRhc2hLZXlzID0ge1xuICAgIG9mZnNldDogXCJzdHJva2UtZGFzaG9mZnNldFwiLFxuICAgIGFycmF5OiBcInN0cm9rZS1kYXNoYXJyYXlcIixcbn07XG5jb25zdCBjYW1lbEtleXMgPSB7XG4gICAgb2Zmc2V0OiBcInN0cm9rZURhc2hvZmZzZXRcIixcbiAgICBhcnJheTogXCJzdHJva2VEYXNoYXJyYXlcIixcbn07XG4vKipcbiAqIEJ1aWxkIFNWRyBwYXRoIHByb3BlcnRpZXMuIFVzZXMgdGhlIHBhdGgncyBtZWFzdXJlZCBsZW5ndGggdG8gY29udmVydFxuICogb3VyIGN1c3RvbSBwYXRoTGVuZ3RoLCBwYXRoU3BhY2luZyBhbmQgcGF0aE9mZnNldCBpbnRvIHN0cm9rZS1kYXNob2Zmc2V0XG4gKiBhbmQgc3Ryb2tlLWRhc2hhcnJheSBhdHRyaWJ1dGVzLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgbXV0YXRpdmUgdG8gcmVkdWNlIHBlci1mcmFtZSBHQy5cbiAqL1xuZnVuY3Rpb24gYnVpbGRTVkdQYXRoKGF0dHJzLCBsZW5ndGgsIHNwYWNpbmcgPSAxLCBvZmZzZXQgPSAwLCB1c2VEYXNoQ2FzZSA9IHRydWUpIHtcbiAgICAvLyBOb3JtYWxpc2UgcGF0aCBsZW5ndGggYnkgc2V0dGluZyBTVkcgYXR0cmlidXRlIHBhdGhMZW5ndGggdG8gMVxuICAgIGF0dHJzLnBhdGhMZW5ndGggPSAxO1xuICAgIC8vIFdlIHVzZSBkYXNoIGNhc2Ugd2hlbiBzZXR0aW5nIGF0dHJpYnV0ZXMgZGlyZWN0bHkgdG8gdGhlIERPTSBub2RlIGFuZCBjYW1lbCBjYXNlXG4gICAgLy8gd2hlbiBkZWZpbmluZyBwcm9wcyBvbiBhIFJlYWN0IGNvbXBvbmVudC5cbiAgICBjb25zdCBrZXlzID0gdXNlRGFzaENhc2UgPyBkYXNoS2V5cyA6IGNhbWVsS2V5cztcbiAgICAvLyBCdWlsZCB0aGUgZGFzaCBvZmZzZXRcbiAgICBhdHRyc1trZXlzLm9mZnNldF0gPSBweC50cmFuc2Zvcm0oLW9mZnNldCk7XG4gICAgLy8gQnVpbGQgdGhlIGRhc2ggYXJyYXlcbiAgICBjb25zdCBwYXRoTGVuZ3RoID0gcHgudHJhbnNmb3JtKGxlbmd0aCk7XG4gICAgY29uc3QgcGF0aFNwYWNpbmcgPSBweC50cmFuc2Zvcm0oc3BhY2luZyk7XG4gICAgYXR0cnNba2V5cy5hcnJheV0gPSBgJHtwYXRoTGVuZ3RofSAke3BhdGhTcGFjaW5nfWA7XG59XG5cbmV4cG9ydCB7IGJ1aWxkU1ZHUGF0aCB9O1xuIiwiaW1wb3J0IHsgYnVpbGRIVE1MU3R5bGVzIH0gZnJvbSAnLi4vLi4vaHRtbC91dGlscy9idWlsZC1zdHlsZXMubWpzJztcbmltcG9ydCB7IGNhbGNTVkdUcmFuc2Zvcm1PcmlnaW4gfSBmcm9tICcuL3RyYW5zZm9ybS1vcmlnaW4ubWpzJztcbmltcG9ydCB7IGJ1aWxkU1ZHUGF0aCB9IGZyb20gJy4vcGF0aC5tanMnO1xuXG4vKipcbiAqIEJ1aWxkIFNWRyB2aXN1YWwgYXR0cmJ1dGVzLCBsaWtlIGN4IGFuZCBzdHlsZS50cmFuc2Zvcm1cbiAqL1xuZnVuY3Rpb24gYnVpbGRTVkdBdHRycyhzdGF0ZSwgeyBhdHRyWCwgYXR0clksIG9yaWdpblgsIG9yaWdpblksIHBhdGhMZW5ndGgsIHBhdGhTcGFjaW5nID0gMSwgcGF0aE9mZnNldCA9IDAsIFxuLy8gVGhpcyBpcyBvYmplY3QgY3JlYXRpb24sIHdoaWNoIHdlIHRyeSB0byBhdm9pZCBwZXItZnJhbWUuXG4uLi5sYXRlc3QgfSwgb3B0aW9ucywgdHJhbnNmb3JtVGVtcGxhdGUpIHtcbiAgICBidWlsZEhUTUxTdHlsZXMoc3RhdGUsIGxhdGVzdCwgb3B0aW9ucywgdHJhbnNmb3JtVGVtcGxhdGUpO1xuICAgIHN0YXRlLmF0dHJzID0gc3RhdGUuc3R5bGU7XG4gICAgc3RhdGUuc3R5bGUgPSB7fTtcbiAgICBjb25zdCB7IGF0dHJzLCBzdHlsZSwgZGltZW5zaW9ucyB9ID0gc3RhdGU7XG4gICAgLyoqXG4gICAgICogSG93ZXZlciwgd2UgYXBwbHkgdHJhbnNmb3JtcyBhcyBDU1MgdHJhbnNmb3Jtcy4gU28gaWYgd2UgZGV0ZWN0IGEgdHJhbnNmb3JtIHdlIHRha2UgaXQgZnJvbSBhdHRyc1xuICAgICAqIGFuZCBjb3B5IGl0IGludG8gc3R5bGUuXG4gICAgICovXG4gICAgaWYgKGF0dHJzLnRyYW5zZm9ybSkge1xuICAgICAgICBpZiAoZGltZW5zaW9ucylcbiAgICAgICAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IGF0dHJzLnRyYW5zZm9ybTtcbiAgICAgICAgZGVsZXRlIGF0dHJzLnRyYW5zZm9ybTtcbiAgICB9XG4gICAgLy8gUGFyc2UgdHJhbnNmb3JtT3JpZ2luXG4gICAgaWYgKGRpbWVuc2lvbnMgJiZcbiAgICAgICAgKG9yaWdpblggIT09IHVuZGVmaW5lZCB8fCBvcmlnaW5ZICE9PSB1bmRlZmluZWQgfHwgc3R5bGUudHJhbnNmb3JtKSkge1xuICAgICAgICBzdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBjYWxjU1ZHVHJhbnNmb3JtT3JpZ2luKGRpbWVuc2lvbnMsIG9yaWdpblggIT09IHVuZGVmaW5lZCA/IG9yaWdpblggOiAwLjUsIG9yaWdpblkgIT09IHVuZGVmaW5lZCA/IG9yaWdpblkgOiAwLjUpO1xuICAgIH1cbiAgICAvLyBUcmVhdCB4L3kgbm90IGFzIHNob3J0Y3V0cyBidXQgYXMgYWN0dWFsIGF0dHJpYnV0ZXNcbiAgICBpZiAoYXR0clggIT09IHVuZGVmaW5lZClcbiAgICAgICAgYXR0cnMueCA9IGF0dHJYO1xuICAgIGlmIChhdHRyWSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICBhdHRycy55ID0gYXR0clk7XG4gICAgLy8gQnVpbGQgU1ZHIHBhdGggaWYgb25lIGhhcyBiZWVuIGRlZmluZWRcbiAgICBpZiAocGF0aExlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGJ1aWxkU1ZHUGF0aChhdHRycywgcGF0aExlbmd0aCwgcGF0aFNwYWNpbmcsIHBhdGhPZmZzZXQsIGZhbHNlKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IGJ1aWxkU1ZHQXR0cnMgfTtcbiIsImltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb3B5UmF3VmFsdWVzT25seSB9IGZyb20gJy4uL2h0bWwvdXNlLXByb3BzLm1qcyc7XG5pbXBvcnQgeyBidWlsZFNWR0F0dHJzIH0gZnJvbSAnLi91dGlscy9idWlsZC1hdHRycy5tanMnO1xuaW1wb3J0IHsgY3JlYXRlU3ZnUmVuZGVyU3RhdGUgfSBmcm9tICcuL3V0aWxzL2NyZWF0ZS1yZW5kZXItc3RhdGUubWpzJztcblxuZnVuY3Rpb24gdXNlU1ZHUHJvcHMocHJvcHMsIHZpc3VhbFN0YXRlKSB7XG4gICAgY29uc3QgdmlzdWFsUHJvcHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBjcmVhdGVTdmdSZW5kZXJTdGF0ZSgpO1xuICAgICAgICBidWlsZFNWR0F0dHJzKHN0YXRlLCB2aXN1YWxTdGF0ZSwgeyBlbmFibGVIYXJkd2FyZUFjY2VsZXJhdGlvbjogZmFsc2UgfSwgcHJvcHMudHJhbnNmb3JtVGVtcGxhdGUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3RhdGUuYXR0cnMsXG4gICAgICAgICAgICBzdHlsZTogeyAuLi5zdGF0ZS5zdHlsZSB9LFxuICAgICAgICB9O1xuICAgIH0sIFt2aXN1YWxTdGF0ZV0pO1xuICAgIGlmIChwcm9wcy5zdHlsZSkge1xuICAgICAgICBjb25zdCByYXdTdHlsZXMgPSB7fTtcbiAgICAgICAgY29weVJhd1ZhbHVlc09ubHkocmF3U3R5bGVzLCBwcm9wcy5zdHlsZSwgcHJvcHMpO1xuICAgICAgICB2aXN1YWxQcm9wcy5zdHlsZSA9IHsgLi4ucmF3U3R5bGVzLCAuLi52aXN1YWxQcm9wcy5zdHlsZSB9O1xuICAgIH1cbiAgICByZXR1cm4gdmlzdWFsUHJvcHM7XG59XG5cbmV4cG9ydCB7IHVzZVNWR1Byb3BzIH07XG4iLCJpbXBvcnQgeyBjcmVhdGVIdG1sUmVuZGVyU3RhdGUgfSBmcm9tICcuLi8uLi9odG1sL3V0aWxzL2NyZWF0ZS1yZW5kZXItc3RhdGUubWpzJztcblxuY29uc3QgY3JlYXRlU3ZnUmVuZGVyU3RhdGUgPSAoKSA9PiAoe1xuICAgIC4uLmNyZWF0ZUh0bWxSZW5kZXJTdGF0ZSgpLFxuICAgIGF0dHJzOiB7fSxcbn0pO1xuXG5leHBvcnQgeyBjcmVhdGVTdmdSZW5kZXJTdGF0ZSB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUhUTUxQcm9wcyB9IGZyb20gJy4uL2h0bWwvdXNlLXByb3BzLm1qcyc7XG5pbXBvcnQgeyBmaWx0ZXJQcm9wcyB9IGZyb20gJy4vdXRpbHMvZmlsdGVyLXByb3BzLm1qcyc7XG5pbXBvcnQgeyBpc1NWR0NvbXBvbmVudCB9IGZyb20gJy4vdXRpbHMvaXMtc3ZnLWNvbXBvbmVudC5tanMnO1xuaW1wb3J0IHsgdXNlU1ZHUHJvcHMgfSBmcm9tICcuLi9zdmcvdXNlLXByb3BzLm1qcyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZVVzZVJlbmRlcihmb3J3YXJkTW90aW9uUHJvcHMgPSBmYWxzZSkge1xuICAgIGNvbnN0IHVzZVJlbmRlciA9IChDb21wb25lbnQsIHByb3BzLCBwcm9qZWN0aW9uSWQsIHJlZiwgeyBsYXRlc3RWYWx1ZXMgfSwgaXNTdGF0aWMpID0+IHtcbiAgICAgICAgY29uc3QgdXNlVmlzdWFsUHJvcHMgPSBpc1NWR0NvbXBvbmVudChDb21wb25lbnQpXG4gICAgICAgICAgICA/IHVzZVNWR1Byb3BzXG4gICAgICAgICAgICA6IHVzZUhUTUxQcm9wcztcbiAgICAgICAgY29uc3QgdmlzdWFsUHJvcHMgPSB1c2VWaXN1YWxQcm9wcyhwcm9wcywgbGF0ZXN0VmFsdWVzLCBpc1N0YXRpYyk7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkUHJvcHMgPSBmaWx0ZXJQcm9wcyhwcm9wcywgdHlwZW9mIENvbXBvbmVudCA9PT0gXCJzdHJpbmdcIiwgZm9yd2FyZE1vdGlvblByb3BzKTtcbiAgICAgICAgY29uc3QgZWxlbWVudFByb3BzID0ge1xuICAgICAgICAgICAgLi4uZmlsdGVyZWRQcm9wcyxcbiAgICAgICAgICAgIC4uLnZpc3VhbFByb3BzLFxuICAgICAgICAgICAgcmVmLFxuICAgICAgICB9O1xuICAgICAgICBpZiAocHJvamVjdGlvbklkKSB7XG4gICAgICAgICAgICBlbGVtZW50UHJvcHNbXCJkYXRhLXByb2plY3Rpb24taWRcIl0gPSBwcm9qZWN0aW9uSWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBlbGVtZW50UHJvcHMpO1xuICAgIH07XG4gICAgcmV0dXJuIHVzZVJlbmRlcjtcbn1cblxuZXhwb3J0IHsgY3JlYXRlVXNlUmVuZGVyIH07XG4iLCIvKipcbiAqIENvbnZlcnQgY2FtZWxDYXNlIHRvIGRhc2gtY2FzZSBwcm9wZXJ0aWVzLlxuICovXG5jb25zdCBjYW1lbFRvRGFzaCA9IChzdHIpID0+IHN0ci5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCBcIiQxLSQyXCIpLnRvTG93ZXJDYXNlKCk7XG5cbmV4cG9ydCB7IGNhbWVsVG9EYXNoIH07XG4iLCJmdW5jdGlvbiByZW5kZXJIVE1MKGVsZW1lbnQsIHsgc3R5bGUsIHZhcnMgfSwgc3R5bGVQcm9wLCBwcm9qZWN0aW9uKSB7XG4gICAgT2JqZWN0LmFzc2lnbihlbGVtZW50LnN0eWxlLCBzdHlsZSwgcHJvamVjdGlvbiAmJiBwcm9qZWN0aW9uLmdldFByb2plY3Rpb25TdHlsZXMoc3R5bGVQcm9wKSk7XG4gICAgLy8gTG9vcCBvdmVyIGFueSBDU1MgdmFyaWFibGVzIGFuZCBhc3NpZ24gdGhvc2UuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gdmFycykge1xuICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFyc1trZXldKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IHJlbmRlckhUTUwgfTtcbiIsIi8qKlxuICogQSBzZXQgb2YgYXR0cmlidXRlIG5hbWVzIHRoYXQgYXJlIGFsd2F5cyByZWFkL3dyaXR0ZW4gYXMgY2FtZWwgY2FzZS5cbiAqL1xuY29uc3QgY2FtZWxDYXNlQXR0cmlidXRlcyA9IG5ldyBTZXQoW1xuICAgIFwiYmFzZUZyZXF1ZW5jeVwiLFxuICAgIFwiZGlmZnVzZUNvbnN0YW50XCIsXG4gICAgXCJrZXJuZWxNYXRyaXhcIixcbiAgICBcImtlcm5lbFVuaXRMZW5ndGhcIixcbiAgICBcImtleVNwbGluZXNcIixcbiAgICBcImtleVRpbWVzXCIsXG4gICAgXCJsaW1pdGluZ0NvbmVBbmdsZVwiLFxuICAgIFwibWFya2VySGVpZ2h0XCIsXG4gICAgXCJtYXJrZXJXaWR0aFwiLFxuICAgIFwibnVtT2N0YXZlc1wiLFxuICAgIFwidGFyZ2V0WFwiLFxuICAgIFwidGFyZ2V0WVwiLFxuICAgIFwic3VyZmFjZVNjYWxlXCIsXG4gICAgXCJzcGVjdWxhckNvbnN0YW50XCIsXG4gICAgXCJzcGVjdWxhckV4cG9uZW50XCIsXG4gICAgXCJzdGREZXZpYXRpb25cIixcbiAgICBcInRhYmxlVmFsdWVzXCIsXG4gICAgXCJ2aWV3Qm94XCIsXG4gICAgXCJncmFkaWVudFRyYW5zZm9ybVwiLFxuICAgIFwicGF0aExlbmd0aFwiLFxuXSk7XG5cbmV4cG9ydCB7IGNhbWVsQ2FzZUF0dHJpYnV0ZXMgfTtcbiIsImltcG9ydCB7IGNhbWVsVG9EYXNoIH0gZnJvbSAnLi4vLi4vZG9tL3V0aWxzL2NhbWVsLXRvLWRhc2gubWpzJztcbmltcG9ydCB7IHJlbmRlckhUTUwgfSBmcm9tICcuLi8uLi9odG1sL3V0aWxzL3JlbmRlci5tanMnO1xuaW1wb3J0IHsgY2FtZWxDYXNlQXR0cmlidXRlcyB9IGZyb20gJy4vY2FtZWwtY2FzZS1hdHRycy5tanMnO1xuXG5mdW5jdGlvbiByZW5kZXJTVkcoZWxlbWVudCwgcmVuZGVyU3RhdGUsIF9zdHlsZVByb3AsIHByb2plY3Rpb24pIHtcbiAgICByZW5kZXJIVE1MKGVsZW1lbnQsIHJlbmRlclN0YXRlLCB1bmRlZmluZWQsIHByb2plY3Rpb24pO1xuICAgIGZvciAoY29uc3Qga2V5IGluIHJlbmRlclN0YXRlLmF0dHJzKSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCFjYW1lbENhc2VBdHRyaWJ1dGVzLmhhcyhrZXkpID8gY2FtZWxUb0Rhc2goa2V5KSA6IGtleSwgcmVuZGVyU3RhdGUuYXR0cnNba2V5XSk7XG4gICAgfVxufVxuXG5leHBvcnQgeyByZW5kZXJTVkcgfTtcbiIsImltcG9ydCB7IGlzRm9yY2VkTW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi8uLi9tb3Rpb24vdXRpbHMvaXMtZm9yY2VkLW1vdGlvbi12YWx1ZS5tanMnO1xuaW1wb3J0IHsgaXNNb3Rpb25WYWx1ZSB9IGZyb20gJy4uLy4uLy4uL3ZhbHVlL3V0aWxzL2lzLW1vdGlvbi12YWx1ZS5tanMnO1xuXG5mdW5jdGlvbiBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMocHJvcHMpIHtcbiAgICBjb25zdCB7IHN0eWxlIH0gPSBwcm9wcztcbiAgICBjb25zdCBuZXdWYWx1ZXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzdHlsZSkge1xuICAgICAgICBpZiAoaXNNb3Rpb25WYWx1ZShzdHlsZVtrZXldKSB8fCBpc0ZvcmNlZE1vdGlvblZhbHVlKGtleSwgcHJvcHMpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZXNba2V5XSA9IHN0eWxlW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ld1ZhbHVlcztcbn1cblxuZXhwb3J0IHsgc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzIH07XG4iLCJpbXBvcnQgeyBpc01vdGlvblZhbHVlIH0gZnJvbSAnLi4vLi4vLi4vdmFsdWUvdXRpbHMvaXMtbW90aW9uLXZhbHVlLm1qcyc7XG5pbXBvcnQgeyBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMgYXMgc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzJDEgfSBmcm9tICcuLi8uLi9odG1sL3V0aWxzL3NjcmFwZS1tb3Rpb24tdmFsdWVzLm1qcyc7XG5cbmZ1bmN0aW9uIHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyhwcm9wcykge1xuICAgIGNvbnN0IG5ld1ZhbHVlcyA9IHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyQxKHByb3BzKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgICAgICBpZiAoaXNNb3Rpb25WYWx1ZShwcm9wc1trZXldKSkge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0S2V5ID0ga2V5ID09PSBcInhcIiB8fCBrZXkgPT09IFwieVwiID8gXCJhdHRyXCIgKyBrZXkudG9VcHBlckNhc2UoKSA6IGtleTtcbiAgICAgICAgICAgIG5ld1ZhbHVlc1t0YXJnZXRLZXldID0gcHJvcHNba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3VmFsdWVzO1xufVxuXG5leHBvcnQgeyBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMgfTtcbiIsImZ1bmN0aW9uIHJlc29sdmVWYXJpYW50RnJvbVByb3BzKHByb3BzLCBkZWZpbml0aW9uLCBjdXN0b20sIGN1cnJlbnRWYWx1ZXMgPSB7fSwgY3VycmVudFZlbG9jaXR5ID0ge30pIHtcbiAgICAvKipcbiAgICAgKiBJZiB0aGUgdmFyaWFudCBkZWZpbml0aW9uIGlzIGEgZnVuY3Rpb24sIHJlc29sdmUuXG4gICAgICovXG4gICAgaWYgKHR5cGVvZiBkZWZpbml0aW9uID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgZGVmaW5pdGlvbiA9IGRlZmluaXRpb24oY3VzdG9tICE9PSB1bmRlZmluZWQgPyBjdXN0b20gOiBwcm9wcy5jdXN0b20sIGN1cnJlbnRWYWx1ZXMsIGN1cnJlbnRWZWxvY2l0eSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoZSB2YXJpYW50IGRlZmluaXRpb24gaXMgYSB2YXJpYW50IGxhYmVsLCBvclxuICAgICAqIHRoZSBmdW5jdGlvbiByZXR1cm5lZCBhIHZhcmlhbnQgbGFiZWwsIHJlc29sdmUuXG4gICAgICovXG4gICAgaWYgKHR5cGVvZiBkZWZpbml0aW9uID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGRlZmluaXRpb24gPSBwcm9wcy52YXJpYW50cyAmJiBwcm9wcy52YXJpYW50c1tkZWZpbml0aW9uXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXQgdGhpcyBwb2ludCB3ZSd2ZSByZXNvbHZlZCBib3RoIGZ1bmN0aW9ucyBhbmQgdmFyaWFudCBsYWJlbHMsXG4gICAgICogYnV0IHRoZSByZXNvbHZlZCB2YXJpYW50IGxhYmVsIG1pZ2h0IGl0c2VsZiBoYXZlIGJlZW4gYSBmdW5jdGlvbi5cbiAgICAgKiBJZiBzbywgcmVzb2x2ZS4gVGhpcyBjYW4gb25seSBoYXZlIHJldHVybmVkIGEgdmFsaWQgdGFyZ2V0IG9iamVjdC5cbiAgICAgKi9cbiAgICBpZiAodHlwZW9mIGRlZmluaXRpb24gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBkZWZpbml0aW9uID0gZGVmaW5pdGlvbihjdXN0b20gIT09IHVuZGVmaW5lZCA/IGN1c3RvbSA6IHByb3BzLmN1c3RvbSwgY3VycmVudFZhbHVlcywgY3VycmVudFZlbG9jaXR5KTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmluaXRpb247XG59XG5cbmV4cG9ydCB7IHJlc29sdmVWYXJpYW50RnJvbVByb3BzIH07XG4iLCJjb25zdCBpc0tleWZyYW1lc1RhcmdldCA9ICh2KSA9PiB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodik7XG59O1xuXG5leHBvcnQgeyBpc0tleWZyYW1lc1RhcmdldCB9O1xuIiwiaW1wb3J0IHsgaXNLZXlmcmFtZXNUYXJnZXQgfSBmcm9tICcuLi9hbmltYXRpb24vdXRpbHMvaXMta2V5ZnJhbWVzLXRhcmdldC5tanMnO1xuXG5jb25zdCBpc0N1c3RvbVZhbHVlID0gKHYpID0+IHtcbiAgICByZXR1cm4gQm9vbGVhbih2ICYmIHR5cGVvZiB2ID09PSBcIm9iamVjdFwiICYmIHYubWl4ICYmIHYudG9WYWx1ZSk7XG59O1xuY29uc3QgcmVzb2x2ZUZpbmFsVmFsdWVJbktleWZyYW1lcyA9ICh2KSA9PiB7XG4gICAgLy8gVE9ETyBtYXliZSB0aHJvdyBpZiB2Lmxlbmd0aCAtIDEgaXMgcGxhY2Vob2xkZXIgdG9rZW4/XG4gICAgcmV0dXJuIGlzS2V5ZnJhbWVzVGFyZ2V0KHYpID8gdlt2Lmxlbmd0aCAtIDFdIHx8IDAgOiB2O1xufTtcblxuZXhwb3J0IHsgaXNDdXN0b21WYWx1ZSwgcmVzb2x2ZUZpbmFsVmFsdWVJbktleWZyYW1lcyB9O1xuIiwiaW1wb3J0IHsgaXNDdXN0b21WYWx1ZSB9IGZyb20gJy4uLy4uL3V0aWxzL3Jlc29sdmUtdmFsdWUubWpzJztcbmltcG9ydCB7IGlzTW90aW9uVmFsdWUgfSBmcm9tICcuL2lzLW1vdGlvbi12YWx1ZS5tanMnO1xuXG4vKipcbiAqIElmIHRoZSBwcm92aWRlZCB2YWx1ZSBpcyBhIE1vdGlvblZhbHVlLCB0aGlzIHJldHVybnMgdGhlIGFjdHVhbCB2YWx1ZSwgb3RoZXJ3aXNlIGp1c3QgdGhlIHZhbHVlIGl0c2VsZlxuICpcbiAqIFRPRE86IFJlbW92ZSBhbmQgbW92ZSB0byBsaWJyYXJ5XG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVNb3Rpb25WYWx1ZSh2YWx1ZSkge1xuICAgIGNvbnN0IHVud3JhcHBlZFZhbHVlID0gaXNNb3Rpb25WYWx1ZSh2YWx1ZSkgPyB2YWx1ZS5nZXQoKSA6IHZhbHVlO1xuICAgIHJldHVybiBpc0N1c3RvbVZhbHVlKHVud3JhcHBlZFZhbHVlKVxuICAgICAgICA/IHVud3JhcHBlZFZhbHVlLnRvVmFsdWUoKVxuICAgICAgICA6IHVud3JhcHBlZFZhbHVlO1xufVxuXG5leHBvcnQgeyByZXNvbHZlTW90aW9uVmFsdWUgfTtcbiIsImltcG9ydCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBpc0FuaW1hdGlvbkNvbnRyb2xzIH0gZnJvbSAnLi4vLi4vYW5pbWF0aW9uL3V0aWxzL2lzLWFuaW1hdGlvbi1jb250cm9scy5tanMnO1xuaW1wb3J0IHsgUHJlc2VuY2VDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9QcmVzZW5jZUNvbnRleHQubWpzJztcbmltcG9ydCB7IHJlc29sdmVWYXJpYW50RnJvbVByb3BzIH0gZnJvbSAnLi4vLi4vcmVuZGVyL3V0aWxzL3Jlc29sdmUtdmFyaWFudHMubWpzJztcbmltcG9ydCB7IHVzZUNvbnN0YW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLWNvbnN0YW50Lm1qcyc7XG5pbXBvcnQgeyByZXNvbHZlTW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi92YWx1ZS91dGlscy9yZXNvbHZlLW1vdGlvbi12YWx1ZS5tanMnO1xuaW1wb3J0IHsgTW90aW9uQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvTW90aW9uQ29udGV4dC9pbmRleC5tanMnO1xuaW1wb3J0IHsgaXNDb250cm9sbGluZ1ZhcmlhbnRzLCBpc1ZhcmlhbnROb2RlIH0gZnJvbSAnLi4vLi4vcmVuZGVyL3V0aWxzL2lzLWNvbnRyb2xsaW5nLXZhcmlhbnRzLm1qcyc7XG5cbmZ1bmN0aW9uIG1ha2VTdGF0ZSh7IHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcywgY3JlYXRlUmVuZGVyU3RhdGUsIG9uTW91bnQsIH0sIHByb3BzLCBjb250ZXh0LCBwcmVzZW5jZUNvbnRleHQpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHtcbiAgICAgICAgbGF0ZXN0VmFsdWVzOiBtYWtlTGF0ZXN0VmFsdWVzKHByb3BzLCBjb250ZXh0LCBwcmVzZW5jZUNvbnRleHQsIHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyksXG4gICAgICAgIHJlbmRlclN0YXRlOiBjcmVhdGVSZW5kZXJTdGF0ZSgpLFxuICAgIH07XG4gICAgaWYgKG9uTW91bnQpIHtcbiAgICAgICAgc3RhdGUubW91bnQgPSAoaW5zdGFuY2UpID0+IG9uTW91bnQocHJvcHMsIGluc3RhbmNlLCBzdGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn1cbmNvbnN0IG1ha2VVc2VWaXN1YWxTdGF0ZSA9IChjb25maWcpID0+IChwcm9wcywgaXNTdGF0aWMpID0+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChNb3Rpb25Db250ZXh0KTtcbiAgICBjb25zdCBwcmVzZW5jZUNvbnRleHQgPSB1c2VDb250ZXh0KFByZXNlbmNlQ29udGV4dCk7XG4gICAgY29uc3QgbWFrZSA9ICgpID0+IG1ha2VTdGF0ZShjb25maWcsIHByb3BzLCBjb250ZXh0LCBwcmVzZW5jZUNvbnRleHQpO1xuICAgIHJldHVybiBpc1N0YXRpYyA/IG1ha2UoKSA6IHVzZUNvbnN0YW50KG1ha2UpO1xufTtcbmZ1bmN0aW9uIG1ha2VMYXRlc3RWYWx1ZXMocHJvcHMsIGNvbnRleHQsIHByZXNlbmNlQ29udGV4dCwgc2NyYXBlTW90aW9uVmFsdWVzKSB7XG4gICAgY29uc3QgdmFsdWVzID0ge307XG4gICAgY29uc3QgbW90aW9uVmFsdWVzID0gc2NyYXBlTW90aW9uVmFsdWVzKHByb3BzKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBtb3Rpb25WYWx1ZXMpIHtcbiAgICAgICAgdmFsdWVzW2tleV0gPSByZXNvbHZlTW90aW9uVmFsdWUobW90aW9uVmFsdWVzW2tleV0pO1xuICAgIH1cbiAgICBsZXQgeyBpbml0aWFsLCBhbmltYXRlIH0gPSBwcm9wcztcbiAgICBjb25zdCBpc0NvbnRyb2xsaW5nVmFyaWFudHMkMSA9IGlzQ29udHJvbGxpbmdWYXJpYW50cyhwcm9wcyk7XG4gICAgY29uc3QgaXNWYXJpYW50Tm9kZSQxID0gaXNWYXJpYW50Tm9kZShwcm9wcyk7XG4gICAgaWYgKGNvbnRleHQgJiZcbiAgICAgICAgaXNWYXJpYW50Tm9kZSQxICYmXG4gICAgICAgICFpc0NvbnRyb2xsaW5nVmFyaWFudHMkMSAmJlxuICAgICAgICBwcm9wcy5pbmhlcml0ICE9PSBmYWxzZSkge1xuICAgICAgICBpZiAoaW5pdGlhbCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgaW5pdGlhbCA9IGNvbnRleHQuaW5pdGlhbDtcbiAgICAgICAgaWYgKGFuaW1hdGUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIGFuaW1hdGUgPSBjb250ZXh0LmFuaW1hdGU7XG4gICAgfVxuICAgIGxldCBpc0luaXRpYWxBbmltYXRpb25CbG9ja2VkID0gcHJlc2VuY2VDb250ZXh0XG4gICAgICAgID8gcHJlc2VuY2VDb250ZXh0LmluaXRpYWwgPT09IGZhbHNlXG4gICAgICAgIDogZmFsc2U7XG4gICAgaXNJbml0aWFsQW5pbWF0aW9uQmxvY2tlZCA9IGlzSW5pdGlhbEFuaW1hdGlvbkJsb2NrZWQgfHwgaW5pdGlhbCA9PT0gZmFsc2U7XG4gICAgY29uc3QgdmFyaWFudFRvU2V0ID0gaXNJbml0aWFsQW5pbWF0aW9uQmxvY2tlZCA/IGFuaW1hdGUgOiBpbml0aWFsO1xuICAgIGlmICh2YXJpYW50VG9TZXQgJiZcbiAgICAgICAgdHlwZW9mIHZhcmlhbnRUb1NldCAhPT0gXCJib29sZWFuXCIgJiZcbiAgICAgICAgIWlzQW5pbWF0aW9uQ29udHJvbHModmFyaWFudFRvU2V0KSkge1xuICAgICAgICBjb25zdCBsaXN0ID0gQXJyYXkuaXNBcnJheSh2YXJpYW50VG9TZXQpID8gdmFyaWFudFRvU2V0IDogW3ZhcmlhbnRUb1NldF07XG4gICAgICAgIGxpc3QuZm9yRWFjaCgoZGVmaW5pdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzb2x2ZWQgPSByZXNvbHZlVmFyaWFudEZyb21Qcm9wcyhwcm9wcywgZGVmaW5pdGlvbik7XG4gICAgICAgICAgICBpZiAoIXJlc29sdmVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHsgdHJhbnNpdGlvbkVuZCwgdHJhbnNpdGlvbiwgLi4udGFyZ2V0IH0gPSByZXNvbHZlZDtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRhcmdldCkge1xuICAgICAgICAgICAgICAgIGxldCB2YWx1ZVRhcmdldCA9IHRhcmdldFtrZXldO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlVGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogVGFrZSBmaW5hbCBrZXlmcmFtZSBpZiB0aGUgaW5pdGlhbCBhbmltYXRpb24gaXMgYmxvY2tlZCBiZWNhdXNlXG4gICAgICAgICAgICAgICAgICAgICAqIHdlIHdhbnQgdG8gaW5pdGlhbGlzZSBhdCB0aGUgZW5kIG9mIHRoYXQgYmxvY2tlZCBhbmltYXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGlzSW5pdGlhbEFuaW1hdGlvbkJsb2NrZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdmFsdWVUYXJnZXQubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAwO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZVRhcmdldCA9IHZhbHVlVGFyZ2V0W2luZGV4XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlVGFyZ2V0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc1trZXldID0gdmFsdWVUYXJnZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdHJhbnNpdGlvbkVuZClcbiAgICAgICAgICAgICAgICB2YWx1ZXNba2V5XSA9IHRyYW5zaXRpb25FbmRba2V5XTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG59XG5cbmV4cG9ydCB7IG1ha2VVc2VWaXN1YWxTdGF0ZSB9O1xuIiwiaW1wb3J0IHsgcmVuZGVyU1ZHIH0gZnJvbSAnLi91dGlscy9yZW5kZXIubWpzJztcbmltcG9ydCB7IHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyB9IGZyb20gJy4vdXRpbHMvc2NyYXBlLW1vdGlvbi12YWx1ZXMubWpzJztcbmltcG9ydCB7IG1ha2VVc2VWaXN1YWxTdGF0ZSB9IGZyb20gJy4uLy4uL21vdGlvbi91dGlscy91c2UtdmlzdWFsLXN0YXRlLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVTdmdSZW5kZXJTdGF0ZSB9IGZyb20gJy4vdXRpbHMvY3JlYXRlLXJlbmRlci1zdGF0ZS5tanMnO1xuaW1wb3J0IHsgYnVpbGRTVkdBdHRycyB9IGZyb20gJy4vdXRpbHMvYnVpbGQtYXR0cnMubWpzJztcblxuY29uc3Qgc3ZnTW90aW9uQ29uZmlnID0ge1xuICAgIHVzZVZpc3VhbFN0YXRlOiBtYWtlVXNlVmlzdWFsU3RhdGUoe1xuICAgICAgICBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHM6IHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyxcbiAgICAgICAgY3JlYXRlUmVuZGVyU3RhdGU6IGNyZWF0ZVN2Z1JlbmRlclN0YXRlLFxuICAgICAgICBvbk1vdW50OiAocHJvcHMsIGluc3RhbmNlLCB7IHJlbmRlclN0YXRlLCBsYXRlc3RWYWx1ZXMgfSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZW5kZXJTdGF0ZS5kaW1lbnNpb25zID1cbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGluc3RhbmNlLmdldEJCb3ggPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gaW5zdGFuY2UuZ2V0QkJveCgpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGluc3RhbmNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBNb3N0IGxpa2VseSB0cnlpbmcgdG8gbWVhc3VyZSBhbiB1bnJlbmRlcmVkIGVsZW1lbnQgdW5kZXIgRmlyZWZveFxuICAgICAgICAgICAgICAgIHJlbmRlclN0YXRlLmRpbWVuc2lvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1aWxkU1ZHQXR0cnMocmVuZGVyU3RhdGUsIGxhdGVzdFZhbHVlcywgeyBlbmFibGVIYXJkd2FyZUFjY2VsZXJhdGlvbjogZmFsc2UgfSwgcHJvcHMudHJhbnNmb3JtVGVtcGxhdGUpO1xuICAgICAgICAgICAgcmVuZGVyU1ZHKGluc3RhbmNlLCByZW5kZXJTdGF0ZSk7XG4gICAgICAgIH0sXG4gICAgfSksXG59O1xuXG5leHBvcnQgeyBzdmdNb3Rpb25Db25maWcgfTtcbiIsImltcG9ydCB7IG1ha2VVc2VWaXN1YWxTdGF0ZSB9IGZyb20gJy4uLy4uL21vdGlvbi91dGlscy91c2UtdmlzdWFsLXN0YXRlLm1qcyc7XG5pbXBvcnQgeyBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMgfSBmcm9tICcuL3V0aWxzL3NjcmFwZS1tb3Rpb24tdmFsdWVzLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVIdG1sUmVuZGVyU3RhdGUgfSBmcm9tICcuL3V0aWxzL2NyZWF0ZS1yZW5kZXItc3RhdGUubWpzJztcblxuY29uc3QgaHRtbE1vdGlvbkNvbmZpZyA9IHtcbiAgICB1c2VWaXN1YWxTdGF0ZTogbWFrZVVzZVZpc3VhbFN0YXRlKHtcbiAgICAgICAgc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzLFxuICAgICAgICBjcmVhdGVSZW5kZXJTdGF0ZTogY3JlYXRlSHRtbFJlbmRlclN0YXRlLFxuICAgIH0pLFxufTtcblxuZXhwb3J0IHsgaHRtbE1vdGlvbkNvbmZpZyB9O1xuIiwidmFyIEFuaW1hdGlvblR5cGU7XG4oZnVuY3Rpb24gKEFuaW1hdGlvblR5cGUpIHtcbiAgICBBbmltYXRpb25UeXBlW1wiQW5pbWF0ZVwiXSA9IFwiYW5pbWF0ZVwiO1xuICAgIEFuaW1hdGlvblR5cGVbXCJIb3ZlclwiXSA9IFwid2hpbGVIb3ZlclwiO1xuICAgIEFuaW1hdGlvblR5cGVbXCJUYXBcIl0gPSBcIndoaWxlVGFwXCI7XG4gICAgQW5pbWF0aW9uVHlwZVtcIkRyYWdcIl0gPSBcIndoaWxlRHJhZ1wiO1xuICAgIEFuaW1hdGlvblR5cGVbXCJGb2N1c1wiXSA9IFwid2hpbGVGb2N1c1wiO1xuICAgIEFuaW1hdGlvblR5cGVbXCJJblZpZXdcIl0gPSBcIndoaWxlSW5WaWV3XCI7XG4gICAgQW5pbWF0aW9uVHlwZVtcIkV4aXRcIl0gPSBcImV4aXRcIjtcbn0pKEFuaW1hdGlvblR5cGUgfHwgKEFuaW1hdGlvblR5cGUgPSB7fSkpO1xuXG5leHBvcnQgeyBBbmltYXRpb25UeXBlIH07XG4iLCJpbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIGFkZERvbUV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zID0geyBwYXNzaXZlOiB0cnVlIH0pIHtcbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIHJldHVybiAoKSA9PiB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIpO1xufVxuLyoqXG4gKiBBdHRhY2hlcyBhbiBldmVudCBsaXN0ZW5lciBkaXJlY3RseSB0byB0aGUgcHJvdmlkZWQgRE9NIGVsZW1lbnQuXG4gKlxuICogQnlwYXNzaW5nIFJlYWN0J3MgZXZlbnQgc3lzdGVtIGNhbiBiZSBkZXNpcmFibGUsIGZvciBpbnN0YW5jZSB3aGVuIGF0dGFjaGluZyBub24tcGFzc2l2ZVxuICogZXZlbnQgaGFuZGxlcnMuXG4gKlxuICogYGBganN4XG4gKiBjb25zdCByZWYgPSB1c2VSZWYobnVsbClcbiAqXG4gKiB1c2VEb21FdmVudChyZWYsICd3aGVlbCcsIG9uV2hlZWwsIHsgcGFzc2l2ZTogZmFsc2UgfSlcbiAqXG4gKiByZXR1cm4gPGRpdiByZWY9e3JlZn0gLz5cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSByZWYgLSBSZWFjdC5SZWZPYmplY3QgdGhhdCdzIGJlZW4gcHJvdmlkZWQgdG8gdGhlIGVsZW1lbnQgeW91IHdhbnQgdG8gYmluZCB0aGUgbGlzdGVuZXIgdG8uXG4gKiBAcGFyYW0gZXZlbnROYW1lIC0gTmFtZSBvZiB0aGUgZXZlbnQgeW91IHdhbnQgbGlzdGVuIGZvci5cbiAqIEBwYXJhbSBoYW5kbGVyIC0gRnVuY3Rpb24gdG8gZmlyZSB3aGVuIHJlY2VpdmluZyB0aGUgZXZlbnQuXG4gKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgdG8gcGFzcyB0byBgRXZlbnQuYWRkRXZlbnRMaXN0ZW5lcmAuXG4gKlxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiB1c2VEb21FdmVudChyZWYsIGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSByZWYuY3VycmVudDtcbiAgICAgICAgaWYgKGhhbmRsZXIgJiYgZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGFkZERvbUV2ZW50KGVsZW1lbnQsIGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9LCBbcmVmLCBldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnNdKTtcbn1cblxuZXhwb3J0IHsgYWRkRG9tRXZlbnQsIHVzZURvbUV2ZW50IH07XG4iLCJmdW5jdGlvbiBpc01vdXNlRXZlbnQoZXZlbnQpIHtcbiAgICAvLyBQb2ludGVyRXZlbnQgaW5oZXJpdHMgZnJvbSBNb3VzZUV2ZW50IHNvIHdlIGNhbid0IHVzZSBhIHN0cmFpZ2h0IGluc3RhbmNlb2YgY2hlY2suXG4gICAgaWYgKHR5cGVvZiBQb2ludGVyRXZlbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgZXZlbnQgaW5zdGFuY2VvZiBQb2ludGVyRXZlbnQpIHtcbiAgICAgICAgcmV0dXJuICEhKGV2ZW50LnBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCIpO1xuICAgIH1cbiAgICByZXR1cm4gZXZlbnQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50O1xufVxuZnVuY3Rpb24gaXNUb3VjaEV2ZW50KGV2ZW50KSB7XG4gICAgY29uc3QgaGFzVG91Y2hlcyA9ICEhZXZlbnQudG91Y2hlcztcbiAgICByZXR1cm4gaGFzVG91Y2hlcztcbn1cblxuZXhwb3J0IHsgaXNNb3VzZUV2ZW50LCBpc1RvdWNoRXZlbnQgfTtcbiIsImltcG9ydCB7IGlzVG91Y2hFdmVudCB9IGZyb20gJy4uL2dlc3R1cmVzL3V0aWxzL2V2ZW50LXR5cGUubWpzJztcblxuLyoqXG4gKiBGaWx0ZXJzIG91dCBldmVudHMgbm90IGF0dGFjaGVkIHRvIHRoZSBwcmltYXJ5IHBvaW50ZXIgKGN1cnJlbnRseSBsZWZ0IG1vdXNlIGJ1dHRvbilcbiAqIEBwYXJhbSBldmVudEhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gZmlsdGVyUHJpbWFyeVBvaW50ZXIoZXZlbnRIYW5kbGVyKSB7XG4gICAgcmV0dXJuIChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBpc01vdXNlRXZlbnQgPSBldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQ7XG4gICAgICAgIGNvbnN0IGlzUHJpbWFyeVBvaW50ZXIgPSAhaXNNb3VzZUV2ZW50IHx8XG4gICAgICAgICAgICAoaXNNb3VzZUV2ZW50ICYmIGV2ZW50LmJ1dHRvbiA9PT0gMCk7XG4gICAgICAgIGlmIChpc1ByaW1hcnlQb2ludGVyKSB7XG4gICAgICAgICAgICBldmVudEhhbmRsZXIoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmNvbnN0IGRlZmF1bHRQYWdlUG9pbnQgPSB7IHBhZ2VYOiAwLCBwYWdlWTogMCB9O1xuZnVuY3Rpb24gcG9pbnRGcm9tVG91Y2goZSwgcG9pbnRUeXBlID0gXCJwYWdlXCIpIHtcbiAgICBjb25zdCBwcmltYXJ5VG91Y2ggPSBlLnRvdWNoZXNbMF0gfHwgZS5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgICBjb25zdCBwb2ludCA9IHByaW1hcnlUb3VjaCB8fCBkZWZhdWx0UGFnZVBvaW50O1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHBvaW50W3BvaW50VHlwZSArIFwiWFwiXSxcbiAgICAgICAgeTogcG9pbnRbcG9pbnRUeXBlICsgXCJZXCJdLFxuICAgIH07XG59XG5mdW5jdGlvbiBwb2ludEZyb21Nb3VzZShwb2ludCwgcG9pbnRUeXBlID0gXCJwYWdlXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBwb2ludFtwb2ludFR5cGUgKyBcIlhcIl0sXG4gICAgICAgIHk6IHBvaW50W3BvaW50VHlwZSArIFwiWVwiXSxcbiAgICB9O1xufVxuZnVuY3Rpb24gZXh0cmFjdEV2ZW50SW5mbyhldmVudCwgcG9pbnRUeXBlID0gXCJwYWdlXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBwb2ludDogaXNUb3VjaEV2ZW50KGV2ZW50KVxuICAgICAgICAgICAgPyBwb2ludEZyb21Ub3VjaChldmVudCwgcG9pbnRUeXBlKVxuICAgICAgICAgICAgOiBwb2ludEZyb21Nb3VzZShldmVudCwgcG9pbnRUeXBlKSxcbiAgICB9O1xufVxuY29uc3Qgd3JhcEhhbmRsZXIgPSAoaGFuZGxlciwgc2hvdWxkRmlsdGVyUHJpbWFyeVBvaW50ZXIgPSBmYWxzZSkgPT4ge1xuICAgIGNvbnN0IGxpc3RlbmVyID0gKGV2ZW50KSA9PiBoYW5kbGVyKGV2ZW50LCBleHRyYWN0RXZlbnRJbmZvKGV2ZW50KSk7XG4gICAgcmV0dXJuIHNob3VsZEZpbHRlclByaW1hcnlQb2ludGVyXG4gICAgICAgID8gZmlsdGVyUHJpbWFyeVBvaW50ZXIobGlzdGVuZXIpXG4gICAgICAgIDogbGlzdGVuZXI7XG59O1xuXG5leHBvcnQgeyBleHRyYWN0RXZlbnRJbmZvLCB3cmFwSGFuZGxlciB9O1xuIiwiaW1wb3J0IHsgYWRkRG9tRXZlbnQsIHVzZURvbUV2ZW50IH0gZnJvbSAnLi91c2UtZG9tLWV2ZW50Lm1qcyc7XG5pbXBvcnQgeyB3cmFwSGFuZGxlciB9IGZyb20gJy4vZXZlbnQtaW5mby5tanMnO1xuaW1wb3J0IHsgc3VwcG9ydHNQb2ludGVyRXZlbnRzLCBzdXBwb3J0c1RvdWNoRXZlbnRzLCBzdXBwb3J0c01vdXNlRXZlbnRzIH0gZnJvbSAnLi91dGlscy5tanMnO1xuXG5jb25zdCBtb3VzZUV2ZW50TmFtZXMgPSB7XG4gICAgcG9pbnRlcmRvd246IFwibW91c2Vkb3duXCIsXG4gICAgcG9pbnRlcm1vdmU6IFwibW91c2Vtb3ZlXCIsXG4gICAgcG9pbnRlcnVwOiBcIm1vdXNldXBcIixcbiAgICBwb2ludGVyY2FuY2VsOiBcIm1vdXNlY2FuY2VsXCIsXG4gICAgcG9pbnRlcm92ZXI6IFwibW91c2VvdmVyXCIsXG4gICAgcG9pbnRlcm91dDogXCJtb3VzZW91dFwiLFxuICAgIHBvaW50ZXJlbnRlcjogXCJtb3VzZWVudGVyXCIsXG4gICAgcG9pbnRlcmxlYXZlOiBcIm1vdXNlbGVhdmVcIixcbn07XG5jb25zdCB0b3VjaEV2ZW50TmFtZXMgPSB7XG4gICAgcG9pbnRlcmRvd246IFwidG91Y2hzdGFydFwiLFxuICAgIHBvaW50ZXJtb3ZlOiBcInRvdWNobW92ZVwiLFxuICAgIHBvaW50ZXJ1cDogXCJ0b3VjaGVuZFwiLFxuICAgIHBvaW50ZXJjYW5jZWw6IFwidG91Y2hjYW5jZWxcIixcbn07XG5mdW5jdGlvbiBnZXRQb2ludGVyRXZlbnROYW1lKG5hbWUpIHtcbiAgICBpZiAoc3VwcG9ydHNQb2ludGVyRXZlbnRzKCkpIHtcbiAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHN1cHBvcnRzVG91Y2hFdmVudHMoKSkge1xuICAgICAgICByZXR1cm4gdG91Y2hFdmVudE5hbWVzW25hbWVdO1xuICAgIH1cbiAgICBlbHNlIGlmIChzdXBwb3J0c01vdXNlRXZlbnRzKCkpIHtcbiAgICAgICAgcmV0dXJuIG1vdXNlRXZlbnROYW1lc1tuYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWU7XG59XG5mdW5jdGlvbiBhZGRQb2ludGVyRXZlbnQodGFyZ2V0LCBldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYWRkRG9tRXZlbnQodGFyZ2V0LCBnZXRQb2ludGVyRXZlbnROYW1lKGV2ZW50TmFtZSksIHdyYXBIYW5kbGVyKGhhbmRsZXIsIGV2ZW50TmFtZSA9PT0gXCJwb2ludGVyZG93blwiKSwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiB1c2VQb2ludGVyRXZlbnQocmVmLCBldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdXNlRG9tRXZlbnQocmVmLCBnZXRQb2ludGVyRXZlbnROYW1lKGV2ZW50TmFtZSksIGhhbmRsZXIgJiYgd3JhcEhhbmRsZXIoaGFuZGxlciwgZXZlbnROYW1lID09PSBcInBvaW50ZXJkb3duXCIpLCBvcHRpb25zKTtcbn1cblxuZXhwb3J0IHsgYWRkUG9pbnRlckV2ZW50LCB1c2VQb2ludGVyRXZlbnQgfTtcbiIsImltcG9ydCB7IGlzQnJvd3NlciB9IGZyb20gJy4uL3V0aWxzL2lzLWJyb3dzZXIubWpzJztcblxuLy8gV2UgY2hlY2sgZm9yIGV2ZW50IHN1cHBvcnQgdmlhIGZ1bmN0aW9ucyBpbiBjYXNlIHRoZXkndmUgYmVlbiBtb2NrZWQgYnkgYSB0ZXN0aW5nIHN1aXRlLlxuY29uc3Qgc3VwcG9ydHNQb2ludGVyRXZlbnRzID0gKCkgPT4gaXNCcm93c2VyICYmIHdpbmRvdy5vbnBvaW50ZXJkb3duID09PSBudWxsO1xuY29uc3Qgc3VwcG9ydHNUb3VjaEV2ZW50cyA9ICgpID0+IGlzQnJvd3NlciAmJiB3aW5kb3cub250b3VjaHN0YXJ0ID09PSBudWxsO1xuY29uc3Qgc3VwcG9ydHNNb3VzZUV2ZW50cyA9ICgpID0+IGlzQnJvd3NlciAmJiB3aW5kb3cub25tb3VzZWRvd24gPT09IG51bGw7XG5cbmV4cG9ydCB7IHN1cHBvcnRzTW91c2VFdmVudHMsIHN1cHBvcnRzUG9pbnRlckV2ZW50cywgc3VwcG9ydHNUb3VjaEV2ZW50cyB9O1xuIiwiZnVuY3Rpb24gY3JlYXRlTG9jayhuYW1lKSB7XG4gICAgbGV0IGxvY2sgPSBudWxsO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wZW5Mb2NrID0gKCkgPT4ge1xuICAgICAgICAgICAgbG9jayA9IG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChsb2NrID09PSBudWxsKSB7XG4gICAgICAgICAgICBsb2NrID0gbmFtZTtcbiAgICAgICAgICAgIHJldHVybiBvcGVuTG9jaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbn1cbmNvbnN0IGdsb2JhbEhvcml6b250YWxMb2NrID0gY3JlYXRlTG9jayhcImRyYWdIb3Jpem9udGFsXCIpO1xuY29uc3QgZ2xvYmFsVmVydGljYWxMb2NrID0gY3JlYXRlTG9jayhcImRyYWdWZXJ0aWNhbFwiKTtcbmZ1bmN0aW9uIGdldEdsb2JhbExvY2soZHJhZykge1xuICAgIGxldCBsb2NrID0gZmFsc2U7XG4gICAgaWYgKGRyYWcgPT09IFwieVwiKSB7XG4gICAgICAgIGxvY2sgPSBnbG9iYWxWZXJ0aWNhbExvY2soKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZHJhZyA9PT0gXCJ4XCIpIHtcbiAgICAgICAgbG9jayA9IGdsb2JhbEhvcml6b250YWxMb2NrKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBvcGVuSG9yaXpvbnRhbCA9IGdsb2JhbEhvcml6b250YWxMb2NrKCk7XG4gICAgICAgIGNvbnN0IG9wZW5WZXJ0aWNhbCA9IGdsb2JhbFZlcnRpY2FsTG9jaygpO1xuICAgICAgICBpZiAob3Blbkhvcml6b250YWwgJiYgb3BlblZlcnRpY2FsKSB7XG4gICAgICAgICAgICBsb2NrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIG9wZW5Ib3Jpem9udGFsKCk7XG4gICAgICAgICAgICAgICAgb3BlblZlcnRpY2FsKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gUmVsZWFzZSB0aGUgbG9ja3MgYmVjYXVzZSB3ZSBkb24ndCB1c2UgdGhlbVxuICAgICAgICAgICAgaWYgKG9wZW5Ib3Jpem9udGFsKVxuICAgICAgICAgICAgICAgIG9wZW5Ib3Jpem9udGFsKCk7XG4gICAgICAgICAgICBpZiAob3BlblZlcnRpY2FsKVxuICAgICAgICAgICAgICAgIG9wZW5WZXJ0aWNhbCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsb2NrO1xufVxuZnVuY3Rpb24gaXNEcmFnQWN0aXZlKCkge1xuICAgIC8vIENoZWNrIHRoZSBnZXN0dXJlIGxvY2sgLSBpZiB3ZSBnZXQgaXQsIGl0IG1lYW5zIG5vIGRyYWcgZ2VzdHVyZSBpcyBhY3RpdmVcbiAgICAvLyBhbmQgd2UgY2FuIHNhZmVseSBmaXJlIHRoZSB0YXAgZ2VzdHVyZS5cbiAgICBjb25zdCBvcGVuR2VzdHVyZUxvY2sgPSBnZXRHbG9iYWxMb2NrKHRydWUpO1xuICAgIGlmICghb3Blbkdlc3R1cmVMb2NrKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBvcGVuR2VzdHVyZUxvY2soKTtcbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZUxvY2ssIGdldEdsb2JhbExvY2ssIGlzRHJhZ0FjdGl2ZSB9O1xuIiwiaW1wb3J0IHsgaXNNb3VzZUV2ZW50IH0gZnJvbSAnLi91dGlscy9ldmVudC10eXBlLm1qcyc7XG5pbXBvcnQgeyBBbmltYXRpb25UeXBlIH0gZnJvbSAnLi4vcmVuZGVyL3V0aWxzL3R5cGVzLm1qcyc7XG5pbXBvcnQgeyB1c2VQb2ludGVyRXZlbnQgfSBmcm9tICcuLi9ldmVudHMvdXNlLXBvaW50ZXItZXZlbnQubWpzJztcbmltcG9ydCB7IGlzRHJhZ0FjdGl2ZSB9IGZyb20gJy4vZHJhZy91dGlscy9sb2NrLm1qcyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZUhvdmVyRXZlbnQodmlzdWFsRWxlbWVudCwgaXNBY3RpdmUsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIChldmVudCwgaW5mbykgPT4ge1xuICAgICAgICBpZiAoIWlzTW91c2VFdmVudChldmVudCkgfHwgaXNEcmFnQWN0aXZlKCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbnN1cmUgd2UgdHJpZ2dlciBhbmltYXRpb25zIGJlZm9yZSBmaXJpbmcgZXZlbnQgY2FsbGJhY2tcbiAgICAgICAgICovXG4gICAgICAgIGlmICh2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgICAgICB2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlLnNldEFjdGl2ZShBbmltYXRpb25UeXBlLkhvdmVyLCBpc0FjdGl2ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZXZlbnQsIGluZm8pO1xuICAgIH07XG59XG5mdW5jdGlvbiB1c2VIb3Zlckdlc3R1cmUoeyBvbkhvdmVyU3RhcnQsIG9uSG92ZXJFbmQsIHdoaWxlSG92ZXIsIHZpc3VhbEVsZW1lbnQsIH0pIHtcbiAgICB1c2VQb2ludGVyRXZlbnQodmlzdWFsRWxlbWVudCwgXCJwb2ludGVyZW50ZXJcIiwgb25Ib3ZlclN0YXJ0IHx8IHdoaWxlSG92ZXJcbiAgICAgICAgPyBjcmVhdGVIb3ZlckV2ZW50KHZpc3VhbEVsZW1lbnQsIHRydWUsIG9uSG92ZXJTdGFydClcbiAgICAgICAgOiB1bmRlZmluZWQsIHsgcGFzc2l2ZTogIW9uSG92ZXJTdGFydCB9KTtcbiAgICB1c2VQb2ludGVyRXZlbnQodmlzdWFsRWxlbWVudCwgXCJwb2ludGVybGVhdmVcIiwgb25Ib3ZlckVuZCB8fCB3aGlsZUhvdmVyXG4gICAgICAgID8gY3JlYXRlSG92ZXJFdmVudCh2aXN1YWxFbGVtZW50LCBmYWxzZSwgb25Ib3ZlckVuZClcbiAgICAgICAgOiB1bmRlZmluZWQsIHsgcGFzc2l2ZTogIW9uSG92ZXJFbmQgfSk7XG59XG5cbmV4cG9ydCB7IHVzZUhvdmVyR2VzdHVyZSB9O1xuIiwiLyoqXG4gKiBSZWN1cnNpdmVseSB0cmF2ZXJzZSB1cCB0aGUgdHJlZSB0byBjaGVjayB3aGV0aGVyIHRoZSBwcm92aWRlZCBjaGlsZCBub2RlXG4gKiBpcyB0aGUgcGFyZW50IG9yIGEgZGVzY2VuZGFudCBvZiBpdC5cbiAqXG4gKiBAcGFyYW0gcGFyZW50IC0gRWxlbWVudCB0byBmaW5kXG4gKiBAcGFyYW0gY2hpbGQgLSBFbGVtZW50IHRvIHRlc3QgYWdhaW5zdCBwYXJlbnRcbiAqL1xuY29uc3QgaXNOb2RlT3JDaGlsZCA9IChwYXJlbnQsIGNoaWxkKSA9PiB7XG4gICAgaWYgKCFjaGlsZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVsc2UgaWYgKHBhcmVudCA9PT0gY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gaXNOb2RlT3JDaGlsZChwYXJlbnQsIGNoaWxkLnBhcmVudEVsZW1lbnQpO1xuICAgIH1cbn07XG5cbmV4cG9ydCB7IGlzTm9kZU9yQ2hpbGQgfTtcbiIsImltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gdXNlVW5tb3VudEVmZmVjdChjYWxsYmFjaykge1xuICAgIHJldHVybiB1c2VFZmZlY3QoKCkgPT4gKCkgPT4gY2FsbGJhY2soKSwgW10pO1xufVxuXG5leHBvcnQgeyB1c2VVbm1vdW50RWZmZWN0IH07XG4iLCJjb25zdCBjb21iaW5lRnVuY3Rpb25zID0gKGEsIGIpID0+ICh2KSA9PiBiKGEodikpO1xuY29uc3QgcGlwZSA9ICguLi50cmFuc2Zvcm1lcnMpID0+IHRyYW5zZm9ybWVycy5yZWR1Y2UoY29tYmluZUZ1bmN0aW9ucyk7XG5cbmV4cG9ydCB7IHBpcGUgfTtcbiIsIi8qKlxuICogQnJvd3Nlci1zYWZlIHVzYWdlIG9mIHByb2Nlc3NcbiAqL1xuY29uc3QgZGVmYXVsdEVudmlyb25tZW50ID0gXCJwcm9kdWN0aW9uXCI7XG5jb25zdCBlbnYgPSB0eXBlb2YgcHJvY2VzcyA9PT0gXCJ1bmRlZmluZWRcIiB8fCBwcm9jZXNzLmVudiA9PT0gdW5kZWZpbmVkXG4gICAgPyBkZWZhdWx0RW52aXJvbm1lbnRcbiAgICA6IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8IGRlZmF1bHRFbnZpcm9ubWVudDtcblxuZXhwb3J0IHsgZW52IH07XG4iLCJjb25zdCB3YXJuZWQgPSBuZXcgU2V0KCk7XG5mdW5jdGlvbiB3YXJuT25jZShjb25kaXRpb24sIG1lc3NhZ2UsIGVsZW1lbnQpIHtcbiAgICBpZiAoY29uZGl0aW9uIHx8IHdhcm5lZC5oYXMobWVzc2FnZSkpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgaWYgKGVsZW1lbnQpXG4gICAgICAgIGNvbnNvbGUud2FybihlbGVtZW50KTtcbiAgICB3YXJuZWQuYWRkKG1lc3NhZ2UpO1xufVxuXG5leHBvcnQgeyB3YXJuT25jZSB9O1xuIiwiLyoqXG4gKiBNYXAgYW4gSW50ZXJzZWN0aW9uSGFuZGxlciBjYWxsYmFjayB0byBhbiBlbGVtZW50LiBXZSBvbmx5IGV2ZXIgbWFrZSBvbmUgaGFuZGxlciBmb3Igb25lXG4gKiBlbGVtZW50LCBzbyBldmVuIHRob3VnaCB0aGVzZSBoYW5kbGVycyBtaWdodCBhbGwgYmUgdHJpZ2dlcmVkIGJ5IGRpZmZlcmVudFxuICogb2JzZXJ2ZXJzLCB3ZSBjYW4ga2VlcCB0aGVtIGluIHRoZSBzYW1lIG1hcC5cbiAqL1xuY29uc3Qgb2JzZXJ2ZXJDYWxsYmFja3MgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBNdWx0aXBsZSBvYnNlcnZlcnMgY2FuIGJlIGNyZWF0ZWQgZm9yIG11bHRpcGxlIGVsZW1lbnQvZG9jdW1lbnQgcm9vdHMuIEVhY2ggd2l0aFxuICogZGlmZmVyZW50IHNldHRpbmdzLiBTbyBoZXJlIHdlIHN0b3JlIGRpY3Rpb25hcmllcyBvZiBvYnNlcnZlcnMgdG8gZWFjaCByb290LFxuICogdXNpbmcgc2VyaWFsaXNlZCBzZXR0aW5ncyAodGhyZXNob2xkL21hcmdpbikgYXMgbG9va3VwIGtleXMuXG4gKi9cbmNvbnN0IG9ic2VydmVycyA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBmaXJlT2JzZXJ2ZXJDYWxsYmFjayA9IChlbnRyeSkgPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gb2JzZXJ2ZXJDYWxsYmFja3MuZ2V0KGVudHJ5LnRhcmdldCk7XG4gICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZW50cnkpO1xufTtcbmNvbnN0IGZpcmVBbGxPYnNlcnZlckNhbGxiYWNrcyA9IChlbnRyaWVzKSA9PiB7XG4gICAgZW50cmllcy5mb3JFYWNoKGZpcmVPYnNlcnZlckNhbGxiYWNrKTtcbn07XG5mdW5jdGlvbiBpbml0SW50ZXJzZWN0aW9uT2JzZXJ2ZXIoeyByb290LCAuLi5vcHRpb25zIH0pIHtcbiAgICBjb25zdCBsb29rdXBSb290ID0gcm9vdCB8fCBkb2N1bWVudDtcbiAgICAvKipcbiAgICAgKiBJZiB3ZSBkb24ndCBoYXZlIGFuIG9ic2VydmVyIGxvb2t1cCBtYXAgZm9yIHRoaXMgcm9vdCwgY3JlYXRlIG9uZS5cbiAgICAgKi9cbiAgICBpZiAoIW9ic2VydmVycy5oYXMobG9va3VwUm9vdCkpIHtcbiAgICAgICAgb2JzZXJ2ZXJzLnNldChsb29rdXBSb290LCB7fSk7XG4gICAgfVxuICAgIGNvbnN0IHJvb3RPYnNlcnZlcnMgPSBvYnNlcnZlcnMuZ2V0KGxvb2t1cFJvb3QpO1xuICAgIGNvbnN0IGtleSA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpO1xuICAgIC8qKlxuICAgICAqIElmIHdlIGRvbid0IGhhdmUgYW4gb2JzZXJ2ZXIgZm9yIHRoaXMgY29tYmluYXRpb24gb2Ygcm9vdCBhbmQgc2V0dGluZ3MsXG4gICAgICogY3JlYXRlIG9uZS5cbiAgICAgKi9cbiAgICBpZiAoIXJvb3RPYnNlcnZlcnNba2V5XSkge1xuICAgICAgICByb290T2JzZXJ2ZXJzW2tleV0gPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZmlyZUFsbE9ic2VydmVyQ2FsbGJhY2tzLCB7IHJvb3QsIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIHJldHVybiByb290T2JzZXJ2ZXJzW2tleV07XG59XG5mdW5jdGlvbiBvYnNlcnZlSW50ZXJzZWN0aW9uKGVsZW1lbnQsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgY29uc3Qgcm9vdEludGVyZXNlY3Rpb25PYnNlcnZlciA9IGluaXRJbnRlcnNlY3Rpb25PYnNlcnZlcihvcHRpb25zKTtcbiAgICBvYnNlcnZlckNhbGxiYWNrcy5zZXQoZWxlbWVudCwgY2FsbGJhY2spO1xuICAgIHJvb3RJbnRlcmVzZWN0aW9uT2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBvYnNlcnZlckNhbGxiYWNrcy5kZWxldGUoZWxlbWVudCk7XG4gICAgICAgIHJvb3RJbnRlcmVzZWN0aW9uT2JzZXJ2ZXIudW5vYnNlcnZlKGVsZW1lbnQpO1xuICAgIH07XG59XG5cbmV4cG9ydCB7IG9ic2VydmVJbnRlcnNlY3Rpb24gfTtcbiIsImltcG9ydCB7IGVudiB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3Byb2Nlc3MubWpzJztcbmltcG9ydCB7IHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQW5pbWF0aW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uL3JlbmRlci91dGlscy90eXBlcy5tanMnO1xuaW1wb3J0IHsgd2Fybk9uY2UgfSBmcm9tICcuLi8uLi8uLi91dGlscy93YXJuLW9uY2UubWpzJztcbmltcG9ydCB7IG9ic2VydmVJbnRlcnNlY3Rpb24gfSBmcm9tICcuL29ic2VydmVycy5tanMnO1xuXG5mdW5jdGlvbiB1c2VWaWV3cG9ydCh7IHZpc3VhbEVsZW1lbnQsIHdoaWxlSW5WaWV3LCBvblZpZXdwb3J0RW50ZXIsIG9uVmlld3BvcnRMZWF2ZSwgdmlld3BvcnQgPSB7fSwgfSkge1xuICAgIGNvbnN0IHN0YXRlID0gdXNlUmVmKHtcbiAgICAgICAgaGFzRW50ZXJlZFZpZXc6IGZhbHNlLFxuICAgICAgICBpc0luVmlldzogZmFsc2UsXG4gICAgfSk7XG4gICAgbGV0IHNob3VsZE9ic2VydmUgPSBCb29sZWFuKHdoaWxlSW5WaWV3IHx8IG9uVmlld3BvcnRFbnRlciB8fCBvblZpZXdwb3J0TGVhdmUpO1xuICAgIGlmICh2aWV3cG9ydC5vbmNlICYmIHN0YXRlLmN1cnJlbnQuaGFzRW50ZXJlZFZpZXcpXG4gICAgICAgIHNob3VsZE9ic2VydmUgPSBmYWxzZTtcbiAgICBjb25zdCB1c2VPYnNlcnZlciA9IHR5cGVvZiBJbnRlcnNlY3Rpb25PYnNlcnZlciA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICA/IHVzZU1pc3NpbmdJbnRlcnNlY3Rpb25PYnNlcnZlclxuICAgICAgICA6IHVzZUludGVyc2VjdGlvbk9ic2VydmVyO1xuICAgIHVzZU9ic2VydmVyKHNob3VsZE9ic2VydmUsIHN0YXRlLmN1cnJlbnQsIHZpc3VhbEVsZW1lbnQsIHZpZXdwb3J0KTtcbn1cbmNvbnN0IHRocmVzaG9sZE5hbWVzID0ge1xuICAgIHNvbWU6IDAsXG4gICAgYWxsOiAxLFxufTtcbmZ1bmN0aW9uIHVzZUludGVyc2VjdGlvbk9ic2VydmVyKHNob3VsZE9ic2VydmUsIHN0YXRlLCB2aXN1YWxFbGVtZW50LCB7IHJvb3QsIG1hcmdpbjogcm9vdE1hcmdpbiwgYW1vdW50ID0gXCJzb21lXCIsIG9uY2UgfSkge1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghc2hvdWxkT2JzZXJ2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHJvb3Q6IHJvb3QgPT09IG51bGwgfHwgcm9vdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcm9vdC5jdXJyZW50LFxuICAgICAgICAgICAgcm9vdE1hcmdpbixcbiAgICAgICAgICAgIHRocmVzaG9sZDogdHlwZW9mIGFtb3VudCA9PT0gXCJudW1iZXJcIiA/IGFtb3VudCA6IHRocmVzaG9sZE5hbWVzW2Ftb3VudF0sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGludGVyc2VjdGlvbkNhbGxiYWNrID0gKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGlzSW50ZXJzZWN0aW5nIH0gPSBlbnRyeTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhlcmUncyBiZWVuIG5vIGNoYW5nZSBpbiB0aGUgdmlld3BvcnQgc3RhdGUsIGVhcmx5IHJldHVybi5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHN0YXRlLmlzSW5WaWV3ID09PSBpc0ludGVyc2VjdGluZylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBzdGF0ZS5pc0luVmlldyA9IGlzSW50ZXJzZWN0aW5nO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBIYW5kbGUgaGFzRW50ZXJlZFZpZXcuIElmIHRoaXMgaXMgb25seSBtZWFudCB0byBydW4gb25jZSwgYW5kXG4gICAgICAgICAgICAgKiBlbGVtZW50IGlzbid0IHZpc2libGUsIGVhcmx5IHJldHVybi4gT3RoZXJ3aXNlIHNldCBoYXNFbnRlcmVkVmlldyB0byB0cnVlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAob25jZSAmJiAhaXNJbnRlcnNlY3RpbmcgJiYgc3RhdGUuaGFzRW50ZXJlZFZpZXcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0ludGVyc2VjdGluZykge1xuICAgICAgICAgICAgICAgIHN0YXRlLmhhc0VudGVyZWRWaWV3ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdmlzdWFsRWxlbWVudC5hbmltYXRpb25TdGF0ZS5zZXRBY3RpdmUoQW5pbWF0aW9uVHlwZS5JblZpZXcsIGlzSW50ZXJzZWN0aW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVXNlIHRoZSBsYXRlc3QgY29tbWl0dGVkIHByb3BzIHJhdGhlciB0aGFuIHRoZSBvbmVzIGluIHNjb3BlXG4gICAgICAgICAgICAgKiB3aGVuIHRoaXMgb2JzZXJ2ZXIgaXMgY3JlYXRlZFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBwcm9wcyA9IHZpc3VhbEVsZW1lbnQuZ2V0UHJvcHMoKTtcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gaXNJbnRlcnNlY3RpbmdcbiAgICAgICAgICAgICAgICA/IHByb3BzLm9uVmlld3BvcnRFbnRlclxuICAgICAgICAgICAgICAgIDogcHJvcHMub25WaWV3cG9ydExlYXZlO1xuICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZW50cnkpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZUludGVyc2VjdGlvbih2aXN1YWxFbGVtZW50LmdldEluc3RhbmNlKCksIG9wdGlvbnMsIGludGVyc2VjdGlvbkNhbGxiYWNrKTtcbiAgICB9LCBbc2hvdWxkT2JzZXJ2ZSwgcm9vdCwgcm9vdE1hcmdpbiwgYW1vdW50XSk7XG59XG4vKipcbiAqIElmIEludGVyc2VjdGlvbk9ic2VydmVyIGlzIG1pc3NpbmcsIHdlIGFjdGl2YXRlIGluVmlldyBhbmQgZmlyZSBvblZpZXdwb3J0RW50ZXJcbiAqIG9uIG1vdW50LiBUaGlzIHdheSwgdGhlIHBhZ2Ugd2lsbCBiZSBpbiB0aGUgc3RhdGUgdGhlIGF1dGhvciBleHBlY3RzIHVzZXJzXG4gKiB0byBzZWUgaXQgaW4gZm9yIGV2ZXJ5b25lLlxuICovXG5mdW5jdGlvbiB1c2VNaXNzaW5nSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoc2hvdWxkT2JzZXJ2ZSwgc3RhdGUsIHZpc3VhbEVsZW1lbnQsIHsgZmFsbGJhY2sgPSB0cnVlIH0pIHtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXNob3VsZE9ic2VydmUgfHwgIWZhbGxiYWNrKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoZW52ICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgICAgICAgd2Fybk9uY2UoZmFsc2UsIFwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgbm90IGF2YWlsYWJsZSBvbiB0aGlzIGRldmljZS4gd2hpbGVJblZpZXcgYW5pbWF0aW9ucyB3aWxsIHRyaWdnZXIgb24gbW91bnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlIHRoaXMgaW4gYW4gckFGIGJlY2F1c2UsIGF0IHRoaXMgcG9pbnQsIHRoZSBhbmltYXRpb24gc3RhdGVcbiAgICAgICAgICogd29uJ3QgaGF2ZSBmbHVzaGVkIGZvciB0aGUgZmlyc3QgdGltZSBhbmQgdGhlcmUncyBjZXJ0YWluIGxvZ2ljIGluXG4gICAgICAgICAqIHRoZXJlIHRoYXQgYmVoYXZlcyBkaWZmZXJlbnRseSBvbiB0aGUgaW5pdGlhbCBhbmltYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgaG9vayBzaG91bGQgYmUgcXVpdGUgcmFyZWx5IGNhbGxlZCBzbyBzZXR0aW5nIHRoaXMgaW4gYW4gckFGXG4gICAgICAgICAqIGlzIHByZWZlcnJlZCB0byBjaGFuZ2luZyB0aGUgYmVoYXZpb3VyIG9mIHRoZSBhbmltYXRpb24gc3RhdGUuXG4gICAgICAgICAqL1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgc3RhdGUuaGFzRW50ZXJlZFZpZXcgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgeyBvblZpZXdwb3J0RW50ZXIgfSA9IHZpc3VhbEVsZW1lbnQuZ2V0UHJvcHMoKTtcbiAgICAgICAgICAgIG9uVmlld3BvcnRFbnRlciAmJiBvblZpZXdwb3J0RW50ZXIobnVsbCk7XG4gICAgICAgICAgICBpZiAodmlzdWFsRWxlbWVudC5hbmltYXRpb25TdGF0ZSkge1xuICAgICAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQuYW5pbWF0aW9uU3RhdGUuc2V0QWN0aXZlKEFuaW1hdGlvblR5cGUuSW5WaWV3LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSwgW3Nob3VsZE9ic2VydmVdKTtcbn1cblxuZXhwb3J0IHsgdXNlVmlld3BvcnQgfTtcbiIsImNvbnN0IG1ha2VSZW5kZXJsZXNzQ29tcG9uZW50ID0gKGhvb2spID0+IChwcm9wcykgPT4ge1xuICAgIGhvb2socHJvcHMpO1xuICAgIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IHsgbWFrZVJlbmRlcmxlc3NDb21wb25lbnQgfTtcbiIsImltcG9ydCB7IHVzZUZvY3VzR2VzdHVyZSB9IGZyb20gJy4uLy4uL2dlc3R1cmVzL3VzZS1mb2N1cy1nZXN0dXJlLm1qcyc7XG5pbXBvcnQgeyB1c2VIb3Zlckdlc3R1cmUgfSBmcm9tICcuLi8uLi9nZXN0dXJlcy91c2UtaG92ZXItZ2VzdHVyZS5tanMnO1xuaW1wb3J0IHsgdXNlVGFwR2VzdHVyZSB9IGZyb20gJy4uLy4uL2dlc3R1cmVzL3VzZS10YXAtZ2VzdHVyZS5tanMnO1xuaW1wb3J0IHsgdXNlVmlld3BvcnQgfSBmcm9tICcuL3ZpZXdwb3J0L3VzZS12aWV3cG9ydC5tanMnO1xuaW1wb3J0IHsgbWFrZVJlbmRlcmxlc3NDb21wb25lbnQgfSBmcm9tICcuLi91dGlscy9tYWtlLXJlbmRlcmxlc3MtY29tcG9uZW50Lm1qcyc7XG5cbmNvbnN0IGdlc3R1cmVBbmltYXRpb25zID0ge1xuICAgIGluVmlldzogbWFrZVJlbmRlcmxlc3NDb21wb25lbnQodXNlVmlld3BvcnQpLFxuICAgIHRhcDogbWFrZVJlbmRlcmxlc3NDb21wb25lbnQodXNlVGFwR2VzdHVyZSksXG4gICAgZm9jdXM6IG1ha2VSZW5kZXJsZXNzQ29tcG9uZW50KHVzZUZvY3VzR2VzdHVyZSksXG4gICAgaG92ZXI6IG1ha2VSZW5kZXJsZXNzQ29tcG9uZW50KHVzZUhvdmVyR2VzdHVyZSksXG59O1xuXG5leHBvcnQgeyBnZXN0dXJlQW5pbWF0aW9ucyB9O1xuIiwiaW1wb3J0IHsgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaXNOb2RlT3JDaGlsZCB9IGZyb20gJy4vdXRpbHMvaXMtbm9kZS1vci1jaGlsZC5tanMnO1xuaW1wb3J0IHsgdXNlUG9pbnRlckV2ZW50LCBhZGRQb2ludGVyRXZlbnQgfSBmcm9tICcuLi9ldmVudHMvdXNlLXBvaW50ZXItZXZlbnQubWpzJztcbmltcG9ydCB7IHVzZVVubW91bnRFZmZlY3QgfSBmcm9tICcuLi91dGlscy91c2UtdW5tb3VudC1lZmZlY3QubWpzJztcbmltcG9ydCB7IHBpcGUgfSBmcm9tICdwb3Btb3Rpb24nO1xuaW1wb3J0IHsgQW5pbWF0aW9uVHlwZSB9IGZyb20gJy4uL3JlbmRlci91dGlscy90eXBlcy5tanMnO1xuaW1wb3J0IHsgaXNEcmFnQWN0aXZlIH0gZnJvbSAnLi9kcmFnL3V0aWxzL2xvY2subWpzJztcblxuLyoqXG4gKiBAcGFyYW0gaGFuZGxlcnMgLVxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIHVzZVRhcEdlc3R1cmUoeyBvblRhcCwgb25UYXBTdGFydCwgb25UYXBDYW5jZWwsIHdoaWxlVGFwLCB2aXN1YWxFbGVtZW50LCB9KSB7XG4gICAgY29uc3QgaGFzUHJlc3NMaXN0ZW5lcnMgPSBvblRhcCB8fCBvblRhcFN0YXJ0IHx8IG9uVGFwQ2FuY2VsIHx8IHdoaWxlVGFwO1xuICAgIGNvbnN0IGlzUHJlc3NpbmcgPSB1c2VSZWYoZmFsc2UpO1xuICAgIGNvbnN0IGNhbmNlbFBvaW50ZXJFbmRMaXN0ZW5lcnMgPSB1c2VSZWYobnVsbCk7XG4gICAgLyoqXG4gICAgICogT25seSBzZXQgbGlzdGVuZXIgdG8gcGFzc2l2ZSBpZiB0aGVyZSBhcmUgbm8gZXh0ZXJuYWwgbGlzdGVuZXJzLlxuICAgICAqL1xuICAgIGNvbnN0IGV2ZW50T3B0aW9ucyA9IHtcbiAgICAgICAgcGFzc2l2ZTogIShvblRhcFN0YXJ0IHx8IG9uVGFwIHx8IG9uVGFwQ2FuY2VsIHx8IG9uUG9pbnRlckRvd24pLFxuICAgIH07XG4gICAgZnVuY3Rpb24gcmVtb3ZlUG9pbnRlckVuZExpc3RlbmVyKCkge1xuICAgICAgICBjYW5jZWxQb2ludGVyRW5kTGlzdGVuZXJzLmN1cnJlbnQgJiYgY2FuY2VsUG9pbnRlckVuZExpc3RlbmVycy5jdXJyZW50KCk7XG4gICAgICAgIGNhbmNlbFBvaW50ZXJFbmRMaXN0ZW5lcnMuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrUG9pbnRlckVuZCgpIHtcbiAgICAgICAgcmVtb3ZlUG9pbnRlckVuZExpc3RlbmVyKCk7XG4gICAgICAgIGlzUHJlc3NpbmcuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICB2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlICYmXG4gICAgICAgICAgICB2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlLnNldEFjdGl2ZShBbmltYXRpb25UeXBlLlRhcCwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gIWlzRHJhZ0FjdGl2ZSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvblBvaW50ZXJVcChldmVudCwgaW5mbykge1xuICAgICAgICBpZiAoIWNoZWNrUG9pbnRlckVuZCgpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2Ugb25seSBjb3VudCB0aGlzIGFzIGEgdGFwIGdlc3R1cmUgaWYgdGhlIGV2ZW50LnRhcmdldCBpcyB0aGUgc2FtZVxuICAgICAgICAgKiBhcywgb3IgYSBjaGlsZCBvZiwgdGhpcyBjb21wb25lbnQncyBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICAhaXNOb2RlT3JDaGlsZCh2aXN1YWxFbGVtZW50LmdldEluc3RhbmNlKCksIGV2ZW50LnRhcmdldClcbiAgICAgICAgICAgID8gb25UYXBDYW5jZWwgJiYgb25UYXBDYW5jZWwoZXZlbnQsIGluZm8pXG4gICAgICAgICAgICA6IG9uVGFwICYmIG9uVGFwKGV2ZW50LCBpbmZvKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25Qb2ludGVyQ2FuY2VsKGV2ZW50LCBpbmZvKSB7XG4gICAgICAgIGlmICghY2hlY2tQb2ludGVyRW5kKCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIG9uVGFwQ2FuY2VsICYmIG9uVGFwQ2FuY2VsKGV2ZW50LCBpbmZvKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25Qb2ludGVyRG93bihldmVudCwgaW5mbykge1xuICAgICAgICByZW1vdmVQb2ludGVyRW5kTGlzdGVuZXIoKTtcbiAgICAgICAgaWYgKGlzUHJlc3NpbmcuY3VycmVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaXNQcmVzc2luZy5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgY2FuY2VsUG9pbnRlckVuZExpc3RlbmVycy5jdXJyZW50ID0gcGlwZShhZGRQb2ludGVyRXZlbnQod2luZG93LCBcInBvaW50ZXJ1cFwiLCBvblBvaW50ZXJVcCwgZXZlbnRPcHRpb25zKSwgYWRkUG9pbnRlckV2ZW50KHdpbmRvdywgXCJwb2ludGVyY2FuY2VsXCIsIG9uUG9pbnRlckNhbmNlbCwgZXZlbnRPcHRpb25zKSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbnN1cmUgd2UgdHJpZ2dlciBhbmltYXRpb25zIGJlZm9yZSBmaXJpbmcgZXZlbnQgY2FsbGJhY2tcbiAgICAgICAgICovXG4gICAgICAgIHZpc3VhbEVsZW1lbnQuYW5pbWF0aW9uU3RhdGUgJiZcbiAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQuYW5pbWF0aW9uU3RhdGUuc2V0QWN0aXZlKEFuaW1hdGlvblR5cGUuVGFwLCB0cnVlKTtcbiAgICAgICAgb25UYXBTdGFydCAmJiBvblRhcFN0YXJ0KGV2ZW50LCBpbmZvKTtcbiAgICB9XG4gICAgdXNlUG9pbnRlckV2ZW50KHZpc3VhbEVsZW1lbnQsIFwicG9pbnRlcmRvd25cIiwgaGFzUHJlc3NMaXN0ZW5lcnMgPyBvblBvaW50ZXJEb3duIDogdW5kZWZpbmVkLCBldmVudE9wdGlvbnMpO1xuICAgIHVzZVVubW91bnRFZmZlY3QocmVtb3ZlUG9pbnRlckVuZExpc3RlbmVyKTtcbn1cblxuZXhwb3J0IHsgdXNlVGFwR2VzdHVyZSB9O1xuIiwiaW1wb3J0IHsgQW5pbWF0aW9uVHlwZSB9IGZyb20gJy4uL3JlbmRlci91dGlscy90eXBlcy5tanMnO1xuaW1wb3J0IHsgdXNlRG9tRXZlbnQgfSBmcm9tICcuLi9ldmVudHMvdXNlLWRvbS1ldmVudC5tanMnO1xuXG4vKipcbiAqXG4gKiBAcGFyYW0gcHJvcHNcbiAqIEBwYXJhbSByZWZcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiB1c2VGb2N1c0dlc3R1cmUoeyB3aGlsZUZvY3VzLCB2aXN1YWxFbGVtZW50IH0pIHtcbiAgICBjb25zdCB7IGFuaW1hdGlvblN0YXRlIH0gPSB2aXN1YWxFbGVtZW50O1xuICAgIGNvbnN0IG9uRm9jdXMgPSAoKSA9PiB7XG4gICAgICAgIGFuaW1hdGlvblN0YXRlICYmIGFuaW1hdGlvblN0YXRlLnNldEFjdGl2ZShBbmltYXRpb25UeXBlLkZvY3VzLCB0cnVlKTtcbiAgICB9O1xuICAgIGNvbnN0IG9uQmx1ciA9ICgpID0+IHtcbiAgICAgICAgYW5pbWF0aW9uU3RhdGUgJiYgYW5pbWF0aW9uU3RhdGUuc2V0QWN0aXZlKEFuaW1hdGlvblR5cGUuRm9jdXMsIGZhbHNlKTtcbiAgICB9O1xuICAgIHVzZURvbUV2ZW50KHZpc3VhbEVsZW1lbnQsIFwiZm9jdXNcIiwgd2hpbGVGb2N1cyA/IG9uRm9jdXMgOiB1bmRlZmluZWQpO1xuICAgIHVzZURvbUV2ZW50KHZpc3VhbEVsZW1lbnQsIFwiYmx1clwiLCB3aGlsZUZvY3VzID8gb25CbHVyIDogdW5kZWZpbmVkKTtcbn1cblxuZXhwb3J0IHsgdXNlRm9jdXNHZXN0dXJlIH07XG4iLCJpbXBvcnQgeyB1c2VDb250ZXh0LCB1c2VJZCwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUHJlc2VuY2VDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9QcmVzZW5jZUNvbnRleHQubWpzJztcblxuLyoqXG4gKiBXaGVuIGEgY29tcG9uZW50IGlzIHRoZSBjaGlsZCBvZiBgQW5pbWF0ZVByZXNlbmNlYCwgaXQgY2FuIHVzZSBgdXNlUHJlc2VuY2VgXG4gKiB0byBhY2Nlc3MgaW5mb3JtYXRpb24gYWJvdXQgd2hldGhlciBpdCdzIHN0aWxsIHByZXNlbnQgaW4gdGhlIFJlYWN0IHRyZWUuXG4gKlxuICogYGBganN4XG4gKiBpbXBvcnQgeyB1c2VQcmVzZW5jZSB9IGZyb20gXCJmcmFtZXItbW90aW9uXCJcbiAqXG4gKiBleHBvcnQgY29uc3QgQ29tcG9uZW50ID0gKCkgPT4ge1xuICogICBjb25zdCBbaXNQcmVzZW50LCBzYWZlVG9SZW1vdmVdID0gdXNlUHJlc2VuY2UoKVxuICpcbiAqICAgdXNlRWZmZWN0KCgpID0+IHtcbiAqICAgICAhaXNQcmVzZW50ICYmIHNldFRpbWVvdXQoc2FmZVRvUmVtb3ZlLCAxMDAwKVxuICogICB9LCBbaXNQcmVzZW50XSlcbiAqXG4gKiAgIHJldHVybiA8ZGl2IC8+XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBJZiBgaXNQcmVzZW50YCBpcyBgZmFsc2VgLCBpdCBtZWFucyB0aGF0IGEgY29tcG9uZW50IGhhcyBiZWVuIHJlbW92ZWQgdGhlIHRyZWUsIGJ1dFxuICogYEFuaW1hdGVQcmVzZW5jZWAgd29uJ3QgcmVhbGx5IHJlbW92ZSBpdCB1bnRpbCBgc2FmZVRvUmVtb3ZlYCBoYXMgYmVlbiBjYWxsZWQuXG4gKlxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiB1c2VQcmVzZW5jZSgpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChQcmVzZW5jZUNvbnRleHQpO1xuICAgIGlmIChjb250ZXh0ID09PSBudWxsKVxuICAgICAgICByZXR1cm4gW3RydWUsIG51bGxdO1xuICAgIGNvbnN0IHsgaXNQcmVzZW50LCBvbkV4aXRDb21wbGV0ZSwgcmVnaXN0ZXIgfSA9IGNvbnRleHQ7XG4gICAgLy8gSXQncyBzYWZlIHRvIGNhbGwgdGhlIGZvbGxvd2luZyBob29rcyBjb25kaXRpb25hbGx5IChhZnRlciBhbiBlYXJseSByZXR1cm4pIGJlY2F1c2UgdGhlIGNvbnRleHQgd2lsbCBhbHdheXNcbiAgICAvLyBlaXRoZXIgYmUgbnVsbCBvciBub24tbnVsbCBmb3IgdGhlIGxpZmVzcGFuIG9mIHRoZSBjb21wb25lbnQuXG4gICAgLy8gUmVwbGFjZSB3aXRoIHVzZUlkIHdoZW4gcmVsZWFzZWQgaW4gUmVhY3RcbiAgICBjb25zdCBpZCA9IHVzZUlkKCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHJlZ2lzdGVyKGlkKSwgW10pO1xuICAgIGNvbnN0IHNhZmVUb1JlbW92ZSA9ICgpID0+IG9uRXhpdENvbXBsZXRlICYmIG9uRXhpdENvbXBsZXRlKGlkKTtcbiAgICByZXR1cm4gIWlzUHJlc2VudCAmJiBvbkV4aXRDb21wbGV0ZSA/IFtmYWxzZSwgc2FmZVRvUmVtb3ZlXSA6IFt0cnVlXTtcbn1cbi8qKlxuICogU2ltaWxhciB0byBgdXNlUHJlc2VuY2VgLCBleGNlcHQgYHVzZUlzUHJlc2VudGAgc2ltcGx5IHJldHVybnMgd2hldGhlciBvciBub3QgdGhlIGNvbXBvbmVudCBpcyBwcmVzZW50LlxuICogVGhlcmUgaXMgbm8gYHNhZmVUb1JlbW92ZWAgZnVuY3Rpb24uXG4gKlxuICogYGBganN4XG4gKiBpbXBvcnQgeyB1c2VJc1ByZXNlbnQgfSBmcm9tIFwiZnJhbWVyLW1vdGlvblwiXG4gKlxuICogZXhwb3J0IGNvbnN0IENvbXBvbmVudCA9ICgpID0+IHtcbiAqICAgY29uc3QgaXNQcmVzZW50ID0gdXNlSXNQcmVzZW50KClcbiAqXG4gKiAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gKiAgICAgIWlzUHJlc2VudCAmJiBjb25zb2xlLmxvZyhcIkkndmUgYmVlbiByZW1vdmVkIVwiKVxuICogICB9LCBbaXNQcmVzZW50XSlcbiAqXG4gKiAgIHJldHVybiA8ZGl2IC8+XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIHVzZUlzUHJlc2VudCgpIHtcbiAgICByZXR1cm4gaXNQcmVzZW50KHVzZUNvbnRleHQoUHJlc2VuY2VDb250ZXh0KSk7XG59XG5mdW5jdGlvbiBpc1ByZXNlbnQoY29udGV4dCkge1xuICAgIHJldHVybiBjb250ZXh0ID09PSBudWxsID8gdHJ1ZSA6IGNvbnRleHQuaXNQcmVzZW50O1xufVxuXG5leHBvcnQgeyBpc1ByZXNlbnQsIHVzZUlzUHJlc2VudCwgdXNlUHJlc2VuY2UgfTtcbiIsImZ1bmN0aW9uIHNoYWxsb3dDb21wYXJlKG5leHQsIHByZXYpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocHJldikpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBwcmV2TGVuZ3RoID0gcHJldi5sZW5ndGg7XG4gICAgaWYgKHByZXZMZW5ndGggIT09IG5leHQubGVuZ3RoKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHByZXZbaV0gIT09IG5leHRbaV0pXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgeyBzaGFsbG93Q29tcGFyZSB9O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XHJcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xyXG4gICAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xyXG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xyXG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XHJcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XHJcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xyXG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xyXG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xyXG4gICAgaWYgKHJlY2VpdmVyID09PSBudWxsIHx8ICh0eXBlb2YgcmVjZWl2ZXIgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHJlY2VpdmVyICE9PSBcImZ1bmN0aW9uXCIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHVzZSAnaW4nIG9wZXJhdG9yIG9uIG5vbi1vYmplY3RcIik7XHJcbiAgICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciA9PT0gc3RhdGUgOiBzdGF0ZS5oYXMocmVjZWl2ZXIpO1xyXG59XHJcbiIsImNvbnN0IGNsYW1wID0gKG1pbiwgbWF4LCB2KSA9PiBNYXRoLm1pbihNYXRoLm1heCh2LCBtaW4pLCBtYXgpO1xuXG5leHBvcnQgeyBjbGFtcCB9O1xuIiwiaW1wb3J0IHsgd2FybmluZyB9IGZyb20gJ2hleS1saXN0ZW4nO1xuaW1wb3J0IHsgY2xhbXAgfSBmcm9tICcuLi8uLi91dGlscy9jbGFtcC5tanMnO1xuXG5jb25zdCBzYWZlTWluID0gMC4wMDE7XG5jb25zdCBtaW5EdXJhdGlvbiA9IDAuMDE7XG5jb25zdCBtYXhEdXJhdGlvbiA9IDEwLjA7XG5jb25zdCBtaW5EYW1waW5nID0gMC4wNTtcbmNvbnN0IG1heERhbXBpbmcgPSAxO1xuZnVuY3Rpb24gZmluZFNwcmluZyh7IGR1cmF0aW9uID0gODAwLCBib3VuY2UgPSAwLjI1LCB2ZWxvY2l0eSA9IDAsIG1hc3MgPSAxLCB9KSB7XG4gICAgbGV0IGVudmVsb3BlO1xuICAgIGxldCBkZXJpdmF0aXZlO1xuICAgIHdhcm5pbmcoZHVyYXRpb24gPD0gbWF4RHVyYXRpb24gKiAxMDAwLCBcIlNwcmluZyBkdXJhdGlvbiBtdXN0IGJlIDEwIHNlY29uZHMgb3IgbGVzc1wiKTtcbiAgICBsZXQgZGFtcGluZ1JhdGlvID0gMSAtIGJvdW5jZTtcbiAgICBkYW1waW5nUmF0aW8gPSBjbGFtcChtaW5EYW1waW5nLCBtYXhEYW1waW5nLCBkYW1waW5nUmF0aW8pO1xuICAgIGR1cmF0aW9uID0gY2xhbXAobWluRHVyYXRpb24sIG1heER1cmF0aW9uLCBkdXJhdGlvbiAvIDEwMDApO1xuICAgIGlmIChkYW1waW5nUmF0aW8gPCAxKSB7XG4gICAgICAgIGVudmVsb3BlID0gKHVuZGFtcGVkRnJlcSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXhwb25lbnRpYWxEZWNheSA9IHVuZGFtcGVkRnJlcSAqIGRhbXBpbmdSYXRpbztcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gZXhwb25lbnRpYWxEZWNheSAqIGR1cmF0aW9uO1xuICAgICAgICAgICAgY29uc3QgYSA9IGV4cG9uZW50aWFsRGVjYXkgLSB2ZWxvY2l0eTtcbiAgICAgICAgICAgIGNvbnN0IGIgPSBjYWxjQW5ndWxhckZyZXEodW5kYW1wZWRGcmVxLCBkYW1waW5nUmF0aW8pO1xuICAgICAgICAgICAgY29uc3QgYyA9IE1hdGguZXhwKC1kZWx0YSk7XG4gICAgICAgICAgICByZXR1cm4gc2FmZU1pbiAtIChhIC8gYikgKiBjO1xuICAgICAgICB9O1xuICAgICAgICBkZXJpdmF0aXZlID0gKHVuZGFtcGVkRnJlcSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXhwb25lbnRpYWxEZWNheSA9IHVuZGFtcGVkRnJlcSAqIGRhbXBpbmdSYXRpbztcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gZXhwb25lbnRpYWxEZWNheSAqIGR1cmF0aW9uO1xuICAgICAgICAgICAgY29uc3QgZCA9IGRlbHRhICogdmVsb2NpdHkgKyB2ZWxvY2l0eTtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBNYXRoLnBvdyhkYW1waW5nUmF0aW8sIDIpICogTWF0aC5wb3codW5kYW1wZWRGcmVxLCAyKSAqIGR1cmF0aW9uO1xuICAgICAgICAgICAgY29uc3QgZiA9IE1hdGguZXhwKC1kZWx0YSk7XG4gICAgICAgICAgICBjb25zdCBnID0gY2FsY0FuZ3VsYXJGcmVxKE1hdGgucG93KHVuZGFtcGVkRnJlcSwgMiksIGRhbXBpbmdSYXRpbyk7XG4gICAgICAgICAgICBjb25zdCBmYWN0b3IgPSAtZW52ZWxvcGUodW5kYW1wZWRGcmVxKSArIHNhZmVNaW4gPiAwID8gLTEgOiAxO1xuICAgICAgICAgICAgcmV0dXJuIChmYWN0b3IgKiAoKGQgLSBlKSAqIGYpKSAvIGc7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlbnZlbG9wZSA9ICh1bmRhbXBlZEZyZXEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGEgPSBNYXRoLmV4cCgtdW5kYW1wZWRGcmVxICogZHVyYXRpb24pO1xuICAgICAgICAgICAgY29uc3QgYiA9ICh1bmRhbXBlZEZyZXEgLSB2ZWxvY2l0eSkgKiBkdXJhdGlvbiArIDE7XG4gICAgICAgICAgICByZXR1cm4gLXNhZmVNaW4gKyBhICogYjtcbiAgICAgICAgfTtcbiAgICAgICAgZGVyaXZhdGl2ZSA9ICh1bmRhbXBlZEZyZXEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGEgPSBNYXRoLmV4cCgtdW5kYW1wZWRGcmVxICogZHVyYXRpb24pO1xuICAgICAgICAgICAgY29uc3QgYiA9ICh2ZWxvY2l0eSAtIHVuZGFtcGVkRnJlcSkgKiAoZHVyYXRpb24gKiBkdXJhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gYSAqIGI7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGluaXRpYWxHdWVzcyA9IDUgLyBkdXJhdGlvbjtcbiAgICBjb25zdCB1bmRhbXBlZEZyZXEgPSBhcHByb3hpbWF0ZVJvb3QoZW52ZWxvcGUsIGRlcml2YXRpdmUsIGluaXRpYWxHdWVzcyk7XG4gICAgZHVyYXRpb24gPSBkdXJhdGlvbiAqIDEwMDA7XG4gICAgaWYgKGlzTmFOKHVuZGFtcGVkRnJlcSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0aWZmbmVzczogMTAwLFxuICAgICAgICAgICAgZGFtcGluZzogMTAsXG4gICAgICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHN0aWZmbmVzcyA9IE1hdGgucG93KHVuZGFtcGVkRnJlcSwgMikgKiBtYXNzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RpZmZuZXNzLFxuICAgICAgICAgICAgZGFtcGluZzogZGFtcGluZ1JhdGlvICogMiAqIE1hdGguc3FydChtYXNzICogc3RpZmZuZXNzKSxcbiAgICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmNvbnN0IHJvb3RJdGVyYXRpb25zID0gMTI7XG5mdW5jdGlvbiBhcHByb3hpbWF0ZVJvb3QoZW52ZWxvcGUsIGRlcml2YXRpdmUsIGluaXRpYWxHdWVzcykge1xuICAgIGxldCByZXN1bHQgPSBpbml0aWFsR3Vlc3M7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCByb290SXRlcmF0aW9uczsgaSsrKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdCAtIGVudmVsb3BlKHJlc3VsdCkgLyBkZXJpdmF0aXZlKHJlc3VsdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBjYWxjQW5ndWxhckZyZXEodW5kYW1wZWRGcmVxLCBkYW1waW5nUmF0aW8pIHtcbiAgICByZXR1cm4gdW5kYW1wZWRGcmVxICogTWF0aC5zcXJ0KDEgLSBkYW1waW5nUmF0aW8gKiBkYW1waW5nUmF0aW8pO1xufVxuXG5leHBvcnQgeyBjYWxjQW5ndWxhckZyZXEsIGZpbmRTcHJpbmcsIG1heERhbXBpbmcsIG1heER1cmF0aW9uLCBtaW5EYW1waW5nLCBtaW5EdXJhdGlvbiB9O1xuIiwiaW1wb3J0IHsgX19yZXN0IH0gZnJvbSAndHNsaWInO1xuaW1wb3J0IHsgZmluZFNwcmluZywgY2FsY0FuZ3VsYXJGcmVxIH0gZnJvbSAnLi4vdXRpbHMvZmluZC1zcHJpbmcubWpzJztcblxuY29uc3QgZHVyYXRpb25LZXlzID0gW1wiZHVyYXRpb25cIiwgXCJib3VuY2VcIl07XG5jb25zdCBwaHlzaWNzS2V5cyA9IFtcInN0aWZmbmVzc1wiLCBcImRhbXBpbmdcIiwgXCJtYXNzXCJdO1xuZnVuY3Rpb24gaXNTcHJpbmdUeXBlKG9wdGlvbnMsIGtleXMpIHtcbiAgICByZXR1cm4ga2V5cy5zb21lKChrZXkpID0+IG9wdGlvbnNba2V5XSAhPT0gdW5kZWZpbmVkKTtcbn1cbmZ1bmN0aW9uIGdldFNwcmluZ09wdGlvbnMob3B0aW9ucykge1xuICAgIGxldCBzcHJpbmdPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IHZlbG9jaXR5OiAwLjAsIHN0aWZmbmVzczogMTAwLCBkYW1waW5nOiAxMCwgbWFzczogMS4wLCBpc1Jlc29sdmVkRnJvbUR1cmF0aW9uOiBmYWxzZSB9LCBvcHRpb25zKTtcbiAgICBpZiAoIWlzU3ByaW5nVHlwZShvcHRpb25zLCBwaHlzaWNzS2V5cykgJiZcbiAgICAgICAgaXNTcHJpbmdUeXBlKG9wdGlvbnMsIGR1cmF0aW9uS2V5cykpIHtcbiAgICAgICAgY29uc3QgZGVyaXZlZCA9IGZpbmRTcHJpbmcob3B0aW9ucyk7XG4gICAgICAgIHNwcmluZ09wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3ByaW5nT3B0aW9ucyksIGRlcml2ZWQpLCB7IHZlbG9jaXR5OiAwLjAsIG1hc3M6IDEuMCB9KTtcbiAgICAgICAgc3ByaW5nT3B0aW9ucy5pc1Jlc29sdmVkRnJvbUR1cmF0aW9uID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHNwcmluZ09wdGlvbnM7XG59XG5mdW5jdGlvbiBzcHJpbmcoX2EpIHtcbiAgICB2YXIgeyBmcm9tID0gMC4wLCB0byA9IDEuMCwgcmVzdFNwZWVkID0gMiwgcmVzdERlbHRhIH0gPSBfYSwgb3B0aW9ucyA9IF9fcmVzdChfYSwgW1wiZnJvbVwiLCBcInRvXCIsIFwicmVzdFNwZWVkXCIsIFwicmVzdERlbHRhXCJdKTtcbiAgICBjb25zdCBzdGF0ZSA9IHsgZG9uZTogZmFsc2UsIHZhbHVlOiBmcm9tIH07XG4gICAgbGV0IHsgc3RpZmZuZXNzLCBkYW1waW5nLCBtYXNzLCB2ZWxvY2l0eSwgZHVyYXRpb24sIGlzUmVzb2x2ZWRGcm9tRHVyYXRpb24sIH0gPSBnZXRTcHJpbmdPcHRpb25zKG9wdGlvbnMpO1xuICAgIGxldCByZXNvbHZlU3ByaW5nID0gemVybztcbiAgICBsZXQgcmVzb2x2ZVZlbG9jaXR5ID0gemVybztcbiAgICBmdW5jdGlvbiBjcmVhdGVTcHJpbmcoKSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxWZWxvY2l0eSA9IHZlbG9jaXR5ID8gLSh2ZWxvY2l0eSAvIDEwMDApIDogMC4wO1xuICAgICAgICBjb25zdCBpbml0aWFsRGVsdGEgPSB0byAtIGZyb207XG4gICAgICAgIGNvbnN0IGRhbXBpbmdSYXRpbyA9IGRhbXBpbmcgLyAoMiAqIE1hdGguc3FydChzdGlmZm5lc3MgKiBtYXNzKSk7XG4gICAgICAgIGNvbnN0IHVuZGFtcGVkQW5ndWxhckZyZXEgPSBNYXRoLnNxcnQoc3RpZmZuZXNzIC8gbWFzcykgLyAxMDAwO1xuICAgICAgICBpZiAocmVzdERlbHRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlc3REZWx0YSA9IE1hdGgubWluKE1hdGguYWJzKHRvIC0gZnJvbSkgLyAxMDAsIDAuNCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhbXBpbmdSYXRpbyA8IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGFuZ3VsYXJGcmVxID0gY2FsY0FuZ3VsYXJGcmVxKHVuZGFtcGVkQW5ndWxhckZyZXEsIGRhbXBpbmdSYXRpbyk7XG4gICAgICAgICAgICByZXNvbHZlU3ByaW5nID0gKHQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbnZlbG9wZSA9IE1hdGguZXhwKC1kYW1waW5nUmF0aW8gKiB1bmRhbXBlZEFuZ3VsYXJGcmVxICogdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh0byAtXG4gICAgICAgICAgICAgICAgICAgIGVudmVsb3BlICpcbiAgICAgICAgICAgICAgICAgICAgICAgICgoKGluaXRpYWxWZWxvY2l0eSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFtcGluZ1JhdGlvICogdW5kYW1wZWRBbmd1bGFyRnJlcSAqIGluaXRpYWxEZWx0YSkgL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXJGcmVxKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5zaW4oYW5ndWxhckZyZXEgKiB0KSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbERlbHRhICogTWF0aC5jb3MoYW5ndWxhckZyZXEgKiB0KSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlc29sdmVWZWxvY2l0eSA9ICh0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW52ZWxvcGUgPSBNYXRoLmV4cCgtZGFtcGluZ1JhdGlvICogdW5kYW1wZWRBbmd1bGFyRnJlcSAqIHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiAoZGFtcGluZ1JhdGlvICpcbiAgICAgICAgICAgICAgICAgICAgdW5kYW1wZWRBbmd1bGFyRnJlcSAqXG4gICAgICAgICAgICAgICAgICAgIGVudmVsb3BlICpcbiAgICAgICAgICAgICAgICAgICAgKChNYXRoLnNpbihhbmd1bGFyRnJlcSAqIHQpICpcbiAgICAgICAgICAgICAgICAgICAgICAgIChpbml0aWFsVmVsb2NpdHkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbXBpbmdSYXRpbyAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGFtcGVkQW5ndWxhckZyZXEgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsRGVsdGEpKSAvXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyRnJlcSArXG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsRGVsdGEgKiBNYXRoLmNvcyhhbmd1bGFyRnJlcSAqIHQpKSAtXG4gICAgICAgICAgICAgICAgICAgIGVudmVsb3BlICpcbiAgICAgICAgICAgICAgICAgICAgICAgIChNYXRoLmNvcyhhbmd1bGFyRnJlcSAqIHQpICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoaW5pdGlhbFZlbG9jaXR5ICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFtcGluZ1JhdGlvICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGFtcGVkQW5ndWxhckZyZXEgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbERlbHRhKSAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhckZyZXEgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsRGVsdGEgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLnNpbihhbmd1bGFyRnJlcSAqIHQpKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhbXBpbmdSYXRpbyA9PT0gMSkge1xuICAgICAgICAgICAgcmVzb2x2ZVNwcmluZyA9ICh0KSA9PiB0byAtXG4gICAgICAgICAgICAgICAgTWF0aC5leHAoLXVuZGFtcGVkQW5ndWxhckZyZXEgKiB0KSAqXG4gICAgICAgICAgICAgICAgICAgIChpbml0aWFsRGVsdGEgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKGluaXRpYWxWZWxvY2l0eSArIHVuZGFtcGVkQW5ndWxhckZyZXEgKiBpbml0aWFsRGVsdGEpICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGRhbXBlZEFuZ3VsYXJGcmVxID0gdW5kYW1wZWRBbmd1bGFyRnJlcSAqIE1hdGguc3FydChkYW1waW5nUmF0aW8gKiBkYW1waW5nUmF0aW8gLSAxKTtcbiAgICAgICAgICAgIHJlc29sdmVTcHJpbmcgPSAodCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVudmVsb3BlID0gTWF0aC5leHAoLWRhbXBpbmdSYXRpbyAqIHVuZGFtcGVkQW5ndWxhckZyZXEgKiB0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBmcmVxRm9yVCA9IE1hdGgubWluKGRhbXBlZEFuZ3VsYXJGcmVxICogdCwgMzAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHRvIC1cbiAgICAgICAgICAgICAgICAgICAgKGVudmVsb3BlICpcbiAgICAgICAgICAgICAgICAgICAgICAgICgoaW5pdGlhbFZlbG9jaXR5ICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYW1waW5nUmF0aW8gKiB1bmRhbXBlZEFuZ3VsYXJGcmVxICogaW5pdGlhbERlbHRhKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5zaW5oKGZyZXFGb3JUKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFtcGVkQW5ndWxhckZyZXEgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsRGVsdGEgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmNvc2goZnJlcUZvclQpKSkgL1xuICAgICAgICAgICAgICAgICAgICAgICAgZGFtcGVkQW5ndWxhckZyZXEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjcmVhdGVTcHJpbmcoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBuZXh0OiAodCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IHJlc29sdmVTcHJpbmcodCk7XG4gICAgICAgICAgICBpZiAoIWlzUmVzb2x2ZWRGcm9tRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VmVsb2NpdHkgPSByZXNvbHZlVmVsb2NpdHkodCkgKiAxMDAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzQmVsb3dWZWxvY2l0eVRocmVzaG9sZCA9IE1hdGguYWJzKGN1cnJlbnRWZWxvY2l0eSkgPD0gcmVzdFNwZWVkO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzQmVsb3dEaXNwbGFjZW1lbnRUaHJlc2hvbGQgPSBNYXRoLmFicyh0byAtIGN1cnJlbnQpIDw9IHJlc3REZWx0YTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5kb25lID1cbiAgICAgICAgICAgICAgICAgICAgaXNCZWxvd1ZlbG9jaXR5VGhyZXNob2xkICYmIGlzQmVsb3dEaXNwbGFjZW1lbnRUaHJlc2hvbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5kb25lID0gdCA+PSBkdXJhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlLnZhbHVlID0gc3RhdGUuZG9uZSA/IHRvIDogY3VycmVudDtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZmxpcFRhcmdldDogKCkgPT4ge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSAtdmVsb2NpdHk7XG4gICAgICAgICAgICBbZnJvbSwgdG9dID0gW3RvLCBmcm9tXTtcbiAgICAgICAgICAgIGNyZWF0ZVNwcmluZygpO1xuICAgICAgICB9LFxuICAgIH07XG59XG5zcHJpbmcubmVlZHNJbnRlcnBvbGF0aW9uID0gKGEsIGIpID0+IHR5cGVvZiBhID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBiID09PSBcInN0cmluZ1wiO1xuY29uc3QgemVybyA9IChfdCkgPT4gMDtcblxuZXhwb3J0IHsgc3ByaW5nIH07XG4iLCJjb25zdCBwcm9ncmVzcyA9IChmcm9tLCB0bywgdmFsdWUpID0+IHtcbiAgICBjb25zdCB0b0Zyb21EaWZmZXJlbmNlID0gdG8gLSBmcm9tO1xuICAgIHJldHVybiB0b0Zyb21EaWZmZXJlbmNlID09PSAwID8gMSA6ICh2YWx1ZSAtIGZyb20pIC8gdG9Gcm9tRGlmZmVyZW5jZTtcbn07XG5cbmV4cG9ydCB7IHByb2dyZXNzIH07XG4iLCJjb25zdCBtaXggPSAoZnJvbSwgdG8sIHByb2dyZXNzKSA9PiAtcHJvZ3Jlc3MgKiBmcm9tICsgcHJvZ3Jlc3MgKiB0byArIGZyb207XG5cbmV4cG9ydCB7IG1peCB9O1xuIiwiaW1wb3J0IHsgaXNTdHJpbmcsIHNpbmdsZUNvbG9yUmVnZXgsIGZsb2F0UmVnZXggfSBmcm9tICcuLi91dGlscy5tanMnO1xuXG5jb25zdCBpc0NvbG9yU3RyaW5nID0gKHR5cGUsIHRlc3RQcm9wKSA9PiAodikgPT4ge1xuICAgIHJldHVybiBCb29sZWFuKChpc1N0cmluZyh2KSAmJiBzaW5nbGVDb2xvclJlZ2V4LnRlc3QodikgJiYgdi5zdGFydHNXaXRoKHR5cGUpKSB8fFxuICAgICAgICAodGVzdFByb3AgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHYsIHRlc3RQcm9wKSkpO1xufTtcbmNvbnN0IHNwbGl0Q29sb3IgPSAoYU5hbWUsIGJOYW1lLCBjTmFtZSkgPT4gKHYpID0+IHtcbiAgICBpZiAoIWlzU3RyaW5nKHYpKVxuICAgICAgICByZXR1cm4gdjtcbiAgICBjb25zdCBbYSwgYiwgYywgYWxwaGFdID0gdi5tYXRjaChmbG9hdFJlZ2V4KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBbYU5hbWVdOiBwYXJzZUZsb2F0KGEpLFxuICAgICAgICBbYk5hbWVdOiBwYXJzZUZsb2F0KGIpLFxuICAgICAgICBbY05hbWVdOiBwYXJzZUZsb2F0KGMpLFxuICAgICAgICBhbHBoYTogYWxwaGEgIT09IHVuZGVmaW5lZCA/IHBhcnNlRmxvYXQoYWxwaGEpIDogMSxcbiAgICB9O1xufTtcblxuZXhwb3J0IHsgaXNDb2xvclN0cmluZywgc3BsaXRDb2xvciB9O1xuIiwiaW1wb3J0IHsgbnVtYmVyLCBhbHBoYSB9IGZyb20gJy4uL251bWJlcnMvaW5kZXgubWpzJztcbmltcG9ydCB7IHNhbml0aXplLCBjbGFtcCB9IGZyb20gJy4uL3V0aWxzLm1qcyc7XG5pbXBvcnQgeyBpc0NvbG9yU3RyaW5nLCBzcGxpdENvbG9yIH0gZnJvbSAnLi91dGlscy5tanMnO1xuXG5jb25zdCBjbGFtcFJnYlVuaXQgPSBjbGFtcCgwLCAyNTUpO1xuY29uc3QgcmdiVW5pdCA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbnVtYmVyKSwgeyB0cmFuc2Zvcm06ICh2KSA9PiBNYXRoLnJvdW5kKGNsYW1wUmdiVW5pdCh2KSkgfSk7XG5jb25zdCByZ2JhID0ge1xuICAgIHRlc3Q6IGlzQ29sb3JTdHJpbmcoJ3JnYicsICdyZWQnKSxcbiAgICBwYXJzZTogc3BsaXRDb2xvcigncmVkJywgJ2dyZWVuJywgJ2JsdWUnKSxcbiAgICB0cmFuc2Zvcm06ICh7IHJlZCwgZ3JlZW4sIGJsdWUsIGFscGhhOiBhbHBoYSQxID0gMSB9KSA9PiAncmdiYSgnICtcbiAgICAgICAgcmdiVW5pdC50cmFuc2Zvcm0ocmVkKSArXG4gICAgICAgICcsICcgK1xuICAgICAgICByZ2JVbml0LnRyYW5zZm9ybShncmVlbikgK1xuICAgICAgICAnLCAnICtcbiAgICAgICAgcmdiVW5pdC50cmFuc2Zvcm0oYmx1ZSkgK1xuICAgICAgICAnLCAnICtcbiAgICAgICAgc2FuaXRpemUoYWxwaGEudHJhbnNmb3JtKGFscGhhJDEpKSArXG4gICAgICAgICcpJyxcbn07XG5cbmV4cG9ydCB7IHJnYlVuaXQsIHJnYmEgfTtcbiIsImltcG9ydCB7IHJnYmEgfSBmcm9tICcuL3JnYmEubWpzJztcbmltcG9ydCB7IGlzQ29sb3JTdHJpbmcgfSBmcm9tICcuL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIHBhcnNlSGV4KHYpIHtcbiAgICBsZXQgciA9ICcnO1xuICAgIGxldCBnID0gJyc7XG4gICAgbGV0IGIgPSAnJztcbiAgICBsZXQgYSA9ICcnO1xuICAgIGlmICh2Lmxlbmd0aCA+IDUpIHtcbiAgICAgICAgciA9IHYuc3Vic3RyKDEsIDIpO1xuICAgICAgICBnID0gdi5zdWJzdHIoMywgMik7XG4gICAgICAgIGIgPSB2LnN1YnN0cig1LCAyKTtcbiAgICAgICAgYSA9IHYuc3Vic3RyKDcsIDIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgciA9IHYuc3Vic3RyKDEsIDEpO1xuICAgICAgICBnID0gdi5zdWJzdHIoMiwgMSk7XG4gICAgICAgIGIgPSB2LnN1YnN0cigzLCAxKTtcbiAgICAgICAgYSA9IHYuc3Vic3RyKDQsIDEpO1xuICAgICAgICByICs9IHI7XG4gICAgICAgIGcgKz0gZztcbiAgICAgICAgYiArPSBiO1xuICAgICAgICBhICs9IGE7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlZDogcGFyc2VJbnQociwgMTYpLFxuICAgICAgICBncmVlbjogcGFyc2VJbnQoZywgMTYpLFxuICAgICAgICBibHVlOiBwYXJzZUludChiLCAxNiksXG4gICAgICAgIGFscGhhOiBhID8gcGFyc2VJbnQoYSwgMTYpIC8gMjU1IDogMSxcbiAgICB9O1xufVxuY29uc3QgaGV4ID0ge1xuICAgIHRlc3Q6IGlzQ29sb3JTdHJpbmcoJyMnKSxcbiAgICBwYXJzZTogcGFyc2VIZXgsXG4gICAgdHJhbnNmb3JtOiByZ2JhLnRyYW5zZm9ybSxcbn07XG5cbmV4cG9ydCB7IGhleCB9O1xuIiwiaW1wb3J0IHsgYWxwaGEgfSBmcm9tICcuLi9udW1iZXJzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBwZXJjZW50IH0gZnJvbSAnLi4vbnVtYmVycy91bml0cy5tanMnO1xuaW1wb3J0IHsgc2FuaXRpemUgfSBmcm9tICcuLi91dGlscy5tanMnO1xuaW1wb3J0IHsgaXNDb2xvclN0cmluZywgc3BsaXRDb2xvciB9IGZyb20gJy4vdXRpbHMubWpzJztcblxuY29uc3QgaHNsYSA9IHtcbiAgICB0ZXN0OiBpc0NvbG9yU3RyaW5nKCdoc2wnLCAnaHVlJyksXG4gICAgcGFyc2U6IHNwbGl0Q29sb3IoJ2h1ZScsICdzYXR1cmF0aW9uJywgJ2xpZ2h0bmVzcycpLFxuICAgIHRyYW5zZm9ybTogKHsgaHVlLCBzYXR1cmF0aW9uLCBsaWdodG5lc3MsIGFscGhhOiBhbHBoYSQxID0gMSB9KSA9PiB7XG4gICAgICAgIHJldHVybiAoJ2hzbGEoJyArXG4gICAgICAgICAgICBNYXRoLnJvdW5kKGh1ZSkgK1xuICAgICAgICAgICAgJywgJyArXG4gICAgICAgICAgICBwZXJjZW50LnRyYW5zZm9ybShzYW5pdGl6ZShzYXR1cmF0aW9uKSkgK1xuICAgICAgICAgICAgJywgJyArXG4gICAgICAgICAgICBwZXJjZW50LnRyYW5zZm9ybShzYW5pdGl6ZShsaWdodG5lc3MpKSArXG4gICAgICAgICAgICAnLCAnICtcbiAgICAgICAgICAgIHNhbml0aXplKGFscGhhLnRyYW5zZm9ybShhbHBoYSQxKSkgK1xuICAgICAgICAgICAgJyknKTtcbiAgICB9LFxufTtcblxuZXhwb3J0IHsgaHNsYSB9O1xuIiwiZnVuY3Rpb24gaHVlVG9SZ2IocCwgcSwgdCkge1xuICAgIGlmICh0IDwgMClcbiAgICAgICAgdCArPSAxO1xuICAgIGlmICh0ID4gMSlcbiAgICAgICAgdCAtPSAxO1xuICAgIGlmICh0IDwgMSAvIDYpXG4gICAgICAgIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0O1xuICAgIGlmICh0IDwgMSAvIDIpXG4gICAgICAgIHJldHVybiBxO1xuICAgIGlmICh0IDwgMiAvIDMpXG4gICAgICAgIHJldHVybiBwICsgKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNjtcbiAgICByZXR1cm4gcDtcbn1cbmZ1bmN0aW9uIGhzbGFUb1JnYmEoeyBodWUsIHNhdHVyYXRpb24sIGxpZ2h0bmVzcywgYWxwaGEgfSkge1xuICAgIGh1ZSAvPSAzNjA7XG4gICAgc2F0dXJhdGlvbiAvPSAxMDA7XG4gICAgbGlnaHRuZXNzIC89IDEwMDtcbiAgICBsZXQgcmVkID0gMDtcbiAgICBsZXQgZ3JlZW4gPSAwO1xuICAgIGxldCBibHVlID0gMDtcbiAgICBpZiAoIXNhdHVyYXRpb24pIHtcbiAgICAgICAgcmVkID0gZ3JlZW4gPSBibHVlID0gbGlnaHRuZXNzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgcSA9IGxpZ2h0bmVzcyA8IDAuNVxuICAgICAgICAgICAgPyBsaWdodG5lc3MgKiAoMSArIHNhdHVyYXRpb24pXG4gICAgICAgICAgICA6IGxpZ2h0bmVzcyArIHNhdHVyYXRpb24gLSBsaWdodG5lc3MgKiBzYXR1cmF0aW9uO1xuICAgICAgICBjb25zdCBwID0gMiAqIGxpZ2h0bmVzcyAtIHE7XG4gICAgICAgIHJlZCA9IGh1ZVRvUmdiKHAsIHEsIGh1ZSArIDEgLyAzKTtcbiAgICAgICAgZ3JlZW4gPSBodWVUb1JnYihwLCBxLCBodWUpO1xuICAgICAgICBibHVlID0gaHVlVG9SZ2IocCwgcSwgaHVlIC0gMSAvIDMpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICByZWQ6IE1hdGgucm91bmQocmVkICogMjU1KSxcbiAgICAgICAgZ3JlZW46IE1hdGgucm91bmQoZ3JlZW4gKiAyNTUpLFxuICAgICAgICBibHVlOiBNYXRoLnJvdW5kKGJsdWUgKiAyNTUpLFxuICAgICAgICBhbHBoYSxcbiAgICB9O1xufVxuXG5leHBvcnQgeyBoc2xhVG9SZ2JhIH07XG4iLCJpbXBvcnQgeyBtaXggfSBmcm9tICcuL21peC5tanMnO1xuaW1wb3J0IHsgaHNsYSwgcmdiYSwgaGV4IH0gZnJvbSAnc3R5bGUtdmFsdWUtdHlwZXMnO1xuaW1wb3J0IHsgaW52YXJpYW50IH0gZnJvbSAnaGV5LWxpc3Rlbic7XG5pbXBvcnQgeyBoc2xhVG9SZ2JhIH0gZnJvbSAnLi9oc2xhLXRvLXJnYmEubWpzJztcblxuY29uc3QgbWl4TGluZWFyQ29sb3IgPSAoZnJvbSwgdG8sIHYpID0+IHtcbiAgICBjb25zdCBmcm9tRXhwbyA9IGZyb20gKiBmcm9tO1xuICAgIGNvbnN0IHRvRXhwbyA9IHRvICogdG87XG4gICAgcmV0dXJuIE1hdGguc3FydChNYXRoLm1heCgwLCB2ICogKHRvRXhwbyAtIGZyb21FeHBvKSArIGZyb21FeHBvKSk7XG59O1xuY29uc3QgY29sb3JUeXBlcyA9IFtoZXgsIHJnYmEsIGhzbGFdO1xuY29uc3QgZ2V0Q29sb3JUeXBlID0gKHYpID0+IGNvbG9yVHlwZXMuZmluZCgodHlwZSkgPT4gdHlwZS50ZXN0KHYpKTtcbmNvbnN0IG5vdEFuaW1hdGFibGUgPSAoY29sb3IpID0+IGAnJHtjb2xvcn0nIGlzIG5vdCBhbiBhbmltYXRhYmxlIGNvbG9yLiBVc2UgdGhlIGVxdWl2YWxlbnQgY29sb3IgY29kZSBpbnN0ZWFkLmA7XG5jb25zdCBtaXhDb2xvciA9IChmcm9tLCB0bykgPT4ge1xuICAgIGxldCBmcm9tQ29sb3JUeXBlID0gZ2V0Q29sb3JUeXBlKGZyb20pO1xuICAgIGxldCB0b0NvbG9yVHlwZSA9IGdldENvbG9yVHlwZSh0byk7XG4gICAgaW52YXJpYW50KCEhZnJvbUNvbG9yVHlwZSwgbm90QW5pbWF0YWJsZShmcm9tKSk7XG4gICAgaW52YXJpYW50KCEhdG9Db2xvclR5cGUsIG5vdEFuaW1hdGFibGUodG8pKTtcbiAgICBsZXQgZnJvbUNvbG9yID0gZnJvbUNvbG9yVHlwZS5wYXJzZShmcm9tKTtcbiAgICBsZXQgdG9Db2xvciA9IHRvQ29sb3JUeXBlLnBhcnNlKHRvKTtcbiAgICBpZiAoZnJvbUNvbG9yVHlwZSA9PT0gaHNsYSkge1xuICAgICAgICBmcm9tQ29sb3IgPSBoc2xhVG9SZ2JhKGZyb21Db2xvcik7XG4gICAgICAgIGZyb21Db2xvclR5cGUgPSByZ2JhO1xuICAgIH1cbiAgICBpZiAodG9Db2xvclR5cGUgPT09IGhzbGEpIHtcbiAgICAgICAgdG9Db2xvciA9IGhzbGFUb1JnYmEodG9Db2xvcik7XG4gICAgICAgIHRvQ29sb3JUeXBlID0gcmdiYTtcbiAgICB9XG4gICAgY29uc3QgYmxlbmRlZCA9IE9iamVjdC5hc3NpZ24oe30sIGZyb21Db2xvcik7XG4gICAgcmV0dXJuICh2KSA9PiB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGJsZW5kZWQpIHtcbiAgICAgICAgICAgIGlmIChrZXkgIT09IFwiYWxwaGFcIikge1xuICAgICAgICAgICAgICAgIGJsZW5kZWRba2V5XSA9IG1peExpbmVhckNvbG9yKGZyb21Db2xvcltrZXldLCB0b0NvbG9yW2tleV0sIHYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJsZW5kZWQuYWxwaGEgPSBtaXgoZnJvbUNvbG9yLmFscGhhLCB0b0NvbG9yLmFscGhhLCB2KTtcbiAgICAgICAgcmV0dXJuIGZyb21Db2xvclR5cGUudHJhbnNmb3JtKGJsZW5kZWQpO1xuICAgIH07XG59O1xuXG5leHBvcnQgeyBtaXhDb2xvciwgbWl4TGluZWFyQ29sb3IgfTtcbiIsImltcG9ydCB7IGlzU3RyaW5nIH0gZnJvbSAnLi4vdXRpbHMubWpzJztcbmltcG9ydCB7IGhleCB9IGZyb20gJy4vaGV4Lm1qcyc7XG5pbXBvcnQgeyBoc2xhIH0gZnJvbSAnLi9oc2xhLm1qcyc7XG5pbXBvcnQgeyByZ2JhIH0gZnJvbSAnLi9yZ2JhLm1qcyc7XG5cbmNvbnN0IGNvbG9yID0ge1xuICAgIHRlc3Q6ICh2KSA9PiByZ2JhLnRlc3QodikgfHwgaGV4LnRlc3QodikgfHwgaHNsYS50ZXN0KHYpLFxuICAgIHBhcnNlOiAodikgPT4ge1xuICAgICAgICBpZiAocmdiYS50ZXN0KHYpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmdiYS5wYXJzZSh2KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChoc2xhLnRlc3QodikpIHtcbiAgICAgICAgICAgIHJldHVybiBoc2xhLnBhcnNlKHYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGhleC5wYXJzZSh2KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdHJhbnNmb3JtOiAodikgPT4ge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcodilcbiAgICAgICAgICAgID8gdlxuICAgICAgICAgICAgOiB2Lmhhc093blByb3BlcnR5KCdyZWQnKVxuICAgICAgICAgICAgICAgID8gcmdiYS50cmFuc2Zvcm0odilcbiAgICAgICAgICAgICAgICA6IGhzbGEudHJhbnNmb3JtKHYpO1xuICAgIH0sXG59O1xuXG5leHBvcnQgeyBjb2xvciB9O1xuIiwiaW1wb3J0IHsgY29sb3IgfSBmcm9tICcuLi9jb2xvci9pbmRleC5tanMnO1xuaW1wb3J0IHsgbnVtYmVyIH0gZnJvbSAnLi4vbnVtYmVycy9pbmRleC5tanMnO1xuaW1wb3J0IHsgaXNTdHJpbmcsIGZsb2F0UmVnZXgsIGNvbG9yUmVnZXgsIHNhbml0aXplIH0gZnJvbSAnLi4vdXRpbHMubWpzJztcblxuY29uc3QgY29sb3JUb2tlbiA9ICcke2N9JztcbmNvbnN0IG51bWJlclRva2VuID0gJyR7bn0nO1xuZnVuY3Rpb24gdGVzdCh2KSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIHJldHVybiAoaXNOYU4odikgJiZcbiAgICAgICAgaXNTdHJpbmcodikgJiZcbiAgICAgICAgKChfYiA9IChfYSA9IHYubWF0Y2goZmxvYXRSZWdleCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDApICsgKChfZCA9IChfYyA9IHYubWF0Y2goY29sb3JSZWdleCkpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5sZW5ndGgpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IDApID4gMCk7XG59XG5mdW5jdGlvbiBhbmFseXNlKHYpIHtcbiAgICBpZiAodHlwZW9mIHYgPT09ICdudW1iZXInKVxuICAgICAgICB2ID0gYCR7dn1gO1xuICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgIGxldCBudW1Db2xvcnMgPSAwO1xuICAgIGNvbnN0IGNvbG9ycyA9IHYubWF0Y2goY29sb3JSZWdleCk7XG4gICAgaWYgKGNvbG9ycykge1xuICAgICAgICBudW1Db2xvcnMgPSBjb2xvcnMubGVuZ3RoO1xuICAgICAgICB2ID0gdi5yZXBsYWNlKGNvbG9yUmVnZXgsIGNvbG9yVG9rZW4pO1xuICAgICAgICB2YWx1ZXMucHVzaCguLi5jb2xvcnMubWFwKGNvbG9yLnBhcnNlKSk7XG4gICAgfVxuICAgIGNvbnN0IG51bWJlcnMgPSB2Lm1hdGNoKGZsb2F0UmVnZXgpO1xuICAgIGlmIChudW1iZXJzKSB7XG4gICAgICAgIHYgPSB2LnJlcGxhY2UoZmxvYXRSZWdleCwgbnVtYmVyVG9rZW4pO1xuICAgICAgICB2YWx1ZXMucHVzaCguLi5udW1iZXJzLm1hcChudW1iZXIucGFyc2UpKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdmFsdWVzLCBudW1Db2xvcnMsIHRva2VuaXNlZDogdiB9O1xufVxuZnVuY3Rpb24gcGFyc2Uodikge1xuICAgIHJldHVybiBhbmFseXNlKHYpLnZhbHVlcztcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRyYW5zZm9ybWVyKHYpIHtcbiAgICBjb25zdCB7IHZhbHVlcywgbnVtQ29sb3JzLCB0b2tlbmlzZWQgfSA9IGFuYWx5c2Uodik7XG4gICAgY29uc3QgbnVtVmFsdWVzID0gdmFsdWVzLmxlbmd0aDtcbiAgICByZXR1cm4gKHYpID0+IHtcbiAgICAgICAgbGV0IG91dHB1dCA9IHRva2VuaXNlZDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1WYWx1ZXM7IGkrKykge1xuICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0LnJlcGxhY2UoaSA8IG51bUNvbG9ycyA/IGNvbG9yVG9rZW4gOiBudW1iZXJUb2tlbiwgaSA8IG51bUNvbG9ycyA/IGNvbG9yLnRyYW5zZm9ybSh2W2ldKSA6IHNhbml0aXplKHZbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG59XG5jb25zdCBjb252ZXJ0TnVtYmVyc1RvWmVybyA9ICh2KSA9PiB0eXBlb2YgdiA9PT0gJ251bWJlcicgPyAwIDogdjtcbmZ1bmN0aW9uIGdldEFuaW1hdGFibGVOb25lKHYpIHtcbiAgICBjb25zdCBwYXJzZWQgPSBwYXJzZSh2KTtcbiAgICBjb25zdCB0cmFuc2Zvcm1lciA9IGNyZWF0ZVRyYW5zZm9ybWVyKHYpO1xuICAgIHJldHVybiB0cmFuc2Zvcm1lcihwYXJzZWQubWFwKGNvbnZlcnROdW1iZXJzVG9aZXJvKSk7XG59XG5jb25zdCBjb21wbGV4ID0geyB0ZXN0LCBwYXJzZSwgY3JlYXRlVHJhbnNmb3JtZXIsIGdldEFuaW1hdGFibGVOb25lIH07XG5cbmV4cG9ydCB7IGNvbXBsZXggfTtcbiIsImNvbnN0IHplcm9Qb2ludCA9IHtcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgejogMFxufTtcbmNvbnN0IGlzTnVtID0gKHYpID0+IHR5cGVvZiB2ID09PSAnbnVtYmVyJztcblxuZXhwb3J0IHsgaXNOdW0sIHplcm9Qb2ludCB9O1xuIiwiaW1wb3J0IHsgY29tcGxleCwgY29sb3IgfSBmcm9tICdzdHlsZS12YWx1ZS10eXBlcyc7XG5pbXBvcnQgeyBtaXggfSBmcm9tICcuL21peC5tanMnO1xuaW1wb3J0IHsgbWl4Q29sb3IgfSBmcm9tICcuL21peC1jb2xvci5tanMnO1xuaW1wb3J0IHsgaXNOdW0gfSBmcm9tICcuL2luYy5tanMnO1xuaW1wb3J0IHsgcGlwZSB9IGZyb20gJy4vcGlwZS5tanMnO1xuaW1wb3J0IHsgd2FybmluZyB9IGZyb20gJ2hleS1saXN0ZW4nO1xuXG5mdW5jdGlvbiBnZXRNaXhlcihvcmlnaW4sIHRhcmdldCkge1xuICAgIGlmIChpc051bShvcmlnaW4pKSB7XG4gICAgICAgIHJldHVybiAodikgPT4gbWl4KG9yaWdpbiwgdGFyZ2V0LCB2KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29sb3IudGVzdChvcmlnaW4pKSB7XG4gICAgICAgIHJldHVybiBtaXhDb2xvcihvcmlnaW4sIHRhcmdldCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbWl4Q29tcGxleChvcmlnaW4sIHRhcmdldCk7XG4gICAgfVxufVxuY29uc3QgbWl4QXJyYXkgPSAoZnJvbSwgdG8pID0+IHtcbiAgICBjb25zdCBvdXRwdXQgPSBbLi4uZnJvbV07XG4gICAgY29uc3QgbnVtVmFsdWVzID0gb3V0cHV0Lmxlbmd0aDtcbiAgICBjb25zdCBibGVuZFZhbHVlID0gZnJvbS5tYXAoKGZyb21UaGlzLCBpKSA9PiBnZXRNaXhlcihmcm9tVGhpcywgdG9baV0pKTtcbiAgICByZXR1cm4gKHYpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1WYWx1ZXM7IGkrKykge1xuICAgICAgICAgICAgb3V0cHV0W2ldID0gYmxlbmRWYWx1ZVtpXSh2KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG59O1xuY29uc3QgbWl4T2JqZWN0ID0gKG9yaWdpbiwgdGFyZ2V0KSA9PiB7XG4gICAgY29uc3Qgb3V0cHV0ID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcmlnaW4pLCB0YXJnZXQpO1xuICAgIGNvbnN0IGJsZW5kVmFsdWUgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvdXRwdXQpIHtcbiAgICAgICAgaWYgKG9yaWdpbltrZXldICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0W2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYmxlbmRWYWx1ZVtrZXldID0gZ2V0TWl4ZXIob3JpZ2luW2tleV0sIHRhcmdldFtrZXldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKHYpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYmxlbmRWYWx1ZSkge1xuICAgICAgICAgICAgb3V0cHV0W2tleV0gPSBibGVuZFZhbHVlW2tleV0odik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xufTtcbmZ1bmN0aW9uIGFuYWx5c2UodmFsdWUpIHtcbiAgICBjb25zdCBwYXJzZWQgPSBjb21wbGV4LnBhcnNlKHZhbHVlKTtcbiAgICBjb25zdCBudW1WYWx1ZXMgPSBwYXJzZWQubGVuZ3RoO1xuICAgIGxldCBudW1OdW1iZXJzID0gMDtcbiAgICBsZXQgbnVtUkdCID0gMDtcbiAgICBsZXQgbnVtSFNMID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVZhbHVlczsgaSsrKSB7XG4gICAgICAgIGlmIChudW1OdW1iZXJzIHx8IHR5cGVvZiBwYXJzZWRbaV0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIG51bU51bWJlcnMrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwYXJzZWRbaV0uaHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBudW1IU0wrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG51bVJHQisrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IHBhcnNlZCwgbnVtTnVtYmVycywgbnVtUkdCLCBudW1IU0wgfTtcbn1cbmNvbnN0IG1peENvbXBsZXggPSAob3JpZ2luLCB0YXJnZXQpID0+IHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGNvbXBsZXguY3JlYXRlVHJhbnNmb3JtZXIodGFyZ2V0KTtcbiAgICBjb25zdCBvcmlnaW5TdGF0cyA9IGFuYWx5c2Uob3JpZ2luKTtcbiAgICBjb25zdCB0YXJnZXRTdGF0cyA9IGFuYWx5c2UodGFyZ2V0KTtcbiAgICBjb25zdCBjYW5JbnRlcnBvbGF0ZSA9IG9yaWdpblN0YXRzLm51bUhTTCA9PT0gdGFyZ2V0U3RhdHMubnVtSFNMICYmXG4gICAgICAgIG9yaWdpblN0YXRzLm51bVJHQiA9PT0gdGFyZ2V0U3RhdHMubnVtUkdCICYmXG4gICAgICAgIG9yaWdpblN0YXRzLm51bU51bWJlcnMgPj0gdGFyZ2V0U3RhdHMubnVtTnVtYmVycztcbiAgICBpZiAoY2FuSW50ZXJwb2xhdGUpIHtcbiAgICAgICAgcmV0dXJuIHBpcGUobWl4QXJyYXkob3JpZ2luU3RhdHMucGFyc2VkLCB0YXJnZXRTdGF0cy5wYXJzZWQpLCB0ZW1wbGF0ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB3YXJuaW5nKHRydWUsIGBDb21wbGV4IHZhbHVlcyAnJHtvcmlnaW59JyBhbmQgJyR7dGFyZ2V0fScgdG9vIGRpZmZlcmVudCB0byBtaXguIEVuc3VyZSBhbGwgY29sb3JzIGFyZSBvZiB0aGUgc2FtZSB0eXBlLCBhbmQgdGhhdCBlYWNoIGNvbnRhaW5zIHRoZSBzYW1lIHF1YW50aXR5IG9mIG51bWJlciBhbmQgY29sb3IgdmFsdWVzLiBGYWxsaW5nIGJhY2sgdG8gaW5zdGFudCB0cmFuc2l0aW9uLmApO1xuICAgICAgICByZXR1cm4gKHApID0+IGAke3AgPiAwID8gdGFyZ2V0IDogb3JpZ2lufWA7XG4gICAgfVxufTtcblxuZXhwb3J0IHsgbWl4QXJyYXksIG1peENvbXBsZXgsIG1peE9iamVjdCB9O1xuIiwiaW1wb3J0IHsgcHJvZ3Jlc3MgfSBmcm9tICcuL3Byb2dyZXNzLm1qcyc7XG5pbXBvcnQgeyBtaXggfSBmcm9tICcuL21peC5tanMnO1xuaW1wb3J0IHsgbWl4Q29sb3IgfSBmcm9tICcuL21peC1jb2xvci5tanMnO1xuaW1wb3J0IHsgbWl4Q29tcGxleCwgbWl4QXJyYXksIG1peE9iamVjdCB9IGZyb20gJy4vbWl4LWNvbXBsZXgubWpzJztcbmltcG9ydCB7IGNvbG9yIH0gZnJvbSAnc3R5bGUtdmFsdWUtdHlwZXMnO1xuaW1wb3J0IHsgY2xhbXAgfSBmcm9tICcuL2NsYW1wLm1qcyc7XG5pbXBvcnQgeyBwaXBlIH0gZnJvbSAnLi9waXBlLm1qcyc7XG5pbXBvcnQgeyBpbnZhcmlhbnQgfSBmcm9tICdoZXktbGlzdGVuJztcblxuY29uc3QgbWl4TnVtYmVyID0gKGZyb20sIHRvKSA9PiAocCkgPT4gbWl4KGZyb20sIHRvLCBwKTtcbmZ1bmN0aW9uIGRldGVjdE1peGVyRmFjdG9yeSh2KSB7XG4gICAgaWYgKHR5cGVvZiB2ID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gbWl4TnVtYmVyO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKGNvbG9yLnRlc3QodikpIHtcbiAgICAgICAgICAgIHJldHVybiBtaXhDb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBtaXhDb21wbGV4O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodikpIHtcbiAgICAgICAgcmV0dXJuIG1peEFycmF5O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIG1peE9iamVjdDtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVNaXhlcnMob3V0cHV0LCBlYXNlLCBjdXN0b21NaXhlcikge1xuICAgIGNvbnN0IG1peGVycyA9IFtdO1xuICAgIGNvbnN0IG1peGVyRmFjdG9yeSA9IGN1c3RvbU1peGVyIHx8IGRldGVjdE1peGVyRmFjdG9yeShvdXRwdXRbMF0pO1xuICAgIGNvbnN0IG51bU1peGVycyA9IG91dHB1dC5sZW5ndGggLSAxO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtTWl4ZXJzOyBpKyspIHtcbiAgICAgICAgbGV0IG1peGVyID0gbWl4ZXJGYWN0b3J5KG91dHB1dFtpXSwgb3V0cHV0W2kgKyAxXSk7XG4gICAgICAgIGlmIChlYXNlKSB7XG4gICAgICAgICAgICBjb25zdCBlYXNpbmdGdW5jdGlvbiA9IEFycmF5LmlzQXJyYXkoZWFzZSkgPyBlYXNlW2ldIDogZWFzZTtcbiAgICAgICAgICAgIG1peGVyID0gcGlwZShlYXNpbmdGdW5jdGlvbiwgbWl4ZXIpO1xuICAgICAgICB9XG4gICAgICAgIG1peGVycy5wdXNoKG1peGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG1peGVycztcbn1cbmZ1bmN0aW9uIGZhc3RJbnRlcnBvbGF0ZShbZnJvbSwgdG9dLCBbbWl4ZXJdKSB7XG4gICAgcmV0dXJuICh2KSA9PiBtaXhlcihwcm9ncmVzcyhmcm9tLCB0bywgdikpO1xufVxuZnVuY3Rpb24gc2xvd0ludGVycG9sYXRlKGlucHV0LCBtaXhlcnMpIHtcbiAgICBjb25zdCBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcbiAgICBjb25zdCBsYXN0SW5wdXRJbmRleCA9IGlucHV0TGVuZ3RoIC0gMTtcbiAgICByZXR1cm4gKHYpID0+IHtcbiAgICAgICAgbGV0IG1peGVySW5kZXggPSAwO1xuICAgICAgICBsZXQgZm91bmRNaXhlckluZGV4ID0gZmFsc2U7XG4gICAgICAgIGlmICh2IDw9IGlucHV0WzBdKSB7XG4gICAgICAgICAgICBmb3VuZE1peGVySW5kZXggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHYgPj0gaW5wdXRbbGFzdElucHV0SW5kZXhdKSB7XG4gICAgICAgICAgICBtaXhlckluZGV4ID0gbGFzdElucHV0SW5kZXggLSAxO1xuICAgICAgICAgICAgZm91bmRNaXhlckluZGV4ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWZvdW5kTWl4ZXJJbmRleCkge1xuICAgICAgICAgICAgbGV0IGkgPSAxO1xuICAgICAgICAgICAgZm9yICg7IGkgPCBpbnB1dExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0W2ldID4gdiB8fCBpID09PSBsYXN0SW5wdXRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtaXhlckluZGV4ID0gaSAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvZ3Jlc3NJblJhbmdlID0gcHJvZ3Jlc3MoaW5wdXRbbWl4ZXJJbmRleF0sIGlucHV0W21peGVySW5kZXggKyAxXSwgdik7XG4gICAgICAgIHJldHVybiBtaXhlcnNbbWl4ZXJJbmRleF0ocHJvZ3Jlc3NJblJhbmdlKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gaW50ZXJwb2xhdGUoaW5wdXQsIG91dHB1dCwgeyBjbGFtcDogaXNDbGFtcCA9IHRydWUsIGVhc2UsIG1peGVyIH0gPSB7fSkge1xuICAgIGNvbnN0IGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgIGludmFyaWFudChpbnB1dExlbmd0aCA9PT0gb3V0cHV0Lmxlbmd0aCwgJ0JvdGggaW5wdXQgYW5kIG91dHB1dCByYW5nZXMgbXVzdCBiZSB0aGUgc2FtZSBsZW5ndGgnKTtcbiAgICBpbnZhcmlhbnQoIWVhc2UgfHwgIUFycmF5LmlzQXJyYXkoZWFzZSkgfHwgZWFzZS5sZW5ndGggPT09IGlucHV0TGVuZ3RoIC0gMSwgJ0FycmF5IG9mIGVhc2luZyBmdW5jdGlvbnMgbXVzdCBiZSBvZiBsZW5ndGggYGlucHV0Lmxlbmd0aCAtIDFgLCBhcyBpdCBhcHBsaWVzIHRvIHRoZSB0cmFuc2l0aW9ucyAqKmJldHdlZW4qKiB0aGUgZGVmaW5lZCB2YWx1ZXMuJyk7XG4gICAgaWYgKGlucHV0WzBdID4gaW5wdXRbaW5wdXRMZW5ndGggLSAxXSkge1xuICAgICAgICBpbnB1dCA9IFtdLmNvbmNhdChpbnB1dCk7XG4gICAgICAgIG91dHB1dCA9IFtdLmNvbmNhdChvdXRwdXQpO1xuICAgICAgICBpbnB1dC5yZXZlcnNlKCk7XG4gICAgICAgIG91dHB1dC5yZXZlcnNlKCk7XG4gICAgfVxuICAgIGNvbnN0IG1peGVycyA9IGNyZWF0ZU1peGVycyhvdXRwdXQsIGVhc2UsIG1peGVyKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0b3IgPSBpbnB1dExlbmd0aCA9PT0gMlxuICAgICAgICA/IGZhc3RJbnRlcnBvbGF0ZShpbnB1dCwgbWl4ZXJzKVxuICAgICAgICA6IHNsb3dJbnRlcnBvbGF0ZShpbnB1dCwgbWl4ZXJzKTtcbiAgICByZXR1cm4gaXNDbGFtcFxuICAgICAgICA/ICh2KSA9PiBpbnRlcnBvbGF0b3IoY2xhbXAoaW5wdXRbMF0sIGlucHV0W2lucHV0TGVuZ3RoIC0gMV0sIHYpKVxuICAgICAgICA6IGludGVycG9sYXRvcjtcbn1cblxuZXhwb3J0IHsgaW50ZXJwb2xhdGUgfTtcbiIsImNvbnN0IHJldmVyc2VFYXNpbmcgPSBlYXNpbmcgPT4gcCA9PiAxIC0gZWFzaW5nKDEgLSBwKTtcbmNvbnN0IG1pcnJvckVhc2luZyA9IGVhc2luZyA9PiBwID0+IHAgPD0gMC41ID8gZWFzaW5nKDIgKiBwKSAvIDIgOiAoMiAtIGVhc2luZygyICogKDEgLSBwKSkpIC8gMjtcbmNvbnN0IGNyZWF0ZUV4cG9JbiA9IChwb3dlcikgPT4gcCA9PiBNYXRoLnBvdyhwLCBwb3dlcik7XG5jb25zdCBjcmVhdGVCYWNrSW4gPSAocG93ZXIpID0+IHAgPT4gcCAqIHAgKiAoKHBvd2VyICsgMSkgKiBwIC0gcG93ZXIpO1xuY29uc3QgY3JlYXRlQW50aWNpcGF0ZSA9IChwb3dlcikgPT4ge1xuICAgIGNvbnN0IGJhY2tFYXNpbmcgPSBjcmVhdGVCYWNrSW4ocG93ZXIpO1xuICAgIHJldHVybiBwID0+IChwICo9IDIpIDwgMVxuICAgICAgICA/IDAuNSAqIGJhY2tFYXNpbmcocClcbiAgICAgICAgOiAwLjUgKiAoMiAtIE1hdGgucG93KDIsIC0xMCAqIChwIC0gMSkpKTtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZUFudGljaXBhdGUsIGNyZWF0ZUJhY2tJbiwgY3JlYXRlRXhwb0luLCBtaXJyb3JFYXNpbmcsIHJldmVyc2VFYXNpbmcgfTtcbiIsImltcG9ydCB7IGNyZWF0ZUV4cG9JbiwgcmV2ZXJzZUVhc2luZywgbWlycm9yRWFzaW5nLCBjcmVhdGVCYWNrSW4sIGNyZWF0ZUFudGljaXBhdGUgfSBmcm9tICcuL3V0aWxzLm1qcyc7XG5cbmNvbnN0IERFRkFVTFRfT1ZFUlNIT09UX1NUUkVOR1RIID0gMS41MjU7XG5jb25zdCBCT1VOQ0VfRklSU1RfVEhSRVNIT0xEID0gNC4wIC8gMTEuMDtcbmNvbnN0IEJPVU5DRV9TRUNPTkRfVEhSRVNIT0xEID0gOC4wIC8gMTEuMDtcbmNvbnN0IEJPVU5DRV9USElSRF9USFJFU0hPTEQgPSA5LjAgLyAxMC4wO1xuY29uc3QgbGluZWFyID0gcCA9PiBwO1xuY29uc3QgZWFzZUluID0gY3JlYXRlRXhwb0luKDIpO1xuY29uc3QgZWFzZU91dCA9IHJldmVyc2VFYXNpbmcoZWFzZUluKTtcbmNvbnN0IGVhc2VJbk91dCA9IG1pcnJvckVhc2luZyhlYXNlSW4pO1xuY29uc3QgY2lyY0luID0gcCA9PiAxIC0gTWF0aC5zaW4oTWF0aC5hY29zKHApKTtcbmNvbnN0IGNpcmNPdXQgPSByZXZlcnNlRWFzaW5nKGNpcmNJbik7XG5jb25zdCBjaXJjSW5PdXQgPSBtaXJyb3JFYXNpbmcoY2lyY091dCk7XG5jb25zdCBiYWNrSW4gPSBjcmVhdGVCYWNrSW4oREVGQVVMVF9PVkVSU0hPT1RfU1RSRU5HVEgpO1xuY29uc3QgYmFja091dCA9IHJldmVyc2VFYXNpbmcoYmFja0luKTtcbmNvbnN0IGJhY2tJbk91dCA9IG1pcnJvckVhc2luZyhiYWNrSW4pO1xuY29uc3QgYW50aWNpcGF0ZSA9IGNyZWF0ZUFudGljaXBhdGUoREVGQVVMVF9PVkVSU0hPT1RfU1RSRU5HVEgpO1xuY29uc3QgY2EgPSA0MzU2LjAgLyAzNjEuMDtcbmNvbnN0IGNiID0gMzU0NDIuMCAvIDE4MDUuMDtcbmNvbnN0IGNjID0gMTYwNjEuMCAvIDE4MDUuMDtcbmNvbnN0IGJvdW5jZU91dCA9IChwKSA9PiB7XG4gICAgaWYgKHAgPT09IDEgfHwgcCA9PT0gMClcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgY29uc3QgcDIgPSBwICogcDtcbiAgICByZXR1cm4gcCA8IEJPVU5DRV9GSVJTVF9USFJFU0hPTERcbiAgICAgICAgPyA3LjU2MjUgKiBwMlxuICAgICAgICA6IHAgPCBCT1VOQ0VfU0VDT05EX1RIUkVTSE9MRFxuICAgICAgICAgICAgPyA5LjA3NSAqIHAyIC0gOS45ICogcCArIDMuNFxuICAgICAgICAgICAgOiBwIDwgQk9VTkNFX1RISVJEX1RIUkVTSE9MRFxuICAgICAgICAgICAgICAgID8gY2EgKiBwMiAtIGNiICogcCArIGNjXG4gICAgICAgICAgICAgICAgOiAxMC44ICogcCAqIHAgLSAyMC41MiAqIHAgKyAxMC43Mjtcbn07XG5jb25zdCBib3VuY2VJbiA9IHJldmVyc2VFYXNpbmcoYm91bmNlT3V0KTtcbmNvbnN0IGJvdW5jZUluT3V0ID0gKHApID0+IHAgPCAwLjVcbiAgICA/IDAuNSAqICgxLjAgLSBib3VuY2VPdXQoMS4wIC0gcCAqIDIuMCkpXG4gICAgOiAwLjUgKiBib3VuY2VPdXQocCAqIDIuMCAtIDEuMCkgKyAwLjU7XG5cbmV4cG9ydCB7IGFudGljaXBhdGUsIGJhY2tJbiwgYmFja0luT3V0LCBiYWNrT3V0LCBib3VuY2VJbiwgYm91bmNlSW5PdXQsIGJvdW5jZU91dCwgY2lyY0luLCBjaXJjSW5PdXQsIGNpcmNPdXQsIGVhc2VJbiwgZWFzZUluT3V0LCBlYXNlT3V0LCBsaW5lYXIgfTtcbiIsImltcG9ydCB7IGludGVycG9sYXRlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaW50ZXJwb2xhdGUubWpzJztcbmltcG9ydCB7IGVhc2VJbk91dCB9IGZyb20gJy4uLy4uL2Vhc2luZy9pbmRleC5tanMnO1xuXG5mdW5jdGlvbiBkZWZhdWx0RWFzaW5nKHZhbHVlcywgZWFzaW5nKSB7XG4gICAgcmV0dXJuIHZhbHVlcy5tYXAoKCkgPT4gZWFzaW5nIHx8IGVhc2VJbk91dCkuc3BsaWNlKDAsIHZhbHVlcy5sZW5ndGggLSAxKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRPZmZzZXQodmFsdWVzKSB7XG4gICAgY29uc3QgbnVtVmFsdWVzID0gdmFsdWVzLmxlbmd0aDtcbiAgICByZXR1cm4gdmFsdWVzLm1hcCgoX3ZhbHVlLCBpKSA9PiBpICE9PSAwID8gaSAvIChudW1WYWx1ZXMgLSAxKSA6IDApO1xufVxuZnVuY3Rpb24gY29udmVydE9mZnNldFRvVGltZXMob2Zmc2V0LCBkdXJhdGlvbikge1xuICAgIHJldHVybiBvZmZzZXQubWFwKChvKSA9PiBvICogZHVyYXRpb24pO1xufVxuZnVuY3Rpb24ga2V5ZnJhbWVzKHsgZnJvbSA9IDAsIHRvID0gMSwgZWFzZSwgb2Zmc2V0LCBkdXJhdGlvbiA9IDMwMCwgfSkge1xuICAgIGNvbnN0IHN0YXRlID0geyBkb25lOiBmYWxzZSwgdmFsdWU6IGZyb20gfTtcbiAgICBjb25zdCB2YWx1ZXMgPSBBcnJheS5pc0FycmF5KHRvKSA/IHRvIDogW2Zyb20sIHRvXTtcbiAgICBjb25zdCB0aW1lcyA9IGNvbnZlcnRPZmZzZXRUb1RpbWVzKG9mZnNldCAmJiBvZmZzZXQubGVuZ3RoID09PSB2YWx1ZXMubGVuZ3RoXG4gICAgICAgID8gb2Zmc2V0XG4gICAgICAgIDogZGVmYXVsdE9mZnNldCh2YWx1ZXMpLCBkdXJhdGlvbik7XG4gICAgZnVuY3Rpb24gY3JlYXRlSW50ZXJwb2xhdG9yKCkge1xuICAgICAgICByZXR1cm4gaW50ZXJwb2xhdGUodGltZXMsIHZhbHVlcywge1xuICAgICAgICAgICAgZWFzZTogQXJyYXkuaXNBcnJheShlYXNlKSA/IGVhc2UgOiBkZWZhdWx0RWFzaW5nKHZhbHVlcywgZWFzZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgaW50ZXJwb2xhdG9yID0gY3JlYXRlSW50ZXJwb2xhdG9yKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogKHQpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLnZhbHVlID0gaW50ZXJwb2xhdG9yKHQpO1xuICAgICAgICAgICAgc3RhdGUuZG9uZSA9IHQgPj0gZHVyYXRpb247XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIGZsaXBUYXJnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIHZhbHVlcy5yZXZlcnNlKCk7XG4gICAgICAgICAgICBpbnRlcnBvbGF0b3IgPSBjcmVhdGVJbnRlcnBvbGF0b3IoKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuXG5leHBvcnQgeyBjb252ZXJ0T2Zmc2V0VG9UaW1lcywgZGVmYXVsdEVhc2luZywgZGVmYXVsdE9mZnNldCwga2V5ZnJhbWVzIH07XG4iLCJpbXBvcnQgeyBzcHJpbmcgfSBmcm9tICcuLi9nZW5lcmF0b3JzL3NwcmluZy5tanMnO1xuaW1wb3J0IHsga2V5ZnJhbWVzIH0gZnJvbSAnLi4vZ2VuZXJhdG9ycy9rZXlmcmFtZXMubWpzJztcbmltcG9ydCB7IGRlY2F5IH0gZnJvbSAnLi4vZ2VuZXJhdG9ycy9kZWNheS5tanMnO1xuXG5jb25zdCB0eXBlcyA9IHsga2V5ZnJhbWVzLCBzcHJpbmcsIGRlY2F5IH07XG5mdW5jdGlvbiBkZXRlY3RBbmltYXRpb25Gcm9tT3B0aW9ucyhjb25maWcpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb25maWcudG8pKSB7XG4gICAgICAgIHJldHVybiBrZXlmcmFtZXM7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVzW2NvbmZpZy50eXBlXSkge1xuICAgICAgICByZXR1cm4gdHlwZXNbY29uZmlnLnR5cGVdO1xuICAgIH1cbiAgICBjb25zdCBrZXlzID0gbmV3IFNldChPYmplY3Qua2V5cyhjb25maWcpKTtcbiAgICBpZiAoa2V5cy5oYXMoXCJlYXNlXCIpIHx8XG4gICAgICAgIChrZXlzLmhhcyhcImR1cmF0aW9uXCIpICYmICFrZXlzLmhhcyhcImRhbXBpbmdSYXRpb1wiKSkpIHtcbiAgICAgICAgcmV0dXJuIGtleWZyYW1lcztcbiAgICB9XG4gICAgZWxzZSBpZiAoa2V5cy5oYXMoXCJkYW1waW5nUmF0aW9cIikgfHxcbiAgICAgICAga2V5cy5oYXMoXCJzdGlmZm5lc3NcIikgfHxcbiAgICAgICAga2V5cy5oYXMoXCJtYXNzXCIpIHx8XG4gICAgICAgIGtleXMuaGFzKFwiZGFtcGluZ1wiKSB8fFxuICAgICAgICBrZXlzLmhhcyhcInJlc3RTcGVlZFwiKSB8fFxuICAgICAgICBrZXlzLmhhcyhcInJlc3REZWx0YVwiKSkge1xuICAgICAgICByZXR1cm4gc3ByaW5nO1xuICAgIH1cbiAgICByZXR1cm4ga2V5ZnJhbWVzO1xufVxuXG5leHBvcnQgeyBkZXRlY3RBbmltYXRpb25Gcm9tT3B0aW9ucyB9O1xuIiwiZnVuY3Rpb24gZGVjYXkoeyB2ZWxvY2l0eSA9IDAsIGZyb20gPSAwLCBwb3dlciA9IDAuOCwgdGltZUNvbnN0YW50ID0gMzUwLCByZXN0RGVsdGEgPSAwLjUsIG1vZGlmeVRhcmdldCwgfSkge1xuICAgIGNvbnN0IHN0YXRlID0geyBkb25lOiBmYWxzZSwgdmFsdWU6IGZyb20gfTtcbiAgICBsZXQgYW1wbGl0dWRlID0gcG93ZXIgKiB2ZWxvY2l0eTtcbiAgICBjb25zdCBpZGVhbCA9IGZyb20gKyBhbXBsaXR1ZGU7XG4gICAgY29uc3QgdGFyZ2V0ID0gbW9kaWZ5VGFyZ2V0ID09PSB1bmRlZmluZWQgPyBpZGVhbCA6IG1vZGlmeVRhcmdldChpZGVhbCk7XG4gICAgaWYgKHRhcmdldCAhPT0gaWRlYWwpXG4gICAgICAgIGFtcGxpdHVkZSA9IHRhcmdldCAtIGZyb207XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogKHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gLWFtcGxpdHVkZSAqIE1hdGguZXhwKC10IC8gdGltZUNvbnN0YW50KTtcbiAgICAgICAgICAgIHN0YXRlLmRvbmUgPSAhKGRlbHRhID4gcmVzdERlbHRhIHx8IGRlbHRhIDwgLXJlc3REZWx0YSk7XG4gICAgICAgICAgICBzdGF0ZS52YWx1ZSA9IHN0YXRlLmRvbmUgPyB0YXJnZXQgOiB0YXJnZXQgKyBkZWx0YTtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZmxpcFRhcmdldDogKCkgPT4geyB9LFxuICAgIH07XG59XG5cbmV4cG9ydCB7IGRlY2F5IH07XG4iLCJjb25zdCBkZWZhdWx0VGltZXN0ZXAgPSAoMSAvIDYwKSAqIDEwMDA7XG5jb25zdCBnZXRDdXJyZW50VGltZSA9IHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gXCJ1bmRlZmluZWRcIlxuICAgID8gKCkgPT4gcGVyZm9ybWFuY2Uubm93KClcbiAgICA6ICgpID0+IERhdGUubm93KCk7XG5jb25zdCBvbk5leHRGcmFtZSA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCJcbiAgICA/IChjYWxsYmFjaykgPT4gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShjYWxsYmFjaylcbiAgICA6IChjYWxsYmFjaykgPT4gc2V0VGltZW91dCgoKSA9PiBjYWxsYmFjayhnZXRDdXJyZW50VGltZSgpKSwgZGVmYXVsdFRpbWVzdGVwKTtcblxuZXhwb3J0IHsgZGVmYXVsdFRpbWVzdGVwLCBvbk5leHRGcmFtZSB9O1xuIiwiaW1wb3J0IHsgb25OZXh0RnJhbWUsIGRlZmF1bHRUaW1lc3RlcCB9IGZyb20gJy4vb24tbmV4dC1mcmFtZS5tanMnO1xuaW1wb3J0IHsgY3JlYXRlUmVuZGVyU3RlcCB9IGZyb20gJy4vY3JlYXRlLXJlbmRlci1zdGVwLm1qcyc7XG5cbmNvbnN0IG1heEVsYXBzZWQgPSA0MDtcbmxldCB1c2VEZWZhdWx0RWxhcHNlZCA9IHRydWU7XG5sZXQgcnVuTmV4dEZyYW1lID0gZmFsc2U7XG5sZXQgaXNQcm9jZXNzaW5nID0gZmFsc2U7XG5jb25zdCBmcmFtZSA9IHtcbiAgICBkZWx0YTogMCxcbiAgICB0aW1lc3RhbXA6IDAsXG59O1xuY29uc3Qgc3RlcHNPcmRlciA9IFtcbiAgICBcInJlYWRcIixcbiAgICBcInVwZGF0ZVwiLFxuICAgIFwicHJlUmVuZGVyXCIsXG4gICAgXCJyZW5kZXJcIixcbiAgICBcInBvc3RSZW5kZXJcIixcbl07XG5jb25zdCBzdGVwcyA9IHN0ZXBzT3JkZXIucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgIGFjY1trZXldID0gY3JlYXRlUmVuZGVyU3RlcCgoKSA9PiAocnVuTmV4dEZyYW1lID0gdHJ1ZSkpO1xuICAgIHJldHVybiBhY2M7XG59LCB7fSk7XG5jb25zdCBzeW5jID0gc3RlcHNPcmRlci5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgY29uc3Qgc3RlcCA9IHN0ZXBzW2tleV07XG4gICAgYWNjW2tleV0gPSAocHJvY2Vzcywga2VlcEFsaXZlID0gZmFsc2UsIGltbWVkaWF0ZSA9IGZhbHNlKSA9PiB7XG4gICAgICAgIGlmICghcnVuTmV4dEZyYW1lKVxuICAgICAgICAgICAgc3RhcnRMb29wKCk7XG4gICAgICAgIHJldHVybiBzdGVwLnNjaGVkdWxlKHByb2Nlc3MsIGtlZXBBbGl2ZSwgaW1tZWRpYXRlKTtcbiAgICB9O1xuICAgIHJldHVybiBhY2M7XG59LCB7fSk7XG5jb25zdCBjYW5jZWxTeW5jID0gc3RlcHNPcmRlci5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgYWNjW2tleV0gPSBzdGVwc1trZXldLmNhbmNlbDtcbiAgICByZXR1cm4gYWNjO1xufSwge30pO1xuY29uc3QgZmx1c2hTeW5jID0gc3RlcHNPcmRlci5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgYWNjW2tleV0gPSAoKSA9PiBzdGVwc1trZXldLnByb2Nlc3MoZnJhbWUpO1xuICAgIHJldHVybiBhY2M7XG59LCB7fSk7XG5jb25zdCBwcm9jZXNzU3RlcCA9IChzdGVwSWQpID0+IHN0ZXBzW3N0ZXBJZF0ucHJvY2VzcyhmcmFtZSk7XG5jb25zdCBwcm9jZXNzRnJhbWUgPSAodGltZXN0YW1wKSA9PiB7XG4gICAgcnVuTmV4dEZyYW1lID0gZmFsc2U7XG4gICAgZnJhbWUuZGVsdGEgPSB1c2VEZWZhdWx0RWxhcHNlZFxuICAgICAgICA/IGRlZmF1bHRUaW1lc3RlcFxuICAgICAgICA6IE1hdGgubWF4KE1hdGgubWluKHRpbWVzdGFtcCAtIGZyYW1lLnRpbWVzdGFtcCwgbWF4RWxhcHNlZCksIDEpO1xuICAgIGZyYW1lLnRpbWVzdGFtcCA9IHRpbWVzdGFtcDtcbiAgICBpc1Byb2Nlc3NpbmcgPSB0cnVlO1xuICAgIHN0ZXBzT3JkZXIuZm9yRWFjaChwcm9jZXNzU3RlcCk7XG4gICAgaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gICAgaWYgKHJ1bk5leHRGcmFtZSkge1xuICAgICAgICB1c2VEZWZhdWx0RWxhcHNlZCA9IGZhbHNlO1xuICAgICAgICBvbk5leHRGcmFtZShwcm9jZXNzRnJhbWUpO1xuICAgIH1cbn07XG5jb25zdCBzdGFydExvb3AgPSAoKSA9PiB7XG4gICAgcnVuTmV4dEZyYW1lID0gdHJ1ZTtcbiAgICB1c2VEZWZhdWx0RWxhcHNlZCA9IHRydWU7XG4gICAgaWYgKCFpc1Byb2Nlc3NpbmcpXG4gICAgICAgIG9uTmV4dEZyYW1lKHByb2Nlc3NGcmFtZSk7XG59O1xuY29uc3QgZ2V0RnJhbWVEYXRhID0gKCkgPT4gZnJhbWU7XG5cbmV4cG9ydCBkZWZhdWx0IHN5bmM7XG5leHBvcnQgeyBjYW5jZWxTeW5jLCBmbHVzaFN5bmMsIGdldEZyYW1lRGF0YSB9O1xuIiwiZnVuY3Rpb24gY3JlYXRlUmVuZGVyU3RlcChydW5OZXh0RnJhbWUpIHtcbiAgICBsZXQgdG9SdW4gPSBbXTtcbiAgICBsZXQgdG9SdW5OZXh0RnJhbWUgPSBbXTtcbiAgICBsZXQgbnVtVG9SdW4gPSAwO1xuICAgIGxldCBpc1Byb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICBsZXQgZmx1c2hOZXh0RnJhbWUgPSBmYWxzZTtcbiAgICBjb25zdCB0b0tlZXBBbGl2ZSA9IG5ldyBXZWFrU2V0KCk7XG4gICAgY29uc3Qgc3RlcCA9IHtcbiAgICAgICAgc2NoZWR1bGU6IChjYWxsYmFjaywga2VlcEFsaXZlID0gZmFsc2UsIGltbWVkaWF0ZSA9IGZhbHNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhZGRUb0N1cnJlbnRGcmFtZSA9IGltbWVkaWF0ZSAmJiBpc1Byb2Nlc3Npbmc7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBhZGRUb0N1cnJlbnRGcmFtZSA/IHRvUnVuIDogdG9SdW5OZXh0RnJhbWU7XG4gICAgICAgICAgICBpZiAoa2VlcEFsaXZlKVxuICAgICAgICAgICAgICAgIHRvS2VlcEFsaXZlLmFkZChjYWxsYmFjayk7XG4gICAgICAgICAgICBpZiAoYnVmZmVyLmluZGV4T2YoY2FsbGJhY2spID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICBpZiAoYWRkVG9DdXJyZW50RnJhbWUgJiYgaXNQcm9jZXNzaW5nKVxuICAgICAgICAgICAgICAgICAgICBudW1Ub1J1biA9IHRvUnVuLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaztcbiAgICAgICAgfSxcbiAgICAgICAgY2FuY2VsOiAoY2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdG9SdW5OZXh0RnJhbWUuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKVxuICAgICAgICAgICAgICAgIHRvUnVuTmV4dEZyYW1lLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB0b0tlZXBBbGl2ZS5kZWxldGUoY2FsbGJhY2spO1xuICAgICAgICB9LFxuICAgICAgICBwcm9jZXNzOiAoZnJhbWVEYXRhKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNQcm9jZXNzaW5nKSB7XG4gICAgICAgICAgICAgICAgZmx1c2hOZXh0RnJhbWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlzUHJvY2Vzc2luZyA9IHRydWU7XG4gICAgICAgICAgICBbdG9SdW4sIHRvUnVuTmV4dEZyYW1lXSA9IFt0b1J1bk5leHRGcmFtZSwgdG9SdW5dO1xuICAgICAgICAgICAgdG9SdW5OZXh0RnJhbWUubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIG51bVRvUnVuID0gdG9SdW4ubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKG51bVRvUnVuKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1Ub1J1bjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gdG9SdW5baV07XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZyYW1lRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b0tlZXBBbGl2ZS5oYXMoY2FsbGJhY2spKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwLnNjaGVkdWxlKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bk5leHRGcmFtZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoZmx1c2hOZXh0RnJhbWUpIHtcbiAgICAgICAgICAgICAgICBmbHVzaE5leHRGcmFtZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHN0ZXAucHJvY2VzcyhmcmFtZURhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG4gICAgcmV0dXJuIHN0ZXA7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZVJlbmRlclN0ZXAgfTtcbiIsImZ1bmN0aW9uIGxvb3BFbGFwc2VkKGVsYXBzZWQsIGR1cmF0aW9uLCBkZWxheSA9IDApIHtcbiAgICByZXR1cm4gZWxhcHNlZCAtIGR1cmF0aW9uIC0gZGVsYXk7XG59XG5mdW5jdGlvbiByZXZlcnNlRWxhcHNlZChlbGFwc2VkLCBkdXJhdGlvbiwgZGVsYXkgPSAwLCBpc0ZvcndhcmRQbGF5YmFjayA9IHRydWUpIHtcbiAgICByZXR1cm4gaXNGb3J3YXJkUGxheWJhY2tcbiAgICAgICAgPyBsb29wRWxhcHNlZChkdXJhdGlvbiArIC1lbGFwc2VkLCBkdXJhdGlvbiwgZGVsYXkpXG4gICAgICAgIDogZHVyYXRpb24gLSAoZWxhcHNlZCAtIGR1cmF0aW9uKSArIGRlbGF5O1xufVxuZnVuY3Rpb24gaGFzUmVwZWF0RGVsYXlFbGFwc2VkKGVsYXBzZWQsIGR1cmF0aW9uLCBkZWxheSwgaXNGb3J3YXJkUGxheWJhY2spIHtcbiAgICByZXR1cm4gaXNGb3J3YXJkUGxheWJhY2sgPyBlbGFwc2VkID49IGR1cmF0aW9uICsgZGVsYXkgOiBlbGFwc2VkIDw9IC1kZWxheTtcbn1cblxuZXhwb3J0IHsgaGFzUmVwZWF0RGVsYXlFbGFwc2VkLCBsb29wRWxhcHNlZCwgcmV2ZXJzZUVsYXBzZWQgfTtcbiIsImltcG9ydCB7IF9fcmVzdCB9IGZyb20gJ3RzbGliJztcbmltcG9ydCB7IGRldGVjdEFuaW1hdGlvbkZyb21PcHRpb25zIH0gZnJvbSAnLi91dGlscy9kZXRlY3QtYW5pbWF0aW9uLWZyb20tb3B0aW9ucy5tanMnO1xuaW1wb3J0IHN5bmMsIHsgY2FuY2VsU3luYyB9IGZyb20gJ2ZyYW1lc3luYyc7XG5pbXBvcnQgeyBpbnRlcnBvbGF0ZSB9IGZyb20gJy4uL3V0aWxzL2ludGVycG9sYXRlLm1qcyc7XG5pbXBvcnQgeyBoYXNSZXBlYXREZWxheUVsYXBzZWQsIHJldmVyc2VFbGFwc2VkLCBsb29wRWxhcHNlZCB9IGZyb20gJy4vdXRpbHMvZWxhcHNlZC5tanMnO1xuXG5jb25zdCBmcmFtZXN5bmMgPSAodXBkYXRlKSA9PiB7XG4gICAgY29uc3QgcGFzc1RpbWVzdGFtcCA9ICh7IGRlbHRhIH0pID0+IHVwZGF0ZShkZWx0YSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQ6ICgpID0+IHN5bmMudXBkYXRlKHBhc3NUaW1lc3RhbXAsIHRydWUpLFxuICAgICAgICBzdG9wOiAoKSA9PiBjYW5jZWxTeW5jLnVwZGF0ZShwYXNzVGltZXN0YW1wKSxcbiAgICB9O1xufTtcbmZ1bmN0aW9uIGFuaW1hdGUoX2EpIHtcbiAgICB2YXIgX2IsIF9jO1xuICAgIHZhciB7IGZyb20sIGF1dG9wbGF5ID0gdHJ1ZSwgZHJpdmVyID0gZnJhbWVzeW5jLCBlbGFwc2VkID0gMCwgcmVwZWF0OiByZXBlYXRNYXggPSAwLCByZXBlYXRUeXBlID0gXCJsb29wXCIsIHJlcGVhdERlbGF5ID0gMCwgb25QbGF5LCBvblN0b3AsIG9uQ29tcGxldGUsIG9uUmVwZWF0LCBvblVwZGF0ZSB9ID0gX2EsIG9wdGlvbnMgPSBfX3Jlc3QoX2EsIFtcImZyb21cIiwgXCJhdXRvcGxheVwiLCBcImRyaXZlclwiLCBcImVsYXBzZWRcIiwgXCJyZXBlYXRcIiwgXCJyZXBlYXRUeXBlXCIsIFwicmVwZWF0RGVsYXlcIiwgXCJvblBsYXlcIiwgXCJvblN0b3BcIiwgXCJvbkNvbXBsZXRlXCIsIFwib25SZXBlYXRcIiwgXCJvblVwZGF0ZVwiXSk7XG4gICAgbGV0IHsgdG8gfSA9IG9wdGlvbnM7XG4gICAgbGV0IGRyaXZlckNvbnRyb2xzO1xuICAgIGxldCByZXBlYXRDb3VudCA9IDA7XG4gICAgbGV0IGNvbXB1dGVkRHVyYXRpb24gPSBvcHRpb25zLmR1cmF0aW9uO1xuICAgIGxldCBsYXRlc3Q7XG4gICAgbGV0IGlzQ29tcGxldGUgPSBmYWxzZTtcbiAgICBsZXQgaXNGb3J3YXJkUGxheWJhY2sgPSB0cnVlO1xuICAgIGxldCBpbnRlcnBvbGF0ZUZyb21OdW1iZXI7XG4gICAgY29uc3QgYW5pbWF0b3IgPSBkZXRlY3RBbmltYXRpb25Gcm9tT3B0aW9ucyhvcHRpb25zKTtcbiAgICBpZiAoKF9jID0gKF9iID0gYW5pbWF0b3IpLm5lZWRzSW50ZXJwb2xhdGlvbikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoX2IsIGZyb20sIHRvKSkge1xuICAgICAgICBpbnRlcnBvbGF0ZUZyb21OdW1iZXIgPSBpbnRlcnBvbGF0ZShbMCwgMTAwXSwgW2Zyb20sIHRvXSwge1xuICAgICAgICAgICAgY2xhbXA6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgICAgZnJvbSA9IDA7XG4gICAgICAgIHRvID0gMTAwO1xuICAgIH1cbiAgICBjb25zdCBhbmltYXRpb24gPSBhbmltYXRvcihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpLCB7IGZyb20sIHRvIH0pKTtcbiAgICBmdW5jdGlvbiByZXBlYXQoKSB7XG4gICAgICAgIHJlcGVhdENvdW50Kys7XG4gICAgICAgIGlmIChyZXBlYXRUeXBlID09PSBcInJldmVyc2VcIikge1xuICAgICAgICAgICAgaXNGb3J3YXJkUGxheWJhY2sgPSByZXBlYXRDb3VudCAlIDIgPT09IDA7XG4gICAgICAgICAgICBlbGFwc2VkID0gcmV2ZXJzZUVsYXBzZWQoZWxhcHNlZCwgY29tcHV0ZWREdXJhdGlvbiwgcmVwZWF0RGVsYXksIGlzRm9yd2FyZFBsYXliYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsYXBzZWQgPSBsb29wRWxhcHNlZChlbGFwc2VkLCBjb21wdXRlZER1cmF0aW9uLCByZXBlYXREZWxheSk7XG4gICAgICAgICAgICBpZiAocmVwZWF0VHlwZSA9PT0gXCJtaXJyb3JcIilcbiAgICAgICAgICAgICAgICBhbmltYXRpb24uZmxpcFRhcmdldCgpO1xuICAgICAgICB9XG4gICAgICAgIGlzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgb25SZXBlYXQgJiYgb25SZXBlYXQoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgIGRyaXZlckNvbnRyb2xzLnN0b3AoKTtcbiAgICAgICAgb25Db21wbGV0ZSAmJiBvbkNvbXBsZXRlKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZShkZWx0YSkge1xuICAgICAgICBpZiAoIWlzRm9yd2FyZFBsYXliYWNrKVxuICAgICAgICAgICAgZGVsdGEgPSAtZGVsdGE7XG4gICAgICAgIGVsYXBzZWQgKz0gZGVsdGE7XG4gICAgICAgIGlmICghaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBhbmltYXRpb24ubmV4dChNYXRoLm1heCgwLCBlbGFwc2VkKSk7XG4gICAgICAgICAgICBsYXRlc3QgPSBzdGF0ZS52YWx1ZTtcbiAgICAgICAgICAgIGlmIChpbnRlcnBvbGF0ZUZyb21OdW1iZXIpXG4gICAgICAgICAgICAgICAgbGF0ZXN0ID0gaW50ZXJwb2xhdGVGcm9tTnVtYmVyKGxhdGVzdCk7XG4gICAgICAgICAgICBpc0NvbXBsZXRlID0gaXNGb3J3YXJkUGxheWJhY2sgPyBzdGF0ZS5kb25lIDogZWxhcHNlZCA8PSAwO1xuICAgICAgICB9XG4gICAgICAgIG9uVXBkYXRlID09PSBudWxsIHx8IG9uVXBkYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblVwZGF0ZShsYXRlc3QpO1xuICAgICAgICBpZiAoaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgaWYgKHJlcGVhdENvdW50ID09PSAwKVxuICAgICAgICAgICAgICAgIGNvbXB1dGVkRHVyYXRpb24gIT09IG51bGwgJiYgY29tcHV0ZWREdXJhdGlvbiAhPT0gdm9pZCAwID8gY29tcHV0ZWREdXJhdGlvbiA6IChjb21wdXRlZER1cmF0aW9uID0gZWxhcHNlZCk7XG4gICAgICAgICAgICBpZiAocmVwZWF0Q291bnQgPCByZXBlYXRNYXgpIHtcbiAgICAgICAgICAgICAgICBoYXNSZXBlYXREZWxheUVsYXBzZWQoZWxhcHNlZCwgY29tcHV0ZWREdXJhdGlvbiwgcmVwZWF0RGVsYXksIGlzRm9yd2FyZFBsYXliYWNrKSAmJiByZXBlYXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICAgICAgb25QbGF5ID09PSBudWxsIHx8IG9uUGxheSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25QbGF5KCk7XG4gICAgICAgIGRyaXZlckNvbnRyb2xzID0gZHJpdmVyKHVwZGF0ZSk7XG4gICAgICAgIGRyaXZlckNvbnRyb2xzLnN0YXJ0KCk7XG4gICAgfVxuICAgIGF1dG9wbGF5ICYmIHBsYXkoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdG9wOiAoKSA9PiB7XG4gICAgICAgICAgICBvblN0b3AgPT09IG51bGwgfHwgb25TdG9wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblN0b3AoKTtcbiAgICAgICAgICAgIGRyaXZlckNvbnRyb2xzLnN0b3AoKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuXG5leHBvcnQgeyBhbmltYXRlIH07XG4iLCJmdW5jdGlvbiB2ZWxvY2l0eVBlclNlY29uZCh2ZWxvY2l0eSwgZnJhbWVEdXJhdGlvbikge1xuICAgIHJldHVybiBmcmFtZUR1cmF0aW9uID8gdmVsb2NpdHkgKiAoMTAwMCAvIGZyYW1lRHVyYXRpb24pIDogMDtcbn1cblxuZXhwb3J0IHsgdmVsb2NpdHlQZXJTZWNvbmQgfTtcbiIsIi8qKlxuICogQ29udmVydHMgc2Vjb25kcyB0byBtaWxsaXNlY29uZHNcbiAqXG4gKiBAcGFyYW0gc2Vjb25kcyAtIFRpbWUgaW4gc2Vjb25kcy5cbiAqIEByZXR1cm4gbWlsbGlzZWNvbmRzIC0gQ29udmVydGVkIHRpbWUgaW4gbWlsbGlzZWNvbmRzLlxuICovXG5jb25zdCBzZWNvbmRzVG9NaWxsaXNlY29uZHMgPSAoc2Vjb25kcykgPT4gc2Vjb25kcyAqIDEwMDA7XG5cbmV4cG9ydCB7IHNlY29uZHNUb01pbGxpc2Vjb25kcyB9O1xuIiwiaW1wb3J0IHsgbGluZWFyIH0gZnJvbSAnLi9pbmRleC5tanMnO1xuXG5jb25zdCBhID0gKGExLCBhMikgPT4gMS4wIC0gMy4wICogYTIgKyAzLjAgKiBhMTtcbmNvbnN0IGIgPSAoYTEsIGEyKSA9PiAzLjAgKiBhMiAtIDYuMCAqIGExO1xuY29uc3QgYyA9IChhMSkgPT4gMy4wICogYTE7XG5jb25zdCBjYWxjQmV6aWVyID0gKHQsIGExLCBhMikgPT4gKChhKGExLCBhMikgKiB0ICsgYihhMSwgYTIpKSAqIHQgKyBjKGExKSkgKiB0O1xuY29uc3QgZ2V0U2xvcGUgPSAodCwgYTEsIGEyKSA9PiAzLjAgKiBhKGExLCBhMikgKiB0ICogdCArIDIuMCAqIGIoYTEsIGEyKSAqIHQgKyBjKGExKTtcbmNvbnN0IHN1YmRpdmlzaW9uUHJlY2lzaW9uID0gMC4wMDAwMDAxO1xuY29uc3Qgc3ViZGl2aXNpb25NYXhJdGVyYXRpb25zID0gMTA7XG5mdW5jdGlvbiBiaW5hcnlTdWJkaXZpZGUoYVgsIGFBLCBhQiwgbVgxLCBtWDIpIHtcbiAgICBsZXQgY3VycmVudFg7XG4gICAgbGV0IGN1cnJlbnRUO1xuICAgIGxldCBpID0gMDtcbiAgICBkbyB7XG4gICAgICAgIGN1cnJlbnRUID0gYUEgKyAoYUIgLSBhQSkgLyAyLjA7XG4gICAgICAgIGN1cnJlbnRYID0gY2FsY0JlemllcihjdXJyZW50VCwgbVgxLCBtWDIpIC0gYVg7XG4gICAgICAgIGlmIChjdXJyZW50WCA+IDAuMCkge1xuICAgICAgICAgICAgYUIgPSBjdXJyZW50VDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFBID0gY3VycmVudFQ7XG4gICAgICAgIH1cbiAgICB9IHdoaWxlIChNYXRoLmFicyhjdXJyZW50WCkgPiBzdWJkaXZpc2lvblByZWNpc2lvbiAmJlxuICAgICAgICArK2kgPCBzdWJkaXZpc2lvbk1heEl0ZXJhdGlvbnMpO1xuICAgIHJldHVybiBjdXJyZW50VDtcbn1cbmNvbnN0IG5ld3Rvbkl0ZXJhdGlvbnMgPSA4O1xuY29uc3QgbmV3dG9uTWluU2xvcGUgPSAwLjAwMTtcbmZ1bmN0aW9uIG5ld3RvblJhcGhzb25JdGVyYXRlKGFYLCBhR3Vlc3NULCBtWDEsIG1YMikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3dG9uSXRlcmF0aW9uczsgKytpKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTbG9wZSA9IGdldFNsb3BlKGFHdWVzc1QsIG1YMSwgbVgyKTtcbiAgICAgICAgaWYgKGN1cnJlbnRTbG9wZSA9PT0gMC4wKSB7XG4gICAgICAgICAgICByZXR1cm4gYUd1ZXNzVDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50WCA9IGNhbGNCZXppZXIoYUd1ZXNzVCwgbVgxLCBtWDIpIC0gYVg7XG4gICAgICAgIGFHdWVzc1QgLT0gY3VycmVudFggLyBjdXJyZW50U2xvcGU7XG4gICAgfVxuICAgIHJldHVybiBhR3Vlc3NUO1xufVxuY29uc3Qga1NwbGluZVRhYmxlU2l6ZSA9IDExO1xuY29uc3Qga1NhbXBsZVN0ZXBTaXplID0gMS4wIC8gKGtTcGxpbmVUYWJsZVNpemUgLSAxLjApO1xuZnVuY3Rpb24gY3ViaWNCZXppZXIobVgxLCBtWTEsIG1YMiwgbVkyKSB7XG4gICAgaWYgKG1YMSA9PT0gbVkxICYmIG1YMiA9PT0gbVkyKVxuICAgICAgICByZXR1cm4gbGluZWFyO1xuICAgIGNvbnN0IHNhbXBsZVZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkoa1NwbGluZVRhYmxlU2l6ZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrU3BsaW5lVGFibGVTaXplOyArK2kpIHtcbiAgICAgICAgc2FtcGxlVmFsdWVzW2ldID0gY2FsY0JlemllcihpICoga1NhbXBsZVN0ZXBTaXplLCBtWDEsIG1YMik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRGb3JYKGFYKSB7XG4gICAgICAgIGxldCBpbnRlcnZhbFN0YXJ0ID0gMC4wO1xuICAgICAgICBsZXQgY3VycmVudFNhbXBsZSA9IDE7XG4gICAgICAgIGNvbnN0IGxhc3RTYW1wbGUgPSBrU3BsaW5lVGFibGVTaXplIC0gMTtcbiAgICAgICAgZm9yICg7IGN1cnJlbnRTYW1wbGUgIT09IGxhc3RTYW1wbGUgJiYgc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdIDw9IGFYOyArK2N1cnJlbnRTYW1wbGUpIHtcbiAgICAgICAgICAgIGludGVydmFsU3RhcnQgKz0ga1NhbXBsZVN0ZXBTaXplO1xuICAgICAgICB9XG4gICAgICAgIC0tY3VycmVudFNhbXBsZTtcbiAgICAgICAgY29uc3QgZGlzdCA9IChhWCAtIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSkgL1xuICAgICAgICAgICAgKHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlICsgMV0gLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pO1xuICAgICAgICBjb25zdCBndWVzc0ZvclQgPSBpbnRlcnZhbFN0YXJ0ICsgZGlzdCAqIGtTYW1wbGVTdGVwU2l6ZTtcbiAgICAgICAgY29uc3QgaW5pdGlhbFNsb3BlID0gZ2V0U2xvcGUoZ3Vlc3NGb3JULCBtWDEsIG1YMik7XG4gICAgICAgIGlmIChpbml0aWFsU2xvcGUgPj0gbmV3dG9uTWluU2xvcGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXd0b25SYXBoc29uSXRlcmF0ZShhWCwgZ3Vlc3NGb3JULCBtWDEsIG1YMik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5pdGlhbFNsb3BlID09PSAwLjApIHtcbiAgICAgICAgICAgIHJldHVybiBndWVzc0ZvclQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYmluYXJ5U3ViZGl2aWRlKGFYLCBpbnRlcnZhbFN0YXJ0LCBpbnRlcnZhbFN0YXJ0ICsga1NhbXBsZVN0ZXBTaXplLCBtWDEsIG1YMik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICh0KSA9PiB0ID09PSAwIHx8IHQgPT09IDEgPyB0IDogY2FsY0JlemllcihnZXRURm9yWCh0KSwgbVkxLCBtWTIpO1xufVxuXG5leHBvcnQgeyBjdWJpY0JlemllciB9O1xuIiwiaW1wb3J0IHsgaW52YXJpYW50IH0gZnJvbSAnaGV5LWxpc3Rlbic7XG5pbXBvcnQgeyBjdWJpY0JlemllciwgbGluZWFyLCBlYXNlSW4sIGVhc2VJbk91dCwgZWFzZU91dCwgY2lyY0luLCBjaXJjSW5PdXQsIGNpcmNPdXQsIGJhY2tJbiwgYmFja0luT3V0LCBiYWNrT3V0LCBhbnRpY2lwYXRlLCBib3VuY2VJbiwgYm91bmNlSW5PdXQsIGJvdW5jZU91dCB9IGZyb20gJ3BvcG1vdGlvbic7XG5cbmNvbnN0IGVhc2luZ0xvb2t1cCA9IHtcbiAgICBsaW5lYXIsXG4gICAgZWFzZUluLFxuICAgIGVhc2VJbk91dCxcbiAgICBlYXNlT3V0LFxuICAgIGNpcmNJbixcbiAgICBjaXJjSW5PdXQsXG4gICAgY2lyY091dCxcbiAgICBiYWNrSW4sXG4gICAgYmFja0luT3V0LFxuICAgIGJhY2tPdXQsXG4gICAgYW50aWNpcGF0ZSxcbiAgICBib3VuY2VJbixcbiAgICBib3VuY2VJbk91dCxcbiAgICBib3VuY2VPdXQsXG59O1xuY29uc3QgZWFzaW5nRGVmaW5pdGlvblRvRnVuY3Rpb24gPSAoZGVmaW5pdGlvbikgPT4ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGRlZmluaXRpb24pKSB7XG4gICAgICAgIC8vIElmIGN1YmljIGJlemllciBkZWZpbml0aW9uLCBjcmVhdGUgYmV6aWVyIGN1cnZlXG4gICAgICAgIGludmFyaWFudChkZWZpbml0aW9uLmxlbmd0aCA9PT0gNCwgYEN1YmljIGJlemllciBhcnJheXMgbXVzdCBjb250YWluIGZvdXIgbnVtZXJpY2FsIHZhbHVlcy5gKTtcbiAgICAgICAgY29uc3QgW3gxLCB5MSwgeDIsIHkyXSA9IGRlZmluaXRpb247XG4gICAgICAgIHJldHVybiBjdWJpY0Jlemllcih4MSwgeTEsIHgyLCB5Mik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBkZWZpbml0aW9uID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIC8vIEVsc2UgbG9va3VwIGZyb20gdGFibGVcbiAgICAgICAgaW52YXJpYW50KGVhc2luZ0xvb2t1cFtkZWZpbml0aW9uXSAhPT0gdW5kZWZpbmVkLCBgSW52YWxpZCBlYXNpbmcgdHlwZSAnJHtkZWZpbml0aW9ufSdgKTtcbiAgICAgICAgcmV0dXJuIGVhc2luZ0xvb2t1cFtkZWZpbml0aW9uXTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmluaXRpb247XG59O1xuY29uc3QgaXNFYXNpbmdBcnJheSA9IChlYXNlKSA9PiB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZWFzZSkgJiYgdHlwZW9mIGVhc2VbMF0gIT09IFwibnVtYmVyXCI7XG59O1xuXG5leHBvcnQgeyBlYXNpbmdEZWZpbml0aW9uVG9GdW5jdGlvbiwgaXNFYXNpbmdBcnJheSB9O1xuIiwiaW1wb3J0IHsgY29tcGxleCB9IGZyb20gJ3N0eWxlLXZhbHVlLXR5cGVzJztcblxuLyoqXG4gKiBDaGVjayBpZiBhIHZhbHVlIGlzIGFuaW1hdGFibGUuIEV4YW1wbGVzOlxuICpcbiAqIOKchTogMTAwLCBcIjEwMHB4XCIsIFwiI2ZmZlwiXG4gKiDinYw6IFwiYmxvY2tcIiwgXCJ1cmwoMi5qcGcpXCJcbiAqIEBwYXJhbSB2YWx1ZVxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBpc0FuaW1hdGFibGUgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgIC8vIElmIHRoZSBsaXN0IG9mIGtleXMgdGF0IG1pZ2h0IGJlIG5vbi1hbmltYXRhYmxlIGdyb3dzLCByZXBsYWNlIHdpdGggU2V0XG4gICAgaWYgKGtleSA9PT0gXCJ6SW5kZXhcIilcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIC8vIElmIGl0J3MgYSBudW1iZXIgb3IgYSBrZXlmcmFtZXMgYXJyYXksIHdlIGNhbiBhbmltYXRlIGl0LiBXZSBtaWdodCBhdCBzb21lIHBvaW50XG4gICAgLy8gbmVlZCB0byBkbyBhIGRlZXAgaXNBbmltYXRhYmxlIGNoZWNrIG9mIGtleWZyYW1lcywgb3IgbGV0IFBvcG1vdGlvbiBoYW5kbGUgdGhpcyxcbiAgICAvLyBidXQgZm9yIG5vdyBsZXRzIGxlYXZlIGl0IGxpa2UgdGhpcyBmb3IgcGVyZm9ybWFuY2UgcmVhc29uc1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgLy8gSXQncyBhbmltYXRhYmxlIGlmIHdlIGhhdmUgYSBzdHJpbmdcbiAgICAgICAgY29tcGxleC50ZXN0KHZhbHVlKSAmJiAvLyBBbmQgaXQgY29udGFpbnMgbnVtYmVycyBhbmQvb3IgY29sb3JzXG4gICAgICAgICF2YWx1ZS5zdGFydHNXaXRoKFwidXJsKFwiKSAvLyBVbmxlc3MgaXQgc3RhcnRzIHdpdGggXCJ1cmwoXCJcbiAgICApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbmV4cG9ydCB7IGlzQW5pbWF0YWJsZSB9O1xuIiwiaW1wb3J0IHsgaXNLZXlmcmFtZXNUYXJnZXQgfSBmcm9tICcuL2lzLWtleWZyYW1lcy10YXJnZXQubWpzJztcblxuY29uc3QgdW5kZXJEYW1wZWRTcHJpbmcgPSAoKSA9PiAoe1xuICAgIHR5cGU6IFwic3ByaW5nXCIsXG4gICAgc3RpZmZuZXNzOiA1MDAsXG4gICAgZGFtcGluZzogMjUsXG4gICAgcmVzdFNwZWVkOiAxMCxcbn0pO1xuY29uc3QgY3JpdGljYWxseURhbXBlZFNwcmluZyA9ICh0bykgPT4gKHtcbiAgICB0eXBlOiBcInNwcmluZ1wiLFxuICAgIHN0aWZmbmVzczogNTUwLFxuICAgIGRhbXBpbmc6IHRvID09PSAwID8gMiAqIE1hdGguc3FydCg1NTApIDogMzAsXG4gICAgcmVzdFNwZWVkOiAxMCxcbn0pO1xuY29uc3QgbGluZWFyVHdlZW4gPSAoKSA9PiAoe1xuICAgIHR5cGU6IFwia2V5ZnJhbWVzXCIsXG4gICAgZWFzZTogXCJsaW5lYXJcIixcbiAgICBkdXJhdGlvbjogMC4zLFxufSk7XG5jb25zdCBrZXlmcmFtZXMgPSAodmFsdWVzKSA9PiAoe1xuICAgIHR5cGU6IFwia2V5ZnJhbWVzXCIsXG4gICAgZHVyYXRpb246IDAuOCxcbiAgICB2YWx1ZXMsXG59KTtcbmNvbnN0IGRlZmF1bHRUcmFuc2l0aW9ucyA9IHtcbiAgICB4OiB1bmRlckRhbXBlZFNwcmluZyxcbiAgICB5OiB1bmRlckRhbXBlZFNwcmluZyxcbiAgICB6OiB1bmRlckRhbXBlZFNwcmluZyxcbiAgICByb3RhdGU6IHVuZGVyRGFtcGVkU3ByaW5nLFxuICAgIHJvdGF0ZVg6IHVuZGVyRGFtcGVkU3ByaW5nLFxuICAgIHJvdGF0ZVk6IHVuZGVyRGFtcGVkU3ByaW5nLFxuICAgIHJvdGF0ZVo6IHVuZGVyRGFtcGVkU3ByaW5nLFxuICAgIHNjYWxlWDogY3JpdGljYWxseURhbXBlZFNwcmluZyxcbiAgICBzY2FsZVk6IGNyaXRpY2FsbHlEYW1wZWRTcHJpbmcsXG4gICAgc2NhbGU6IGNyaXRpY2FsbHlEYW1wZWRTcHJpbmcsXG4gICAgb3BhY2l0eTogbGluZWFyVHdlZW4sXG4gICAgYmFja2dyb3VuZENvbG9yOiBsaW5lYXJUd2VlbixcbiAgICBjb2xvcjogbGluZWFyVHdlZW4sXG4gICAgZGVmYXVsdDogY3JpdGljYWxseURhbXBlZFNwcmluZyxcbn07XG5jb25zdCBnZXREZWZhdWx0VHJhbnNpdGlvbiA9ICh2YWx1ZUtleSwgdG8pID0+IHtcbiAgICBsZXQgdHJhbnNpdGlvbkZhY3Rvcnk7XG4gICAgaWYgKGlzS2V5ZnJhbWVzVGFyZ2V0KHRvKSkge1xuICAgICAgICB0cmFuc2l0aW9uRmFjdG9yeSA9IGtleWZyYW1lcztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRyYW5zaXRpb25GYWN0b3J5ID1cbiAgICAgICAgICAgIGRlZmF1bHRUcmFuc2l0aW9uc1t2YWx1ZUtleV0gfHwgZGVmYXVsdFRyYW5zaXRpb25zLmRlZmF1bHQ7XG4gICAgfVxuICAgIHJldHVybiB7IHRvLCAuLi50cmFuc2l0aW9uRmFjdG9yeSh0bykgfTtcbn07XG5cbmV4cG9ydCB7IGNyaXRpY2FsbHlEYW1wZWRTcHJpbmcsIGdldERlZmF1bHRUcmFuc2l0aW9uLCBsaW5lYXJUd2VlbiwgdW5kZXJEYW1wZWRTcHJpbmcgfTtcbiIsImltcG9ydCB7IGNvbXBsZXggfSBmcm9tICcuL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBmbG9hdFJlZ2V4IH0gZnJvbSAnLi4vdXRpbHMubWpzJztcblxuY29uc3QgbWF4RGVmYXVsdHMgPSBuZXcgU2V0KFsnYnJpZ2h0bmVzcycsICdjb250cmFzdCcsICdzYXR1cmF0ZScsICdvcGFjaXR5J10pO1xuZnVuY3Rpb24gYXBwbHlEZWZhdWx0RmlsdGVyKHYpIHtcbiAgICBsZXQgW25hbWUsIHZhbHVlXSA9IHYuc2xpY2UoMCwgLTEpLnNwbGl0KCcoJyk7XG4gICAgaWYgKG5hbWUgPT09ICdkcm9wLXNoYWRvdycpXG4gICAgICAgIHJldHVybiB2O1xuICAgIGNvbnN0IFtudW1iZXJdID0gdmFsdWUubWF0Y2goZmxvYXRSZWdleCkgfHwgW107XG4gICAgaWYgKCFudW1iZXIpXG4gICAgICAgIHJldHVybiB2O1xuICAgIGNvbnN0IHVuaXQgPSB2YWx1ZS5yZXBsYWNlKG51bWJlciwgJycpO1xuICAgIGxldCBkZWZhdWx0VmFsdWUgPSBtYXhEZWZhdWx0cy5oYXMobmFtZSkgPyAxIDogMDtcbiAgICBpZiAobnVtYmVyICE9PSB2YWx1ZSlcbiAgICAgICAgZGVmYXVsdFZhbHVlICo9IDEwMDtcbiAgICByZXR1cm4gbmFtZSArICcoJyArIGRlZmF1bHRWYWx1ZSArIHVuaXQgKyAnKSc7XG59XG5jb25zdCBmdW5jdGlvblJlZ2V4ID0gLyhbYS16LV0qKVxcKC4qP1xcKS9nO1xuY29uc3QgZmlsdGVyID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjb21wbGV4KSwgeyBnZXRBbmltYXRhYmxlTm9uZTogKHYpID0+IHtcbiAgICAgICAgY29uc3QgZnVuY3Rpb25zID0gdi5tYXRjaChmdW5jdGlvblJlZ2V4KTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9ucyA/IGZ1bmN0aW9ucy5tYXAoYXBwbHlEZWZhdWx0RmlsdGVyKS5qb2luKCcgJykgOiB2O1xuICAgIH0gfSk7XG5cbmV4cG9ydCB7IGZpbHRlciB9O1xuIiwiaW1wb3J0IHsgY29sb3IsIGZpbHRlciB9IGZyb20gJ3N0eWxlLXZhbHVlLXR5cGVzJztcbmltcG9ydCB7IG51bWJlclZhbHVlVHlwZXMgfSBmcm9tICcuL251bWJlci5tanMnO1xuXG4vKipcbiAqIEEgbWFwIG9mIGRlZmF1bHQgdmFsdWUgdHlwZXMgZm9yIGNvbW1vbiB2YWx1ZXNcbiAqL1xuY29uc3QgZGVmYXVsdFZhbHVlVHlwZXMgPSB7XG4gICAgLi4ubnVtYmVyVmFsdWVUeXBlcyxcbiAgICAvLyBDb2xvciBwcm9wc1xuICAgIGNvbG9yLFxuICAgIGJhY2tncm91bmRDb2xvcjogY29sb3IsXG4gICAgb3V0bGluZUNvbG9yOiBjb2xvcixcbiAgICBmaWxsOiBjb2xvcixcbiAgICBzdHJva2U6IGNvbG9yLFxuICAgIC8vIEJvcmRlciBwcm9wc1xuICAgIGJvcmRlckNvbG9yOiBjb2xvcixcbiAgICBib3JkZXJUb3BDb2xvcjogY29sb3IsXG4gICAgYm9yZGVyUmlnaHRDb2xvcjogY29sb3IsXG4gICAgYm9yZGVyQm90dG9tQ29sb3I6IGNvbG9yLFxuICAgIGJvcmRlckxlZnRDb2xvcjogY29sb3IsXG4gICAgZmlsdGVyLFxuICAgIFdlYmtpdEZpbHRlcjogZmlsdGVyLFxufTtcbi8qKlxuICogR2V0cyB0aGUgZGVmYXVsdCBWYWx1ZVR5cGUgZm9yIHRoZSBwcm92aWRlZCB2YWx1ZSBrZXlcbiAqL1xuY29uc3QgZ2V0RGVmYXVsdFZhbHVlVHlwZSA9IChrZXkpID0+IGRlZmF1bHRWYWx1ZVR5cGVzW2tleV07XG5cbmV4cG9ydCB7IGRlZmF1bHRWYWx1ZVR5cGVzLCBnZXREZWZhdWx0VmFsdWVUeXBlIH07XG4iLCJpbXBvcnQgeyBmaWx0ZXIsIGNvbXBsZXggfSBmcm9tICdzdHlsZS12YWx1ZS10eXBlcyc7XG5pbXBvcnQgeyBnZXREZWZhdWx0VmFsdWVUeXBlIH0gZnJvbSAnLi9kZWZhdWx0cy5tanMnO1xuXG5mdW5jdGlvbiBnZXRBbmltYXRhYmxlTm9uZShrZXksIHZhbHVlKSB7XG4gICAgdmFyIF9hO1xuICAgIGxldCBkZWZhdWx0VmFsdWVUeXBlID0gZ2V0RGVmYXVsdFZhbHVlVHlwZShrZXkpO1xuICAgIGlmIChkZWZhdWx0VmFsdWVUeXBlICE9PSBmaWx0ZXIpXG4gICAgICAgIGRlZmF1bHRWYWx1ZVR5cGUgPSBjb21wbGV4O1xuICAgIC8vIElmIHZhbHVlIGlzIG5vdCByZWNvZ25pc2VkIGFzIGFuaW1hdGFibGUsIGllIFwibm9uZVwiLCBjcmVhdGUgYW4gYW5pbWF0YWJsZSB2ZXJzaW9uIG9yaWdpbiBiYXNlZCBvbiB0aGUgdGFyZ2V0XG4gICAgcmV0dXJuIChfYSA9IGRlZmF1bHRWYWx1ZVR5cGUuZ2V0QW5pbWF0YWJsZU5vbmUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGRlZmF1bHRWYWx1ZVR5cGUsIHZhbHVlKTtcbn1cblxuZXhwb3J0IHsgZ2V0QW5pbWF0YWJsZU5vbmUgfTtcbiIsImltcG9ydCB7IGluZXJ0aWEsIGFuaW1hdGUgfSBmcm9tICdwb3Btb3Rpb24nO1xuaW1wb3J0IHsgc2Vjb25kc1RvTWlsbGlzZWNvbmRzIH0gZnJvbSAnLi4vLi4vdXRpbHMvdGltZS1jb252ZXJzaW9uLm1qcyc7XG5pbXBvcnQgeyBpc0Vhc2luZ0FycmF5LCBlYXNpbmdEZWZpbml0aW9uVG9GdW5jdGlvbiB9IGZyb20gJy4vZWFzaW5nLm1qcyc7XG5pbXBvcnQgeyBpc0FuaW1hdGFibGUgfSBmcm9tICcuL2lzLWFuaW1hdGFibGUubWpzJztcbmltcG9ydCB7IGdldERlZmF1bHRUcmFuc2l0aW9uIH0gZnJvbSAnLi9kZWZhdWx0LXRyYW5zaXRpb25zLm1qcyc7XG5pbXBvcnQgeyB3YXJuaW5nIH0gZnJvbSAnaGV5LWxpc3Rlbic7XG5pbXBvcnQgeyBnZXRBbmltYXRhYmxlTm9uZSB9IGZyb20gJy4uLy4uL3JlbmRlci9kb20vdmFsdWUtdHlwZXMvYW5pbWF0YWJsZS1ub25lLm1qcyc7XG5pbXBvcnQgeyBpbnN0YW50QW5pbWF0aW9uU3RhdGUgfSBmcm9tICcuLi8uLi91dGlscy91c2UtaW5zdGFudC10cmFuc2l0aW9uLXN0YXRlLm1qcyc7XG5pbXBvcnQgeyByZXNvbHZlRmluYWxWYWx1ZUluS2V5ZnJhbWVzIH0gZnJvbSAnLi4vLi4vdXRpbHMvcmVzb2x2ZS12YWx1ZS5tanMnO1xuXG4vKipcbiAqIERlY2lkZSB3aGV0aGVyIGEgdHJhbnNpdGlvbiBpcyBkZWZpbmVkIG9uIGEgZ2l2ZW4gVHJhbnNpdGlvbi5cbiAqIFRoaXMgZmlsdGVycyBvdXQgb3JjaGVzdHJhdGlvbiBvcHRpb25zIGFuZCByZXR1cm5zIHRydWVcbiAqIGlmIGFueSBvcHRpb25zIGFyZSBsZWZ0LlxuICovXG5mdW5jdGlvbiBpc1RyYW5zaXRpb25EZWZpbmVkKHsgd2hlbiwgZGVsYXksIGRlbGF5Q2hpbGRyZW4sIHN0YWdnZXJDaGlsZHJlbiwgc3RhZ2dlckRpcmVjdGlvbiwgcmVwZWF0LCByZXBlYXRUeXBlLCByZXBlYXREZWxheSwgZnJvbSwgLi4udHJhbnNpdGlvbiB9KSB7XG4gICAgcmV0dXJuICEhT2JqZWN0LmtleXModHJhbnNpdGlvbikubGVuZ3RoO1xufVxubGV0IGxlZ2FjeVJlcGVhdFdhcm5pbmcgPSBmYWxzZTtcbi8qKlxuICogQ29udmVydCBGcmFtZXIgTW90aW9uJ3MgVHJhbnNpdGlvbiB0eXBlIGludG8gUG9wbW90aW9uLWNvbXBhdGlibGUgb3B0aW9ucy5cbiAqL1xuZnVuY3Rpb24gY29udmVydFRyYW5zaXRpb25Ub0FuaW1hdGlvbk9wdGlvbnMoeyBlYXNlLCB0aW1lcywgeW95bywgZmxpcCwgbG9vcCwgLi4udHJhbnNpdGlvbiB9KSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHsgLi4udHJhbnNpdGlvbiB9O1xuICAgIGlmICh0aW1lcylcbiAgICAgICAgb3B0aW9uc1tcIm9mZnNldFwiXSA9IHRpbWVzO1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYW55IGV4aXN0aW5nIGR1cmF0aW9ucyBmcm9tIHNlY29uZHMgdG8gbWlsbGlzZWNvbmRzXG4gICAgICovXG4gICAgaWYgKHRyYW5zaXRpb24uZHVyYXRpb24pXG4gICAgICAgIG9wdGlvbnNbXCJkdXJhdGlvblwiXSA9IHNlY29uZHNUb01pbGxpc2Vjb25kcyh0cmFuc2l0aW9uLmR1cmF0aW9uKTtcbiAgICBpZiAodHJhbnNpdGlvbi5yZXBlYXREZWxheSlcbiAgICAgICAgb3B0aW9ucy5yZXBlYXREZWxheSA9IHNlY29uZHNUb01pbGxpc2Vjb25kcyh0cmFuc2l0aW9uLnJlcGVhdERlbGF5KTtcbiAgICAvKipcbiAgICAgKiBNYXAgZWFzaW5nIG5hbWVzIHRvIFBvcG1vdGlvbidzIGVhc2luZyBmdW5jdGlvbnNcbiAgICAgKi9cbiAgICBpZiAoZWFzZSkge1xuICAgICAgICBvcHRpb25zW1wiZWFzZVwiXSA9IGlzRWFzaW5nQXJyYXkoZWFzZSlcbiAgICAgICAgICAgID8gZWFzZS5tYXAoZWFzaW5nRGVmaW5pdGlvblRvRnVuY3Rpb24pXG4gICAgICAgICAgICA6IGVhc2luZ0RlZmluaXRpb25Ub0Z1bmN0aW9uKGVhc2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdXBwb3J0IGxlZ2FjeSB0cmFuc2l0aW9uIEFQSVxuICAgICAqL1xuICAgIGlmICh0cmFuc2l0aW9uLnR5cGUgPT09IFwidHdlZW5cIilcbiAgICAgICAgb3B0aW9ucy50eXBlID0gXCJrZXlmcmFtZXNcIjtcbiAgICAvKipcbiAgICAgKiBUT0RPOiBUaGVzZSBvcHRpb25zIGFyZSBvZmZpY2lhbGx5IHJlbW92ZWQgZnJvbSB0aGUgQVBJLlxuICAgICAqL1xuICAgIGlmICh5b3lvIHx8IGxvb3AgfHwgZmxpcCkge1xuICAgICAgICB3YXJuaW5nKCFsZWdhY3lSZXBlYXRXYXJuaW5nLCBcInlveW8sIGxvb3AgYW5kIGZsaXAgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgQVBJLiBSZXBsYWNlIHdpdGggcmVwZWF0IGFuZCByZXBlYXRUeXBlIG9wdGlvbnMuXCIpO1xuICAgICAgICBsZWdhY3lSZXBlYXRXYXJuaW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKHlveW8pIHtcbiAgICAgICAgICAgIG9wdGlvbnMucmVwZWF0VHlwZSA9IFwicmV2ZXJzZVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxvb3ApIHtcbiAgICAgICAgICAgIG9wdGlvbnMucmVwZWF0VHlwZSA9IFwibG9vcFwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZsaXApIHtcbiAgICAgICAgICAgIG9wdGlvbnMucmVwZWF0VHlwZSA9IFwibWlycm9yXCI7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5yZXBlYXQgPSBsb29wIHx8IHlveW8gfHwgZmxpcCB8fCB0cmFuc2l0aW9uLnJlcGVhdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVE9ETzogUG9wbW90aW9uIDkgaGFzIHRoZSBhYmlsaXR5IHRvIGF1dG9tYXRpY2FsbHkgZGV0ZWN0IHdoZXRoZXIgdG8gdXNlXG4gICAgICogYSBrZXlmcmFtZXMgb3Igc3ByaW5nIGFuaW1hdGlvbiwgYnV0IGRvZXMgc28gYnkgZGV0ZWN0aW5nIHZlbG9jaXR5IGFuZCBvdGhlciBzcHJpbmcgb3B0aW9ucy5cbiAgICAgKiBJdCdkIGJlIGdvb2QgdG8gaW50cm9kdWNlIGEgc2ltaWxhciB0aGluZyBoZXJlLlxuICAgICAqL1xuICAgIGlmICh0cmFuc2l0aW9uLnR5cGUgIT09IFwic3ByaW5nXCIpXG4gICAgICAgIG9wdGlvbnMudHlwZSA9IFwia2V5ZnJhbWVzXCI7XG4gICAgcmV0dXJuIG9wdGlvbnM7XG59XG4vKipcbiAqIEdldCB0aGUgZGVsYXkgZm9yIGEgdmFsdWUgYnkgY2hlY2tpbmcgVHJhbnNpdGlvbiB3aXRoIGRlY3JlYXNpbmcgc3BlY2lmaWNpdHkuXG4gKi9cbmZ1bmN0aW9uIGdldERlbGF5RnJvbVRyYW5zaXRpb24odHJhbnNpdGlvbiwga2V5KSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCB2YWx1ZVRyYW5zaXRpb24gPSBnZXRWYWx1ZVRyYW5zaXRpb24odHJhbnNpdGlvbiwga2V5KSB8fCB7fTtcbiAgICByZXR1cm4gKF9iID0gKF9hID0gdmFsdWVUcmFuc2l0aW9uLmRlbGF5KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0cmFuc2l0aW9uLmRlbGF5KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAwO1xufVxuZnVuY3Rpb24gaHlkcmF0ZUtleWZyYW1lcyhvcHRpb25zKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy50bykgJiYgb3B0aW9ucy50b1swXSA9PT0gbnVsbCkge1xuICAgICAgICBvcHRpb25zLnRvID0gWy4uLm9wdGlvbnMudG9dO1xuICAgICAgICBvcHRpb25zLnRvWzBdID0gb3B0aW9ucy5mcm9tO1xuICAgIH1cbiAgICByZXR1cm4gb3B0aW9ucztcbn1cbmZ1bmN0aW9uIGdldFBvcG1vdGlvbkFuaW1hdGlvbk9wdGlvbnModHJhbnNpdGlvbiwgb3B0aW9ucywga2V5KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy50bykgJiYgdHJhbnNpdGlvbi5kdXJhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRyYW5zaXRpb24uZHVyYXRpb24gPSAwLjg7XG4gICAgfVxuICAgIGh5ZHJhdGVLZXlmcmFtZXMob3B0aW9ucyk7XG4gICAgLyoqXG4gICAgICogR2V0IGEgZGVmYXVsdCB0cmFuc2l0aW9uIGlmIG5vbmUgaXMgZGV0ZXJtaW5lZCB0byBiZSBkZWZpbmVkLlxuICAgICAqL1xuICAgIGlmICghaXNUcmFuc2l0aW9uRGVmaW5lZCh0cmFuc2l0aW9uKSkge1xuICAgICAgICB0cmFuc2l0aW9uID0ge1xuICAgICAgICAgICAgLi4udHJhbnNpdGlvbixcbiAgICAgICAgICAgIC4uLmdldERlZmF1bHRUcmFuc2l0aW9uKGtleSwgb3B0aW9ucy50byksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIC4uLmNvbnZlcnRUcmFuc2l0aW9uVG9BbmltYXRpb25PcHRpb25zKHRyYW5zaXRpb24pLFxuICAgIH07XG59XG4vKipcbiAqXG4gKi9cbmZ1bmN0aW9uIGdldEFuaW1hdGlvbihrZXksIHZhbHVlLCB0YXJnZXQsIHRyYW5zaXRpb24sIG9uQ29tcGxldGUpIHtcbiAgICBjb25zdCB2YWx1ZVRyYW5zaXRpb24gPSBnZXRWYWx1ZVRyYW5zaXRpb24odHJhbnNpdGlvbiwga2V5KSB8fCB7fTtcbiAgICBsZXQgb3JpZ2luID0gdmFsdWVUcmFuc2l0aW9uLmZyb20gIT09IHVuZGVmaW5lZCA/IHZhbHVlVHJhbnNpdGlvbi5mcm9tIDogdmFsdWUuZ2V0KCk7XG4gICAgY29uc3QgaXNUYXJnZXRBbmltYXRhYmxlID0gaXNBbmltYXRhYmxlKGtleSwgdGFyZ2V0KTtcbiAgICBpZiAob3JpZ2luID09PSBcIm5vbmVcIiAmJiBpc1RhcmdldEFuaW1hdGFibGUgJiYgdHlwZW9mIHRhcmdldCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgd2UncmUgdHJ5aW5nIHRvIGFuaW1hdGUgZnJvbSBcIm5vbmVcIiwgdHJ5IGFuZCBnZXQgYW4gYW5pbWF0YWJsZSB2ZXJzaW9uXG4gICAgICAgICAqIG9mIHRoZSB0YXJnZXQuIFRoaXMgY291bGQgYmUgaW1wcm92ZWQgdG8gd29yayBib3RoIHdheXMuXG4gICAgICAgICAqL1xuICAgICAgICBvcmlnaW4gPSBnZXRBbmltYXRhYmxlTm9uZShrZXksIHRhcmdldCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzWmVybyhvcmlnaW4pICYmIHR5cGVvZiB0YXJnZXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgb3JpZ2luID0gZ2V0WmVyb1VuaXQodGFyZ2V0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkodGFyZ2V0KSAmJlxuICAgICAgICBpc1plcm8odGFyZ2V0KSAmJlxuICAgICAgICB0eXBlb2Ygb3JpZ2luID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRhcmdldCA9IGdldFplcm9Vbml0KG9yaWdpbik7XG4gICAgfVxuICAgIGNvbnN0IGlzT3JpZ2luQW5pbWF0YWJsZSA9IGlzQW5pbWF0YWJsZShrZXksIG9yaWdpbik7XG4gICAgd2FybmluZyhpc09yaWdpbkFuaW1hdGFibGUgPT09IGlzVGFyZ2V0QW5pbWF0YWJsZSwgYFlvdSBhcmUgdHJ5aW5nIHRvIGFuaW1hdGUgJHtrZXl9IGZyb20gXCIke29yaWdpbn1cIiB0byBcIiR7dGFyZ2V0fVwiLiAke29yaWdpbn0gaXMgbm90IGFuIGFuaW1hdGFibGUgdmFsdWUgLSB0byBlbmFibGUgdGhpcyBhbmltYXRpb24gc2V0ICR7b3JpZ2lufSB0byBhIHZhbHVlIGFuaW1hdGFibGUgdG8gJHt0YXJnZXR9IHZpYSB0aGUgXFxgc3R5bGVcXGAgcHJvcGVydHkuYCk7XG4gICAgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBmcm9tOiBvcmlnaW4sXG4gICAgICAgICAgICB0bzogdGFyZ2V0LFxuICAgICAgICAgICAgdmVsb2NpdHk6IHZhbHVlLmdldFZlbG9jaXR5KCksXG4gICAgICAgICAgICBvbkNvbXBsZXRlLFxuICAgICAgICAgICAgb25VcGRhdGU6ICh2KSA9PiB2YWx1ZS5zZXQodiksXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB2YWx1ZVRyYW5zaXRpb24udHlwZSA9PT0gXCJpbmVydGlhXCIgfHxcbiAgICAgICAgICAgIHZhbHVlVHJhbnNpdGlvbi50eXBlID09PSBcImRlY2F5XCJcbiAgICAgICAgICAgID8gaW5lcnRpYSh7IC4uLm9wdGlvbnMsIC4uLnZhbHVlVHJhbnNpdGlvbiB9KVxuICAgICAgICAgICAgOiBhbmltYXRlKHtcbiAgICAgICAgICAgICAgICAuLi5nZXRQb3Btb3Rpb25BbmltYXRpb25PcHRpb25zKHZhbHVlVHJhbnNpdGlvbiwgb3B0aW9ucywga2V5KSxcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogKHYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vblVwZGF0ZSh2KTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVUcmFuc2l0aW9uLm9uVXBkYXRlICYmIHZhbHVlVHJhbnNpdGlvbi5vblVwZGF0ZSh2KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlVHJhbnNpdGlvbi5vbkNvbXBsZXRlICYmIHZhbHVlVHJhbnNpdGlvbi5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXQoKSB7XG4gICAgICAgIGNvbnN0IGZpbmFsVGFyZ2V0ID0gcmVzb2x2ZUZpbmFsVmFsdWVJbktleWZyYW1lcyh0YXJnZXQpO1xuICAgICAgICB2YWx1ZS5zZXQoZmluYWxUYXJnZXQpO1xuICAgICAgICBvbkNvbXBsZXRlKCk7XG4gICAgICAgIHZhbHVlVHJhbnNpdGlvbi5vblVwZGF0ZSAmJiB2YWx1ZVRyYW5zaXRpb24ub25VcGRhdGUoZmluYWxUYXJnZXQpO1xuICAgICAgICB2YWx1ZVRyYW5zaXRpb24ub25Db21wbGV0ZSAmJiB2YWx1ZVRyYW5zaXRpb24ub25Db21wbGV0ZSgpO1xuICAgICAgICByZXR1cm4geyBzdG9wOiAoKSA9PiB7IH0gfTtcbiAgICB9XG4gICAgcmV0dXJuICFpc09yaWdpbkFuaW1hdGFibGUgfHxcbiAgICAgICAgIWlzVGFyZ2V0QW5pbWF0YWJsZSB8fFxuICAgICAgICB2YWx1ZVRyYW5zaXRpb24udHlwZSA9PT0gZmFsc2VcbiAgICAgICAgPyBzZXRcbiAgICAgICAgOiBzdGFydDtcbn1cbmZ1bmN0aW9uIGlzWmVybyh2YWx1ZSkge1xuICAgIHJldHVybiAodmFsdWUgPT09IDAgfHxcbiAgICAgICAgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgcGFyc2VGbG9hdCh2YWx1ZSkgPT09IDAgJiZcbiAgICAgICAgICAgIHZhbHVlLmluZGV4T2YoXCIgXCIpID09PSAtMSkpO1xufVxuZnVuY3Rpb24gZ2V0WmVyb1VuaXQocG90ZW50aWFsVW5pdFR5cGUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHBvdGVudGlhbFVuaXRUeXBlID09PSBcIm51bWJlclwiXG4gICAgICAgID8gMFxuICAgICAgICA6IGdldEFuaW1hdGFibGVOb25lKFwiXCIsIHBvdGVudGlhbFVuaXRUeXBlKTtcbn1cbmZ1bmN0aW9uIGdldFZhbHVlVHJhbnNpdGlvbih0cmFuc2l0aW9uLCBrZXkpIHtcbiAgICByZXR1cm4gdHJhbnNpdGlvbltrZXldIHx8IHRyYW5zaXRpb25bXCJkZWZhdWx0XCJdIHx8IHRyYW5zaXRpb247XG59XG4vKipcbiAqIFN0YXJ0IGFuaW1hdGlvbiBvbiBhIE1vdGlvblZhbHVlLiBUaGlzIGZ1bmN0aW9uIGlzIGFuIGludGVyZmFjZSBiZXR3ZWVuXG4gKiBGcmFtZXIgTW90aW9uIGFuZCBQb3Btb3Rpb25cbiAqL1xuZnVuY3Rpb24gc3RhcnRBbmltYXRpb24oa2V5LCB2YWx1ZSwgdGFyZ2V0LCB0cmFuc2l0aW9uID0ge30pIHtcbiAgICBpZiAoaW5zdGFudEFuaW1hdGlvblN0YXRlLmN1cnJlbnQpIHtcbiAgICAgICAgdHJhbnNpdGlvbiA9IHsgdHlwZTogZmFsc2UgfTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlLnN0YXJ0KChvbkNvbXBsZXRlKSA9PiB7XG4gICAgICAgIGxldCBkZWxheVRpbWVyO1xuICAgICAgICBsZXQgY29udHJvbHM7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IGdldEFuaW1hdGlvbihrZXksIHZhbHVlLCB0YXJnZXQsIHRyYW5zaXRpb24sIG9uQ29tcGxldGUpO1xuICAgICAgICBjb25zdCBkZWxheSA9IGdldERlbGF5RnJvbVRyYW5zaXRpb24odHJhbnNpdGlvbiwga2V5KTtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSAoKSA9PiAoY29udHJvbHMgPSBhbmltYXRpb24oKSk7XG4gICAgICAgIGlmIChkZWxheSkge1xuICAgICAgICAgICAgZGVsYXlUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KHN0YXJ0LCBzZWNvbmRzVG9NaWxsaXNlY29uZHMoZGVsYXkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChkZWxheVRpbWVyKTtcbiAgICAgICAgICAgIGNvbnRyb2xzICYmIGNvbnRyb2xzLnN0b3AoKTtcbiAgICAgICAgfTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IHsgY29udmVydFRyYW5zaXRpb25Ub0FuaW1hdGlvbk9wdGlvbnMsIGdldERlbGF5RnJvbVRyYW5zaXRpb24sIGdldFBvcG1vdGlvbkFuaW1hdGlvbk9wdGlvbnMsIGdldFZhbHVlVHJhbnNpdGlvbiwgZ2V0WmVyb1VuaXQsIGh5ZHJhdGVLZXlmcmFtZXMsIGlzVHJhbnNpdGlvbkRlZmluZWQsIGlzWmVybywgc3RhcnRBbmltYXRpb24gfTtcbiIsImltcG9ydCB7IGFuaW1hdGUgfSBmcm9tICcuL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyB2ZWxvY2l0eVBlclNlY29uZCB9IGZyb20gJy4uL3V0aWxzL3ZlbG9jaXR5LXBlci1zZWNvbmQubWpzJztcbmltcG9ydCB7IGdldEZyYW1lRGF0YSB9IGZyb20gJ2ZyYW1lc3luYyc7XG5cbmZ1bmN0aW9uIGluZXJ0aWEoeyBmcm9tID0gMCwgdmVsb2NpdHkgPSAwLCBtaW4sIG1heCwgcG93ZXIgPSAwLjgsIHRpbWVDb25zdGFudCA9IDc1MCwgYm91bmNlU3RpZmZuZXNzID0gNTAwLCBib3VuY2VEYW1waW5nID0gMTAsIHJlc3REZWx0YSA9IDEsIG1vZGlmeVRhcmdldCwgZHJpdmVyLCBvblVwZGF0ZSwgb25Db21wbGV0ZSwgb25TdG9wLCB9KSB7XG4gICAgbGV0IGN1cnJlbnRBbmltYXRpb247XG4gICAgZnVuY3Rpb24gaXNPdXRPZkJvdW5kcyh2KSB7XG4gICAgICAgIHJldHVybiAobWluICE9PSB1bmRlZmluZWQgJiYgdiA8IG1pbikgfHwgKG1heCAhPT0gdW5kZWZpbmVkICYmIHYgPiBtYXgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBib3VuZGFyeU5lYXJlc3Qodikge1xuICAgICAgICBpZiAobWluID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gbWF4O1xuICAgICAgICBpZiAobWF4ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gbWluO1xuICAgICAgICByZXR1cm4gTWF0aC5hYnMobWluIC0gdikgPCBNYXRoLmFicyhtYXggLSB2KSA/IG1pbiA6IG1heDtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RhcnRBbmltYXRpb24ob3B0aW9ucykge1xuICAgICAgICBjdXJyZW50QW5pbWF0aW9uID09PSBudWxsIHx8IGN1cnJlbnRBbmltYXRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnRBbmltYXRpb24uc3RvcCgpO1xuICAgICAgICBjdXJyZW50QW5pbWF0aW9uID0gYW5pbWF0ZShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpLCB7IGRyaXZlciwgb25VcGRhdGU6ICh2KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIG9uVXBkYXRlID09PSBudWxsIHx8IG9uVXBkYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblVwZGF0ZSh2KTtcbiAgICAgICAgICAgICAgICAoX2EgPSBvcHRpb25zLm9uVXBkYXRlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChvcHRpb25zLCB2KTtcbiAgICAgICAgICAgIH0sIG9uQ29tcGxldGUsXG4gICAgICAgICAgICBvblN0b3AgfSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdGFydFNwcmluZyhvcHRpb25zKSB7XG4gICAgICAgIHN0YXJ0QW5pbWF0aW9uKE9iamVjdC5hc3NpZ24oeyB0eXBlOiBcInNwcmluZ1wiLCBzdGlmZm5lc3M6IGJvdW5jZVN0aWZmbmVzcywgZGFtcGluZzogYm91bmNlRGFtcGluZywgcmVzdERlbHRhIH0sIG9wdGlvbnMpKTtcbiAgICB9XG4gICAgaWYgKGlzT3V0T2ZCb3VuZHMoZnJvbSkpIHtcbiAgICAgICAgc3RhcnRTcHJpbmcoeyBmcm9tLCB2ZWxvY2l0eSwgdG86IGJvdW5kYXJ5TmVhcmVzdChmcm9tKSB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCB0YXJnZXQgPSBwb3dlciAqIHZlbG9jaXR5ICsgZnJvbTtcbiAgICAgICAgaWYgKHR5cGVvZiBtb2RpZnlUYXJnZXQgIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgICB0YXJnZXQgPSBtb2RpZnlUYXJnZXQodGFyZ2V0KTtcbiAgICAgICAgY29uc3QgYm91bmRhcnkgPSBib3VuZGFyeU5lYXJlc3QodGFyZ2V0KTtcbiAgICAgICAgY29uc3QgaGVhZGluZyA9IGJvdW5kYXJ5ID09PSBtaW4gPyAtMSA6IDE7XG4gICAgICAgIGxldCBwcmV2O1xuICAgICAgICBsZXQgY3VycmVudDtcbiAgICAgICAgY29uc3QgY2hlY2tCb3VuZGFyeSA9ICh2KSA9PiB7XG4gICAgICAgICAgICBwcmV2ID0gY3VycmVudDtcbiAgICAgICAgICAgIGN1cnJlbnQgPSB2O1xuICAgICAgICAgICAgdmVsb2NpdHkgPSB2ZWxvY2l0eVBlclNlY29uZCh2IC0gcHJldiwgZ2V0RnJhbWVEYXRhKCkuZGVsdGEpO1xuICAgICAgICAgICAgaWYgKChoZWFkaW5nID09PSAxICYmIHYgPiBib3VuZGFyeSkgfHxcbiAgICAgICAgICAgICAgICAoaGVhZGluZyA9PT0gLTEgJiYgdiA8IGJvdW5kYXJ5KSkge1xuICAgICAgICAgICAgICAgIHN0YXJ0U3ByaW5nKHsgZnJvbTogdiwgdG86IGJvdW5kYXJ5LCB2ZWxvY2l0eSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc3RhcnRBbmltYXRpb24oe1xuICAgICAgICAgICAgdHlwZTogXCJkZWNheVwiLFxuICAgICAgICAgICAgZnJvbSxcbiAgICAgICAgICAgIHZlbG9jaXR5LFxuICAgICAgICAgICAgdGltZUNvbnN0YW50LFxuICAgICAgICAgICAgcG93ZXIsXG4gICAgICAgICAgICByZXN0RGVsdGEsXG4gICAgICAgICAgICBtb2RpZnlUYXJnZXQsXG4gICAgICAgICAgICBvblVwZGF0ZTogaXNPdXRPZkJvdW5kcyh0YXJnZXQpID8gY2hlY2tCb3VuZGFyeSA6IHVuZGVmaW5lZCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHN0b3A6ICgpID0+IGN1cnJlbnRBbmltYXRpb24gPT09IG51bGwgfHwgY3VycmVudEFuaW1hdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogY3VycmVudEFuaW1hdGlvbi5zdG9wKCksXG4gICAgfTtcbn1cblxuZXhwb3J0IHsgaW5lcnRpYSB9O1xuIiwiZnVuY3Rpb24gYWRkVW5pcXVlSXRlbShhcnIsIGl0ZW0pIHtcbiAgICBpZiAoYXJyLmluZGV4T2YoaXRlbSkgPT09IC0xKVxuICAgICAgICBhcnIucHVzaChpdGVtKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZUl0ZW0oYXJyLCBpdGVtKSB7XG4gICAgY29uc3QgaW5kZXggPSBhcnIuaW5kZXhPZihpdGVtKTtcbiAgICBpZiAoaW5kZXggPiAtMSlcbiAgICAgICAgYXJyLnNwbGljZShpbmRleCwgMSk7XG59XG4vLyBBZGFwdGVkIGZyb20gYXJyYXktbW92ZVxuZnVuY3Rpb24gbW92ZUl0ZW0oWy4uLmFycl0sIGZyb21JbmRleCwgdG9JbmRleCkge1xuICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBmcm9tSW5kZXggPCAwID8gYXJyLmxlbmd0aCArIGZyb21JbmRleCA6IGZyb21JbmRleDtcbiAgICBpZiAoc3RhcnRJbmRleCA+PSAwICYmIHN0YXJ0SW5kZXggPCBhcnIubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGVuZEluZGV4ID0gdG9JbmRleCA8IDAgPyBhcnIubGVuZ3RoICsgdG9JbmRleCA6IHRvSW5kZXg7XG4gICAgICAgIGNvbnN0IFtpdGVtXSA9IGFyci5zcGxpY2UoZnJvbUluZGV4LCAxKTtcbiAgICAgICAgYXJyLnNwbGljZShlbmRJbmRleCwgMCwgaXRlbSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG59XG5cbmV4cG9ydCB7IGFkZFVuaXF1ZUl0ZW0sIG1vdmVJdGVtLCByZW1vdmVJdGVtIH07XG4iLCJpbXBvcnQgeyBhZGRVbmlxdWVJdGVtLCByZW1vdmVJdGVtIH0gZnJvbSAnLi9hcnJheS5tanMnO1xuXG5jbGFzcyBTdWJzY3JpcHRpb25NYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zID0gW107XG4gICAgfVxuICAgIGFkZChoYW5kbGVyKSB7XG4gICAgICAgIGFkZFVuaXF1ZUl0ZW0odGhpcy5zdWJzY3JpcHRpb25zLCBoYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHJlbW92ZUl0ZW0odGhpcy5zdWJzY3JpcHRpb25zLCBoYW5kbGVyKTtcbiAgICB9XG4gICAgbm90aWZ5KGEsIGIsIGMpIHtcbiAgICAgICAgY29uc3QgbnVtU3Vic2NyaXB0aW9ucyA9IHRoaXMuc3Vic2NyaXB0aW9ucy5sZW5ndGg7XG4gICAgICAgIGlmICghbnVtU3Vic2NyaXB0aW9ucylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKG51bVN1YnNjcmlwdGlvbnMgPT09IDEpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhlcmUncyBvbmx5IGEgc2luZ2xlIGhhbmRsZXIgd2UgY2FuIGp1c3QgY2FsbCBpdCB3aXRob3V0IGludm9raW5nIGEgbG9vcC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zWzBdKGEsIGIsIGMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1TdWJzY3JpcHRpb25zOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDaGVjayB3aGV0aGVyIHRoZSBoYW5kbGVyIGV4aXN0cyBiZWZvcmUgZmlyaW5nIGFzIGl0J3MgcG9zc2libGVcbiAgICAgICAgICAgICAgICAgKiB0aGUgc3Vic2NyaXB0aW9ucyB3ZXJlIG1vZGlmaWVkIGR1cmluZyB0aGlzIGxvb3AgcnVubmluZy5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5zdWJzY3JpcHRpb25zW2ldO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIgJiYgaGFuZGxlcihhLCBiLCBjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRTaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25zLmxlbmd0aDtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5sZW5ndGggPSAwO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgU3Vic2NyaXB0aW9uTWFuYWdlciB9O1xuIiwiaW1wb3J0IHN5bmMsIHsgZ2V0RnJhbWVEYXRhIH0gZnJvbSAnZnJhbWVzeW5jJztcbmltcG9ydCB7IHZlbG9jaXR5UGVyU2Vjb25kIH0gZnJvbSAncG9wbW90aW9uJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbk1hbmFnZXIgfSBmcm9tICcuLi91dGlscy9zdWJzY3JpcHRpb24tbWFuYWdlci5tanMnO1xuXG5jb25zdCBpc0Zsb2F0ID0gKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuICFpc05hTihwYXJzZUZsb2F0KHZhbHVlKSk7XG59O1xuLyoqXG4gKiBgTW90aW9uVmFsdWVgIGlzIHVzZWQgdG8gdHJhY2sgdGhlIHN0YXRlIGFuZCB2ZWxvY2l0eSBvZiBtb3Rpb24gdmFsdWVzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuY2xhc3MgTW90aW9uVmFsdWUge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBpbml0IC0gVGhlIGluaXRpYXRpbmcgdmFsdWVcbiAgICAgKiBAcGFyYW0gY29uZmlnIC0gT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvcHRpb25zXG4gICAgICpcbiAgICAgKiAtICBgdHJhbnNmb3JtZXJgOiBBIGZ1bmN0aW9uIHRvIHRyYW5zZm9ybSBpbmNvbWluZyB2YWx1ZXMgd2l0aC5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGluaXQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgd2lsbCBiZSByZXBsYWNlZCBieSB0aGUgYnVpbGQgc3RlcCB3aXRoIHRoZSBsYXRlc3QgdmVyc2lvbiBudW1iZXIuXG4gICAgICAgICAqIFdoZW4gTW90aW9uVmFsdWVzIGFyZSBwcm92aWRlZCB0byBtb3Rpb24gY29tcG9uZW50cywgd2FybiBpZiB2ZXJzaW9ucyBhcmUgbWl4ZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnNpb24gPSBcIjcuMy4yXCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEdXJhdGlvbiwgaW4gbWlsbGlzZWNvbmRzLCBzaW5jZSBsYXN0IHVwZGF0aW5nIGZyYW1lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGltZURlbHRhID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpbWVzdGFtcCBvZiB0aGUgbGFzdCB0aW1lIHRoaXMgYE1vdGlvblZhbHVlYCB3YXMgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxhc3RVcGRhdGVkID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9ucyB0byBub3RpZnkgd2hlbiB0aGUgYE1vdGlvblZhbHVlYCB1cGRhdGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXBkYXRlU3Vic2NyaWJlcnMgPSBuZXcgU3Vic2NyaXB0aW9uTWFuYWdlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb25zIHRvIG5vdGlmeSB3aGVuIHRoZSB2ZWxvY2l0eSB1cGRhdGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVsb2NpdHlVcGRhdGVTdWJzY3JpYmVycyA9IG5ldyBTdWJzY3JpcHRpb25NYW5hZ2VyKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbnMgdG8gbm90aWZ5IHdoZW4gdGhlIGBNb3Rpb25WYWx1ZWAgdXBkYXRlcyBhbmQgYHJlbmRlcmAgaXMgc2V0IHRvIGB0cnVlYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlclN1YnNjcmliZXJzID0gbmV3IFN1YnNjcmlwdGlvbk1hbmFnZXIoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYWNrcyB3aGV0aGVyIHRoaXMgdmFsdWUgY2FuIG91dHB1dCBhIHZlbG9jaXR5LiBDdXJyZW50bHkgdGhpcyBpcyBvbmx5IHRydWVcbiAgICAgICAgICogaWYgdGhlIHZhbHVlIGlzIG51bWVyaWNhbCwgYnV0IHdlIG1pZ2h0IGJlIGFibGUgdG8gd2lkZW4gdGhlIHNjb3BlIGhlcmUgYW5kIHN1cHBvcnRcbiAgICAgICAgICogb3RoZXIgdmFsdWUgdHlwZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYW5UcmFja1ZlbG9jaXR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMudXBkYXRlQW5kTm90aWZ5ID0gKHYsIHJlbmRlciA9IHRydWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJldiA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdGltZXN0YW1wXG4gICAgICAgICAgICBjb25zdCB7IGRlbHRhLCB0aW1lc3RhbXAgfSA9IGdldEZyYW1lRGF0YSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMubGFzdFVwZGF0ZWQgIT09IHRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGltZURlbHRhID0gZGVsdGE7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0VXBkYXRlZCA9IHRpbWVzdGFtcDtcbiAgICAgICAgICAgICAgICBzeW5jLnBvc3RSZW5kZXIodGhpcy5zY2hlZHVsZVZlbG9jaXR5Q2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVXBkYXRlIHVwZGF0ZSBzdWJzY3JpYmVyc1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiAhPT0gdGhpcy5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdWJzY3JpYmVycy5ub3RpZnkodGhpcy5jdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFVwZGF0ZSB2ZWxvY2l0eSBzdWJzY3JpYmVyc1xuICAgICAgICAgICAgaWYgKHRoaXMudmVsb2NpdHlVcGRhdGVTdWJzY3JpYmVycy5nZXRTaXplKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZlbG9jaXR5VXBkYXRlU3Vic2NyaWJlcnMubm90aWZ5KHRoaXMuZ2V0VmVsb2NpdHkoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBVcGRhdGUgcmVuZGVyIHN1YnNjcmliZXJzXG4gICAgICAgICAgICBpZiAocmVuZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJTdWJzY3JpYmVycy5ub3RpZnkodGhpcy5jdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjaGVkdWxlIGEgdmVsb2NpdHkgY2hlY2sgZm9yIHRoZSBuZXh0IGZyYW1lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGlzIGFuIGluc3RhbmNlZCBhbmQgYm91bmQgZnVuY3Rpb24gdG8gcHJldmVudCBnZW5lcmF0aW5nIGEgbmV3XG4gICAgICAgICAqIGZ1bmN0aW9uIG9uY2UgcGVyIGZyYW1lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2NoZWR1bGVWZWxvY2l0eUNoZWNrID0gKCkgPT4gc3luYy5wb3N0UmVuZGVyKHRoaXMudmVsb2NpdHlDaGVjayk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGVzIGBwcmV2YCB3aXRoIGBjdXJyZW50YCBpZiB0aGUgdmFsdWUgaGFzbid0IGJlZW4gdXBkYXRlZCB0aGlzIGZyYW1lLlxuICAgICAgICAgKiBUaGlzIGVuc3VyZXMgdmVsb2NpdHkgY2FsY3VsYXRpb25zIHJldHVybiBgMGAuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgaXMgYW4gaW5zdGFuY2VkIGFuZCBib3VuZCBmdW5jdGlvbiB0byBwcmV2ZW50IGdlbmVyYXRpbmcgYSBuZXdcbiAgICAgICAgICogZnVuY3Rpb24gb25jZSBwZXIgZnJhbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZWxvY2l0eUNoZWNrID0gKHsgdGltZXN0YW1wIH0pID0+IHtcbiAgICAgICAgICAgIGlmICh0aW1lc3RhbXAgIT09IHRoaXMubGFzdFVwZGF0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByZXYgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy52ZWxvY2l0eVVwZGF0ZVN1YnNjcmliZXJzLm5vdGlmeSh0aGlzLmdldFZlbG9jaXR5KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhc0FuaW1hdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHJldiA9IHRoaXMuY3VycmVudCA9IGluaXQ7XG4gICAgICAgIHRoaXMuY2FuVHJhY2tWZWxvY2l0eSA9IGlzRmxvYXQodGhpcy5jdXJyZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBub3RpZmllZCB3aGVuIHRoZSBgTW90aW9uVmFsdWVgIGlzIHVwZGF0ZWQuXG4gICAgICpcbiAgICAgKiBJdCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsIHdpbGwgY2FuY2VsIHRoZSBzdWJzY3JpcHRpb24uXG4gICAgICpcbiAgICAgKiBXaGVuIGNhbGxpbmcgYG9uQ2hhbmdlYCBpbnNpZGUgYSBSZWFjdCBjb21wb25lbnQsIGl0IHNob3VsZCBiZSB3cmFwcGVkIHdpdGggdGhlXG4gICAgICogYHVzZUVmZmVjdGAgaG9vay4gQXMgaXQgcmV0dXJucyBhbiB1bnN1YnNjcmliZSBmdW5jdGlvbiwgdGhpcyBzaG91bGQgYmUgcmV0dXJuZWRcbiAgICAgKiBmcm9tIHRoZSBgdXNlRWZmZWN0YCBmdW5jdGlvbiB0byBlbnN1cmUgeW91IGRvbid0IGFkZCBkdXBsaWNhdGUgc3Vic2NyaWJlcnMuLlxuICAgICAqXG4gICAgICogYGBganN4XG4gICAgICogZXhwb3J0IGNvbnN0IE15Q29tcG9uZW50ID0gKCkgPT4ge1xuICAgICAqICAgY29uc3QgeCA9IHVzZU1vdGlvblZhbHVlKDApXG4gICAgICogICBjb25zdCB5ID0gdXNlTW90aW9uVmFsdWUoMClcbiAgICAgKiAgIGNvbnN0IG9wYWNpdHkgPSB1c2VNb3Rpb25WYWx1ZSgxKVxuICAgICAqXG4gICAgICogICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAqICAgICBmdW5jdGlvbiB1cGRhdGVPcGFjaXR5KCkge1xuICAgICAqICAgICAgIGNvbnN0IG1heFhZID0gTWF0aC5tYXgoeC5nZXQoKSwgeS5nZXQoKSlcbiAgICAgKiAgICAgICBjb25zdCBuZXdPcGFjaXR5ID0gdHJhbnNmb3JtKG1heFhZLCBbMCwgMTAwXSwgWzEsIDBdKVxuICAgICAqICAgICAgIG9wYWNpdHkuc2V0KG5ld09wYWNpdHkpXG4gICAgICogICAgIH1cbiAgICAgKlxuICAgICAqICAgICBjb25zdCB1bnN1YnNjcmliZVggPSB4Lm9uQ2hhbmdlKHVwZGF0ZU9wYWNpdHkpXG4gICAgICogICAgIGNvbnN0IHVuc3Vic2NyaWJlWSA9IHkub25DaGFuZ2UodXBkYXRlT3BhY2l0eSlcbiAgICAgKlxuICAgICAqICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAqICAgICAgIHVuc3Vic2NyaWJlWCgpXG4gICAgICogICAgICAgdW5zdWJzY3JpYmVZKClcbiAgICAgKiAgICAgfVxuICAgICAqICAgfSwgW10pXG4gICAgICpcbiAgICAgKiAgIHJldHVybiA8bW90aW9uLmRpdiBzdHlsZT17eyB4IH19IC8+XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHByaXZhdGVSZW1hcmtzXG4gICAgICpcbiAgICAgKiBXZSBjb3VsZCBsb29rIGludG8gYSBgdXNlT25DaGFuZ2VgIGhvb2sgaWYgdGhlIGFib3ZlIGxpZmVjeWNsZSBtYW5hZ2VtZW50IHByb3ZlcyBjb25mdXNpbmcuXG4gICAgICpcbiAgICAgKiBgYGBqc3hcbiAgICAgKiB1c2VPbkNoYW5nZSh4LCAoKSA9PiB7fSlcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdWJzY3JpYmVyIC0gQSBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzIHRoZSBsYXRlc3QgdmFsdWUuXG4gICAgICogQHJldHVybnMgQSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCwgd2lsbCBjYW5jZWwgdGhpcyBzdWJzY3JpcHRpb24uXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgb25DaGFuZ2Uoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZVN1YnNjcmliZXJzLmFkZChzdWJzY3JpcHRpb24pO1xuICAgIH1cbiAgICBjbGVhckxpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy51cGRhdGVTdWJzY3JpYmVycy5jbGVhcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIG5vdGlmaWVkIHdoZW4gdGhlIGBNb3Rpb25WYWx1ZWAgcmVxdWVzdHMgYSByZW5kZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3Vic2NyaWJlciAtIEEgZnVuY3Rpb24gdGhhdCdzIHByb3ZpZGVkIHRoZSBsYXRlc3QgdmFsdWUuXG4gICAgICogQHJldHVybnMgQSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCwgd2lsbCBjYW5jZWwgdGhpcyBzdWJzY3JpcHRpb24uXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBvblJlbmRlclJlcXVlc3Qoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIC8vIFJlbmRlciBpbW1lZGlhdGVseVxuICAgICAgICBzdWJzY3JpcHRpb24odGhpcy5nZXQoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlclN1YnNjcmliZXJzLmFkZChzdWJzY3JpcHRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyBhIHBhc3NpdmUgZWZmZWN0IHRvIHRoZSBgTW90aW9uVmFsdWVgLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXR0YWNoKHBhc3NpdmVFZmZlY3QpIHtcbiAgICAgICAgdGhpcy5wYXNzaXZlRWZmZWN0ID0gcGFzc2l2ZUVmZmVjdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhdGUgb2YgdGhlIGBNb3Rpb25WYWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcmVtYXJrc1xuICAgICAqXG4gICAgICogYGBganN4XG4gICAgICogY29uc3QgeCA9IHVzZU1vdGlvblZhbHVlKDApXG4gICAgICogeC5zZXQoMTApXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGF0ZXN0IC0gTGF0ZXN0IHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0gcmVuZGVyIC0gV2hldGhlciB0byBub3RpZnkgcmVuZGVyIHN1YnNjcmliZXJzLiBEZWZhdWx0cyB0byBgdHJ1ZWBcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBzZXQodiwgcmVuZGVyID0gdHJ1ZSkge1xuICAgICAgICBpZiAoIXJlbmRlciB8fCAhdGhpcy5wYXNzaXZlRWZmZWN0KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUFuZE5vdGlmeSh2LCByZW5kZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wYXNzaXZlRWZmZWN0KHYsIHRoaXMudXBkYXRlQW5kTm90aWZ5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsYXRlc3Qgc3RhdGUgb2YgYE1vdGlvblZhbHVlYFxuICAgICAqXG4gICAgICogQHJldHVybnMgLSBUaGUgbGF0ZXN0IHN0YXRlIG9mIGBNb3Rpb25WYWx1ZWBcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBnZXRQcmV2aW91cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJldjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGF0ZXN0IHZlbG9jaXR5IG9mIGBNb3Rpb25WYWx1ZWBcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIC0gVGhlIGxhdGVzdCB2ZWxvY2l0eSBvZiBgTW90aW9uVmFsdWVgLiBSZXR1cm5zIGAwYCBpZiB0aGUgc3RhdGUgaXMgbm9uLW51bWVyaWNhbC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBnZXRWZWxvY2l0eSgpIHtcbiAgICAgICAgLy8gVGhpcyBjb3VsZCBiZSBpc0Zsb2F0KHRoaXMucHJldikgJiYgaXNGbG9hdCh0aGlzLmN1cnJlbnQpLCBidXQgdGhhdCB3b3VsZCBiZSB3YXN0ZWZ1bFxuICAgICAgICByZXR1cm4gdGhpcy5jYW5UcmFja1ZlbG9jaXR5XG4gICAgICAgICAgICA/IC8vIFRoZXNlIGNhc3RzIGNvdWxkIGJlIGF2b2lkZWQgaWYgcGFyc2VGbG9hdCB3b3VsZCBiZSB0eXBlZCBiZXR0ZXJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eVBlclNlY29uZChwYXJzZUZsb2F0KHRoaXMuY3VycmVudCkgLVxuICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KHRoaXMucHJldiksIHRoaXMudGltZURlbHRhKVxuICAgICAgICAgICAgOiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBuZXcgYW5pbWF0aW9uIHRvIGNvbnRyb2wgdGhpcyBgTW90aW9uVmFsdWVgLiBPbmx5IG9uZVxuICAgICAqIGFuaW1hdGlvbiBjYW4gZHJpdmUgYSBgTW90aW9uVmFsdWVgIGF0IG9uZSB0aW1lLlxuICAgICAqXG4gICAgICogYGBganN4XG4gICAgICogdmFsdWUuc3RhcnQoKVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGFuaW1hdGlvbiAtIEEgZnVuY3Rpb24gdGhhdCBzdGFydHMgdGhlIHByb3ZpZGVkIGFuaW1hdGlvblxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgc3RhcnQoYW5pbWF0aW9uKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGFzQW5pbWF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zdG9wQW5pbWF0aW9uID0gYW5pbWF0aW9uKHJlc29sdmUpO1xuICAgICAgICB9KS50aGVuKCgpID0+IHRoaXMuY2xlYXJBbmltYXRpb24oKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0b3AgdGhlIGN1cnJlbnRseSBhY3RpdmUgYW5pbWF0aW9uLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIHN0b3AoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0b3BBbmltYXRpb24pXG4gICAgICAgICAgICB0aGlzLnN0b3BBbmltYXRpb24oKTtcbiAgICAgICAgdGhpcy5jbGVhckFuaW1hdGlvbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGlzIHZhbHVlIGlzIGN1cnJlbnRseSBhbmltYXRpbmcuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgaXNBbmltYXRpbmcoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuc3RvcEFuaW1hdGlvbjtcbiAgICB9XG4gICAgY2xlYXJBbmltYXRpb24oKSB7XG4gICAgICAgIHRoaXMuc3RvcEFuaW1hdGlvbiA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYW5kIGNsZWFuIHVwIHN1YnNjcmliZXJzIHRvIHRoaXMgYE1vdGlvblZhbHVlYC5cbiAgICAgKlxuICAgICAqIFRoZSBgTW90aW9uVmFsdWVgIGhvb2tzIGxpa2UgYHVzZU1vdGlvblZhbHVlYCBhbmQgYHVzZVRyYW5zZm9ybWAgYXV0b21hdGljYWxseVxuICAgICAqIGhhbmRsZSB0aGUgbGlmZWN5Y2xlIG9mIHRoZSByZXR1cm5lZCBgTW90aW9uVmFsdWVgLCBzbyB0aGlzIG1ldGhvZCBpcyBvbmx5IG5lY2Vzc2FyeSBpZiB5b3UndmUgbWFudWFsbHlcbiAgICAgKiBjcmVhdGVkIGEgYE1vdGlvblZhbHVlYCB2aWEgdGhlIGBtb3Rpb25WYWx1ZWAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVTdWJzY3JpYmVycy5jbGVhcigpO1xuICAgICAgICB0aGlzLnJlbmRlclN1YnNjcmliZXJzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1vdGlvblZhbHVlKGluaXQpIHtcbiAgICByZXR1cm4gbmV3IE1vdGlvblZhbHVlKGluaXQpO1xufVxuXG5leHBvcnQgeyBNb3Rpb25WYWx1ZSwgbW90aW9uVmFsdWUgfTtcbiIsIi8qKlxuICogVGVzdHMgYSBwcm92aWRlZCB2YWx1ZSBhZ2FpbnN0IGEgVmFsdWVUeXBlXG4gKi9cbmNvbnN0IHRlc3RWYWx1ZVR5cGUgPSAodikgPT4gKHR5cGUpID0+IHR5cGUudGVzdCh2KTtcblxuZXhwb3J0IHsgdGVzdFZhbHVlVHlwZSB9O1xuIiwiaW1wb3J0IHsgbnVtYmVyLCBweCwgcGVyY2VudCwgZGVncmVlcywgdncsIHZoIH0gZnJvbSAnc3R5bGUtdmFsdWUtdHlwZXMnO1xuaW1wb3J0IHsgdGVzdFZhbHVlVHlwZSB9IGZyb20gJy4vdGVzdC5tanMnO1xuaW1wb3J0IHsgYXV0byB9IGZyb20gJy4vdHlwZS1hdXRvLm1qcyc7XG5cbi8qKlxuICogQSBsaXN0IG9mIHZhbHVlIHR5cGVzIGNvbW1vbmx5IHVzZWQgZm9yIGRpbWVuc2lvbnNcbiAqL1xuY29uc3QgZGltZW5zaW9uVmFsdWVUeXBlcyA9IFtudW1iZXIsIHB4LCBwZXJjZW50LCBkZWdyZWVzLCB2dywgdmgsIGF1dG9dO1xuLyoqXG4gKiBUZXN0cyBhIGRpbWVuc2lvbmFsIHZhbHVlIGFnYWluc3QgdGhlIGxpc3Qgb2YgZGltZW5zaW9uIFZhbHVlVHlwZXNcbiAqL1xuY29uc3QgZmluZERpbWVuc2lvblZhbHVlVHlwZSA9ICh2KSA9PiBkaW1lbnNpb25WYWx1ZVR5cGVzLmZpbmQodGVzdFZhbHVlVHlwZSh2KSk7XG5cbmV4cG9ydCB7IGRpbWVuc2lvblZhbHVlVHlwZXMsIGZpbmREaW1lbnNpb25WYWx1ZVR5cGUgfTtcbiIsIi8qKlxuICogVmFsdWVUeXBlIGZvciBcImF1dG9cIlxuICovXG5jb25zdCBhdXRvID0ge1xuICAgIHRlc3Q6ICh2KSA9PiB2ID09PSBcImF1dG9cIixcbiAgICBwYXJzZTogKHYpID0+IHYsXG59O1xuXG5leHBvcnQgeyBhdXRvIH07XG4iLCJpbXBvcnQgeyBjb2xvciwgY29tcGxleCB9IGZyb20gJ3N0eWxlLXZhbHVlLXR5cGVzJztcbmltcG9ydCB7IGRpbWVuc2lvblZhbHVlVHlwZXMgfSBmcm9tICcuL2RpbWVuc2lvbnMubWpzJztcbmltcG9ydCB7IHRlc3RWYWx1ZVR5cGUgfSBmcm9tICcuL3Rlc3QubWpzJztcblxuLyoqXG4gKiBBIGxpc3Qgb2YgYWxsIFZhbHVlVHlwZXNcbiAqL1xuY29uc3QgdmFsdWVUeXBlcyA9IFsuLi5kaW1lbnNpb25WYWx1ZVR5cGVzLCBjb2xvciwgY29tcGxleF07XG4vKipcbiAqIFRlc3RzIGEgdmFsdWUgYWdhaW5zdCB0aGUgbGlzdCBvZiBWYWx1ZVR5cGVzXG4gKi9cbmNvbnN0IGZpbmRWYWx1ZVR5cGUgPSAodikgPT4gdmFsdWVUeXBlcy5maW5kKHRlc3RWYWx1ZVR5cGUodikpO1xuXG5leHBvcnQgeyBmaW5kVmFsdWVUeXBlIH07XG4iLCJpbXBvcnQgeyByZXNvbHZlVmFyaWFudEZyb21Qcm9wcyB9IGZyb20gJy4vcmVzb2x2ZS12YXJpYW50cy5tanMnO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGxhdGVzdCBzdGF0ZSBvZiBldmVyeSBNb3Rpb25WYWx1ZSBvbiBhIFZpc3VhbEVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0Q3VycmVudCh2aXN1YWxFbGVtZW50KSB7XG4gICAgY29uc3QgY3VycmVudCA9IHt9O1xuICAgIHZpc3VhbEVsZW1lbnQuZm9yRWFjaFZhbHVlKCh2YWx1ZSwga2V5KSA9PiAoY3VycmVudFtrZXldID0gdmFsdWUuZ2V0KCkpKTtcbiAgICByZXR1cm4gY3VycmVudDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgbGF0ZXN0IHZlbG9jaXR5IG9mIGV2ZXJ5IE1vdGlvblZhbHVlIG9uIGEgVmlzdWFsRWxlbWVudFxuICovXG5mdW5jdGlvbiBnZXRWZWxvY2l0eSh2aXN1YWxFbGVtZW50KSB7XG4gICAgY29uc3QgdmVsb2NpdHkgPSB7fTtcbiAgICB2aXN1YWxFbGVtZW50LmZvckVhY2hWYWx1ZSgodmFsdWUsIGtleSkgPT4gKHZlbG9jaXR5W2tleV0gPSB2YWx1ZS5nZXRWZWxvY2l0eSgpKSk7XG4gICAgcmV0dXJuIHZlbG9jaXR5O1xufVxuZnVuY3Rpb24gcmVzb2x2ZVZhcmlhbnQodmlzdWFsRWxlbWVudCwgZGVmaW5pdGlvbiwgY3VzdG9tKSB7XG4gICAgY29uc3QgcHJvcHMgPSB2aXN1YWxFbGVtZW50LmdldFByb3BzKCk7XG4gICAgcmV0dXJuIHJlc29sdmVWYXJpYW50RnJvbVByb3BzKHByb3BzLCBkZWZpbml0aW9uLCBjdXN0b20gIT09IHVuZGVmaW5lZCA/IGN1c3RvbSA6IHByb3BzLmN1c3RvbSwgZ2V0Q3VycmVudCh2aXN1YWxFbGVtZW50KSwgZ2V0VmVsb2NpdHkodmlzdWFsRWxlbWVudCkpO1xufVxuXG5leHBvcnQgeyByZXNvbHZlVmFyaWFudCB9O1xuIiwiaW1wb3J0IHsgY29tcGxleCB9IGZyb20gJ3N0eWxlLXZhbHVlLXR5cGVzJztcbmltcG9ydCB7IGlzTnVtZXJpY2FsU3RyaW5nIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMtbnVtZXJpY2FsLXN0cmluZy5tanMnO1xuaW1wb3J0IHsgaXNaZXJvVmFsdWVTdHJpbmcgfSBmcm9tICcuLi8uLi91dGlscy9pcy16ZXJvLXZhbHVlLXN0cmluZy5tanMnO1xuaW1wb3J0IHsgcmVzb2x2ZUZpbmFsVmFsdWVJbktleWZyYW1lcyB9IGZyb20gJy4uLy4uL3V0aWxzL3Jlc29sdmUtdmFsdWUubWpzJztcbmltcG9ydCB7IG1vdGlvblZhbHVlIH0gZnJvbSAnLi4vLi4vdmFsdWUvaW5kZXgubWpzJztcbmltcG9ydCB7IGdldEFuaW1hdGFibGVOb25lIH0gZnJvbSAnLi4vZG9tL3ZhbHVlLXR5cGVzL2FuaW1hdGFibGUtbm9uZS5tanMnO1xuaW1wb3J0IHsgZmluZFZhbHVlVHlwZSB9IGZyb20gJy4uL2RvbS92YWx1ZS10eXBlcy9maW5kLm1qcyc7XG5pbXBvcnQgeyByZXNvbHZlVmFyaWFudCB9IGZyb20gJy4vcmVzb2x2ZS1keW5hbWljLXZhcmlhbnRzLm1qcyc7XG5cbi8qKlxuICogU2V0IFZpc3VhbEVsZW1lbnQncyBNb3Rpb25WYWx1ZSwgY3JlYXRpbmcgYSBuZXcgTW90aW9uVmFsdWUgZm9yIGl0IGlmXG4gKiBpdCBkb2Vzbid0IGV4aXN0LlxuICovXG5mdW5jdGlvbiBzZXRNb3Rpb25WYWx1ZSh2aXN1YWxFbGVtZW50LCBrZXksIHZhbHVlKSB7XG4gICAgaWYgKHZpc3VhbEVsZW1lbnQuaGFzVmFsdWUoa2V5KSkge1xuICAgICAgICB2aXN1YWxFbGVtZW50LmdldFZhbHVlKGtleSkuc2V0KHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZpc3VhbEVsZW1lbnQuYWRkVmFsdWUoa2V5LCBtb3Rpb25WYWx1ZSh2YWx1ZSkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldFRhcmdldCh2aXN1YWxFbGVtZW50LCBkZWZpbml0aW9uKSB7XG4gICAgY29uc3QgcmVzb2x2ZWQgPSByZXNvbHZlVmFyaWFudCh2aXN1YWxFbGVtZW50LCBkZWZpbml0aW9uKTtcbiAgICBsZXQgeyB0cmFuc2l0aW9uRW5kID0ge30sIHRyYW5zaXRpb24gPSB7fSwgLi4udGFyZ2V0IH0gPSByZXNvbHZlZCA/IHZpc3VhbEVsZW1lbnQubWFrZVRhcmdldEFuaW1hdGFibGUocmVzb2x2ZWQsIGZhbHNlKSA6IHt9O1xuICAgIHRhcmdldCA9IHsgLi4udGFyZ2V0LCAuLi50cmFuc2l0aW9uRW5kIH07XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcmVzb2x2ZUZpbmFsVmFsdWVJbktleWZyYW1lcyh0YXJnZXRba2V5XSk7XG4gICAgICAgIHNldE1vdGlvblZhbHVlKHZpc3VhbEVsZW1lbnQsIGtleSwgdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldFZhcmlhbnRzKHZpc3VhbEVsZW1lbnQsIHZhcmlhbnRMYWJlbHMpIHtcbiAgICBjb25zdCByZXZlcnNlZExhYmVscyA9IFsuLi52YXJpYW50TGFiZWxzXS5yZXZlcnNlKCk7XG4gICAgcmV2ZXJzZWRMYWJlbHMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgdmFyaWFudCA9IHZpc3VhbEVsZW1lbnQuZ2V0VmFyaWFudChrZXkpO1xuICAgICAgICB2YXJpYW50ICYmIHNldFRhcmdldCh2aXN1YWxFbGVtZW50LCB2YXJpYW50KTtcbiAgICAgICAgKF9hID0gdmlzdWFsRWxlbWVudC52YXJpYW50Q2hpbGRyZW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgc2V0VmFyaWFudHMoY2hpbGQsIHZhcmlhbnRMYWJlbHMpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHNldFZhbHVlcyh2aXN1YWxFbGVtZW50LCBkZWZpbml0aW9uKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGVmaW5pdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIHNldFZhcmlhbnRzKHZpc3VhbEVsZW1lbnQsIGRlZmluaXRpb24pO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZGVmaW5pdGlvbiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gc2V0VmFyaWFudHModmlzdWFsRWxlbWVudCwgW2RlZmluaXRpb25dKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNldFRhcmdldCh2aXN1YWxFbGVtZW50LCBkZWZpbml0aW9uKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjaGVja1RhcmdldEZvck5ld1ZhbHVlcyh2aXN1YWxFbGVtZW50LCB0YXJnZXQsIG9yaWdpbikge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgbmV3VmFsdWVLZXlzID0gT2JqZWN0LmtleXModGFyZ2V0KS5maWx0ZXIoKGtleSkgPT4gIXZpc3VhbEVsZW1lbnQuaGFzVmFsdWUoa2V5KSk7XG4gICAgY29uc3QgbnVtTmV3VmFsdWVzID0gbmV3VmFsdWVLZXlzLmxlbmd0aDtcbiAgICBpZiAoIW51bU5ld1ZhbHVlcylcbiAgICAgICAgcmV0dXJuO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtTmV3VmFsdWVzOyBpKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0gbmV3VmFsdWVLZXlzW2ldO1xuICAgICAgICBjb25zdCB0YXJnZXRWYWx1ZSA9IHRhcmdldFtrZXldO1xuICAgICAgICBsZXQgdmFsdWUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIHRhcmdldCBpcyBhIHNlcmllcyBvZiBrZXlmcmFtZXMsIHdlIGNhbiB1c2UgdGhlIGZpcnN0IHZhbHVlXG4gICAgICAgICAqIGluIHRoZSBhcnJheS4gSWYgdGhpcyBmaXJzdCB2YWx1ZSBpcyBudWxsLCB3ZSdsbCBzdGlsbCBuZWVkIHRvIHJlYWQgZnJvbSB0aGUgRE9NLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGFyZ2V0VmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRhcmdldFZhbHVlWzBdO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgdGFyZ2V0IGlzbid0IGtleWZyYW1lcywgb3IgdGhlIGZpcnN0IGtleWZyYW1lIHdhcyBudWxsLCB3ZSBuZWVkIHRvXG4gICAgICAgICAqIGZpcnN0IGNoZWNrIGlmIGFuIG9yaWdpbiB2YWx1ZSB3YXMgZXhwbGljaXRseSBkZWZpbmVkIGluIHRoZSB0cmFuc2l0aW9uIGFzIFwiZnJvbVwiLFxuICAgICAgICAgKiBpZiBub3QgcmVhZCB0aGUgdmFsdWUgZnJvbSB0aGUgRE9NLiBBcyBhbiBhYnNvbHV0ZSBmYWxsYmFjaywgdGFrZSB0aGUgZGVmaW5lZCB0YXJnZXQgdmFsdWUuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhbHVlID0gKF9iID0gKF9hID0gb3JpZ2luW2tleV0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHZpc3VhbEVsZW1lbnQucmVhZFZhbHVlKGtleSkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRhcmdldFtrZXldO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB2YWx1ZSBpcyBzdGlsbCB1bmRlZmluZWQgb3IgbnVsbCwgaWdub3JlIGl0LiBQcmVmZXJhYmx5IHRoaXMgd291bGQgdGhyb3csXG4gICAgICAgICAqIGJ1dCB0aGlzIHdhcyBjYXVzaW5nIGlzc3VlcyBpbiBGcmFtZXIuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbClcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAoaXNOdW1lcmljYWxTdHJpbmcodmFsdWUpIHx8IGlzWmVyb1ZhbHVlU3RyaW5nKHZhbHVlKSkpIHtcbiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSBudW1iZXIgcmVhZCBhcyBhIHN0cmluZywgaWUgXCIwXCIgb3IgXCIyMDBcIiwgY29udmVydCBpdCB0byBhIG51bWJlclxuICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghZmluZFZhbHVlVHlwZSh2YWx1ZSkgJiYgY29tcGxleC50ZXN0KHRhcmdldFZhbHVlKSkge1xuICAgICAgICAgICAgdmFsdWUgPSBnZXRBbmltYXRhYmxlTm9uZShrZXksIHRhcmdldFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB2aXN1YWxFbGVtZW50LmFkZFZhbHVlKGtleSwgbW90aW9uVmFsdWUodmFsdWUpKTtcbiAgICAgICAgaWYgKG9yaWdpbltrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG9yaWdpbltrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdmlzdWFsRWxlbWVudC5zZXRCYXNlVGFyZ2V0KGtleSwgdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldE9yaWdpbkZyb21UcmFuc2l0aW9uKGtleSwgdHJhbnNpdGlvbikge1xuICAgIGlmICghdHJhbnNpdGlvbilcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHZhbHVlVHJhbnNpdGlvbiA9IHRyYW5zaXRpb25ba2V5XSB8fCB0cmFuc2l0aW9uW1wiZGVmYXVsdFwiXSB8fCB0cmFuc2l0aW9uO1xuICAgIHJldHVybiB2YWx1ZVRyYW5zaXRpb24uZnJvbTtcbn1cbmZ1bmN0aW9uIGdldE9yaWdpbih0YXJnZXQsIHRyYW5zaXRpb24sIHZpc3VhbEVsZW1lbnQpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qgb3JpZ2luID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb25PcmlnaW4gPSBnZXRPcmlnaW5Gcm9tVHJhbnNpdGlvbihrZXksIHRyYW5zaXRpb24pO1xuICAgICAgICBvcmlnaW5ba2V5XSA9XG4gICAgICAgICAgICB0cmFuc2l0aW9uT3JpZ2luICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IHRyYW5zaXRpb25PcmlnaW5cbiAgICAgICAgICAgICAgICA6IChfYSA9IHZpc3VhbEVsZW1lbnQuZ2V0VmFsdWUoa2V5KSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldCgpO1xuICAgIH1cbiAgICByZXR1cm4gb3JpZ2luO1xufVxuXG5leHBvcnQgeyBjaGVja1RhcmdldEZvck5ld1ZhbHVlcywgZ2V0T3JpZ2luLCBnZXRPcmlnaW5Gcm9tVHJhbnNpdGlvbiwgc2V0VGFyZ2V0LCBzZXRWYWx1ZXMgfTtcbiIsImltcG9ydCB7IGlzTW90aW9uVmFsdWUgfSBmcm9tICcuLi91dGlscy9pcy1tb3Rpb24tdmFsdWUubWpzJztcblxuZnVuY3Rpb24gaXNXaWxsQ2hhbmdlTW90aW9uVmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gQm9vbGVhbihpc01vdGlvblZhbHVlKHZhbHVlKSAmJiB2YWx1ZS5hZGQpO1xufVxuXG5leHBvcnQgeyBpc1dpbGxDaGFuZ2VNb3Rpb25WYWx1ZSB9O1xuIiwiaW1wb3J0IHsgc3RhcnRBbmltYXRpb24gfSBmcm9tICcuLi8uLi9hbmltYXRpb24vdXRpbHMvdHJhbnNpdGlvbnMubWpzJztcbmltcG9ydCB7IHNldFRhcmdldCB9IGZyb20gJy4vc2V0dGVycy5tanMnO1xuaW1wb3J0IHsgcmVzb2x2ZVZhcmlhbnQgfSBmcm9tICcuL3Jlc29sdmUtZHluYW1pYy12YXJpYW50cy5tanMnO1xuaW1wb3J0IHsgdHJhbnNmb3JtUHJvcHMgfSBmcm9tICcuLi9odG1sL3V0aWxzL3RyYW5zZm9ybS5tanMnO1xuaW1wb3J0IHsgaXNXaWxsQ2hhbmdlTW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi92YWx1ZS91c2Utd2lsbC1jaGFuZ2UvaXMubWpzJztcblxuZnVuY3Rpb24gYW5pbWF0ZVZpc3VhbEVsZW1lbnQodmlzdWFsRWxlbWVudCwgZGVmaW5pdGlvbiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdmlzdWFsRWxlbWVudC5ub3RpZnlBbmltYXRpb25TdGFydChkZWZpbml0aW9uKTtcbiAgICBsZXQgYW5pbWF0aW9uO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGRlZmluaXRpb24pKSB7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbnMgPSBkZWZpbml0aW9uLm1hcCgodmFyaWFudCkgPT4gYW5pbWF0ZVZhcmlhbnQodmlzdWFsRWxlbWVudCwgdmFyaWFudCwgb3B0aW9ucykpO1xuICAgICAgICBhbmltYXRpb24gPSBQcm9taXNlLmFsbChhbmltYXRpb25zKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGRlZmluaXRpb24gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgYW5pbWF0aW9uID0gYW5pbWF0ZVZhcmlhbnQodmlzdWFsRWxlbWVudCwgZGVmaW5pdGlvbiwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCByZXNvbHZlZERlZmluaXRpb24gPSB0eXBlb2YgZGVmaW5pdGlvbiA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICA/IHJlc29sdmVWYXJpYW50KHZpc3VhbEVsZW1lbnQsIGRlZmluaXRpb24sIG9wdGlvbnMuY3VzdG9tKVxuICAgICAgICAgICAgOiBkZWZpbml0aW9uO1xuICAgICAgICBhbmltYXRpb24gPSBhbmltYXRlVGFyZ2V0KHZpc3VhbEVsZW1lbnQsIHJlc29sdmVkRGVmaW5pdGlvbiwgb3B0aW9ucyk7XG4gICAgfVxuICAgIHJldHVybiBhbmltYXRpb24udGhlbigoKSA9PiB2aXN1YWxFbGVtZW50Lm5vdGlmeUFuaW1hdGlvbkNvbXBsZXRlKGRlZmluaXRpb24pKTtcbn1cbmZ1bmN0aW9uIGFuaW1hdGVWYXJpYW50KHZpc3VhbEVsZW1lbnQsIHZhcmlhbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCByZXNvbHZlZCA9IHJlc29sdmVWYXJpYW50KHZpc3VhbEVsZW1lbnQsIHZhcmlhbnQsIG9wdGlvbnMuY3VzdG9tKTtcbiAgICBsZXQgeyB0cmFuc2l0aW9uID0gdmlzdWFsRWxlbWVudC5nZXREZWZhdWx0VHJhbnNpdGlvbigpIHx8IHt9IH0gPSByZXNvbHZlZCB8fCB7fTtcbiAgICBpZiAob3B0aW9ucy50cmFuc2l0aW9uT3ZlcnJpZGUpIHtcbiAgICAgICAgdHJhbnNpdGlvbiA9IG9wdGlvbnMudHJhbnNpdGlvbk92ZXJyaWRlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB3ZSBoYXZlIGEgdmFyaWFudCwgY3JlYXRlIGEgY2FsbGJhY2sgdGhhdCBydW5zIGl0IGFzIGFuIGFuaW1hdGlvbi5cbiAgICAgKiBPdGhlcndpc2UsIHdlIHJlc29sdmUgYSBQcm9taXNlIGltbWVkaWF0ZWx5IGZvciBhIGNvbXBvc2FibGUgbm8tb3AuXG4gICAgICovXG4gICAgY29uc3QgZ2V0QW5pbWF0aW9uID0gcmVzb2x2ZWRcbiAgICAgICAgPyAoKSA9PiBhbmltYXRlVGFyZ2V0KHZpc3VhbEVsZW1lbnQsIHJlc29sdmVkLCBvcHRpb25zKVxuICAgICAgICA6ICgpID0+IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIC8qKlxuICAgICAqIElmIHdlIGhhdmUgY2hpbGRyZW4sIGNyZWF0ZSBhIGNhbGxiYWNrIHRoYXQgcnVucyBhbGwgdGhlaXIgYW5pbWF0aW9ucy5cbiAgICAgKiBPdGhlcndpc2UsIHdlIHJlc29sdmUgYSBQcm9taXNlIGltbWVkaWF0ZWx5IGZvciBhIGNvbXBvc2FibGUgbm8tb3AuXG4gICAgICovXG4gICAgY29uc3QgZ2V0Q2hpbGRBbmltYXRpb25zID0gKChfYSA9IHZpc3VhbEVsZW1lbnQudmFyaWFudENoaWxkcmVuKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2l6ZSlcbiAgICAgICAgPyAoZm9yd2FyZERlbGF5ID0gMCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBkZWxheUNoaWxkcmVuID0gMCwgc3RhZ2dlckNoaWxkcmVuLCBzdGFnZ2VyRGlyZWN0aW9uLCB9ID0gdHJhbnNpdGlvbjtcbiAgICAgICAgICAgIHJldHVybiBhbmltYXRlQ2hpbGRyZW4odmlzdWFsRWxlbWVudCwgdmFyaWFudCwgZGVsYXlDaGlsZHJlbiArIGZvcndhcmREZWxheSwgc3RhZ2dlckNoaWxkcmVuLCBzdGFnZ2VyRGlyZWN0aW9uLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICA6ICgpID0+IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIC8qKlxuICAgICAqIElmIHRoZSB0cmFuc2l0aW9uIGV4cGxpY2l0bHkgZGVmaW5lcyBhIFwid2hlblwiIG9wdGlvbiwgd2UgbmVlZCB0byByZXNvbHZlIGVpdGhlclxuICAgICAqIHRoaXMgYW5pbWF0aW9uIG9yIGFsbCBjaGlsZHJlbiBhbmltYXRpb25zIGJlZm9yZSBwbGF5aW5nIHRoZSBvdGhlci5cbiAgICAgKi9cbiAgICBjb25zdCB7IHdoZW4gfSA9IHRyYW5zaXRpb247XG4gICAgaWYgKHdoZW4pIHtcbiAgICAgICAgY29uc3QgW2ZpcnN0LCBsYXN0XSA9IHdoZW4gPT09IFwiYmVmb3JlQ2hpbGRyZW5cIlxuICAgICAgICAgICAgPyBbZ2V0QW5pbWF0aW9uLCBnZXRDaGlsZEFuaW1hdGlvbnNdXG4gICAgICAgICAgICA6IFtnZXRDaGlsZEFuaW1hdGlvbnMsIGdldEFuaW1hdGlvbl07XG4gICAgICAgIHJldHVybiBmaXJzdCgpLnRoZW4obGFzdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW2dldEFuaW1hdGlvbigpLCBnZXRDaGlsZEFuaW1hdGlvbnMob3B0aW9ucy5kZWxheSldKTtcbiAgICB9XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBhbmltYXRlVGFyZ2V0KHZpc3VhbEVsZW1lbnQsIGRlZmluaXRpb24sIHsgZGVsYXkgPSAwLCB0cmFuc2l0aW9uT3ZlcnJpZGUsIHR5cGUgfSA9IHt9KSB7XG4gICAgdmFyIF9hO1xuICAgIGxldCB7IHRyYW5zaXRpb24gPSB2aXN1YWxFbGVtZW50LmdldERlZmF1bHRUcmFuc2l0aW9uKCksIHRyYW5zaXRpb25FbmQsIC4uLnRhcmdldCB9ID0gdmlzdWFsRWxlbWVudC5tYWtlVGFyZ2V0QW5pbWF0YWJsZShkZWZpbml0aW9uKTtcbiAgICBjb25zdCB3aWxsQ2hhbmdlID0gdmlzdWFsRWxlbWVudC5nZXRWYWx1ZShcIndpbGxDaGFuZ2VcIik7XG4gICAgaWYgKHRyYW5zaXRpb25PdmVycmlkZSlcbiAgICAgICAgdHJhbnNpdGlvbiA9IHRyYW5zaXRpb25PdmVycmlkZTtcbiAgICBjb25zdCBhbmltYXRpb25zID0gW107XG4gICAgY29uc3QgYW5pbWF0aW9uVHlwZVN0YXRlID0gdHlwZSAmJiAoKF9hID0gdmlzdWFsRWxlbWVudC5hbmltYXRpb25TdGF0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldFN0YXRlKClbdHlwZV0pO1xuICAgIGZvciAoY29uc3Qga2V5IGluIHRhcmdldCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHZpc3VhbEVsZW1lbnQuZ2V0VmFsdWUoa2V5KTtcbiAgICAgICAgY29uc3QgdmFsdWVUYXJnZXQgPSB0YXJnZXRba2V5XTtcbiAgICAgICAgaWYgKCF2YWx1ZSB8fFxuICAgICAgICAgICAgdmFsdWVUYXJnZXQgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgKGFuaW1hdGlvblR5cGVTdGF0ZSAmJlxuICAgICAgICAgICAgICAgIHNob3VsZEJsb2NrQW5pbWF0aW9uKGFuaW1hdGlvblR5cGVTdGF0ZSwga2V5KSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2YWx1ZVRyYW5zaXRpb24gPSB7IGRlbGF5LCAuLi50cmFuc2l0aW9uIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYWtlIGFuaW1hdGlvbiBpbnN0YW50IGlmIHRoaXMgaXMgYSB0cmFuc2Zvcm0gcHJvcCBhbmQgd2Ugc2hvdWxkIHJlZHVjZSBtb3Rpb24uXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodmlzdWFsRWxlbWVudC5zaG91bGRSZWR1Y2VNb3Rpb24gJiYgdHJhbnNmb3JtUHJvcHMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHZhbHVlVHJhbnNpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAuLi52YWx1ZVRyYW5zaXRpb24sXG4gICAgICAgICAgICAgICAgdHlwZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgZGVsYXk6IDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGxldCBhbmltYXRpb24gPSBzdGFydEFuaW1hdGlvbihrZXksIHZhbHVlLCB2YWx1ZVRhcmdldCwgdmFsdWVUcmFuc2l0aW9uKTtcbiAgICAgICAgaWYgKGlzV2lsbENoYW5nZU1vdGlvblZhbHVlKHdpbGxDaGFuZ2UpKSB7XG4gICAgICAgICAgICB3aWxsQ2hhbmdlLmFkZChrZXkpO1xuICAgICAgICAgICAgYW5pbWF0aW9uID0gYW5pbWF0aW9uLnRoZW4oKCkgPT4gd2lsbENoYW5nZS5yZW1vdmUoa2V5KSk7XG4gICAgICAgIH1cbiAgICAgICAgYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbik7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLmFsbChhbmltYXRpb25zKS50aGVuKCgpID0+IHtcbiAgICAgICAgdHJhbnNpdGlvbkVuZCAmJiBzZXRUYXJnZXQodmlzdWFsRWxlbWVudCwgdHJhbnNpdGlvbkVuZCk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBhbmltYXRlQ2hpbGRyZW4odmlzdWFsRWxlbWVudCwgdmFyaWFudCwgZGVsYXlDaGlsZHJlbiA9IDAsIHN0YWdnZXJDaGlsZHJlbiA9IDAsIHN0YWdnZXJEaXJlY3Rpb24gPSAxLCBvcHRpb25zKSB7XG4gICAgY29uc3QgYW5pbWF0aW9ucyA9IFtdO1xuICAgIGNvbnN0IG1heFN0YWdnZXJEdXJhdGlvbiA9ICh2aXN1YWxFbGVtZW50LnZhcmlhbnRDaGlsZHJlbi5zaXplIC0gMSkgKiBzdGFnZ2VyQ2hpbGRyZW47XG4gICAgY29uc3QgZ2VuZXJhdGVTdGFnZ2VyRHVyYXRpb24gPSBzdGFnZ2VyRGlyZWN0aW9uID09PSAxXG4gICAgICAgID8gKGkgPSAwKSA9PiBpICogc3RhZ2dlckNoaWxkcmVuXG4gICAgICAgIDogKGkgPSAwKSA9PiBtYXhTdGFnZ2VyRHVyYXRpb24gLSBpICogc3RhZ2dlckNoaWxkcmVuO1xuICAgIEFycmF5LmZyb20odmlzdWFsRWxlbWVudC52YXJpYW50Q2hpbGRyZW4pXG4gICAgICAgIC5zb3J0KHNvcnRCeVRyZWVPcmRlcilcbiAgICAgICAgLmZvckVhY2goKGNoaWxkLCBpKSA9PiB7XG4gICAgICAgIGFuaW1hdGlvbnMucHVzaChhbmltYXRlVmFyaWFudChjaGlsZCwgdmFyaWFudCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGRlbGF5OiBkZWxheUNoaWxkcmVuICsgZ2VuZXJhdGVTdGFnZ2VyRHVyYXRpb24oaSksXG4gICAgICAgIH0pLnRoZW4oKCkgPT4gY2hpbGQubm90aWZ5QW5pbWF0aW9uQ29tcGxldGUodmFyaWFudCkpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoYW5pbWF0aW9ucyk7XG59XG5mdW5jdGlvbiBzdG9wQW5pbWF0aW9uKHZpc3VhbEVsZW1lbnQpIHtcbiAgICB2aXN1YWxFbGVtZW50LmZvckVhY2hWYWx1ZSgodmFsdWUpID0+IHZhbHVlLnN0b3AoKSk7XG59XG5mdW5jdGlvbiBzb3J0QnlUcmVlT3JkZXIoYSwgYikge1xuICAgIHJldHVybiBhLnNvcnROb2RlUG9zaXRpb24oYik7XG59XG4vKipcbiAqIERlY2lkZSB3aGV0aGVyIHdlIHNob3VsZCBibG9jayB0aGlzIGFuaW1hdGlvbi4gUHJldmlvdXNseSwgd2UgYWNoaWV2ZWQgdGhpc1xuICoganVzdCBieSBjaGVja2luZyB3aGV0aGVyIHRoZSBrZXkgd2FzIGxpc3RlZCBpbiBwcm90ZWN0ZWRLZXlzLCBidXQgdGhpc1xuICogcG9zZWQgcHJvYmxlbXMgaWYgYW4gYW5pbWF0aW9uIHdhcyB0cmlnZ2VyZWQgYnkgYWZ0ZXJDaGlsZHJlbiBhbmQgcHJvdGVjdGVkS2V5c1xuICogaGFkIGJlZW4gc2V0IHRvIHRydWUgaW4gdGhlIG1lYW50aW1lLlxuICovXG5mdW5jdGlvbiBzaG91bGRCbG9ja0FuaW1hdGlvbih7IHByb3RlY3RlZEtleXMsIG5lZWRzQW5pbWF0aW5nIH0sIGtleSkge1xuICAgIGNvbnN0IHNob3VsZEJsb2NrID0gcHJvdGVjdGVkS2V5cy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIG5lZWRzQW5pbWF0aW5nW2tleV0gIT09IHRydWU7XG4gICAgbmVlZHNBbmltYXRpbmdba2V5XSA9IGZhbHNlO1xuICAgIHJldHVybiBzaG91bGRCbG9jaztcbn1cblxuZXhwb3J0IHsgYW5pbWF0ZVZpc3VhbEVsZW1lbnQsIHNvcnRCeVRyZWVPcmRlciwgc3RvcEFuaW1hdGlvbiB9O1xuIiwiaW1wb3J0IHsgaXNBbmltYXRpb25Db250cm9scyB9IGZyb20gJy4uLy4uL2FuaW1hdGlvbi91dGlscy9pcy1hbmltYXRpb24tY29udHJvbHMubWpzJztcbmltcG9ydCB7IGlzS2V5ZnJhbWVzVGFyZ2V0IH0gZnJvbSAnLi4vLi4vYW5pbWF0aW9uL3V0aWxzL2lzLWtleWZyYW1lcy10YXJnZXQubWpzJztcbmltcG9ydCB7IHNoYWxsb3dDb21wYXJlIH0gZnJvbSAnLi4vLi4vdXRpbHMvc2hhbGxvdy1jb21wYXJlLm1qcyc7XG5pbXBvcnQgeyBhbmltYXRlVmlzdWFsRWxlbWVudCB9IGZyb20gJy4vYW5pbWF0aW9uLm1qcyc7XG5pbXBvcnQgeyBpc1ZhcmlhbnRMYWJlbCB9IGZyb20gJy4vaXMtdmFyaWFudC1sYWJlbC5tanMnO1xuaW1wb3J0IHsgQW5pbWF0aW9uVHlwZSB9IGZyb20gJy4vdHlwZXMubWpzJztcbmltcG9ydCB7IHJlc29sdmVWYXJpYW50IH0gZnJvbSAnLi9yZXNvbHZlLWR5bmFtaWMtdmFyaWFudHMubWpzJztcblxuY29uc3QgdmFyaWFudFByaW9yaXR5T3JkZXIgPSBbXG4gICAgQW5pbWF0aW9uVHlwZS5BbmltYXRlLFxuICAgIEFuaW1hdGlvblR5cGUuSW5WaWV3LFxuICAgIEFuaW1hdGlvblR5cGUuRm9jdXMsXG4gICAgQW5pbWF0aW9uVHlwZS5Ib3ZlcixcbiAgICBBbmltYXRpb25UeXBlLlRhcCxcbiAgICBBbmltYXRpb25UeXBlLkRyYWcsXG4gICAgQW5pbWF0aW9uVHlwZS5FeGl0LFxuXTtcbmNvbnN0IHJldmVyc2VQcmlvcml0eU9yZGVyID0gWy4uLnZhcmlhbnRQcmlvcml0eU9yZGVyXS5yZXZlcnNlKCk7XG5jb25zdCBudW1BbmltYXRpb25UeXBlcyA9IHZhcmlhbnRQcmlvcml0eU9yZGVyLmxlbmd0aDtcbmZ1bmN0aW9uIGFuaW1hdGVMaXN0KHZpc3VhbEVsZW1lbnQpIHtcbiAgICByZXR1cm4gKGFuaW1hdGlvbnMpID0+IFByb21pc2UuYWxsKGFuaW1hdGlvbnMubWFwKCh7IGFuaW1hdGlvbiwgb3B0aW9ucyB9KSA9PiBhbmltYXRlVmlzdWFsRWxlbWVudCh2aXN1YWxFbGVtZW50LCBhbmltYXRpb24sIG9wdGlvbnMpKSk7XG59XG5mdW5jdGlvbiBjcmVhdGVBbmltYXRpb25TdGF0ZSh2aXN1YWxFbGVtZW50KSB7XG4gICAgbGV0IGFuaW1hdGUgPSBhbmltYXRlTGlzdCh2aXN1YWxFbGVtZW50KTtcbiAgICBjb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKCk7XG4gICAgbGV0IGlzSW5pdGlhbFJlbmRlciA9IHRydWU7XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiB3aWxsIGJlIHVzZWQgdG8gcmVkdWNlIHRoZSBhbmltYXRpb24gZGVmaW5pdGlvbnMgZm9yXG4gICAgICogZWFjaCBhY3RpdmUgYW5pbWF0aW9uIHR5cGUgaW50byBhbiBvYmplY3Qgb2YgcmVzb2x2ZWQgdmFsdWVzIGZvciBpdC5cbiAgICAgKi9cbiAgICBjb25zdCBidWlsZFJlc29sdmVkVHlwZVZhbHVlcyA9IChhY2MsIGRlZmluaXRpb24pID0+IHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWQgPSByZXNvbHZlVmFyaWFudCh2aXN1YWxFbGVtZW50LCBkZWZpbml0aW9uKTtcbiAgICAgICAgaWYgKHJlc29sdmVkKSB7XG4gICAgICAgICAgICBjb25zdCB7IHRyYW5zaXRpb24sIHRyYW5zaXRpb25FbmQsIC4uLnRhcmdldCB9ID0gcmVzb2x2ZWQ7XG4gICAgICAgICAgICBhY2MgPSB7IC4uLmFjYywgLi4udGFyZ2V0LCAuLi50cmFuc2l0aW9uRW5kIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMganVzdCBhbGxvd3MgdXMgdG8gaW5qZWN0IG1vY2tlZCBhbmltYXRpb24gZnVuY3Rpb25zXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0QW5pbWF0ZUZ1bmN0aW9uKG1ha2VBbmltYXRvcikge1xuICAgICAgICBhbmltYXRlID0gbWFrZUFuaW1hdG9yKHZpc3VhbEVsZW1lbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGVuIHdlIHJlY2VpdmUgbmV3IHByb3BzLCB3ZSBuZWVkIHRvOlxuICAgICAqIDEuIENyZWF0ZSBhIGxpc3Qgb2YgcHJvdGVjdGVkIGtleXMgZm9yIGVhY2ggdHlwZS4gVGhpcyBpcyBhIGRpcmVjdG9yeSBvZlxuICAgICAqICAgIHZhbHVlIGtleXMgdGhhdCBhcmUgY3VycmVudGx5IGJlaW5nIFwiaGFuZGxlZFwiIGJ5IHR5cGVzIG9mIGEgaGlnaGVyIHByaW9yaXR5XG4gICAgICogICAgc28gdGhhdCB3aGVuZXZlciBhbiBhbmltYXRpb24gaXMgcGxheWVkIG9mIGEgZ2l2ZW4gdHlwZSwgdGhlc2UgdmFsdWVzIGFyZVxuICAgICAqICAgIHByb3RlY3RlZCBmcm9tIGJlaW5nIGFuaW1hdGVkLlxuICAgICAqIDIuIERldGVybWluZSBpZiBhbiBhbmltYXRpb24gdHlwZSBuZWVkcyBhbmltYXRpbmcuXG4gICAgICogMy4gRGV0ZXJtaW5lIGlmIGFueSB2YWx1ZXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSBhIHR5cGUgYW5kIGZpZ3VyZSBvdXRcbiAgICAgKiAgICB3aGF0IHRvIGFuaW1hdGUgdGhvc2UgdG8uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYW5pbWF0ZUNoYW5nZXMob3B0aW9ucywgY2hhbmdlZEFjdGl2ZVR5cGUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBwcm9wcyA9IHZpc3VhbEVsZW1lbnQuZ2V0UHJvcHMoKTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHZpc3VhbEVsZW1lbnQuZ2V0VmFyaWFudENvbnRleHQodHJ1ZSkgfHwge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgYW5pbWF0aW9ucyB0aGF0IHdlJ2xsIGJ1aWxkIGludG8gYXMgd2UgaXRlcmF0ZSB0aHJvdWdoIHRoZSBhbmltYXRpb25cbiAgICAgICAgICogdHlwZXMuIFRoaXMgd2lsbCBnZXQgZXhlY3V0ZWQgYXQgdGhlIGVuZCBvZiB0aGUgZnVuY3Rpb24uXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBhbmltYXRpb25zID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZWVwIHRyYWNrIG9mIHdoaWNoIHZhbHVlcyBoYXZlIGJlZW4gcmVtb3ZlZC4gVGhlbiwgYXMgd2UgaGl0IGxvd2VyIHByaW9yaXR5XG4gICAgICAgICAqIGFuaW1hdGlvbiB0eXBlcywgd2UgY2FuIGNoZWNrIGlmIHRoZXkgY29udGFpbiByZW1vdmVkIHZhbHVlcyBhbmQgYW5pbWF0ZSB0byB0aGF0LlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgcmVtb3ZlZEtleXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGRpY3Rpb25hcnkgb2YgYWxsIGVuY291bnRlcmVkIGtleXMuIFRoaXMgaXMgYW4gb2JqZWN0IHRvIGxldCB1cyBidWlsZCBpbnRvIGFuZFxuICAgICAgICAgKiBjb3B5IGl0IHdpdGhvdXQgaXRlcmF0aW9uLiBFYWNoIHRpbWUgd2UgaGl0IGFuIGFuaW1hdGlvbiB0eXBlIHdlIHNldCBpdHMgcHJvdGVjdGVkXG4gICAgICAgICAqIGtleXMgLSB0aGUga2V5cyBpdHMgbm90IGFsbG93ZWQgdG8gYW5pbWF0ZSAtIHRvIHRoZSBsYXRlc3QgdmVyc2lvbiBvZiB0aGlzIG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIGxldCBlbmNvdW50ZXJlZEtleXMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGEgdmFyaWFudCBoYXMgYmVlbiByZW1vdmVkIGF0IGEgZ2l2ZW4gaW5kZXgsIGFuZCB0aGlzIGNvbXBvbmVudCBpcyBjb250cm9sbGluZ1xuICAgICAgICAgKiB2YXJpYW50IGFuaW1hdGlvbnMsIHdlIHdhbnQgdG8gZW5zdXJlIGxvd2VyLXByaW9yaXR5IHZhcmlhbnRzIGFyZSBmb3JjZWQgdG8gYW5pbWF0ZS5cbiAgICAgICAgICovXG4gICAgICAgIGxldCByZW1vdmVkVmFyaWFudEluZGV4ID0gSW5maW5pdHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJdGVyYXRlIHRocm91Z2ggYWxsIGFuaW1hdGlvbiB0eXBlcyBpbiByZXZlcnNlIHByaW9yaXR5IG9yZGVyLiBGb3IgZWFjaCwgd2Ugd2FudCB0b1xuICAgICAgICAgKiBkZXRlY3Qgd2hpY2ggdmFsdWVzIGl0J3MgaGFuZGxpbmcgYW5kIHdoZXRoZXIgb3Igbm90IHRoZXkndmUgY2hhbmdlZCAoYW5kIHRoZXJlZm9yZVxuICAgICAgICAgKiBuZWVkIHRvIGJlIGFuaW1hdGVkKS4gSWYgYW55IHZhbHVlcyBoYXZlIGJlZW4gcmVtb3ZlZCwgd2Ugd2FudCB0byBkZXRlY3QgdGhvc2UgaW5cbiAgICAgICAgICogbG93ZXIgcHJpb3JpdHkgcHJvcHMgYW5kIGZsYWcgZm9yIGFuaW1hdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtQW5pbWF0aW9uVHlwZXM7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHJldmVyc2VQcmlvcml0eU9yZGVyW2ldO1xuICAgICAgICAgICAgY29uc3QgdHlwZVN0YXRlID0gc3RhdGVbdHlwZV07XG4gICAgICAgICAgICBjb25zdCBwcm9wID0gKF9hID0gcHJvcHNbdHlwZV0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGNvbnRleHRbdHlwZV07XG4gICAgICAgICAgICBjb25zdCBwcm9wSXNWYXJpYW50ID0gaXNWYXJpYW50TGFiZWwocHJvcCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoaXMgdHlwZSBoYXMgKmp1c3QqIGNoYW5nZWQgaXNBY3RpdmUgc3RhdHVzLCBzZXQgYWN0aXZlRGVsdGFcbiAgICAgICAgICAgICAqIHRvIHRoYXQgc3RhdHVzLiBPdGhlcndpc2Ugc2V0IHRvIG51bGwuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZURlbHRhID0gdHlwZSA9PT0gY2hhbmdlZEFjdGl2ZVR5cGUgPyB0eXBlU3RhdGUuaXNBY3RpdmUgOiBudWxsO1xuICAgICAgICAgICAgaWYgKGFjdGl2ZURlbHRhID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICByZW1vdmVkVmFyaWFudEluZGV4ID0gaTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhpcyBwcm9wIGlzIGFuIGluaGVyaXRlZCB2YXJpYW50LCByYXRoZXIgdGhhbiBiZWVuIHNldCBkaXJlY3RseSBvbiB0aGVcbiAgICAgICAgICAgICAqIGNvbXBvbmVudCBpdHNlbGYsIHdlIHdhbnQgdG8gbWFrZSBzdXJlIHdlIGFsbG93IHRoZSBwYXJlbnQgdG8gdHJpZ2dlciBhbmltYXRpb25zLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIFRPRE86IENhbiBwcm9iYWJseSBjaGFuZ2UgdGhpcyB0byBhICFpc0NvbnRyb2xsaW5nVmFyaWFudHMgY2hlY2tcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbGV0IGlzSW5oZXJpdGVkID0gcHJvcCA9PT0gY29udGV4dFt0eXBlXSAmJiBwcm9wICE9PSBwcm9wc1t0eXBlXSAmJiBwcm9wSXNWYXJpYW50O1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoaXNJbmhlcml0ZWQgJiZcbiAgICAgICAgICAgICAgICBpc0luaXRpYWxSZW5kZXIgJiZcbiAgICAgICAgICAgICAgICB2aXN1YWxFbGVtZW50Lm1hbnVhbGx5QW5pbWF0ZU9uTW91bnQpIHtcbiAgICAgICAgICAgICAgICBpc0luaGVyaXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZXQgYWxsIGVuY291bnRlcmVkIGtleXMgc28gZmFyIGFzIHRoZSBwcm90ZWN0ZWQga2V5cyBmb3IgdGhpcyB0eXBlLiBUaGlzIHdpbGxcbiAgICAgICAgICAgICAqIGJlIGFueSBrZXkgdGhhdCBoYXMgYmVlbiBhbmltYXRlZCBvciBvdGhlcndpc2UgaGFuZGxlZCBieSBhY3RpdmUsIGhpZ2hlci1wcmlvcnRpeSB0eXBlcy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdHlwZVN0YXRlLnByb3RlY3RlZEtleXMgPSB7IC4uLmVuY291bnRlcmVkS2V5cyB9O1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2UgY2FuIHNraXAgYW5hbHlzaW5nIHRoaXMgcHJvcCBlYXJseVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgLy8gSWYgaXQgaXNuJ3QgYWN0aXZlIGFuZCBoYXNuJ3QgKmp1c3QqIGJlZW4gc2V0IGFzIGluYWN0aXZlXG4gICAgICAgICAgICAoIXR5cGVTdGF0ZS5pc0FjdGl2ZSAmJiBhY3RpdmVEZWx0YSA9PT0gbnVsbCkgfHxcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBkaWRuJ3QgYW5kIGRvbid0IGhhdmUgYW55IGRlZmluZWQgcHJvcCBmb3IgdGhpcyBhbmltYXRpb24gdHlwZVxuICAgICAgICAgICAgICAgICghcHJvcCAmJiAhdHlwZVN0YXRlLnByZXZQcm9wKSB8fFxuICAgICAgICAgICAgICAgIC8vIE9yIGlmIHRoZSBwcm9wIGRvZXNuJ3QgZGVmaW5lIGFuIGFuaW1hdGlvblxuICAgICAgICAgICAgICAgIGlzQW5pbWF0aW9uQ29udHJvbHMocHJvcCkgfHxcbiAgICAgICAgICAgICAgICB0eXBlb2YgcHJvcCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQXMgd2UgZ28gbG9vayB0aHJvdWdoIHRoZSB2YWx1ZXMgZGVmaW5lZCBvbiB0aGlzIHR5cGUsIGlmIHdlIGRldGVjdFxuICAgICAgICAgICAgICogYSBjaGFuZ2VkIHZhbHVlIG9yIGEgdmFsdWUgdGhhdCB3YXMgcmVtb3ZlZCBpbiBhIGhpZ2hlciBwcmlvcml0eSwgd2Ugc2V0XG4gICAgICAgICAgICAgKiB0aGlzIHRvIHRydWUgYW5kIGFkZCB0aGlzIHByb3AgdG8gdGhlIGFuaW1hdGlvbiBsaXN0LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCB2YXJpYW50RGlkQ2hhbmdlID0gY2hlY2tWYXJpYW50c0RpZENoYW5nZSh0eXBlU3RhdGUucHJldlByb3AsIHByb3ApO1xuICAgICAgICAgICAgbGV0IHNob3VsZEFuaW1hdGVUeXBlID0gdmFyaWFudERpZENoYW5nZSB8fFxuICAgICAgICAgICAgICAgIC8vIElmIHdlJ3JlIG1ha2luZyB0aGlzIHZhcmlhbnQgYWN0aXZlLCB3ZSB3YW50IHRvIGFsd2F5cyBtYWtlIGl0IGFjdGl2ZVxuICAgICAgICAgICAgICAgICh0eXBlID09PSBjaGFuZ2VkQWN0aXZlVHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICB0eXBlU3RhdGUuaXNBY3RpdmUgJiZcbiAgICAgICAgICAgICAgICAgICAgIWlzSW5oZXJpdGVkICYmXG4gICAgICAgICAgICAgICAgICAgIHByb3BJc1ZhcmlhbnQpIHx8XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgcmVtb3ZlZCBhIGhpZ2hlci1wcmlvcml0eSB2YXJpYW50IChpIGlzIGluIHJldmVyc2Ugb3JkZXIpXG4gICAgICAgICAgICAgICAgKGkgPiByZW1vdmVkVmFyaWFudEluZGV4ICYmIHByb3BJc1ZhcmlhbnQpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBcyBhbmltYXRpb25zIGNhbiBiZSBzZXQgYXMgdmFyaWFudCBsaXN0cywgdmFyaWFudHMgb3IgdGFyZ2V0IG9iamVjdHMsIHdlXG4gICAgICAgICAgICAgKiBjb2VyY2UgZXZlcnl0aGluZyB0byBhbiBhcnJheSBpZiBpdCBpc24ndCBvbmUgYWxyZWFkeVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBkZWZpbml0aW9uTGlzdCA9IEFycmF5LmlzQXJyYXkocHJvcCkgPyBwcm9wIDogW3Byb3BdO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCdWlsZCBhbiBvYmplY3Qgb2YgYWxsIHRoZSByZXNvbHZlZCB2YWx1ZXMuIFdlJ2xsIHVzZSB0aGlzIGluIHRoZSBzdWJzZXF1ZW50XG4gICAgICAgICAgICAgKiBhbmltYXRlQ2hhbmdlcyBjYWxscyB0byBkZXRlcm1pbmUgd2hldGhlciBhIHZhbHVlIGhhcyBjaGFuZ2VkLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBsZXQgcmVzb2x2ZWRWYWx1ZXMgPSBkZWZpbml0aW9uTGlzdC5yZWR1Y2UoYnVpbGRSZXNvbHZlZFR5cGVWYWx1ZXMsIHt9KTtcbiAgICAgICAgICAgIGlmIChhY3RpdmVEZWx0YSA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRWYWx1ZXMgPSB7fTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTm93IHdlIG5lZWQgdG8gbG9vcCB0aHJvdWdoIGFsbCB0aGUga2V5cyBpbiB0aGUgcHJldiBwcm9wIGFuZCB0aGlzIHByb3AsXG4gICAgICAgICAgICAgKiBhbmQgZGVjaWRlOlxuICAgICAgICAgICAgICogMS4gSWYgdGhlIHZhbHVlIGhhcyBjaGFuZ2VkLCBhbmQgbmVlZHMgYW5pbWF0aW5nXG4gICAgICAgICAgICAgKiAyLiBJZiBpdCBoYXMgYmVlbiByZW1vdmVkLCBhbmQgbmVlZHMgYWRkaW5nIHRvIHRoZSByZW1vdmVkS2V5cyBzZXRcbiAgICAgICAgICAgICAqIDMuIElmIGl0IGhhcyBiZWVuIHJlbW92ZWQgaW4gYSBoaWdoZXIgcHJpb3JpdHkgdHlwZSBhbmQgbmVlZHMgYW5pbWF0aW5nXG4gICAgICAgICAgICAgKiA0LiBJZiBpdCBoYXNuJ3QgYmVlbiByZW1vdmVkIGluIGEgaGlnaGVyIHByaW9yaXR5IGJ1dCBoYXNuJ3QgY2hhbmdlZCwgYW5kXG4gICAgICAgICAgICAgKiAgICBuZWVkcyBhZGRpbmcgdG8gdGhlIHR5cGUncyBwcm90ZWN0ZWRLZXlzIGxpc3QuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IHsgcHJldlJlc29sdmVkVmFsdWVzID0ge30gfSA9IHR5cGVTdGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IGFsbEtleXMgPSB7XG4gICAgICAgICAgICAgICAgLi4ucHJldlJlc29sdmVkVmFsdWVzLFxuICAgICAgICAgICAgICAgIC4uLnJlc29sdmVkVmFsdWVzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IG1hcmtUb0FuaW1hdGUgPSAoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgc2hvdWxkQW5pbWF0ZVR5cGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlbW92ZWRLZXlzLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgICAgIHR5cGVTdGF0ZS5uZWVkc0FuaW1hdGluZ1trZXldID0gdHJ1ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBhbGxLZXlzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IHJlc29sdmVkVmFsdWVzW2tleV07XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldiA9IHByZXZSZXNvbHZlZFZhbHVlc1trZXldO1xuICAgICAgICAgICAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgaGFuZGxlZCB0aGlzIHdlIGNhbiBqdXN0IHNraXAgYWhlYWRcbiAgICAgICAgICAgICAgICBpZiAoZW5jb3VudGVyZWRLZXlzLmhhc093blByb3BlcnR5KGtleSkpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIElmIHRoZSB2YWx1ZSBoYXMgY2hhbmdlZCwgd2UgcHJvYmFibHkgd2FudCB0byBhbmltYXRlIGl0LlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9PSBwcmV2KSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBJZiBib3RoIHZhbHVlcyBhcmUga2V5ZnJhbWVzLCB3ZSBuZWVkIHRvIHNoYWxsb3cgY29tcGFyZSB0aGVtIHRvXG4gICAgICAgICAgICAgICAgICAgICAqIGRldGVjdCB3aGV0aGVyIGFueSB2YWx1ZSBoYXMgY2hhbmdlZC4gSWYgaXQgaGFzLCB3ZSBhbmltYXRlIGl0LlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzS2V5ZnJhbWVzVGFyZ2V0KG5leHQpICYmIGlzS2V5ZnJhbWVzVGFyZ2V0KHByZXYpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNoYWxsb3dDb21wYXJlKG5leHQsIHByZXYpIHx8IHZhcmlhbnREaWRDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrVG9BbmltYXRlKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBJZiBpdCBoYXNuJ3QgY2hhbmdlZCwgd2Ugd2FudCB0byBlbnN1cmUgaXQgZG9lc24ndCBhbmltYXRlIGJ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogYWRkaW5nIGl0IHRvIHRoZSBsaXN0IG9mIHByb3RlY3RlZCBrZXlzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVTdGF0ZS5wcm90ZWN0ZWRLZXlzW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5leHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgbmV4dCBpcyBkZWZpbmVkIGFuZCBkb2Vzbid0IGVxdWFsIHByZXYsIGl0IG5lZWRzIGFuaW1hdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFya1RvQW5pbWF0ZShrZXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgaXQncyB1bmRlZmluZWQsIGl0J3MgYmVlbiByZW1vdmVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZEtleXMuYWRkKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV4dCAhPT0gdW5kZWZpbmVkICYmIHJlbW92ZWRLZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBJZiBuZXh0IGhhc24ndCBjaGFuZ2VkIGFuZCBpdCBpc24ndCB1bmRlZmluZWQsIHdlIHdhbnQgdG8gY2hlY2sgaWYgaXQnc1xuICAgICAgICAgICAgICAgICAgICAgKiBiZWVuIHJlbW92ZWQgYnkgYSBoaWdoZXIgcHJpb3JpdHlcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIG1hcmtUb0FuaW1hdGUoa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBJZiBpdCBoYXNuJ3QgY2hhbmdlZCwgd2UgYWRkIGl0IHRvIHRoZSBsaXN0IG9mIHByb3RlY3RlZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICogdG8gZW5zdXJlIGl0IGRvZXNuJ3QgZ2V0IGFuaW1hdGVkLlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgdHlwZVN0YXRlLnByb3RlY3RlZEtleXNba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBVcGRhdGUgdGhlIHR5cGVTdGF0ZSBzbyBuZXh0IHRpbWUgYW5pbWF0ZUNoYW5nZXMgaXMgY2FsbGVkIHdlIGNhbiBjb21wYXJlIHRoZVxuICAgICAgICAgICAgICogbGF0ZXN0IHByb3AgYW5kIHJlc29sdmVkVmFsdWVzIHRvIHRoZXNlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0eXBlU3RhdGUucHJldlByb3AgPSBwcm9wO1xuICAgICAgICAgICAgdHlwZVN0YXRlLnByZXZSZXNvbHZlZFZhbHVlcyA9IHJlc29sdmVkVmFsdWVzO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAodHlwZVN0YXRlLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgZW5jb3VudGVyZWRLZXlzID0geyAuLi5lbmNvdW50ZXJlZEtleXMsIC4uLnJlc29sdmVkVmFsdWVzIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNJbml0aWFsUmVuZGVyICYmIHZpc3VhbEVsZW1lbnQuYmxvY2tJbml0aWFsQW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgc2hvdWxkQW5pbWF0ZVR5cGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhpcyBpcyBhbiBpbmhlcml0ZWQgcHJvcCB3ZSB3YW50IHRvIGhhcmQtYmxvY2sgYW5pbWF0aW9uc1xuICAgICAgICAgICAgICogVE9ETzogVGVzdCBhcyB0aGlzIHNob3VsZCBwcm9iYWJseSBzdGlsbCBoYW5kbGUgYW5pbWF0aW9ucyB0cmlnZ2VyZWRcbiAgICAgICAgICAgICAqIGJ5IHJlbW92ZWQgdmFsdWVzP1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoc2hvdWxkQW5pbWF0ZVR5cGUgJiYgIWlzSW5oZXJpdGVkKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9ucy5wdXNoKC4uLmRlZmluaXRpb25MaXN0Lm1hcCgoYW5pbWF0aW9uKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb246IGFuaW1hdGlvbixcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogeyB0eXBlLCAuLi5vcHRpb25zIH0sXG4gICAgICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlcmUgYXJlIHNvbWUgcmVtb3ZlZCB2YWx1ZSB0aGF0IGhhdmVuJ3QgYmVlbiBkZWFsdCB3aXRoLFxuICAgICAgICAgKiB3ZSBuZWVkIHRvIGNyZWF0ZSBhIG5ldyBhbmltYXRpb24gdGhhdCBmYWxscyBiYWNrIGVpdGhlciB0byB0aGUgdmFsdWVcbiAgICAgICAgICogZGVmaW5lZCBpbiB0aGUgc3R5bGUgcHJvcCwgb3IgdGhlIGxhc3QgcmVhZCB2YWx1ZS5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChyZW1vdmVkS2V5cy5zaXplKSB7XG4gICAgICAgICAgICBjb25zdCBmYWxsYmFja0FuaW1hdGlvbiA9IHt9O1xuICAgICAgICAgICAgcmVtb3ZlZEtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmFsbGJhY2tUYXJnZXQgPSB2aXN1YWxFbGVtZW50LmdldEJhc2VUYXJnZXQoa2V5KTtcbiAgICAgICAgICAgICAgICBpZiAoZmFsbGJhY2tUYXJnZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBmYWxsYmFja0FuaW1hdGlvbltrZXldID0gZmFsbGJhY2tUYXJnZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhbmltYXRpb25zLnB1c2goeyBhbmltYXRpb246IGZhbGxiYWNrQW5pbWF0aW9uIH0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzaG91bGRBbmltYXRlID0gQm9vbGVhbihhbmltYXRpb25zLmxlbmd0aCk7XG4gICAgICAgIGlmIChpc0luaXRpYWxSZW5kZXIgJiZcbiAgICAgICAgICAgIHByb3BzLmluaXRpYWwgPT09IGZhbHNlICYmXG4gICAgICAgICAgICAhdmlzdWFsRWxlbWVudC5tYW51YWxseUFuaW1hdGVPbk1vdW50KSB7XG4gICAgICAgICAgICBzaG91bGRBbmltYXRlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaXNJbml0aWFsUmVuZGVyID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBzaG91bGRBbmltYXRlID8gYW5pbWF0ZShhbmltYXRpb25zKSA6IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGFuZ2Ugd2hldGhlciBhIGNlcnRhaW4gYW5pbWF0aW9uIHR5cGUgaXMgYWN0aXZlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldEFjdGl2ZSh0eXBlLCBpc0FjdGl2ZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vIElmIHRoZSBhY3RpdmUgc3RhdGUgaGFzbid0IGNoYW5nZWQsIHdlIGNhbiBzYWZlbHkgZG8gbm90aGluZyBoZXJlXG4gICAgICAgIGlmIChzdGF0ZVt0eXBlXS5pc0FjdGl2ZSA9PT0gaXNBY3RpdmUpXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIC8vIFByb3BhZ2F0ZSBhY3RpdmUgY2hhbmdlIHRvIGNoaWxkcmVuXG4gICAgICAgIChfYSA9IHZpc3VhbEVsZW1lbnQudmFyaWFudENoaWxkcmVuKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yRWFjaCgoY2hpbGQpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gY2hpbGQuYW5pbWF0aW9uU3RhdGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXRBY3RpdmUodHlwZSwgaXNBY3RpdmUpOyB9KTtcbiAgICAgICAgc3RhdGVbdHlwZV0uaXNBY3RpdmUgPSBpc0FjdGl2ZTtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9ucyA9IGFuaW1hdGVDaGFuZ2VzKG9wdGlvbnMsIHR5cGUpO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzdGF0ZSkge1xuICAgICAgICAgICAgc3RhdGVba2V5XS5wcm90ZWN0ZWRLZXlzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbnM7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFuaW1hdGVDaGFuZ2VzLFxuICAgICAgICBzZXRBY3RpdmUsXG4gICAgICAgIHNldEFuaW1hdGVGdW5jdGlvbixcbiAgICAgICAgZ2V0U3RhdGU6ICgpID0+IHN0YXRlLFxuICAgIH07XG59XG5mdW5jdGlvbiBjaGVja1ZhcmlhbnRzRGlkQ2hhbmdlKHByZXYsIG5leHQpIHtcbiAgICBpZiAodHlwZW9mIG5leHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIG5leHQgIT09IHByZXY7XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkobmV4dCkpIHtcbiAgICAgICAgcmV0dXJuICFzaGFsbG93Q29tcGFyZShuZXh0LCBwcmV2KTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gY3JlYXRlVHlwZVN0YXRlKGlzQWN0aXZlID0gZmFsc2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpc0FjdGl2ZSxcbiAgICAgICAgcHJvdGVjdGVkS2V5czoge30sXG4gICAgICAgIG5lZWRzQW5pbWF0aW5nOiB7fSxcbiAgICAgICAgcHJldlJlc29sdmVkVmFsdWVzOiB7fSxcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgW0FuaW1hdGlvblR5cGUuQW5pbWF0ZV06IGNyZWF0ZVR5cGVTdGF0ZSh0cnVlKSxcbiAgICAgICAgW0FuaW1hdGlvblR5cGUuSW5WaWV3XTogY3JlYXRlVHlwZVN0YXRlKCksXG4gICAgICAgIFtBbmltYXRpb25UeXBlLkhvdmVyXTogY3JlYXRlVHlwZVN0YXRlKCksXG4gICAgICAgIFtBbmltYXRpb25UeXBlLlRhcF06IGNyZWF0ZVR5cGVTdGF0ZSgpLFxuICAgICAgICBbQW5pbWF0aW9uVHlwZS5EcmFnXTogY3JlYXRlVHlwZVN0YXRlKCksXG4gICAgICAgIFtBbmltYXRpb25UeXBlLkZvY3VzXTogY3JlYXRlVHlwZVN0YXRlKCksXG4gICAgICAgIFtBbmltYXRpb25UeXBlLkV4aXRdOiBjcmVhdGVUeXBlU3RhdGUoKSxcbiAgICB9O1xufVxuXG5leHBvcnQgeyBjaGVja1ZhcmlhbnRzRGlkQ2hhbmdlLCBjcmVhdGVBbmltYXRpb25TdGF0ZSwgdmFyaWFudFByaW9yaXR5T3JkZXIgfTtcbiIsImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGlzQW5pbWF0aW9uQ29udHJvbHMgfSBmcm9tICcuLi8uLi9hbmltYXRpb24vdXRpbHMvaXMtYW5pbWF0aW9uLWNvbnRyb2xzLm1qcyc7XG5pbXBvcnQgeyB1c2VQcmVzZW5jZSB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQW5pbWF0ZVByZXNlbmNlL3VzZS1wcmVzZW5jZS5tanMnO1xuaW1wb3J0IHsgUHJlc2VuY2VDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9QcmVzZW5jZUNvbnRleHQubWpzJztcbmltcG9ydCB7IGNyZWF0ZUFuaW1hdGlvblN0YXRlIH0gZnJvbSAnLi4vLi4vcmVuZGVyL3V0aWxzL2FuaW1hdGlvbi1zdGF0ZS5tanMnO1xuaW1wb3J0IHsgQW5pbWF0aW9uVHlwZSB9IGZyb20gJy4uLy4uL3JlbmRlci91dGlscy90eXBlcy5tanMnO1xuaW1wb3J0IHsgbWFrZVJlbmRlcmxlc3NDb21wb25lbnQgfSBmcm9tICcuLi91dGlscy9tYWtlLXJlbmRlcmxlc3MtY29tcG9uZW50Lm1qcyc7XG5cbmNvbnN0IGFuaW1hdGlvbnMgPSB7XG4gICAgYW5pbWF0aW9uOiBtYWtlUmVuZGVybGVzc0NvbXBvbmVudCgoeyB2aXN1YWxFbGVtZW50LCBhbmltYXRlIH0pID0+IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdlIGR5bmFtaWNhbGx5IGdlbmVyYXRlIHRoZSBBbmltYXRpb25TdGF0ZSBtYW5hZ2VyIGFzIGl0IGNvbnRhaW5zIGEgcmVmZXJlbmNlXG4gICAgICAgICAqIHRvIHRoZSB1bmRlcmx5aW5nIGFuaW1hdGlvbiBsaWJyYXJ5LiBXZSBvbmx5IHdhbnQgdG8gbG9hZCB0aGF0IGlmIHdlIGxvYWQgdGhpcyxcbiAgICAgICAgICogc28gcGVvcGxlIGNhbiBvcHRpb25hbGx5IGNvZGUgc3BsaXQgaXQgb3V0IHVzaW5nIHRoZSBgbWAgY29tcG9uZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgdmlzdWFsRWxlbWVudC5hbmltYXRpb25TdGF0ZSB8fCAodmlzdWFsRWxlbWVudC5hbmltYXRpb25TdGF0ZSA9IGNyZWF0ZUFuaW1hdGlvblN0YXRlKHZpc3VhbEVsZW1lbnQpKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN1YnNjcmliZSBhbnkgcHJvdmlkZWQgQW5pbWF0aW9uQ29udHJvbHMgdG8gdGhlIGNvbXBvbmVudCdzIFZpc3VhbEVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGlmIChpc0FuaW1hdGlvbkNvbnRyb2xzKGFuaW1hdGUpKSB7XG4gICAgICAgICAgICB1c2VFZmZlY3QoKCkgPT4gYW5pbWF0ZS5zdWJzY3JpYmUodmlzdWFsRWxlbWVudCksIFthbmltYXRlXSk7XG4gICAgICAgIH1cbiAgICB9KSxcbiAgICBleGl0OiBtYWtlUmVuZGVybGVzc0NvbXBvbmVudCgocHJvcHMpID0+IHtcbiAgICAgICAgY29uc3QgeyBjdXN0b20sIHZpc3VhbEVsZW1lbnQgfSA9IHByb3BzO1xuICAgICAgICBjb25zdCBbaXNQcmVzZW50LCBzYWZlVG9SZW1vdmVdID0gdXNlUHJlc2VuY2UoKTtcbiAgICAgICAgY29uc3QgcHJlc2VuY2VDb250ZXh0ID0gdXNlQ29udGV4dChQcmVzZW5jZUNvbnRleHQpO1xuICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgdmlzdWFsRWxlbWVudC5pc1ByZXNlbnQgPSBpc1ByZXNlbnQ7XG4gICAgICAgICAgICBjb25zdCBhbmltYXRpb24gPSB2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlICYmXG4gICAgICAgICAgICAgICAgdmlzdWFsRWxlbWVudC5hbmltYXRpb25TdGF0ZS5zZXRBY3RpdmUoQW5pbWF0aW9uVHlwZS5FeGl0LCAhaXNQcmVzZW50LCB7XG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbTogKHByZXNlbmNlQ29udGV4dCAmJiBwcmVzZW5jZUNvbnRleHQuY3VzdG9tKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGFuaW1hdGlvbiAmJiAhaXNQcmVzZW50KSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLnRoZW4oc2FmZVRvUmVtb3ZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgW2lzUHJlc2VudF0pO1xuICAgIH0pLFxufTtcblxuZXhwb3J0IHsgYW5pbWF0aW9ucyB9O1xuIiwiY29uc3QgaXNQb2ludCA9IChwb2ludCkgPT4gcG9pbnQuaGFzT3duUHJvcGVydHkoJ3gnKSAmJiBwb2ludC5oYXNPd25Qcm9wZXJ0eSgneScpO1xuXG5leHBvcnQgeyBpc1BvaW50IH07XG4iLCJpbXBvcnQgeyBpc1BvaW50IH0gZnJvbSAnLi9pcy1wb2ludC5tanMnO1xuXG5jb25zdCBpc1BvaW50M0QgPSAocG9pbnQpID0+IGlzUG9pbnQocG9pbnQpICYmIHBvaW50Lmhhc093blByb3BlcnR5KCd6Jyk7XG5cbmV4cG9ydCB7IGlzUG9pbnQzRCB9O1xuIiwiaW1wb3J0IHsgaXNQb2ludCB9IGZyb20gJy4vaXMtcG9pbnQubWpzJztcbmltcG9ydCB7IGlzUG9pbnQzRCB9IGZyb20gJy4vaXMtcG9pbnQtM2QubWpzJztcbmltcG9ydCB7IGlzTnVtIH0gZnJvbSAnLi9pbmMubWpzJztcblxuY29uc3QgZGlzdGFuY2UxRCA9IChhLCBiKSA9PiBNYXRoLmFicyhhIC0gYik7XG5mdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XG4gICAgaWYgKGlzTnVtKGEpICYmIGlzTnVtKGIpKSB7XG4gICAgICAgIHJldHVybiBkaXN0YW5jZTFEKGEsIGIpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1BvaW50KGEpICYmIGlzUG9pbnQoYikpIHtcbiAgICAgICAgY29uc3QgeERlbHRhID0gZGlzdGFuY2UxRChhLngsIGIueCk7XG4gICAgICAgIGNvbnN0IHlEZWx0YSA9IGRpc3RhbmNlMUQoYS55LCBiLnkpO1xuICAgICAgICBjb25zdCB6RGVsdGEgPSBpc1BvaW50M0QoYSkgJiYgaXNQb2ludDNEKGIpID8gZGlzdGFuY2UxRChhLnosIGIueikgOiAwO1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHhEZWx0YSwgMikgKyBNYXRoLnBvdyh5RGVsdGEsIDIpICsgTWF0aC5wb3coekRlbHRhLCAyKSk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBkaXN0YW5jZSB9O1xuIiwiaW1wb3J0IHsgaXNNb3VzZUV2ZW50LCBpc1RvdWNoRXZlbnQgfSBmcm9tICcuL3V0aWxzL2V2ZW50LXR5cGUubWpzJztcbmltcG9ydCB7IGV4dHJhY3RFdmVudEluZm8gfSBmcm9tICcuLi9ldmVudHMvZXZlbnQtaW5mby5tanMnO1xuaW1wb3J0IHN5bmMsIHsgZ2V0RnJhbWVEYXRhLCBjYW5jZWxTeW5jIH0gZnJvbSAnZnJhbWVzeW5jJztcbmltcG9ydCB7IHNlY29uZHNUb01pbGxpc2Vjb25kcyB9IGZyb20gJy4uL3V0aWxzL3RpbWUtY29udmVyc2lvbi5tanMnO1xuaW1wb3J0IHsgYWRkUG9pbnRlckV2ZW50IH0gZnJvbSAnLi4vZXZlbnRzL3VzZS1wb2ludGVyLWV2ZW50Lm1qcyc7XG5pbXBvcnQgeyBkaXN0YW5jZSwgcGlwZSB9IGZyb20gJ3BvcG1vdGlvbic7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmNsYXNzIFBhblNlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKGV2ZW50LCBoYW5kbGVycywgeyB0cmFuc2Zvcm1QYWdlUG9pbnQgfSA9IHt9KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhcnRFdmVudCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGFzdE1vdmVFdmVudCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGFzdE1vdmVFdmVudEluZm8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0ge307XG4gICAgICAgIHRoaXMudXBkYXRlUG9pbnQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoISh0aGlzLmxhc3RNb3ZlRXZlbnQgJiYgdGhpcy5sYXN0TW92ZUV2ZW50SW5mbykpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgaW5mbyA9IGdldFBhbkluZm8odGhpcy5sYXN0TW92ZUV2ZW50SW5mbywgdGhpcy5oaXN0b3J5KTtcbiAgICAgICAgICAgIGNvbnN0IGlzUGFuU3RhcnRlZCA9IHRoaXMuc3RhcnRFdmVudCAhPT0gbnVsbDtcbiAgICAgICAgICAgIC8vIE9ubHkgc3RhcnQgcGFubmluZyBpZiB0aGUgb2Zmc2V0IGlzIGxhcmdlciB0aGFuIDMgcGl4ZWxzLiBJZiB3ZSBtYWtlIGl0XG4gICAgICAgICAgICAvLyBhbnkgbGFyZ2VyIHRoYW4gdGhpcyB3ZSdsbCB3YW50IHRvIHJlc2V0IHRoZSBwb2ludGVyIGhpc3RvcnlcbiAgICAgICAgICAgIC8vIG9uIHRoZSBmaXJzdCB1cGRhdGUgdG8gYXZvaWQgdmlzdWFsIHNuYXBwaW5nIHRvIHRoZSBjdXJzb2UuXG4gICAgICAgICAgICBjb25zdCBpc0Rpc3RhbmNlUGFzdFRocmVzaG9sZCA9IGRpc3RhbmNlKGluZm8ub2Zmc2V0LCB7IHg6IDAsIHk6IDAgfSkgPj0gMztcbiAgICAgICAgICAgIGlmICghaXNQYW5TdGFydGVkICYmICFpc0Rpc3RhbmNlUGFzdFRocmVzaG9sZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB7IHBvaW50IH0gPSBpbmZvO1xuICAgICAgICAgICAgY29uc3QgeyB0aW1lc3RhbXAgfSA9IGdldEZyYW1lRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5oaXN0b3J5LnB1c2goeyAuLi5wb2ludCwgdGltZXN0YW1wIH0pO1xuICAgICAgICAgICAgY29uc3QgeyBvblN0YXJ0LCBvbk1vdmUgfSA9IHRoaXMuaGFuZGxlcnM7XG4gICAgICAgICAgICBpZiAoIWlzUGFuU3RhcnRlZCkge1xuICAgICAgICAgICAgICAgIG9uU3RhcnQgJiYgb25TdGFydCh0aGlzLmxhc3RNb3ZlRXZlbnQsIGluZm8pO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRFdmVudCA9IHRoaXMubGFzdE1vdmVFdmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9uTW92ZSAmJiBvbk1vdmUodGhpcy5sYXN0TW92ZUV2ZW50LCBpbmZvKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVQb2ludGVyTW92ZSA9IChldmVudCwgaW5mbykgPT4ge1xuICAgICAgICAgICAgdGhpcy5sYXN0TW92ZUV2ZW50ID0gZXZlbnQ7XG4gICAgICAgICAgICB0aGlzLmxhc3RNb3ZlRXZlbnRJbmZvID0gdHJhbnNmb3JtUG9pbnQoaW5mbywgdGhpcy50cmFuc2Zvcm1QYWdlUG9pbnQpO1xuICAgICAgICAgICAgLy8gQmVjYXVzZSBTYWZhcmkgZG9lc24ndCB0cmlnZ2VyIG1vdXNldXAgZXZlbnRzIHdoZW4gaXQncyBhYm92ZSBhIGA8c2VsZWN0PmBcbiAgICAgICAgICAgIGlmIChpc01vdXNlRXZlbnQoZXZlbnQpICYmIGV2ZW50LmJ1dHRvbnMgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVBvaW50ZXJVcChldmVudCwgaW5mbyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhyb3R0bGUgbW91c2UgbW92ZSBldmVudCB0byBvbmNlIHBlciBmcmFtZVxuICAgICAgICAgICAgc3luYy51cGRhdGUodGhpcy51cGRhdGVQb2ludCwgdHJ1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlUG9pbnRlclVwID0gKGV2ZW50LCBpbmZvKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVuZCgpO1xuICAgICAgICAgICAgY29uc3QgeyBvbkVuZCwgb25TZXNzaW9uRW5kIH0gPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICAgICAgY29uc3QgcGFuSW5mbyA9IGdldFBhbkluZm8odHJhbnNmb3JtUG9pbnQoaW5mbywgdGhpcy50cmFuc2Zvcm1QYWdlUG9pbnQpLCB0aGlzLmhpc3RvcnkpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhcnRFdmVudCAmJiBvbkVuZCkge1xuICAgICAgICAgICAgICAgIG9uRW5kKGV2ZW50LCBwYW5JbmZvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9uU2Vzc2lvbkVuZCAmJiBvblNlc3Npb25FbmQoZXZlbnQsIHBhbkluZm8pO1xuICAgICAgICB9O1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIG1vcmUgdGhhbiBvbmUgdG91Y2gsIGRvbid0IHN0YXJ0IGRldGVjdGluZyB0aGlzIGdlc3R1cmVcbiAgICAgICAgaWYgKGlzVG91Y2hFdmVudChldmVudCkgJiYgZXZlbnQudG91Y2hlcy5sZW5ndGggPiAxKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gaGFuZGxlcnM7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtUGFnZVBvaW50ID0gdHJhbnNmb3JtUGFnZVBvaW50O1xuICAgICAgICBjb25zdCBpbmZvID0gZXh0cmFjdEV2ZW50SW5mbyhldmVudCk7XG4gICAgICAgIGNvbnN0IGluaXRpYWxJbmZvID0gdHJhbnNmb3JtUG9pbnQoaW5mbywgdGhpcy50cmFuc2Zvcm1QYWdlUG9pbnQpO1xuICAgICAgICBjb25zdCB7IHBvaW50IH0gPSBpbml0aWFsSW5mbztcbiAgICAgICAgY29uc3QgeyB0aW1lc3RhbXAgfSA9IGdldEZyYW1lRGF0YSgpO1xuICAgICAgICB0aGlzLmhpc3RvcnkgPSBbeyAuLi5wb2ludCwgdGltZXN0YW1wIH1dO1xuICAgICAgICBjb25zdCB7IG9uU2Vzc2lvblN0YXJ0IH0gPSBoYW5kbGVycztcbiAgICAgICAgb25TZXNzaW9uU3RhcnQgJiZcbiAgICAgICAgICAgIG9uU2Vzc2lvblN0YXJ0KGV2ZW50LCBnZXRQYW5JbmZvKGluaXRpYWxJbmZvLCB0aGlzLmhpc3RvcnkpKTtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcnMgPSBwaXBlKGFkZFBvaW50ZXJFdmVudCh3aW5kb3csIFwicG9pbnRlcm1vdmVcIiwgdGhpcy5oYW5kbGVQb2ludGVyTW92ZSksIGFkZFBvaW50ZXJFdmVudCh3aW5kb3csIFwicG9pbnRlcnVwXCIsIHRoaXMuaGFuZGxlUG9pbnRlclVwKSwgYWRkUG9pbnRlckV2ZW50KHdpbmRvdywgXCJwb2ludGVyY2FuY2VsXCIsIHRoaXMuaGFuZGxlUG9pbnRlclVwKSk7XG4gICAgfVxuICAgIHVwZGF0ZUhhbmRsZXJzKGhhbmRsZXJzKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSBoYW5kbGVycztcbiAgICB9XG4gICAgZW5kKCkge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVycyAmJiB0aGlzLnJlbW92ZUxpc3RlbmVycygpO1xuICAgICAgICBjYW5jZWxTeW5jLnVwZGF0ZSh0aGlzLnVwZGF0ZVBvaW50KTtcbiAgICB9XG59XG5mdW5jdGlvbiB0cmFuc2Zvcm1Qb2ludChpbmZvLCB0cmFuc2Zvcm1QYWdlUG9pbnQpIHtcbiAgICByZXR1cm4gdHJhbnNmb3JtUGFnZVBvaW50ID8geyBwb2ludDogdHJhbnNmb3JtUGFnZVBvaW50KGluZm8ucG9pbnQpIH0gOiBpbmZvO1xufVxuZnVuY3Rpb24gc3VidHJhY3RQb2ludChhLCBiKSB7XG4gICAgcmV0dXJuIHsgeDogYS54IC0gYi54LCB5OiBhLnkgLSBiLnkgfTtcbn1cbmZ1bmN0aW9uIGdldFBhbkluZm8oeyBwb2ludCB9LCBoaXN0b3J5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcG9pbnQsXG4gICAgICAgIGRlbHRhOiBzdWJ0cmFjdFBvaW50KHBvaW50LCBsYXN0RGV2aWNlUG9pbnQoaGlzdG9yeSkpLFxuICAgICAgICBvZmZzZXQ6IHN1YnRyYWN0UG9pbnQocG9pbnQsIHN0YXJ0RGV2aWNlUG9pbnQoaGlzdG9yeSkpLFxuICAgICAgICB2ZWxvY2l0eTogZ2V0VmVsb2NpdHkoaGlzdG9yeSwgMC4xKSxcbiAgICB9O1xufVxuZnVuY3Rpb24gc3RhcnREZXZpY2VQb2ludChoaXN0b3J5KSB7XG4gICAgcmV0dXJuIGhpc3RvcnlbMF07XG59XG5mdW5jdGlvbiBsYXN0RGV2aWNlUG9pbnQoaGlzdG9yeSkge1xuICAgIHJldHVybiBoaXN0b3J5W2hpc3RvcnkubGVuZ3RoIC0gMV07XG59XG5mdW5jdGlvbiBnZXRWZWxvY2l0eShoaXN0b3J5LCB0aW1lRGVsdGEpIHtcbiAgICBpZiAoaGlzdG9yeS5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAgfTtcbiAgICB9XG4gICAgbGV0IGkgPSBoaXN0b3J5Lmxlbmd0aCAtIDE7XG4gICAgbGV0IHRpbWVzdGFtcGVkUG9pbnQgPSBudWxsO1xuICAgIGNvbnN0IGxhc3RQb2ludCA9IGxhc3REZXZpY2VQb2ludChoaXN0b3J5KTtcbiAgICB3aGlsZSAoaSA+PSAwKSB7XG4gICAgICAgIHRpbWVzdGFtcGVkUG9pbnQgPSBoaXN0b3J5W2ldO1xuICAgICAgICBpZiAobGFzdFBvaW50LnRpbWVzdGFtcCAtIHRpbWVzdGFtcGVkUG9pbnQudGltZXN0YW1wID5cbiAgICAgICAgICAgIHNlY29uZHNUb01pbGxpc2Vjb25kcyh0aW1lRGVsdGEpKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpLS07XG4gICAgfVxuICAgIGlmICghdGltZXN0YW1wZWRQb2ludCkge1xuICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAwIH07XG4gICAgfVxuICAgIGNvbnN0IHRpbWUgPSAobGFzdFBvaW50LnRpbWVzdGFtcCAtIHRpbWVzdGFtcGVkUG9pbnQudGltZXN0YW1wKSAvIDEwMDA7XG4gICAgaWYgKHRpbWUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCB9O1xuICAgIH1cbiAgICBjb25zdCBjdXJyZW50VmVsb2NpdHkgPSB7XG4gICAgICAgIHg6IChsYXN0UG9pbnQueCAtIHRpbWVzdGFtcGVkUG9pbnQueCkgLyB0aW1lLFxuICAgICAgICB5OiAobGFzdFBvaW50LnkgLSB0aW1lc3RhbXBlZFBvaW50LnkpIC8gdGltZSxcbiAgICB9O1xuICAgIGlmIChjdXJyZW50VmVsb2NpdHkueCA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgY3VycmVudFZlbG9jaXR5LnggPSAwO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFZlbG9jaXR5LnkgPT09IEluZmluaXR5KSB7XG4gICAgICAgIGN1cnJlbnRWZWxvY2l0eS55ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnRWZWxvY2l0eTtcbn1cblxuZXhwb3J0IHsgUGFuU2Vzc2lvbiB9O1xuIiwiaW1wb3J0IHsgbWl4LCBkaXN0YW5jZSB9IGZyb20gJ3BvcG1vdGlvbic7XG5cbmZ1bmN0aW9uIGNhbGNMZW5ndGgoYXhpcykge1xuICAgIHJldHVybiBheGlzLm1heCAtIGF4aXMubWluO1xufVxuZnVuY3Rpb24gaXNOZWFyKHZhbHVlLCB0YXJnZXQgPSAwLCBtYXhEaXN0YW5jZSA9IDAuMDEpIHtcbiAgICByZXR1cm4gZGlzdGFuY2UodmFsdWUsIHRhcmdldCkgPCBtYXhEaXN0YW5jZTtcbn1cbmZ1bmN0aW9uIGNhbGNBeGlzRGVsdGEoZGVsdGEsIHNvdXJjZSwgdGFyZ2V0LCBvcmlnaW4gPSAwLjUpIHtcbiAgICBkZWx0YS5vcmlnaW4gPSBvcmlnaW47XG4gICAgZGVsdGEub3JpZ2luUG9pbnQgPSBtaXgoc291cmNlLm1pbiwgc291cmNlLm1heCwgZGVsdGEub3JpZ2luKTtcbiAgICBkZWx0YS5zY2FsZSA9IGNhbGNMZW5ndGgodGFyZ2V0KSAvIGNhbGNMZW5ndGgoc291cmNlKTtcbiAgICBpZiAoaXNOZWFyKGRlbHRhLnNjYWxlLCAxLCAwLjAwMDEpIHx8IGlzTmFOKGRlbHRhLnNjYWxlKSlcbiAgICAgICAgZGVsdGEuc2NhbGUgPSAxO1xuICAgIGRlbHRhLnRyYW5zbGF0ZSA9XG4gICAgICAgIG1peCh0YXJnZXQubWluLCB0YXJnZXQubWF4LCBkZWx0YS5vcmlnaW4pIC0gZGVsdGEub3JpZ2luUG9pbnQ7XG4gICAgaWYgKGlzTmVhcihkZWx0YS50cmFuc2xhdGUpIHx8IGlzTmFOKGRlbHRhLnRyYW5zbGF0ZSkpXG4gICAgICAgIGRlbHRhLnRyYW5zbGF0ZSA9IDA7XG59XG5mdW5jdGlvbiBjYWxjQm94RGVsdGEoZGVsdGEsIHNvdXJjZSwgdGFyZ2V0LCBvcmlnaW4pIHtcbiAgICBjYWxjQXhpc0RlbHRhKGRlbHRhLngsIHNvdXJjZS54LCB0YXJnZXQueCwgb3JpZ2luID09PSBudWxsIHx8IG9yaWdpbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3JpZ2luLm9yaWdpblgpO1xuICAgIGNhbGNBeGlzRGVsdGEoZGVsdGEueSwgc291cmNlLnksIHRhcmdldC55LCBvcmlnaW4gPT09IG51bGwgfHwgb3JpZ2luID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcmlnaW4ub3JpZ2luWSk7XG59XG5mdW5jdGlvbiBjYWxjUmVsYXRpdmVBeGlzKHRhcmdldCwgcmVsYXRpdmUsIHBhcmVudCkge1xuICAgIHRhcmdldC5taW4gPSBwYXJlbnQubWluICsgcmVsYXRpdmUubWluO1xuICAgIHRhcmdldC5tYXggPSB0YXJnZXQubWluICsgY2FsY0xlbmd0aChyZWxhdGl2ZSk7XG59XG5mdW5jdGlvbiBjYWxjUmVsYXRpdmVCb3godGFyZ2V0LCByZWxhdGl2ZSwgcGFyZW50KSB7XG4gICAgY2FsY1JlbGF0aXZlQXhpcyh0YXJnZXQueCwgcmVsYXRpdmUueCwgcGFyZW50LngpO1xuICAgIGNhbGNSZWxhdGl2ZUF4aXModGFyZ2V0LnksIHJlbGF0aXZlLnksIHBhcmVudC55KTtcbn1cbmZ1bmN0aW9uIGNhbGNSZWxhdGl2ZUF4aXNQb3NpdGlvbih0YXJnZXQsIGxheW91dCwgcGFyZW50KSB7XG4gICAgdGFyZ2V0Lm1pbiA9IGxheW91dC5taW4gLSBwYXJlbnQubWluO1xuICAgIHRhcmdldC5tYXggPSB0YXJnZXQubWluICsgY2FsY0xlbmd0aChsYXlvdXQpO1xufVxuZnVuY3Rpb24gY2FsY1JlbGF0aXZlUG9zaXRpb24odGFyZ2V0LCBsYXlvdXQsIHBhcmVudCkge1xuICAgIGNhbGNSZWxhdGl2ZUF4aXNQb3NpdGlvbih0YXJnZXQueCwgbGF5b3V0LngsIHBhcmVudC54KTtcbiAgICBjYWxjUmVsYXRpdmVBeGlzUG9zaXRpb24odGFyZ2V0LnksIGxheW91dC55LCBwYXJlbnQueSk7XG59XG5cbmV4cG9ydCB7IGNhbGNBeGlzRGVsdGEsIGNhbGNCb3hEZWx0YSwgY2FsY0xlbmd0aCwgY2FsY1JlbGF0aXZlQXhpcywgY2FsY1JlbGF0aXZlQXhpc1Bvc2l0aW9uLCBjYWxjUmVsYXRpdmVCb3gsIGNhbGNSZWxhdGl2ZVBvc2l0aW9uLCBpc05lYXIgfTtcbiIsImltcG9ydCB7IG1peCwgcHJvZ3Jlc3MsIGNsYW1wIH0gZnJvbSAncG9wbW90aW9uJztcbmltcG9ydCB7IGNhbGNMZW5ndGggfSBmcm9tICcuLi8uLi8uLi9wcm9qZWN0aW9uL2dlb21ldHJ5L2RlbHRhLWNhbGMubWpzJztcblxuLyoqXG4gKiBBcHBseSBjb25zdHJhaW50cyB0byBhIHBvaW50LiBUaGVzZSBjb25zdHJhaW50cyBhcmUgYm90aCBwaHlzaWNhbCBhbG9uZyBhblxuICogYXhpcywgYW5kIGFuIGVsYXN0aWMgZmFjdG9yIHRoYXQgZGV0ZXJtaW5lcyBob3cgbXVjaCB0byBjb25zdHJhaW4gdGhlIHBvaW50XG4gKiBieSBpZiBpdCBkb2VzIGxpZSBvdXRzaWRlIHRoZSBkZWZpbmVkIHBhcmFtZXRlcnMuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5Q29uc3RyYWludHMocG9pbnQsIHsgbWluLCBtYXggfSwgZWxhc3RpYykge1xuICAgIGlmIChtaW4gIT09IHVuZGVmaW5lZCAmJiBwb2ludCA8IG1pbikge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgbWluIHBvaW50IGRlZmluZWQsIGFuZCB0aGlzIGlzIG91dHNpZGUgb2YgdGhhdCwgY29uc3RyYWluXG4gICAgICAgIHBvaW50ID0gZWxhc3RpYyA/IG1peChtaW4sIHBvaW50LCBlbGFzdGljLm1pbikgOiBNYXRoLm1heChwb2ludCwgbWluKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobWF4ICE9PSB1bmRlZmluZWQgJiYgcG9pbnQgPiBtYXgpIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIG1heCBwb2ludCBkZWZpbmVkLCBhbmQgdGhpcyBpcyBvdXRzaWRlIG9mIHRoYXQsIGNvbnN0cmFpblxuICAgICAgICBwb2ludCA9IGVsYXN0aWMgPyBtaXgobWF4LCBwb2ludCwgZWxhc3RpYy5tYXgpIDogTWF0aC5taW4ocG9pbnQsIG1heCk7XG4gICAgfVxuICAgIHJldHVybiBwb2ludDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlIGNvbnN0cmFpbnRzIGluIHRlcm1zIG9mIHRoZSB2aWV3cG9ydCB3aGVuIGRlZmluZWQgcmVsYXRpdmVseSB0byB0aGVcbiAqIG1lYXN1cmVkIGF4aXMuIFRoaXMgaXMgbWVhc3VyZWQgZnJvbSB0aGUgbmVhcmVzdCBlZGdlLCBzbyBhIG1heCBjb25zdHJhaW50IG9mIDIwMFxuICogb24gYW4gYXhpcyB3aXRoIGEgbWF4IHZhbHVlIG9mIDMwMCB3b3VsZCByZXR1cm4gYSBjb25zdHJhaW50IG9mIDUwMCAtIGF4aXMgbGVuZ3RoXG4gKi9cbmZ1bmN0aW9uIGNhbGNSZWxhdGl2ZUF4aXNDb25zdHJhaW50cyhheGlzLCBtaW4sIG1heCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIG1pbjogbWluICE9PSB1bmRlZmluZWQgPyBheGlzLm1pbiArIG1pbiA6IHVuZGVmaW5lZCxcbiAgICAgICAgbWF4OiBtYXggIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBheGlzLm1heCArIG1heCAtIChheGlzLm1heCAtIGF4aXMubWluKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlIGNvbnN0cmFpbnRzIGluIHRlcm1zIG9mIHRoZSB2aWV3cG9ydCB3aGVuXG4gKiBkZWZpbmVkIHJlbGF0aXZlbHkgdG8gdGhlIG1lYXN1cmVkIGJvdW5kaW5nIGJveC5cbiAqL1xuZnVuY3Rpb24gY2FsY1JlbGF0aXZlQ29uc3RyYWludHMobGF5b3V0Qm94LCB7IHRvcCwgbGVmdCwgYm90dG9tLCByaWdodCB9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogY2FsY1JlbGF0aXZlQXhpc0NvbnN0cmFpbnRzKGxheW91dEJveC54LCBsZWZ0LCByaWdodCksXG4gICAgICAgIHk6IGNhbGNSZWxhdGl2ZUF4aXNDb25zdHJhaW50cyhsYXlvdXRCb3gueSwgdG9wLCBib3R0b20pLFxuICAgIH07XG59XG4vKipcbiAqIENhbGN1bGF0ZSB2aWV3cG9ydCBjb25zdHJhaW50cyB3aGVuIGRlZmluZWQgYXMgYW5vdGhlciB2aWV3cG9ydC1yZWxhdGl2ZSBheGlzXG4gKi9cbmZ1bmN0aW9uIGNhbGNWaWV3cG9ydEF4aXNDb25zdHJhaW50cyhsYXlvdXRBeGlzLCBjb25zdHJhaW50c0F4aXMpIHtcbiAgICBsZXQgbWluID0gY29uc3RyYWludHNBeGlzLm1pbiAtIGxheW91dEF4aXMubWluO1xuICAgIGxldCBtYXggPSBjb25zdHJhaW50c0F4aXMubWF4IC0gbGF5b3V0QXhpcy5tYXg7XG4gICAgLy8gSWYgdGhlIGNvbnN0cmFpbnRzIGF4aXMgaXMgYWN0dWFsbHkgc21hbGxlciB0aGFuIHRoZSBsYXlvdXQgYXhpcyB0aGVuIHdlIGNhblxuICAgIC8vIGZsaXAgdGhlIGNvbnN0cmFpbnRzXG4gICAgaWYgKGNvbnN0cmFpbnRzQXhpcy5tYXggLSBjb25zdHJhaW50c0F4aXMubWluIDxcbiAgICAgICAgbGF5b3V0QXhpcy5tYXggLSBsYXlvdXRBeGlzLm1pbikge1xuICAgICAgICBbbWluLCBtYXhdID0gW21heCwgbWluXTtcbiAgICB9XG4gICAgcmV0dXJuIHsgbWluLCBtYXggfTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlIHZpZXdwb3J0IGNvbnN0cmFpbnRzIHdoZW4gZGVmaW5lZCBhcyBhbm90aGVyIHZpZXdwb3J0LXJlbGF0aXZlIGJveFxuICovXG5mdW5jdGlvbiBjYWxjVmlld3BvcnRDb25zdHJhaW50cyhsYXlvdXRCb3gsIGNvbnN0cmFpbnRzQm94KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogY2FsY1ZpZXdwb3J0QXhpc0NvbnN0cmFpbnRzKGxheW91dEJveC54LCBjb25zdHJhaW50c0JveC54KSxcbiAgICAgICAgeTogY2FsY1ZpZXdwb3J0QXhpc0NvbnN0cmFpbnRzKGxheW91dEJveC55LCBjb25zdHJhaW50c0JveC55KSxcbiAgICB9O1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgYSB0cmFuc2Zvcm0gb3JpZ2luIHJlbGF0aXZlIHRvIHRoZSBzb3VyY2UgYXhpcywgYmV0d2VlbiAwLTEsIHRoYXQgcmVzdWx0c1xuICogaW4gYW4gYXN0aGV0aWNhbGx5IHBsZWFzaW5nIHNjYWxlL3RyYW5zZm9ybSBuZWVkZWQgdG8gcHJvamVjdCBmcm9tIHNvdXJjZSB0byB0YXJnZXQuXG4gKi9cbmZ1bmN0aW9uIGNhbGNPcmlnaW4oc291cmNlLCB0YXJnZXQpIHtcbiAgICBsZXQgb3JpZ2luID0gMC41O1xuICAgIGNvbnN0IHNvdXJjZUxlbmd0aCA9IGNhbGNMZW5ndGgoc291cmNlKTtcbiAgICBjb25zdCB0YXJnZXRMZW5ndGggPSBjYWxjTGVuZ3RoKHRhcmdldCk7XG4gICAgaWYgKHRhcmdldExlbmd0aCA+IHNvdXJjZUxlbmd0aCkge1xuICAgICAgICBvcmlnaW4gPSBwcm9ncmVzcyh0YXJnZXQubWluLCB0YXJnZXQubWF4IC0gc291cmNlTGVuZ3RoLCBzb3VyY2UubWluKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc291cmNlTGVuZ3RoID4gdGFyZ2V0TGVuZ3RoKSB7XG4gICAgICAgIG9yaWdpbiA9IHByb2dyZXNzKHNvdXJjZS5taW4sIHNvdXJjZS5tYXggLSB0YXJnZXRMZW5ndGgsIHRhcmdldC5taW4pO1xuICAgIH1cbiAgICByZXR1cm4gY2xhbXAoMCwgMSwgb3JpZ2luKTtcbn1cbi8qKlxuICogUmViYXNlIHRoZSBjYWxjdWxhdGVkIHZpZXdwb3J0IGNvbnN0cmFpbnRzIHJlbGF0aXZlIHRvIHRoZSBsYXlvdXQubWluIHBvaW50LlxuICovXG5mdW5jdGlvbiByZWJhc2VBeGlzQ29uc3RyYWludHMobGF5b3V0LCBjb25zdHJhaW50cykge1xuICAgIGNvbnN0IHJlbGF0aXZlQ29uc3RyYWludHMgPSB7fTtcbiAgICBpZiAoY29uc3RyYWludHMubWluICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVsYXRpdmVDb25zdHJhaW50cy5taW4gPSBjb25zdHJhaW50cy5taW4gLSBsYXlvdXQubWluO1xuICAgIH1cbiAgICBpZiAoY29uc3RyYWludHMubWF4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVsYXRpdmVDb25zdHJhaW50cy5tYXggPSBjb25zdHJhaW50cy5tYXggLSBsYXlvdXQubWluO1xuICAgIH1cbiAgICByZXR1cm4gcmVsYXRpdmVDb25zdHJhaW50cztcbn1cbmNvbnN0IGRlZmF1bHRFbGFzdGljID0gMC4zNTtcbi8qKlxuICogQWNjZXB0cyBhIGRyYWdFbGFzdGljIHByb3AgYW5kIHJldHVybnMgcmVzb2x2ZWQgZWxhc3RpYyB2YWx1ZXMgZm9yIGVhY2ggYXhpcy5cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZURyYWdFbGFzdGljKGRyYWdFbGFzdGljID0gZGVmYXVsdEVsYXN0aWMpIHtcbiAgICBpZiAoZHJhZ0VsYXN0aWMgPT09IGZhbHNlKSB7XG4gICAgICAgIGRyYWdFbGFzdGljID0gMDtcbiAgICB9XG4gICAgZWxzZSBpZiAoZHJhZ0VsYXN0aWMgPT09IHRydWUpIHtcbiAgICAgICAgZHJhZ0VsYXN0aWMgPSBkZWZhdWx0RWxhc3RpYztcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogcmVzb2x2ZUF4aXNFbGFzdGljKGRyYWdFbGFzdGljLCBcImxlZnRcIiwgXCJyaWdodFwiKSxcbiAgICAgICAgeTogcmVzb2x2ZUF4aXNFbGFzdGljKGRyYWdFbGFzdGljLCBcInRvcFwiLCBcImJvdHRvbVwiKSxcbiAgICB9O1xufVxuZnVuY3Rpb24gcmVzb2x2ZUF4aXNFbGFzdGljKGRyYWdFbGFzdGljLCBtaW5MYWJlbCwgbWF4TGFiZWwpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBtaW46IHJlc29sdmVQb2ludEVsYXN0aWMoZHJhZ0VsYXN0aWMsIG1pbkxhYmVsKSxcbiAgICAgICAgbWF4OiByZXNvbHZlUG9pbnRFbGFzdGljKGRyYWdFbGFzdGljLCBtYXhMYWJlbCksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVQb2ludEVsYXN0aWMoZHJhZ0VsYXN0aWMsIGxhYmVsKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiB0eXBlb2YgZHJhZ0VsYXN0aWMgPT09IFwibnVtYmVyXCJcbiAgICAgICAgPyBkcmFnRWxhc3RpY1xuICAgICAgICA6IChfYSA9IGRyYWdFbGFzdGljW2xhYmVsXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMDtcbn1cblxuZXhwb3J0IHsgYXBwbHlDb25zdHJhaW50cywgY2FsY09yaWdpbiwgY2FsY1JlbGF0aXZlQXhpc0NvbnN0cmFpbnRzLCBjYWxjUmVsYXRpdmVDb25zdHJhaW50cywgY2FsY1ZpZXdwb3J0QXhpc0NvbnN0cmFpbnRzLCBjYWxjVmlld3BvcnRDb25zdHJhaW50cywgZGVmYXVsdEVsYXN0aWMsIHJlYmFzZUF4aXNDb25zdHJhaW50cywgcmVzb2x2ZUF4aXNFbGFzdGljLCByZXNvbHZlRHJhZ0VsYXN0aWMsIHJlc29sdmVQb2ludEVsYXN0aWMgfTtcbiIsImZ1bmN0aW9uIGVhY2hBeGlzKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIFtjYWxsYmFjayhcInhcIiksIGNhbGxiYWNrKFwieVwiKV07XG59XG5cbmV4cG9ydCB7IGVhY2hBeGlzIH07XG4iLCIvKipcbiAqIEJvdW5kaW5nIGJveGVzIHRlbmQgdG8gYmUgZGVmaW5lZCBhcyB0b3AsIGxlZnQsIHJpZ2h0LCBib3R0b20uIEZvciB2YXJpb3VzIG9wZXJhdGlvbnNcbiAqIGl0J3MgZWFzaWVyIHRvIGNvbnNpZGVyIGVhY2ggYXhpcyBpbmRpdmlkdWFsbHkuIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBhIGJvdW5kaW5nIGJveFxuICogYXMgYSBtYXAgb2Ygc2luZ2xlLWF4aXMgbWluL21heCB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRCb3VuZGluZ0JveFRvQm94KHsgdG9wLCBsZWZ0LCByaWdodCwgYm90dG9tLCB9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogeyBtaW46IGxlZnQsIG1heDogcmlnaHQgfSxcbiAgICAgICAgeTogeyBtaW46IHRvcCwgbWF4OiBib3R0b20gfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gY29udmVydEJveFRvQm91bmRpbmdCb3goeyB4LCB5IH0pIHtcbiAgICByZXR1cm4geyB0b3A6IHkubWluLCByaWdodDogeC5tYXgsIGJvdHRvbTogeS5tYXgsIGxlZnQ6IHgubWluIH07XG59XG4vKipcbiAqIEFwcGxpZXMgYSBUcmFuc2Zvcm1Qb2ludCBmdW5jdGlvbiB0byBhIGJvdW5kaW5nIGJveC4gVHJhbnNmb3JtUG9pbnQgaXMgdXN1YWxseSBhIGZ1bmN0aW9uXG4gKiBwcm92aWRlZCBieSBGcmFtZXIgdG8gYWxsb3cgbWVhc3VyZWQgcG9pbnRzIHRvIGJlIGNvcnJlY3RlZCBmb3IgZGV2aWNlIHNjYWxpbmcuIFRoaXMgaXMgdXNlZFxuICogd2hlbiBtZWFzdXJpbmcgRE9NIGVsZW1lbnRzIGFuZCBET00gZXZlbnQgcG9pbnRzLlxuICovXG5mdW5jdGlvbiB0cmFuc2Zvcm1Cb3hQb2ludHMocG9pbnQsIHRyYW5zZm9ybVBvaW50KSB7XG4gICAgaWYgKCF0cmFuc2Zvcm1Qb2ludClcbiAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgIGNvbnN0IHRvcExlZnQgPSB0cmFuc2Zvcm1Qb2ludCh7IHg6IHBvaW50LmxlZnQsIHk6IHBvaW50LnRvcCB9KTtcbiAgICBjb25zdCBib3R0b21SaWdodCA9IHRyYW5zZm9ybVBvaW50KHsgeDogcG9pbnQucmlnaHQsIHk6IHBvaW50LmJvdHRvbSB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IHRvcExlZnQueSxcbiAgICAgICAgbGVmdDogdG9wTGVmdC54LFxuICAgICAgICBib3R0b206IGJvdHRvbVJpZ2h0LnksXG4gICAgICAgIHJpZ2h0OiBib3R0b21SaWdodC54LFxuICAgIH07XG59XG5cbmV4cG9ydCB7IGNvbnZlcnRCb3VuZGluZ0JveFRvQm94LCBjb252ZXJ0Qm94VG9Cb3VuZGluZ0JveCwgdHJhbnNmb3JtQm94UG9pbnRzIH07XG4iLCJmdW5jdGlvbiBpc0lkZW50aXR5U2NhbGUoc2NhbGUpIHtcbiAgICByZXR1cm4gc2NhbGUgPT09IHVuZGVmaW5lZCB8fCBzY2FsZSA9PT0gMTtcbn1cbmZ1bmN0aW9uIGhhc1NjYWxlKHsgc2NhbGUsIHNjYWxlWCwgc2NhbGVZIH0pIHtcbiAgICByZXR1cm4gKCFpc0lkZW50aXR5U2NhbGUoc2NhbGUpIHx8XG4gICAgICAgICFpc0lkZW50aXR5U2NhbGUoc2NhbGVYKSB8fFxuICAgICAgICAhaXNJZGVudGl0eVNjYWxlKHNjYWxlWSkpO1xufVxuZnVuY3Rpb24gaGFzVHJhbnNmb3JtKHZhbHVlcykge1xuICAgIHJldHVybiAoaGFzU2NhbGUodmFsdWVzKSB8fFxuICAgICAgICBoYXNUcmFuc2xhdGUodmFsdWVzLngpIHx8XG4gICAgICAgIGhhc1RyYW5zbGF0ZSh2YWx1ZXMueSkgfHxcbiAgICAgICAgdmFsdWVzLnogfHxcbiAgICAgICAgdmFsdWVzLnJvdGF0ZSB8fFxuICAgICAgICB2YWx1ZXMucm90YXRlWCB8fFxuICAgICAgICB2YWx1ZXMucm90YXRlWSk7XG59XG5mdW5jdGlvbiBoYXNUcmFuc2xhdGUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdmFsdWUgIT09IFwiMCVcIjtcbn1cblxuZXhwb3J0IHsgaGFzU2NhbGUsIGhhc1RyYW5zZm9ybSB9O1xuIiwiaW1wb3J0IHsgbWl4IH0gZnJvbSAncG9wbW90aW9uJztcbmltcG9ydCB7IGhhc1RyYW5zZm9ybSB9IGZyb20gJy4uL3V0aWxzL2hhcy10cmFuc2Zvcm0ubWpzJztcblxuLyoqXG4gKiBTY2FsZXMgYSBwb2ludCBiYXNlZCBvbiBhIGZhY3RvciBhbmQgYW4gb3JpZ2luUG9pbnRcbiAqL1xuZnVuY3Rpb24gc2NhbGVQb2ludChwb2ludCwgc2NhbGUsIG9yaWdpblBvaW50KSB7XG4gICAgY29uc3QgZGlzdGFuY2VGcm9tT3JpZ2luID0gcG9pbnQgLSBvcmlnaW5Qb2ludDtcbiAgICBjb25zdCBzY2FsZWQgPSBzY2FsZSAqIGRpc3RhbmNlRnJvbU9yaWdpbjtcbiAgICByZXR1cm4gb3JpZ2luUG9pbnQgKyBzY2FsZWQ7XG59XG4vKipcbiAqIEFwcGxpZXMgYSB0cmFuc2xhdGUvc2NhbGUgZGVsdGEgdG8gYSBwb2ludFxuICovXG5mdW5jdGlvbiBhcHBseVBvaW50RGVsdGEocG9pbnQsIHRyYW5zbGF0ZSwgc2NhbGUsIG9yaWdpblBvaW50LCBib3hTY2FsZSkge1xuICAgIGlmIChib3hTY2FsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBvaW50ID0gc2NhbGVQb2ludChwb2ludCwgYm94U2NhbGUsIG9yaWdpblBvaW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHNjYWxlUG9pbnQocG9pbnQsIHNjYWxlLCBvcmlnaW5Qb2ludCkgKyB0cmFuc2xhdGU7XG59XG4vKipcbiAqIEFwcGxpZXMgYSB0cmFuc2xhdGUvc2NhbGUgZGVsdGEgdG8gYW4gYXhpc1xuICovXG5mdW5jdGlvbiBhcHBseUF4aXNEZWx0YShheGlzLCB0cmFuc2xhdGUgPSAwLCBzY2FsZSA9IDEsIG9yaWdpblBvaW50LCBib3hTY2FsZSkge1xuICAgIGF4aXMubWluID0gYXBwbHlQb2ludERlbHRhKGF4aXMubWluLCB0cmFuc2xhdGUsIHNjYWxlLCBvcmlnaW5Qb2ludCwgYm94U2NhbGUpO1xuICAgIGF4aXMubWF4ID0gYXBwbHlQb2ludERlbHRhKGF4aXMubWF4LCB0cmFuc2xhdGUsIHNjYWxlLCBvcmlnaW5Qb2ludCwgYm94U2NhbGUpO1xufVxuLyoqXG4gKiBBcHBsaWVzIGEgdHJhbnNsYXRlL3NjYWxlIGRlbHRhIHRvIGEgYm94XG4gKi9cbmZ1bmN0aW9uIGFwcGx5Qm94RGVsdGEoYm94LCB7IHgsIHkgfSkge1xuICAgIGFwcGx5QXhpc0RlbHRhKGJveC54LCB4LnRyYW5zbGF0ZSwgeC5zY2FsZSwgeC5vcmlnaW5Qb2ludCk7XG4gICAgYXBwbHlBeGlzRGVsdGEoYm94LnksIHkudHJhbnNsYXRlLCB5LnNjYWxlLCB5Lm9yaWdpblBvaW50KTtcbn1cbi8qKlxuICogQXBwbHkgYSB0cmVlIG9mIGRlbHRhcyB0byBhIGJveC4gV2UgZG8gdGhpcyB0byBjYWxjdWxhdGUgdGhlIGVmZmVjdCBvZiBhbGwgdGhlIHRyYW5zZm9ybXNcbiAqIGluIGEgdHJlZSB1cG9uIG91ciBib3ggYmVmb3JlIHRoZW4gY2FsY3VsYXRpbmcgaG93IHRvIHByb2plY3QgaXQgaW50byBvdXIgZGVzaXJlZCB2aWV3cG9ydC1yZWxhdGl2ZSBib3hcbiAqXG4gKiBUaGlzIGlzIHRoZSBmaW5hbCBuZXN0ZWQgbG9vcCB3aXRoaW4gdXBkYXRlTGF5b3V0RGVsdGEgZm9yIGZ1dHVyZSByZWZhY3RvcmluZ1xuICovXG5mdW5jdGlvbiBhcHBseVRyZWVEZWx0YXMoYm94LCB0cmVlU2NhbGUsIHRyZWVQYXRoLCBpc1NoYXJlZFRyYW5zaXRpb24gPSBmYWxzZSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgdHJlZUxlbmd0aCA9IHRyZWVQYXRoLmxlbmd0aDtcbiAgICBpZiAoIXRyZWVMZW5ndGgpXG4gICAgICAgIHJldHVybjtcbiAgICAvLyBSZXNldCB0aGUgdHJlZVNjYWxlXG4gICAgdHJlZVNjYWxlLnggPSB0cmVlU2NhbGUueSA9IDE7XG4gICAgbGV0IG5vZGU7XG4gICAgbGV0IGRlbHRhO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJlZUxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG5vZGUgPSB0cmVlUGF0aFtpXTtcbiAgICAgICAgZGVsdGEgPSBub2RlLnByb2plY3Rpb25EZWx0YTtcbiAgICAgICAgaWYgKCgoX2IgPSAoX2EgPSBub2RlLmluc3RhbmNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3R5bGUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5kaXNwbGF5KSA9PT0gXCJjb250ZW50c1wiKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGlmIChpc1NoYXJlZFRyYW5zaXRpb24gJiZcbiAgICAgICAgICAgIG5vZGUub3B0aW9ucy5sYXlvdXRTY3JvbGwgJiZcbiAgICAgICAgICAgIG5vZGUuc2Nyb2xsICYmXG4gICAgICAgICAgICBub2RlICE9PSBub2RlLnJvb3QpIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybUJveChib3gsIHsgeDogLW5vZGUuc2Nyb2xsLngsIHk6IC1ub2RlLnNjcm9sbC55IH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWx0YSkge1xuICAgICAgICAgICAgLy8gSW5jb3BvcmF0ZSBlYWNoIGFuY2VzdG9yJ3Mgc2NhbGUgaW50byBhIGN1bG11bGF0aXZlIHRyZWVTY2FsZSBmb3IgdGhpcyBjb21wb25lbnRcbiAgICAgICAgICAgIHRyZWVTY2FsZS54ICo9IGRlbHRhLnguc2NhbGU7XG4gICAgICAgICAgICB0cmVlU2NhbGUueSAqPSBkZWx0YS55LnNjYWxlO1xuICAgICAgICAgICAgLy8gQXBwbHkgZWFjaCBhbmNlc3RvcidzIGNhbGN1bGF0ZWQgZGVsdGEgaW50byB0aGlzIGNvbXBvbmVudCdzIHJlY29yZGVkIGxheW91dCBib3hcbiAgICAgICAgICAgIGFwcGx5Qm94RGVsdGEoYm94LCBkZWx0YSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU2hhcmVkVHJhbnNpdGlvbiAmJiBoYXNUcmFuc2Zvcm0obm9kZS5sYXRlc3RWYWx1ZXMpKSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm1Cb3goYm94LCBub2RlLmxhdGVzdFZhbHVlcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB0cmFuc2xhdGVBeGlzKGF4aXMsIGRpc3RhbmNlKSB7XG4gICAgYXhpcy5taW4gPSBheGlzLm1pbiArIGRpc3RhbmNlO1xuICAgIGF4aXMubWF4ID0gYXhpcy5tYXggKyBkaXN0YW5jZTtcbn1cbi8qKlxuICogQXBwbHkgYSB0cmFuc2Zvcm0gdG8gYW4gYXhpcyBmcm9tIHRoZSBsYXRlc3QgcmVzb2x2ZWQgbW90aW9uIHZhbHVlcy5cbiAqIFRoaXMgZnVuY3Rpb24gYmFzaWNhbGx5IGFjdHMgYXMgYSBicmlkZ2UgYmV0d2VlbiBhIGZsYXQgbW90aW9uIHZhbHVlIG1hcFxuICogYW5kIGFwcGx5QXhpc0RlbHRhXG4gKi9cbmZ1bmN0aW9uIHRyYW5zZm9ybUF4aXMoYXhpcywgdHJhbnNmb3JtcywgW2tleSwgc2NhbGVLZXksIG9yaWdpbktleV0pIHtcbiAgICBjb25zdCBheGlzT3JpZ2luID0gdHJhbnNmb3Jtc1tvcmlnaW5LZXldICE9PSB1bmRlZmluZWQgPyB0cmFuc2Zvcm1zW29yaWdpbktleV0gOiAwLjU7XG4gICAgY29uc3Qgb3JpZ2luUG9pbnQgPSBtaXgoYXhpcy5taW4sIGF4aXMubWF4LCBheGlzT3JpZ2luKTtcbiAgICAvLyBBcHBseSB0aGUgYXhpcyBkZWx0YSB0byB0aGUgZmluYWwgYXhpc1xuICAgIGFwcGx5QXhpc0RlbHRhKGF4aXMsIHRyYW5zZm9ybXNba2V5XSwgdHJhbnNmb3Jtc1tzY2FsZUtleV0sIG9yaWdpblBvaW50LCB0cmFuc2Zvcm1zLnNjYWxlKTtcbn1cbi8qKlxuICogVGhlIG5hbWVzIG9mIHRoZSBtb3Rpb24gdmFsdWVzIHdlIHdhbnQgdG8gYXBwbHkgYXMgdHJhbnNsYXRpb24sIHNjYWxlIGFuZCBvcmlnaW4uXG4gKi9cbmNvbnN0IHhLZXlzID0gW1wieFwiLCBcInNjYWxlWFwiLCBcIm9yaWdpblhcIl07XG5jb25zdCB5S2V5cyA9IFtcInlcIiwgXCJzY2FsZVlcIiwgXCJvcmlnaW5ZXCJdO1xuLyoqXG4gKiBBcHBseSBhIHRyYW5zZm9ybSB0byBhIGJveCBmcm9tIHRoZSBsYXRlc3QgcmVzb2x2ZWQgbW90aW9uIHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtQm94KGJveCwgdHJhbnNmb3JtKSB7XG4gICAgdHJhbnNmb3JtQXhpcyhib3gueCwgdHJhbnNmb3JtLCB4S2V5cyk7XG4gICAgdHJhbnNmb3JtQXhpcyhib3gueSwgdHJhbnNmb3JtLCB5S2V5cyk7XG59XG5cbmV4cG9ydCB7IGFwcGx5QXhpc0RlbHRhLCBhcHBseUJveERlbHRhLCBhcHBseVBvaW50RGVsdGEsIGFwcGx5VHJlZURlbHRhcywgc2NhbGVQb2ludCwgdHJhbnNmb3JtQXhpcywgdHJhbnNmb3JtQm94LCB0cmFuc2xhdGVBeGlzIH07XG4iLCJpbXBvcnQgeyBjb252ZXJ0Qm91bmRpbmdCb3hUb0JveCwgdHJhbnNmb3JtQm94UG9pbnRzIH0gZnJvbSAnLi4vZ2VvbWV0cnkvY29udmVyc2lvbi5tanMnO1xuaW1wb3J0IHsgdHJhbnNsYXRlQXhpcyB9IGZyb20gJy4uL2dlb21ldHJ5L2RlbHRhLWFwcGx5Lm1qcyc7XG5cbmZ1bmN0aW9uIG1lYXN1cmVWaWV3cG9ydEJveChpbnN0YW5jZSwgdHJhbnNmb3JtUG9pbnQpIHtcbiAgICByZXR1cm4gY29udmVydEJvdW5kaW5nQm94VG9Cb3godHJhbnNmb3JtQm94UG9pbnRzKGluc3RhbmNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB0cmFuc2Zvcm1Qb2ludCkpO1xufVxuZnVuY3Rpb24gbWVhc3VyZVBhZ2VCb3goZWxlbWVudCwgcm9vdFByb2plY3Rpb25Ob2RlLCB0cmFuc2Zvcm1QYWdlUG9pbnQpIHtcbiAgICBjb25zdCB2aWV3cG9ydEJveCA9IG1lYXN1cmVWaWV3cG9ydEJveChlbGVtZW50LCB0cmFuc2Zvcm1QYWdlUG9pbnQpO1xuICAgIGNvbnN0IHsgc2Nyb2xsIH0gPSByb290UHJvamVjdGlvbk5vZGU7XG4gICAgaWYgKHNjcm9sbCkge1xuICAgICAgICB0cmFuc2xhdGVBeGlzKHZpZXdwb3J0Qm94LngsIHNjcm9sbC54KTtcbiAgICAgICAgdHJhbnNsYXRlQXhpcyh2aWV3cG9ydEJveC55LCBzY3JvbGwueSk7XG4gICAgfVxuICAgIHJldHVybiB2aWV3cG9ydEJveDtcbn1cblxuZXhwb3J0IHsgbWVhc3VyZVBhZ2VCb3gsIG1lYXN1cmVWaWV3cG9ydEJveCB9O1xuIiwiaW1wb3J0IHsgaW52YXJpYW50IH0gZnJvbSAnaGV5LWxpc3Rlbic7XG5pbXBvcnQgeyBQYW5TZXNzaW9uIH0gZnJvbSAnLi4vUGFuU2Vzc2lvbi5tanMnO1xuaW1wb3J0IHsgZ2V0R2xvYmFsTG9jayB9IGZyb20gJy4vdXRpbHMvbG9jay5tanMnO1xuaW1wb3J0IHsgaXNSZWZPYmplY3QgfSBmcm9tICcuLi8uLi91dGlscy9pcy1yZWYtb2JqZWN0Lm1qcyc7XG5pbXBvcnQgeyBhZGRQb2ludGVyRXZlbnQgfSBmcm9tICcuLi8uLi9ldmVudHMvdXNlLXBvaW50ZXItZXZlbnQubWpzJztcbmltcG9ydCB7IGFwcGx5Q29uc3RyYWludHMsIGNhbGNSZWxhdGl2ZUNvbnN0cmFpbnRzLCByZXNvbHZlRHJhZ0VsYXN0aWMsIHJlYmFzZUF4aXNDb25zdHJhaW50cywgY2FsY1ZpZXdwb3J0Q29uc3RyYWludHMsIGNhbGNPcmlnaW4sIGRlZmF1bHRFbGFzdGljIH0gZnJvbSAnLi91dGlscy9jb25zdHJhaW50cy5tanMnO1xuaW1wb3J0IHsgQW5pbWF0aW9uVHlwZSB9IGZyb20gJy4uLy4uL3JlbmRlci91dGlscy90eXBlcy5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQm94IH0gZnJvbSAnLi4vLi4vcHJvamVjdGlvbi9nZW9tZXRyeS9tb2RlbHMubWpzJztcbmltcG9ydCB7IGVhY2hBeGlzIH0gZnJvbSAnLi4vLi4vcHJvamVjdGlvbi91dGlscy9lYWNoLWF4aXMubWpzJztcbmltcG9ydCB7IG1lYXN1cmVQYWdlQm94IH0gZnJvbSAnLi4vLi4vcHJvamVjdGlvbi91dGlscy9tZWFzdXJlLm1qcyc7XG5pbXBvcnQgeyBleHRyYWN0RXZlbnRJbmZvIH0gZnJvbSAnLi4vLi4vZXZlbnRzL2V2ZW50LWluZm8ubWpzJztcbmltcG9ydCB7IHN0YXJ0QW5pbWF0aW9uIH0gZnJvbSAnLi4vLi4vYW5pbWF0aW9uL3V0aWxzL3RyYW5zaXRpb25zLm1qcyc7XG5pbXBvcnQgeyBjb252ZXJ0Qm94VG9Cb3VuZGluZ0JveCwgY29udmVydEJvdW5kaW5nQm94VG9Cb3ggfSBmcm9tICcuLi8uLi9wcm9qZWN0aW9uL2dlb21ldHJ5L2NvbnZlcnNpb24ubWpzJztcbmltcG9ydCB7IGFkZERvbUV2ZW50IH0gZnJvbSAnLi4vLi4vZXZlbnRzL3VzZS1kb20tZXZlbnQubWpzJztcbmltcG9ydCB7IG1peCB9IGZyb20gJ3BvcG1vdGlvbic7XG5pbXBvcnQgeyBwZXJjZW50IH0gZnJvbSAnc3R5bGUtdmFsdWUtdHlwZXMnO1xuaW1wb3J0IHsgY2FsY0xlbmd0aCB9IGZyb20gJy4uLy4uL3Byb2plY3Rpb24vZ2VvbWV0cnkvZGVsdGEtY2FsYy5tanMnO1xuXG5jb25zdCBlbGVtZW50RHJhZ0NvbnRyb2xzID0gbmV3IFdlYWtNYXAoKTtcbi8qKlxuICpcbiAqL1xuLy8gbGV0IGxhdGVzdFBvaW50ZXJFdmVudDogQW55UG9pbnRlckV2ZW50XG5jbGFzcyBWaXN1YWxFbGVtZW50RHJhZ0NvbnRyb2xzIHtcbiAgICBjb25zdHJ1Y3Rvcih2aXN1YWxFbGVtZW50KSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBkcmFnIGdlc3R1cmUgbG9jaywgZW5zdXJpbmcgb25seSBvbmUgY29tcG9uZW50XG4gICAgICAgIC8vIGNhbiBcImNhcHR1cmVcIiB0aGUgZHJhZyBvZiBvbmUgb3IgYm90aCBheGVzLlxuICAgICAgICAvLyBUT0RPOiBMb29rIGludG8gbW92aW5nIHRoaXMgaW50byBwYW5zZXNzaW9uP1xuICAgICAgICB0aGlzLm9wZW5HbG9iYWxMb2NrID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3VycmVudERpcmVjdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luUG9pbnQgPSB7IHg6IDAsIHk6IDAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwZXJtaXR0ZWQgYm91bmRhcmllcyBvZiB0cmF2ZWwsIGluIHBpeGVscy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29uc3RyYWludHMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNNdXRhdGVkQ29uc3RyYWludHMgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwZXItYXhpcyByZXNvbHZlZCBlbGFzdGljIHZhbHVlcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZWxhc3RpYyA9IGNyZWF0ZUJveCgpO1xuICAgICAgICB0aGlzLnZpc3VhbEVsZW1lbnQgPSB2aXN1YWxFbGVtZW50O1xuICAgIH1cbiAgICBzdGFydChvcmlnaW5FdmVudCwgeyBzbmFwVG9DdXJzb3IgPSBmYWxzZSB9ID0ge30pIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvbid0IHN0YXJ0IGRyYWdnaW5nIGlmIHRoaXMgY29tcG9uZW50IGlzIGV4aXRpbmdcbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLnZpc3VhbEVsZW1lbnQuaXNQcmVzZW50ID09PSBmYWxzZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgb25TZXNzaW9uU3RhcnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIC8vIFN0b3AgYW55IGFuaW1hdGlvbnMgb24gYm90aCBheGlzIHZhbHVlcyBpbW1lZGlhdGVseS4gVGhpcyBhbGxvd3MgdGhlIHVzZXIgdG8gdGhyb3cgYW5kIGNhdGNoXG4gICAgICAgICAgICAvLyB0aGUgY29tcG9uZW50LlxuICAgICAgICAgICAgdGhpcy5zdG9wQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICBpZiAoc25hcFRvQ3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zbmFwVG9DdXJzb3IoZXh0cmFjdEV2ZW50SW5mbyhldmVudCwgXCJwYWdlXCIpLnBvaW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgb25TdGFydCA9IChldmVudCwgaW5mbykgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgLy8gQXR0ZW1wdCB0byBncmFiIHRoZSBnbG9iYWwgZHJhZyBnZXN0dXJlIGxvY2sgLSBtYXliZSBtYWtlIHRoaXMgcGFydCBvZiBQYW5TZXNzaW9uXG4gICAgICAgICAgICBjb25zdCB7IGRyYWcsIGRyYWdQcm9wYWdhdGlvbiwgb25EcmFnU3RhcnQgfSA9IHRoaXMuZ2V0UHJvcHMoKTtcbiAgICAgICAgICAgIGlmIChkcmFnICYmICFkcmFnUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcGVuR2xvYmFsTG9jaylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuR2xvYmFsTG9jaygpO1xuICAgICAgICAgICAgICAgIHRoaXMub3Blbkdsb2JhbExvY2sgPSBnZXRHbG9iYWxMb2NrKGRyYWcpO1xuICAgICAgICAgICAgICAgIC8vIElmIHdlIGRvbiAndCBoYXZlIHRoZSBsb2NrLCBkb24ndCBzdGFydCBkcmFnZ2luZ1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcGVuR2xvYmFsTG9jaylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudERpcmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmVDb25zdHJhaW50cygpO1xuICAgICAgICAgICAgaWYgKHRoaXMudmlzdWFsRWxlbWVudC5wcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52aXN1YWxFbGVtZW50LnByb2plY3Rpb24uaXNBbmltYXRpb25CbG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpc3VhbEVsZW1lbnQucHJvamVjdGlvbi50YXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJlY29yZCBnZXN0dXJlIG9yaWdpblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBlYWNoQXhpcygoYXhpcykgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSB0aGlzLmdldEF4aXNNb3Rpb25WYWx1ZShheGlzKS5nZXQoKSB8fCAwO1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIElmIHRoZSBNb3Rpb25WYWx1ZSBpcyBhIHBlcmNlbnRhZ2UgdmFsdWUgY29udmVydCB0byBweFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChwZXJjZW50LnRlc3QoY3VycmVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVhc3VyZWRBeGlzID0gKF9iID0gKF9hID0gdGhpcy52aXN1YWxFbGVtZW50LnByb2plY3Rpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sYXlvdXQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5hY3R1YWxbYXhpc107XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZWFzdXJlZEF4aXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGNhbGNMZW5ndGgobWVhc3VyZWRBeGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBsZW5ndGggKiAocGFyc2VGbG9hdChjdXJyZW50KSAvIDEwMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5Qb2ludFtheGlzXSA9IGN1cnJlbnQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIEZpcmUgb25EcmFnU3RhcnQgZXZlbnRcbiAgICAgICAgICAgIG9uRHJhZ1N0YXJ0ID09PSBudWxsIHx8IG9uRHJhZ1N0YXJ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkRyYWdTdGFydChldmVudCwgaW5mbyk7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLnZpc3VhbEVsZW1lbnQuYW5pbWF0aW9uU3RhdGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXRBY3RpdmUoQW5pbWF0aW9uVHlwZS5EcmFnLCB0cnVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgb25Nb3ZlID0gKGV2ZW50LCBpbmZvKSA9PiB7XG4gICAgICAgICAgICAvLyBsYXRlc3RQb2ludGVyRXZlbnQgPSBldmVudFxuICAgICAgICAgICAgY29uc3QgeyBkcmFnUHJvcGFnYXRpb24sIGRyYWdEaXJlY3Rpb25Mb2NrLCBvbkRpcmVjdGlvbkxvY2ssIG9uRHJhZywgfSA9IHRoaXMuZ2V0UHJvcHMoKTtcbiAgICAgICAgICAgIC8vIElmIHdlIGRpZG4ndCBzdWNjZXNzZnVsbHkgcmVjZWl2ZSB0aGUgZ2VzdHVyZSBsb2NrLCBlYXJseSByZXR1cm4uXG4gICAgICAgICAgICBpZiAoIWRyYWdQcm9wYWdhdGlvbiAmJiAhdGhpcy5vcGVuR2xvYmFsTG9jaylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB7IG9mZnNldCB9ID0gaW5mbztcbiAgICAgICAgICAgIC8vIEF0dGVtcHQgdG8gZGV0ZWN0IGRyYWcgZGlyZWN0aW9uIGlmIGRpcmVjdGlvbkxvY2sgaXMgdHJ1ZVxuICAgICAgICAgICAgaWYgKGRyYWdEaXJlY3Rpb25Mb2NrICYmIHRoaXMuY3VycmVudERpcmVjdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudERpcmVjdGlvbiA9IGdldEN1cnJlbnREaXJlY3Rpb24ob2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSd2ZSBzdWNjZXNzZnVsbHkgc2V0IGEgZGlyZWN0aW9uLCBub3RpZnkgbGlzdGVuZXJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50RGlyZWN0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uRGlyZWN0aW9uTG9jayA9PT0gbnVsbCB8fCBvbkRpcmVjdGlvbkxvY2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uRGlyZWN0aW9uTG9jayh0aGlzLmN1cnJlbnREaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBVcGRhdGUgZWFjaCBwb2ludCB3aXRoIHRoZSBsYXRlc3QgcG9zaXRpb25cbiAgICAgICAgICAgIHRoaXMudXBkYXRlQXhpcyhcInhcIiwgaW5mby5wb2ludCwgb2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQXhpcyhcInlcIiwgaW5mby5wb2ludCwgb2Zmc2V0KTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWRlYWxseSB3ZSB3b3VsZCBsZWF2ZSB0aGUgcmVuZGVyZXIgdG8gZmlyZSBuYXR1cmFsbHkgYXQgdGhlIGVuZCBvZlxuICAgICAgICAgICAgICogdGhpcyBmcmFtZSBidXQgaWYgdGhlIGVsZW1lbnQgaXMgYWJvdXQgdG8gY2hhbmdlIGxheW91dCBhcyB0aGUgcmVzdWx0XG4gICAgICAgICAgICAgKiBvZiBhIHJlLXJlbmRlciB3ZSB3YW50IHRvIGVuc3VyZSB0aGUgYnJvd3NlciBjYW4gcmVhZCB0aGUgbGF0ZXN0XG4gICAgICAgICAgICAgKiBib3VuZGluZyBib3ggdG8gZW5zdXJlIHRoZSBwb2ludGVyIGFuZCBlbGVtZW50IGRvbid0IGZhbGwgb3V0IG9mIHN5bmMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMudmlzdWFsRWxlbWVudC5zeW5jUmVuZGVyKCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRoaXMgbXVzdCBmaXJlIGFmdGVyIHRoZSBzeW5jUmVuZGVyIGNhbGwgYXMgaXQgbWlnaHQgdHJpZ2dlciBhIHN0YXRlXG4gICAgICAgICAgICAgKiBjaGFuZ2Ugd2hpY2ggaXRzZWxmIG1pZ2h0IHRyaWdnZXIgYSBsYXlvdXQgdXBkYXRlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBvbkRyYWcgPT09IG51bGwgfHwgb25EcmFnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkRyYWcoZXZlbnQsIGluZm8pO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvblNlc3Npb25FbmQgPSAoZXZlbnQsIGluZm8pID0+IHRoaXMuc3RvcChldmVudCwgaW5mbyk7XG4gICAgICAgIHRoaXMucGFuU2Vzc2lvbiA9IG5ldyBQYW5TZXNzaW9uKG9yaWdpbkV2ZW50LCB7XG4gICAgICAgICAgICBvblNlc3Npb25TdGFydCxcbiAgICAgICAgICAgIG9uU3RhcnQsXG4gICAgICAgICAgICBvbk1vdmUsXG4gICAgICAgICAgICBvblNlc3Npb25FbmQsXG4gICAgICAgIH0sIHsgdHJhbnNmb3JtUGFnZVBvaW50OiB0aGlzLnZpc3VhbEVsZW1lbnQuZ2V0VHJhbnNmb3JtUGFnZVBvaW50KCkgfSk7XG4gICAgfVxuICAgIHN0b3AoZXZlbnQsIGluZm8pIHtcbiAgICAgICAgY29uc3QgaXNEcmFnZ2luZyA9IHRoaXMuaXNEcmFnZ2luZztcbiAgICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgICAgaWYgKCFpc0RyYWdnaW5nKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IHZlbG9jaXR5IH0gPSBpbmZvO1xuICAgICAgICB0aGlzLnN0YXJ0QW5pbWF0aW9uKHZlbG9jaXR5KTtcbiAgICAgICAgY29uc3QgeyBvbkRyYWdFbmQgfSA9IHRoaXMuZ2V0UHJvcHMoKTtcbiAgICAgICAgb25EcmFnRW5kID09PSBudWxsIHx8IG9uRHJhZ0VuZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25EcmFnRW5kKGV2ZW50LCBpbmZvKTtcbiAgICB9XG4gICAgY2FuY2VsKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMudmlzdWFsRWxlbWVudC5wcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnZpc3VhbEVsZW1lbnQucHJvamVjdGlvbi5pc0FuaW1hdGlvbkJsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAoX2EgPSB0aGlzLnBhblNlc3Npb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbmQoKTtcbiAgICAgICAgdGhpcy5wYW5TZXNzaW9uID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCB7IGRyYWdQcm9wYWdhdGlvbiB9ID0gdGhpcy5nZXRQcm9wcygpO1xuICAgICAgICBpZiAoIWRyYWdQcm9wYWdhdGlvbiAmJiB0aGlzLm9wZW5HbG9iYWxMb2NrKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW5HbG9iYWxMb2NrKCk7XG4gICAgICAgICAgICB0aGlzLm9wZW5HbG9iYWxMb2NrID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAoX2IgPSB0aGlzLnZpc3VhbEVsZW1lbnQuYW5pbWF0aW9uU3RhdGUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zZXRBY3RpdmUoQW5pbWF0aW9uVHlwZS5EcmFnLCBmYWxzZSk7XG4gICAgfVxuICAgIHVwZGF0ZUF4aXMoYXhpcywgX3BvaW50LCBvZmZzZXQpIHtcbiAgICAgICAgY29uc3QgeyBkcmFnIH0gPSB0aGlzLmdldFByb3BzKCk7XG4gICAgICAgIC8vIElmIHdlJ3JlIG5vdCBkcmFnZ2luZyB0aGlzIGF4aXMsIGRvIGFuIGVhcmx5IHJldHVybi5cbiAgICAgICAgaWYgKCFvZmZzZXQgfHwgIXNob3VsZERyYWcoYXhpcywgZHJhZywgdGhpcy5jdXJyZW50RGlyZWN0aW9uKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgYXhpc1ZhbHVlID0gdGhpcy5nZXRBeGlzTW90aW9uVmFsdWUoYXhpcyk7XG4gICAgICAgIGxldCBuZXh0ID0gdGhpcy5vcmlnaW5Qb2ludFtheGlzXSArIG9mZnNldFtheGlzXTtcbiAgICAgICAgLy8gQXBwbHkgY29uc3RyYWludHNcbiAgICAgICAgaWYgKHRoaXMuY29uc3RyYWludHMgJiYgdGhpcy5jb25zdHJhaW50c1theGlzXSkge1xuICAgICAgICAgICAgbmV4dCA9IGFwcGx5Q29uc3RyYWludHMobmV4dCwgdGhpcy5jb25zdHJhaW50c1theGlzXSwgdGhpcy5lbGFzdGljW2F4aXNdKTtcbiAgICAgICAgfVxuICAgICAgICBheGlzVmFsdWUuc2V0KG5leHQpO1xuICAgIH1cbiAgICByZXNvbHZlQ29uc3RyYWludHMoKSB7XG4gICAgICAgIGNvbnN0IHsgZHJhZ0NvbnN0cmFpbnRzLCBkcmFnRWxhc3RpYyB9ID0gdGhpcy5nZXRQcm9wcygpO1xuICAgICAgICBjb25zdCB7IGxheW91dCB9ID0gdGhpcy52aXN1YWxFbGVtZW50LnByb2plY3Rpb24gfHwge307XG4gICAgICAgIGNvbnN0IHByZXZDb25zdHJhaW50cyA9IHRoaXMuY29uc3RyYWludHM7XG4gICAgICAgIGlmIChkcmFnQ29uc3RyYWludHMgJiYgaXNSZWZPYmplY3QoZHJhZ0NvbnN0cmFpbnRzKSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNvbnN0cmFpbnRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50cyA9IHRoaXMucmVzb2x2ZVJlZkNvbnN0cmFpbnRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZHJhZ0NvbnN0cmFpbnRzICYmIGxheW91dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludHMgPSBjYWxjUmVsYXRpdmVDb25zdHJhaW50cyhsYXlvdXQuYWN0dWFsLCBkcmFnQ29uc3RyYWludHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50cyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxhc3RpYyA9IHJlc29sdmVEcmFnRWxhc3RpYyhkcmFnRWxhc3RpYyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB3ZSdyZSBvdXRwdXR0aW5nIHRvIGV4dGVybmFsIE1vdGlvblZhbHVlcywgd2Ugd2FudCB0byByZWJhc2UgdGhlIG1lYXN1cmVkIGNvbnN0cmFpbnRzXG4gICAgICAgICAqIGZyb20gdmlld3BvcnQtcmVsYXRpdmUgdG8gY29tcG9uZW50LXJlbGF0aXZlLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHByZXZDb25zdHJhaW50cyAhPT0gdGhpcy5jb25zdHJhaW50cyAmJlxuICAgICAgICAgICAgbGF5b3V0ICYmXG4gICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnRzICYmXG4gICAgICAgICAgICAhdGhpcy5oYXNNdXRhdGVkQ29uc3RyYWludHMpIHtcbiAgICAgICAgICAgIGVhY2hBeGlzKChheGlzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0QXhpc01vdGlvblZhbHVlKGF4aXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludHNbYXhpc10gPSByZWJhc2VBeGlzQ29uc3RyYWludHMobGF5b3V0LmFjdHVhbFtheGlzXSwgdGhpcy5jb25zdHJhaW50c1theGlzXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVzb2x2ZVJlZkNvbnN0cmFpbnRzKCkge1xuICAgICAgICBjb25zdCB7IGRyYWdDb25zdHJhaW50czogY29uc3RyYWludHMsIG9uTWVhc3VyZURyYWdDb25zdHJhaW50cyB9ID0gdGhpcy5nZXRQcm9wcygpO1xuICAgICAgICBpZiAoIWNvbnN0cmFpbnRzIHx8ICFpc1JlZk9iamVjdChjb25zdHJhaW50cykpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnRzRWxlbWVudCA9IGNvbnN0cmFpbnRzLmN1cnJlbnQ7XG4gICAgICAgIGludmFyaWFudChjb25zdHJhaW50c0VsZW1lbnQgIT09IG51bGwsIFwiSWYgYGRyYWdDb25zdHJhaW50c2AgaXMgc2V0IGFzIGEgUmVhY3QgcmVmLCB0aGF0IHJlZiBtdXN0IGJlIHBhc3NlZCB0byBhbm90aGVyIGNvbXBvbmVudCdzIGByZWZgIHByb3AuXCIpO1xuICAgICAgICBjb25zdCB7IHByb2plY3Rpb24gfSA9IHRoaXMudmlzdWFsRWxlbWVudDtcbiAgICAgICAgLy8gVE9ET1xuICAgICAgICBpZiAoIXByb2plY3Rpb24gfHwgIXByb2plY3Rpb24ubGF5b3V0KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCBjb25zdHJhaW50c0JveCA9IG1lYXN1cmVQYWdlQm94KGNvbnN0cmFpbnRzRWxlbWVudCwgcHJvamVjdGlvbi5yb290LCB0aGlzLnZpc3VhbEVsZW1lbnQuZ2V0VHJhbnNmb3JtUGFnZVBvaW50KCkpO1xuICAgICAgICBsZXQgbWVhc3VyZWRDb25zdHJhaW50cyA9IGNhbGNWaWV3cG9ydENvbnN0cmFpbnRzKHByb2plY3Rpb24ubGF5b3V0LmFjdHVhbCwgY29uc3RyYWludHNCb3gpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlcmUncyBhbiBvbk1lYXN1cmVEcmFnQ29uc3RyYWludHMgbGlzdGVuZXIgd2UgY2FsbCBpdCBhbmRcbiAgICAgICAgICogaWYgZGlmZmVyZW50IGNvbnN0cmFpbnRzIGFyZSByZXR1cm5lZCwgc2V0IGNvbnN0cmFpbnRzIHRvIHRoYXRcbiAgICAgICAgICovXG4gICAgICAgIGlmIChvbk1lYXN1cmVEcmFnQ29uc3RyYWludHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJDb25zdHJhaW50cyA9IG9uTWVhc3VyZURyYWdDb25zdHJhaW50cyhjb252ZXJ0Qm94VG9Cb3VuZGluZ0JveChtZWFzdXJlZENvbnN0cmFpbnRzKSk7XG4gICAgICAgICAgICB0aGlzLmhhc011dGF0ZWRDb25zdHJhaW50cyA9ICEhdXNlckNvbnN0cmFpbnRzO1xuICAgICAgICAgICAgaWYgKHVzZXJDb25zdHJhaW50cykge1xuICAgICAgICAgICAgICAgIG1lYXN1cmVkQ29uc3RyYWludHMgPSBjb252ZXJ0Qm91bmRpbmdCb3hUb0JveCh1c2VyQ29uc3RyYWludHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZWFzdXJlZENvbnN0cmFpbnRzO1xuICAgIH1cbiAgICBzdGFydEFuaW1hdGlvbih2ZWxvY2l0eSkge1xuICAgICAgICBjb25zdCB7IGRyYWcsIGRyYWdNb21lbnR1bSwgZHJhZ0VsYXN0aWMsIGRyYWdUcmFuc2l0aW9uLCBkcmFnU25hcFRvT3JpZ2luLCBvbkRyYWdUcmFuc2l0aW9uRW5kLCB9ID0gdGhpcy5nZXRQcm9wcygpO1xuICAgICAgICBjb25zdCBjb25zdHJhaW50cyA9IHRoaXMuY29uc3RyYWludHMgfHwge307XG4gICAgICAgIGNvbnN0IG1vbWVudHVtQW5pbWF0aW9ucyA9IGVhY2hBeGlzKChheGlzKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoIXNob3VsZERyYWcoYXhpcywgZHJhZywgdGhpcy5jdXJyZW50RGlyZWN0aW9uKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB0cmFuc2l0aW9uID0gKF9hID0gY29uc3RyYWludHMgPT09IG51bGwgfHwgY29uc3RyYWludHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnN0cmFpbnRzW2F4aXNdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fTtcbiAgICAgICAgICAgIGlmIChkcmFnU25hcFRvT3JpZ2luKVxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24gPSB7IG1pbjogMCwgbWF4OiAwIH07XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIE92ZXJkYW1wIHRoZSBib3VuZGFyeSBzcHJpbmcgaWYgYGRyYWdFbGFzdGljYCBpcyBkaXNhYmxlZC4gVGhlcmUncyBzdGlsbCBhIGZyYW1lXG4gICAgICAgICAgICAgKiBvZiBzcHJpbmcgYW5pbWF0aW9ucyBzbyB3ZSBzaG91bGQgbG9vayBpbnRvIGFkZGluZyBhIGRpc2FibGUgc3ByaW5nIG9wdGlvbiB0byBgaW5lcnRpYWAuXG4gICAgICAgICAgICAgKiBXZSBjb3VsZCBkbyBzb21ldGhpbmcgaGVyZSB3aGVyZSB3ZSBhZmZlY3QgdGhlIGBib3VuY2VTdGlmZm5lc3NgIGFuZCBgYm91bmNlRGFtcGluZ2BcbiAgICAgICAgICAgICAqIHVzaW5nIHRoZSB2YWx1ZSBvZiBgZHJhZ0VsYXN0aWNgLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBib3VuY2VTdGlmZm5lc3MgPSBkcmFnRWxhc3RpYyA/IDIwMCA6IDEwMDAwMDA7XG4gICAgICAgICAgICBjb25zdCBib3VuY2VEYW1waW5nID0gZHJhZ0VsYXN0aWMgPyA0MCA6IDEwMDAwMDAwO1xuICAgICAgICAgICAgY29uc3QgaW5lcnRpYSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImluZXJ0aWFcIixcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eTogZHJhZ01vbWVudHVtID8gdmVsb2NpdHlbYXhpc10gOiAwLFxuICAgICAgICAgICAgICAgIGJvdW5jZVN0aWZmbmVzcyxcbiAgICAgICAgICAgICAgICBib3VuY2VEYW1waW5nLFxuICAgICAgICAgICAgICAgIHRpbWVDb25zdGFudDogNzUwLFxuICAgICAgICAgICAgICAgIHJlc3REZWx0YTogMSxcbiAgICAgICAgICAgICAgICByZXN0U3BlZWQ6IDEwLFxuICAgICAgICAgICAgICAgIC4uLmRyYWdUcmFuc2l0aW9uLFxuICAgICAgICAgICAgICAgIC4uLnRyYW5zaXRpb24sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gSWYgd2UncmUgbm90IGFuaW1hdGluZyBvbiBhbiBleHRlcm5hbGx5LXByb3ZpZGVkIGBNb3Rpb25WYWx1ZWAgd2UgY2FuIHVzZSB0aGVcbiAgICAgICAgICAgIC8vIGNvbXBvbmVudCdzIGFuaW1hdGlvbiBjb250cm9scyB3aGljaCB3aWxsIGhhbmRsZSBpbnRlcmFjdGlvbnMgd2l0aCB3aGlsZUhvdmVyIChldGMpLFxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHdlIGp1c3QgaGF2ZSB0byBhbmltYXRlIHRoZSBgTW90aW9uVmFsdWVgIGl0c2VsZi5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXJ0QXhpc1ZhbHVlQW5pbWF0aW9uKGF4aXMsIGluZXJ0aWEpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gUnVuIGFsbCBhbmltYXRpb25zIGFuZCB0aGVuIHJlc29sdmUgdGhlIG5ldyBkcmFnIGNvbnN0cmFpbnRzLlxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwobW9tZW50dW1BbmltYXRpb25zKS50aGVuKG9uRHJhZ1RyYW5zaXRpb25FbmQpO1xuICAgIH1cbiAgICBzdGFydEF4aXNWYWx1ZUFuaW1hdGlvbihheGlzLCB0cmFuc2l0aW9uKSB7XG4gICAgICAgIGNvbnN0IGF4aXNWYWx1ZSA9IHRoaXMuZ2V0QXhpc01vdGlvblZhbHVlKGF4aXMpO1xuICAgICAgICByZXR1cm4gc3RhcnRBbmltYXRpb24oYXhpcywgYXhpc1ZhbHVlLCAwLCB0cmFuc2l0aW9uKTtcbiAgICB9XG4gICAgc3RvcEFuaW1hdGlvbigpIHtcbiAgICAgICAgZWFjaEF4aXMoKGF4aXMpID0+IHRoaXMuZ2V0QXhpc01vdGlvblZhbHVlKGF4aXMpLnN0b3AoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERyYWcgd29ya3MgZGlmZmVyZW50bHkgZGVwZW5kaW5nIG9uIHdoaWNoIHByb3BzIGFyZSBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIC0gSWYgX2RyYWdYIGFuZCBfZHJhZ1kgYXJlIHByb3ZpZGVkLCB3ZSBvdXRwdXQgdGhlIGdlc3R1cmUgZGVsdGEgZGlyZWN0bHkgdG8gdGhvc2UgbW90aW9uIHZhbHVlcy5cbiAgICAgKiAtIE90aGVyd2lzZSwgd2UgYXBwbHkgdGhlIGRlbHRhIHRvIHRoZSB4L3kgbW90aW9uIHZhbHVlcy5cbiAgICAgKi9cbiAgICBnZXRBeGlzTW90aW9uVmFsdWUoYXhpcykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBkcmFnS2V5ID0gXCJfZHJhZ1wiICsgYXhpcy50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBjb25zdCBleHRlcm5hbE1vdGlvblZhbHVlID0gdGhpcy52aXN1YWxFbGVtZW50LmdldFByb3BzKClbZHJhZ0tleV07XG4gICAgICAgIHJldHVybiBleHRlcm5hbE1vdGlvblZhbHVlXG4gICAgICAgICAgICA/IGV4dGVybmFsTW90aW9uVmFsdWVcbiAgICAgICAgICAgIDogdGhpcy52aXN1YWxFbGVtZW50LmdldFZhbHVlKGF4aXMsIChfYiA9IChfYSA9IHRoaXMudmlzdWFsRWxlbWVudC5nZXRQcm9wcygpLmluaXRpYWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtheGlzXSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMCk7XG4gICAgfVxuICAgIHNuYXBUb0N1cnNvcihwb2ludCkge1xuICAgICAgICBlYWNoQXhpcygoYXhpcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBkcmFnIH0gPSB0aGlzLmdldFByb3BzKCk7XG4gICAgICAgICAgICAvLyBJZiB3ZSdyZSBub3QgZHJhZ2dpbmcgdGhpcyBheGlzLCBkbyBhbiBlYXJseSByZXR1cm4uXG4gICAgICAgICAgICBpZiAoIXNob3VsZERyYWcoYXhpcywgZHJhZywgdGhpcy5jdXJyZW50RGlyZWN0aW9uKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB7IHByb2plY3Rpb24gfSA9IHRoaXMudmlzdWFsRWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IGF4aXNWYWx1ZSA9IHRoaXMuZ2V0QXhpc01vdGlvblZhbHVlKGF4aXMpO1xuICAgICAgICAgICAgaWYgKHByb2plY3Rpb24gJiYgcHJvamVjdGlvbi5sYXlvdXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG1pbiwgbWF4IH0gPSBwcm9qZWN0aW9uLmxheW91dC5hY3R1YWxbYXhpc107XG4gICAgICAgICAgICAgICAgYXhpc1ZhbHVlLnNldChwb2ludFtheGlzXSAtIG1peChtaW4sIG1heCwgMC41KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSB2aWV3cG9ydCByZXNpemVzIHdlIHdhbnQgdG8gY2hlY2sgaWYgdGhlIG1lYXN1cmVkIGNvbnN0cmFpbnRzXG4gICAgICogaGF2ZSBjaGFuZ2VkIGFuZCwgaWYgc28sIHJlcG9zaXRpb24gdGhlIGVsZW1lbnQgd2l0aGluIHRob3NlIG5ldyBjb25zdHJhaW50c1xuICAgICAqIHJlbGF0aXZlIHRvIHdoZXJlIGl0IHdhcyBiZWZvcmUgdGhlIHJlc2l6ZS5cbiAgICAgKi9cbiAgICBzY2FsZVBvc2l0aW9uV2l0aGluQ29uc3RyYWludHMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgeyBkcmFnLCBkcmFnQ29uc3RyYWludHMgfSA9IHRoaXMuZ2V0UHJvcHMoKTtcbiAgICAgICAgY29uc3QgeyBwcm9qZWN0aW9uIH0gPSB0aGlzLnZpc3VhbEVsZW1lbnQ7XG4gICAgICAgIGlmICghaXNSZWZPYmplY3QoZHJhZ0NvbnN0cmFpbnRzKSB8fCAhcHJvamVjdGlvbiB8fCAhdGhpcy5jb25zdHJhaW50cylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0b3AgY3VycmVudCBhbmltYXRpb25zIGFzIHRoZXJlIGNhbiBiZSB2aXN1YWwgZ2xpdGNoaW5nIGlmIHdlIHRyeSB0byBkb1xuICAgICAgICAgKiB0aGlzIG1pZC1hbmltYXRpb25cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RvcEFuaW1hdGlvbigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVjb3JkIHRoZSByZWxhdGl2ZSBwb3NpdGlvbiBvZiB0aGUgZHJhZ2dlZCBlbGVtZW50IHJlbGF0aXZlIHRvIHRoZVxuICAgICAgICAgKiBjb25zdHJhaW50cyBib3ggYW5kIHNhdmUgYXMgYSBwcm9ncmVzcyB2YWx1ZS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGJveFByb2dyZXNzID0geyB4OiAwLCB5OiAwIH07XG4gICAgICAgIGVhY2hBeGlzKChheGlzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBheGlzVmFsdWUgPSB0aGlzLmdldEF4aXNNb3Rpb25WYWx1ZShheGlzKTtcbiAgICAgICAgICAgIGlmIChheGlzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXRlc3QgPSBheGlzVmFsdWUuZ2V0KCk7XG4gICAgICAgICAgICAgICAgYm94UHJvZ3Jlc3NbYXhpc10gPSBjYWxjT3JpZ2luKHsgbWluOiBsYXRlc3QsIG1heDogbGF0ZXN0IH0sIHRoaXMuY29uc3RyYWludHNbYXhpc10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSB0aGUgbGF5b3V0IG9mIHRoaXMgZWxlbWVudCBhbmQgcmVzb2x2ZSB0aGUgbGF0ZXN0IGRyYWcgY29uc3RyYWludHNcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHsgdHJhbnNmb3JtVGVtcGxhdGUgfSA9IHRoaXMudmlzdWFsRWxlbWVudC5nZXRQcm9wcygpO1xuICAgICAgICB0aGlzLnZpc3VhbEVsZW1lbnQuZ2V0SW5zdGFuY2UoKS5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1UZW1wbGF0ZVxuICAgICAgICAgICAgPyB0cmFuc2Zvcm1UZW1wbGF0ZSh7fSwgXCJcIilcbiAgICAgICAgICAgIDogXCJub25lXCI7XG4gICAgICAgIChfYSA9IHByb2plY3Rpb24ucm9vdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnVwZGF0ZVNjcm9sbCgpO1xuICAgICAgICBwcm9qZWN0aW9uLnVwZGF0ZUxheW91dCgpO1xuICAgICAgICB0aGlzLnJlc29sdmVDb25zdHJhaW50cygpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRm9yIGVhY2ggYXhpcywgY2FsY3VsYXRlIHRoZSBjdXJyZW50IHByb2dyZXNzIG9mIHRoZSBsYXlvdXQgYXhpc1xuICAgICAgICAgKiB3aXRoaW4gdGhlIG5ldyBjb25zdHJhaW50cy5cbiAgICAgICAgICovXG4gICAgICAgIGVhY2hBeGlzKChheGlzKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXNob3VsZERyYWcoYXhpcywgZHJhZywgbnVsbCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDYWxjdWxhdGUgYSBuZXcgdHJhbnNmb3JtIGJhc2VkIG9uIHRoZSBwcmV2aW91cyBib3ggcHJvZ3Jlc3NcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgYXhpc1ZhbHVlID0gdGhpcy5nZXRBeGlzTW90aW9uVmFsdWUoYXhpcyk7XG4gICAgICAgICAgICBjb25zdCB7IG1pbiwgbWF4IH0gPSB0aGlzLmNvbnN0cmFpbnRzW2F4aXNdO1xuICAgICAgICAgICAgYXhpc1ZhbHVlLnNldChtaXgobWluLCBtYXgsIGJveFByb2dyZXNzW2F4aXNdKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhZGRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgZWxlbWVudERyYWdDb250cm9scy5zZXQodGhpcy52aXN1YWxFbGVtZW50LCB0aGlzKTtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMudmlzdWFsRWxlbWVudC5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXR0YWNoIGEgcG9pbnRlcmRvd24gZXZlbnQgbGlzdGVuZXIgb24gdGhpcyBET00gZWxlbWVudCB0byBpbml0aWF0ZSBkcmFnIHRyYWNraW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3Qgc3RvcFBvaW50ZXJMaXN0ZW5lciA9IGFkZFBvaW50ZXJFdmVudChlbGVtZW50LCBcInBvaW50ZXJkb3duXCIsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBkcmFnLCBkcmFnTGlzdGVuZXIgPSB0cnVlIH0gPSB0aGlzLmdldFByb3BzKCk7XG4gICAgICAgICAgICBkcmFnICYmIGRyYWdMaXN0ZW5lciAmJiB0aGlzLnN0YXJ0KGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG1lYXN1cmVEcmFnQ29uc3RyYWludHMgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGRyYWdDb25zdHJhaW50cyB9ID0gdGhpcy5nZXRQcm9wcygpO1xuICAgICAgICAgICAgaWYgKGlzUmVmT2JqZWN0KGRyYWdDb25zdHJhaW50cykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnRzID0gdGhpcy5yZXNvbHZlUmVmQ29uc3RyYWludHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyBwcm9qZWN0aW9uIH0gPSB0aGlzLnZpc3VhbEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHN0b3BNZWFzdXJlTGF5b3V0TGlzdGVuZXIgPSBwcm9qZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJtZWFzdXJlXCIsIG1lYXN1cmVEcmFnQ29uc3RyYWludHMpO1xuICAgICAgICBpZiAocHJvamVjdGlvbiAmJiAhcHJvamVjdGlvbi5sYXlvdXQpIHtcbiAgICAgICAgICAgIChfYSA9IHByb2plY3Rpb24ucm9vdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnVwZGF0ZVNjcm9sbCgpO1xuICAgICAgICAgICAgcHJvamVjdGlvbi51cGRhdGVMYXlvdXQoKTtcbiAgICAgICAgfVxuICAgICAgICBtZWFzdXJlRHJhZ0NvbnN0cmFpbnRzKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBdHRhY2ggYSB3aW5kb3cgcmVzaXplIGxpc3RlbmVyIHRvIHNjYWxlIHRoZSBkcmFnZ2FibGUgdGFyZ2V0IHdpdGhpbiBpdHMgZGVmaW5lZFxuICAgICAgICAgKiBjb25zdHJhaW50cyBhcyB0aGUgd2luZG93IHJlc2l6ZXMuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBzdG9wUmVzaXplTGlzdGVuZXIgPSBhZGREb21FdmVudCh3aW5kb3csIFwicmVzaXplXCIsICgpID0+IHRoaXMuc2NhbGVQb3NpdGlvbldpdGhpbkNvbnN0cmFpbnRzKCkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIGVsZW1lbnQncyBsYXlvdXQgY2hhbmdlcywgY2FsY3VsYXRlIHRoZSBkZWx0YSBhbmQgYXBwbHkgdGhhdCB0b1xuICAgICAgICAgKiB0aGUgZHJhZyBnZXN0dXJlJ3Mgb3JpZ2luIHBvaW50LlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3Qgc3RvcExheW91dFVwZGF0ZUxpc3RlbmVyID0gcHJvamVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiZGlkVXBkYXRlXCIsICgoeyBkZWx0YSwgaGFzTGF5b3V0Q2hhbmdlZCB9KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0RyYWdnaW5nICYmIGhhc0xheW91dENoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICBlYWNoQXhpcygoYXhpcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtb3Rpb25WYWx1ZSA9IHRoaXMuZ2V0QXhpc01vdGlvblZhbHVlKGF4aXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW1vdGlvblZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpblBvaW50W2F4aXNdICs9IGRlbHRhW2F4aXNdLnRyYW5zbGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgbW90aW9uVmFsdWUuc2V0KG1vdGlvblZhbHVlLmdldCgpICsgZGVsdGFbYXhpc10udHJhbnNsYXRlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpc3VhbEVsZW1lbnQuc3luY1JlbmRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBzdG9wUmVzaXplTGlzdGVuZXIoKTtcbiAgICAgICAgICAgIHN0b3BQb2ludGVyTGlzdGVuZXIoKTtcbiAgICAgICAgICAgIHN0b3BNZWFzdXJlTGF5b3V0TGlzdGVuZXIoKTtcbiAgICAgICAgICAgIHN0b3BMYXlvdXRVcGRhdGVMaXN0ZW5lciA9PT0gbnVsbCB8fCBzdG9wTGF5b3V0VXBkYXRlTGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0b3BMYXlvdXRVcGRhdGVMaXN0ZW5lcigpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRQcm9wcygpIHtcbiAgICAgICAgY29uc3QgcHJvcHMgPSB0aGlzLnZpc3VhbEVsZW1lbnQuZ2V0UHJvcHMoKTtcbiAgICAgICAgY29uc3QgeyBkcmFnID0gZmFsc2UsIGRyYWdEaXJlY3Rpb25Mb2NrID0gZmFsc2UsIGRyYWdQcm9wYWdhdGlvbiA9IGZhbHNlLCBkcmFnQ29uc3RyYWludHMgPSBmYWxzZSwgZHJhZ0VsYXN0aWMgPSBkZWZhdWx0RWxhc3RpYywgZHJhZ01vbWVudHVtID0gdHJ1ZSwgfSA9IHByb3BzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgICAgICBkcmFnLFxuICAgICAgICAgICAgZHJhZ0RpcmVjdGlvbkxvY2ssXG4gICAgICAgICAgICBkcmFnUHJvcGFnYXRpb24sXG4gICAgICAgICAgICBkcmFnQ29uc3RyYWludHMsXG4gICAgICAgICAgICBkcmFnRWxhc3RpYyxcbiAgICAgICAgICAgIGRyYWdNb21lbnR1bSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5mdW5jdGlvbiBzaG91bGREcmFnKGRpcmVjdGlvbiwgZHJhZywgY3VycmVudERpcmVjdGlvbikge1xuICAgIHJldHVybiAoKGRyYWcgPT09IHRydWUgfHwgZHJhZyA9PT0gZGlyZWN0aW9uKSAmJlxuICAgICAgICAoY3VycmVudERpcmVjdGlvbiA9PT0gbnVsbCB8fCBjdXJyZW50RGlyZWN0aW9uID09PSBkaXJlY3Rpb24pKTtcbn1cbi8qKlxuICogQmFzZWQgb24gYW4geC95IG9mZnNldCBkZXRlcm1pbmUgdGhlIGN1cnJlbnQgZHJhZyBkaXJlY3Rpb24uIElmIGJvdGggYXhpcycgb2Zmc2V0cyBhcmUgbG93ZXJcbiAqIHRoYW4gdGhlIHByb3ZpZGVkIHRocmVzaG9sZCwgcmV0dXJuIGBudWxsYC5cbiAqXG4gKiBAcGFyYW0gb2Zmc2V0IC0gVGhlIHgveSBvZmZzZXQgZnJvbSBvcmlnaW4uXG4gKiBAcGFyYW0gbG9ja1RocmVzaG9sZCAtIChPcHRpb25hbCkgLSB0aGUgbWluaW11bSBhYnNvbHV0ZSBvZmZzZXQgYmVmb3JlIHdlIGNhbiBkZXRlcm1pbmUgYSBkcmFnIGRpcmVjdGlvbi5cbiAqL1xuZnVuY3Rpb24gZ2V0Q3VycmVudERpcmVjdGlvbihvZmZzZXQsIGxvY2tUaHJlc2hvbGQgPSAxMCkge1xuICAgIGxldCBkaXJlY3Rpb24gPSBudWxsO1xuICAgIGlmIChNYXRoLmFicyhvZmZzZXQueSkgPiBsb2NrVGhyZXNob2xkKSB7XG4gICAgICAgIGRpcmVjdGlvbiA9IFwieVwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChNYXRoLmFicyhvZmZzZXQueCkgPiBsb2NrVGhyZXNob2xkKSB7XG4gICAgICAgIGRpcmVjdGlvbiA9IFwieFwiO1xuICAgIH1cbiAgICByZXR1cm4gZGlyZWN0aW9uO1xufVxuXG5leHBvcnQgeyBWaXN1YWxFbGVtZW50RHJhZ0NvbnRyb2xzLCBlbGVtZW50RHJhZ0NvbnRyb2xzIH07XG4iLCJjb25zdCBjcmVhdGVBeGlzRGVsdGEgPSAoKSA9PiAoe1xuICAgIHRyYW5zbGF0ZTogMCxcbiAgICBzY2FsZTogMSxcbiAgICBvcmlnaW46IDAsXG4gICAgb3JpZ2luUG9pbnQ6IDAsXG59KTtcbmNvbnN0IGNyZWF0ZURlbHRhID0gKCkgPT4gKHtcbiAgICB4OiBjcmVhdGVBeGlzRGVsdGEoKSxcbiAgICB5OiBjcmVhdGVBeGlzRGVsdGEoKSxcbn0pO1xuY29uc3QgY3JlYXRlQXhpcyA9ICgpID0+ICh7IG1pbjogMCwgbWF4OiAwIH0pO1xuY29uc3QgY3JlYXRlQm94ID0gKCkgPT4gKHtcbiAgICB4OiBjcmVhdGVBeGlzKCksXG4gICAgeTogY3JlYXRlQXhpcygpLFxufSk7XG5cbmV4cG9ydCB7IGNyZWF0ZUF4aXMsIGNyZWF0ZUF4aXNEZWx0YSwgY3JlYXRlQm94LCBjcmVhdGVEZWx0YSB9O1xuIiwiaW1wb3J0IHsgdXNlRHJhZyB9IGZyb20gJy4uLy4uL2dlc3R1cmVzL2RyYWcvdXNlLWRyYWcubWpzJztcbmltcG9ydCB7IHVzZVBhbkdlc3R1cmUgfSBmcm9tICcuLi8uLi9nZXN0dXJlcy91c2UtcGFuLWdlc3R1cmUubWpzJztcbmltcG9ydCB7IG1ha2VSZW5kZXJsZXNzQ29tcG9uZW50IH0gZnJvbSAnLi4vdXRpbHMvbWFrZS1yZW5kZXJsZXNzLWNvbXBvbmVudC5tanMnO1xuXG5jb25zdCBkcmFnID0ge1xuICAgIHBhbjogbWFrZVJlbmRlcmxlc3NDb21wb25lbnQodXNlUGFuR2VzdHVyZSksXG4gICAgZHJhZzogbWFrZVJlbmRlcmxlc3NDb21wb25lbnQodXNlRHJhZyksXG59O1xuXG5leHBvcnQgeyBkcmFnIH07XG4iLCJpbXBvcnQgeyB1c2VSZWYsIHVzZUNvbnRleHQsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IE1vdGlvbkNvbmZpZ0NvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L01vdGlvbkNvbmZpZ0NvbnRleHQubWpzJztcbmltcG9ydCB7IHVzZVVubW91bnRFZmZlY3QgfSBmcm9tICcuLi91dGlscy91c2UtdW5tb3VudC1lZmZlY3QubWpzJztcbmltcG9ydCB7IHVzZVBvaW50ZXJFdmVudCB9IGZyb20gJy4uL2V2ZW50cy91c2UtcG9pbnRlci1ldmVudC5tanMnO1xuaW1wb3J0IHsgUGFuU2Vzc2lvbiB9IGZyb20gJy4vUGFuU2Vzc2lvbi5tanMnO1xuXG4vKipcbiAqXG4gKiBAcGFyYW0gaGFuZGxlcnMgLVxuICogQHBhcmFtIHJlZiAtXG4gKlxuICogQHByaXZhdGVSZW1hcmtzXG4gKiBDdXJyZW50bHkgdGhpcyBzZXRzIG5ldyBwYW4gZ2VzdHVyZSBmdW5jdGlvbnMgZXZlcnkgcmVuZGVyLiBUaGUgbWVtbyByb3V0ZSBoYXMgYmVlbiBleHBsb3JlZFxuICogaW4gdGhlIHBhc3QgYnV0IHVsdGltYXRlbHkgd2UncmUgc3RpbGwgY3JlYXRpbmcgbmV3IGZ1bmN0aW9ucyBldmVyeSByZW5kZXIuIEFuIG9wdGltaXNhdGlvblxuICogdG8gZXhwbG9yZSBpcyBjcmVhdGluZyB0aGUgcGFuIGdlc3R1cmVzIGFuZCBsb2FkaW5nIHRoZW0gaW50byBhIGByZWZgLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiB1c2VQYW5HZXN0dXJlKHsgb25QYW4sIG9uUGFuU3RhcnQsIG9uUGFuRW5kLCBvblBhblNlc3Npb25TdGFydCwgdmlzdWFsRWxlbWVudCwgfSkge1xuICAgIGNvbnN0IGhhc1BhbkV2ZW50cyA9IG9uUGFuIHx8IG9uUGFuU3RhcnQgfHwgb25QYW5FbmQgfHwgb25QYW5TZXNzaW9uU3RhcnQ7XG4gICAgY29uc3QgcGFuU2Vzc2lvbiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCB7IHRyYW5zZm9ybVBhZ2VQb2ludCB9ID0gdXNlQ29udGV4dChNb3Rpb25Db25maWdDb250ZXh0KTtcbiAgICBjb25zdCBoYW5kbGVycyA9IHtcbiAgICAgICAgb25TZXNzaW9uU3RhcnQ6IG9uUGFuU2Vzc2lvblN0YXJ0LFxuICAgICAgICBvblN0YXJ0OiBvblBhblN0YXJ0LFxuICAgICAgICBvbk1vdmU6IG9uUGFuLFxuICAgICAgICBvbkVuZDogKGV2ZW50LCBpbmZvKSA9PiB7XG4gICAgICAgICAgICBwYW5TZXNzaW9uLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgb25QYW5FbmQgJiYgb25QYW5FbmQoZXZlbnQsIGluZm8pO1xuICAgICAgICB9LFxuICAgIH07XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHBhblNlc3Npb24uY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcGFuU2Vzc2lvbi5jdXJyZW50LnVwZGF0ZUhhbmRsZXJzKGhhbmRsZXJzKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGZ1bmN0aW9uIG9uUG9pbnRlckRvd24oZXZlbnQpIHtcbiAgICAgICAgcGFuU2Vzc2lvbi5jdXJyZW50ID0gbmV3IFBhblNlc3Npb24oZXZlbnQsIGhhbmRsZXJzLCB7XG4gICAgICAgICAgICB0cmFuc2Zvcm1QYWdlUG9pbnQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1c2VQb2ludGVyRXZlbnQodmlzdWFsRWxlbWVudCwgXCJwb2ludGVyZG93blwiLCBoYXNQYW5FdmVudHMgJiYgb25Qb2ludGVyRG93bik7XG4gICAgdXNlVW5tb3VudEVmZmVjdCgoKSA9PiBwYW5TZXNzaW9uLmN1cnJlbnQgJiYgcGFuU2Vzc2lvbi5jdXJyZW50LmVuZCgpKTtcbn1cblxuZXhwb3J0IHsgdXNlUGFuR2VzdHVyZSB9O1xuIiwiaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVmlzdWFsRWxlbWVudERyYWdDb250cm9scyB9IGZyb20gJy4vVmlzdWFsRWxlbWVudERyYWdDb250cm9scy5tanMnO1xuaW1wb3J0IHsgdXNlQ29uc3RhbnQgfSBmcm9tICcuLi8uLi91dGlscy91c2UtY29uc3RhbnQubWpzJztcblxuLyoqXG4gKiBBIGhvb2sgdGhhdCBhbGxvd3MgYW4gZWxlbWVudCB0byBiZSBkcmFnZ2VkLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiB1c2VEcmFnKHByb3BzKSB7XG4gICAgY29uc3QgeyBkcmFnQ29udHJvbHM6IGdyb3VwRHJhZ0NvbnRyb2xzLCB2aXN1YWxFbGVtZW50IH0gPSBwcm9wcztcbiAgICBjb25zdCBkcmFnQ29udHJvbHMgPSB1c2VDb25zdGFudCgoKSA9PiBuZXcgVmlzdWFsRWxlbWVudERyYWdDb250cm9scyh2aXN1YWxFbGVtZW50KSk7XG4gICAgLy8gSWYgd2UndmUgYmVlbiBwcm92aWRlZCBhIERyYWdDb250cm9scyBmb3IgbWFudWFsIGNvbnRyb2wgb3ZlciB0aGUgZHJhZyBnZXN0dXJlLFxuICAgIC8vIHN1YnNjcmliZSB0aGlzIGNvbXBvbmVudCB0byBpdCBvbiBtb3VudC5cbiAgICB1c2VFZmZlY3QoKCkgPT4gZ3JvdXBEcmFnQ29udHJvbHMgJiYgZ3JvdXBEcmFnQ29udHJvbHMuc3Vic2NyaWJlKGRyYWdDb250cm9scyksIFtkcmFnQ29udHJvbHMsIGdyb3VwRHJhZ0NvbnRyb2xzXSk7XG4gICAgLy8gQXBwbHkgdGhlIGV2ZW50IGxpc3RlbmVycyB0byB0aGUgZWxlbWVudFxuICAgIHVzZUVmZmVjdCgoKSA9PiBkcmFnQ29udHJvbHMuYWRkTGlzdGVuZXJzKCksIFtkcmFnQ29udHJvbHNdKTtcbn1cblxuZXhwb3J0IHsgdXNlRHJhZyB9O1xuIiwiLy8gRG9lcyB0aGlzIGRldmljZSBwcmVmZXIgcmVkdWNlZCBtb3Rpb24/IFJldHVybnMgYG51bGxgIHNlcnZlci1zaWRlLlxuY29uc3QgcHJlZmVyc1JlZHVjZWRNb3Rpb24gPSB7IGN1cnJlbnQ6IG51bGwgfTtcbmNvbnN0IGhhc1JlZHVjZWRNb3Rpb25MaXN0ZW5lciA9IHsgY3VycmVudDogZmFsc2UgfTtcblxuZXhwb3J0IHsgaGFzUmVkdWNlZE1vdGlvbkxpc3RlbmVyLCBwcmVmZXJzUmVkdWNlZE1vdGlvbiB9O1xuIiwiaW1wb3J0IHsgU3Vic2NyaXB0aW9uTWFuYWdlciB9IGZyb20gJy4uLy4uL3V0aWxzL3N1YnNjcmlwdGlvbi1tYW5hZ2VyLm1qcyc7XG5cbmNvbnN0IG5hbWVzID0gW1xuICAgIFwiTGF5b3V0TWVhc3VyZVwiLFxuICAgIFwiQmVmb3JlTGF5b3V0TWVhc3VyZVwiLFxuICAgIFwiTGF5b3V0VXBkYXRlXCIsXG4gICAgXCJWaWV3cG9ydEJveFVwZGF0ZVwiLFxuICAgIFwiVXBkYXRlXCIsXG4gICAgXCJSZW5kZXJcIixcbiAgICBcIkFuaW1hdGlvbkNvbXBsZXRlXCIsXG4gICAgXCJMYXlvdXRBbmltYXRpb25Db21wbGV0ZVwiLFxuICAgIFwiQW5pbWF0aW9uU3RhcnRcIixcbiAgICBcIkxheW91dEFuaW1hdGlvblN0YXJ0XCIsXG4gICAgXCJTZXRBeGlzVGFyZ2V0XCIsXG4gICAgXCJVbm1vdW50XCIsXG5dO1xuZnVuY3Rpb24gY3JlYXRlTGlmZWN5Y2xlcygpIHtcbiAgICBjb25zdCBtYW5hZ2VycyA9IG5hbWVzLm1hcCgoKSA9PiBuZXcgU3Vic2NyaXB0aW9uTWFuYWdlcigpKTtcbiAgICBjb25zdCBwcm9wU3Vic2NyaXB0aW9ucyA9IHt9O1xuICAgIGNvbnN0IGxpZmVjeWNsZXMgPSB7XG4gICAgICAgIGNsZWFyQWxsTGlzdGVuZXJzOiAoKSA9PiBtYW5hZ2Vycy5mb3JFYWNoKChtYW5hZ2VyKSA9PiBtYW5hZ2VyLmNsZWFyKCkpLFxuICAgICAgICB1cGRhdGVQcm9wTGlzdGVuZXJzOiAocHJvcHMpID0+IHtcbiAgICAgICAgICAgIG5hbWVzLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgY29uc3Qgb24gPSBcIm9uXCIgKyBuYW1lO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3BMaXN0ZW5lciA9IHByb3BzW29uXTtcbiAgICAgICAgICAgICAgICAvLyBVbnN1YnNjcmliZSBleGlzdGluZyBzdWJzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAoX2EgPSBwcm9wU3Vic2NyaXB0aW9uc1tuYW1lXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcFN1YnNjcmlwdGlvbnMpO1xuICAgICAgICAgICAgICAgIC8vIEFkZCBuZXcgc3Vic2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgaWYgKHByb3BMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICBwcm9wU3Vic2NyaXB0aW9uc1tuYW1lXSA9IGxpZmVjeWNsZXNbb25dKHByb3BMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBtYW5hZ2Vycy5mb3JFYWNoKChtYW5hZ2VyLCBpKSA9PiB7XG4gICAgICAgIGxpZmVjeWNsZXNbXCJvblwiICsgbmFtZXNbaV1dID0gKGhhbmRsZXIpID0+IG1hbmFnZXIuYWRkKGhhbmRsZXIpO1xuICAgICAgICBsaWZlY3ljbGVzW1wibm90aWZ5XCIgKyBuYW1lc1tpXV0gPSAoLi4uYXJncykgPT4gbWFuYWdlci5ub3RpZnkoLi4uYXJncyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGxpZmVjeWNsZXM7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZUxpZmVjeWNsZXMgfTtcbiIsImltcG9ydCBzeW5jLCB7IGNhbmNlbFN5bmMgfSBmcm9tICdmcmFtZXN5bmMnO1xuaW1wb3J0IHsgaW5pdFByZWZlcnNSZWR1Y2VkTW90aW9uIH0gZnJvbSAnLi4vdXRpbHMvcmVkdWNlZC1tb3Rpb24vaW5kZXgubWpzJztcbmltcG9ydCB7IGhhc1JlZHVjZWRNb3Rpb25MaXN0ZW5lciwgcHJlZmVyc1JlZHVjZWRNb3Rpb24gfSBmcm9tICcuLi91dGlscy9yZWR1Y2VkLW1vdGlvbi9zdGF0ZS5tanMnO1xuaW1wb3J0IHsgbW90aW9uVmFsdWUgfSBmcm9tICcuLi92YWx1ZS9pbmRleC5tanMnO1xuaW1wb3J0IHsgaXNXaWxsQ2hhbmdlTW90aW9uVmFsdWUgfSBmcm9tICcuLi92YWx1ZS91c2Utd2lsbC1jaGFuZ2UvaXMubWpzJztcbmltcG9ydCB7IGlzTW90aW9uVmFsdWUgfSBmcm9tICcuLi92YWx1ZS91dGlscy9pcy1tb3Rpb24tdmFsdWUubWpzJztcbmltcG9ydCB7IHZhcmlhbnRQcmlvcml0eU9yZGVyIH0gZnJvbSAnLi91dGlscy9hbmltYXRpb24tc3RhdGUubWpzJztcbmltcG9ydCB7IGlzVmFyaWFudExhYmVsIH0gZnJvbSAnLi91dGlscy9pcy12YXJpYW50LWxhYmVsLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVMaWZlY3ljbGVzIH0gZnJvbSAnLi91dGlscy9saWZlY3ljbGVzLm1qcyc7XG5pbXBvcnQgeyB1cGRhdGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMgfSBmcm9tICcuL3V0aWxzL21vdGlvbi12YWx1ZXMubWpzJztcbmltcG9ydCB7IGlzQ29udHJvbGxpbmdWYXJpYW50cywgaXNWYXJpYW50Tm9kZSB9IGZyb20gJy4vdXRpbHMvaXMtY29udHJvbGxpbmctdmFyaWFudHMubWpzJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uL3V0aWxzL3Byb2Nlc3MubWpzJztcbmltcG9ydCB7IGludmFyaWFudCB9IGZyb20gJ2hleS1saXN0ZW4nO1xuaW1wb3J0IHsgZmVhdHVyZURlZmluaXRpb25zIH0gZnJvbSAnLi4vbW90aW9uL2ZlYXR1cmVzL2RlZmluaXRpb25zLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaXNSZWZPYmplY3QgfSBmcm9tICcuLi91dGlscy9pcy1yZWYtb2JqZWN0Lm1qcyc7XG5cbmNvbnN0IGZlYXR1cmVOYW1lcyA9IE9iamVjdC5rZXlzKGZlYXR1cmVEZWZpbml0aW9ucyk7XG5jb25zdCBudW1GZWF0dXJlcyA9IGZlYXR1cmVOYW1lcy5sZW5ndGg7XG5jb25zdCB2aXN1YWxFbGVtZW50ID0gKHsgdHJlZVR5cGUgPSBcIlwiLCBidWlsZCwgZ2V0QmFzZVRhcmdldCwgbWFrZVRhcmdldEFuaW1hdGFibGUsIG1lYXN1cmVWaWV3cG9ydEJveCwgcmVuZGVyOiByZW5kZXJJbnN0YW5jZSwgcmVhZFZhbHVlRnJvbUluc3RhbmNlLCByZW1vdmVWYWx1ZUZyb21SZW5kZXJTdGF0ZSwgc29ydE5vZGVQb3NpdGlvbiwgc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzLCB9KSA9PiAoeyBwYXJlbnQsIHByb3BzLCBwcmVzZW5jZUlkLCBibG9ja0luaXRpYWxBbmltYXRpb24sIHZpc3VhbFN0YXRlLCByZWR1Y2VkTW90aW9uQ29uZmlnLCB9LCBvcHRpb25zID0ge30pID0+IHtcbiAgICBsZXQgaXNNb3VudGVkID0gZmFsc2U7XG4gICAgY29uc3QgeyBsYXRlc3RWYWx1ZXMsIHJlbmRlclN0YXRlIH0gPSB2aXN1YWxTdGF0ZTtcbiAgICAvKipcbiAgICAgKiBUaGUgaW5zdGFuY2Ugb2YgdGhlIHJlbmRlci1zcGVjaWZpYyBub2RlIHRoYXQgd2lsbCBiZSBoeWRyYXRlZCBieSB0aGVcbiAgICAgKiBleHBvc2VkIFJlYWN0IHJlZi4gU28gZm9yIGV4YW1wbGUsIHRoaXMgdmlzdWFsIGVsZW1lbnQgY2FuIGhvc3QgYVxuICAgICAqIEhUTUxFbGVtZW50LCBwbGFpbiBvYmplY3QsIG9yIFRocmVlLmpzIG9iamVjdC4gVGhlIGZ1bmN0aW9ucyBwcm92aWRlZFxuICAgICAqIGluIFZpc3VhbEVsZW1lbnRDb25maWcgYWxsb3cgdXMgdG8gaW50ZXJmYWNlIHdpdGggdGhpcyBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBsZXQgaW5zdGFuY2U7XG4gICAgLyoqXG4gICAgICogTWFuYWdlcyB0aGUgc3Vic2NyaXB0aW9ucyBmb3IgYSB2aXN1YWwgZWxlbWVudCdzIGxpZmVjeWNsZSwgZm9yIGluc3RhbmNlXG4gICAgICogb25SZW5kZXJcbiAgICAgKi9cbiAgICBjb25zdCBsaWZlY3ljbGVzID0gY3JlYXRlTGlmZWN5Y2xlcygpO1xuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIGFsbCBtb3Rpb24gdmFsdWVzIGF0dGFjaGVkIHRvIHRoaXMgdmlzdWFsIGVsZW1lbnQuIE1vdGlvblxuICAgICAqIHZhbHVlcyBhcmUgc291cmNlIG9mIHRydXRoIGZvciBhbnkgZ2l2ZW4gYW5pbWF0ZWQgdmFsdWUuIEEgbW90aW9uXG4gICAgICogdmFsdWUgbWlnaHQgYmUgcHJvdmlkZWQgZXh0ZXJuYWxseSBieSB0aGUgY29tcG9uZW50IHZpYSBwcm9wcy5cbiAgICAgKi9cbiAgICBjb25zdCB2YWx1ZXMgPSBuZXcgTWFwKCk7XG4gICAgLyoqXG4gICAgICogQSBtYXAgb2YgZXZlcnkgc3Vic2NyaXB0aW9uIHRoYXQgYmluZHMgdGhlIHByb3ZpZGVkIG9yIGdlbmVyYXRlZFxuICAgICAqIG1vdGlvbiB2YWx1ZXMgb25DaGFuZ2UgbGlzdGVuZXJzIHRvIHRoaXMgdmlzdWFsIGVsZW1lbnQuXG4gICAgICovXG4gICAgY29uc3QgdmFsdWVTdWJzY3JpcHRpb25zID0gbmV3IE1hcCgpO1xuICAgIC8qKlxuICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBwcmV2aW91c2x5LXByb3ZpZGVkIG1vdGlvbiB2YWx1ZXMgYXMgcmV0dXJuZWRcbiAgICAgKiBmcm9tIHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcy4gV2UgdXNlIHRoZSBrZXlzIGluIGhlcmUgdG8gZGV0ZXJtaW5lXG4gICAgICogaWYgYW55IG1vdGlvbiB2YWx1ZXMgbmVlZCB0byBiZSByZW1vdmVkIGFmdGVyIHByb3BzIGFyZSB1cGRhdGVkLlxuICAgICAqL1xuICAgIGxldCBwcmV2TW90aW9uVmFsdWVzID0ge307XG4gICAgLyoqXG4gICAgICogV2hlbiB2YWx1ZXMgYXJlIHJlbW92ZWQgZnJvbSBhbGwgYW5pbWF0aW9uIHByb3BzIHdlIG5lZWQgdG8gc2VhcmNoXG4gICAgICogZm9yIGEgZmFsbGJhY2sgdmFsdWUgdG8gYW5pbWF0ZSB0by4gVGhlc2UgdmFsdWVzIGFyZSB0cmFja2VkIGluIGJhc2VUYXJnZXQuXG4gICAgICovXG4gICAgY29uc3QgYmFzZVRhcmdldCA9IHtcbiAgICAgICAgLi4ubGF0ZXN0VmFsdWVzLFxuICAgIH07XG4gICAgLy8gSW50ZXJuYWwgbWV0aG9kcyA9PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBPbiBtb3VudCwgdGhpcyB3aWxsIGJlIGh5ZHJhdGVkIHdpdGggYSBjYWxsYmFjayB0byBkaXNjb25uZWN0XG4gICAgICogdGhpcyB2aXN1YWwgZWxlbWVudCBmcm9tIGl0cyBwYXJlbnQgb24gdW5tb3VudC5cbiAgICAgKi9cbiAgICBsZXQgcmVtb3ZlRnJvbVZhcmlhbnRUcmVlO1xuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgZWxlbWVudCB3aXRoIHRoZSBsYXRlc3Qgc3R5bGVzIG91dHNpZGUgb2YgdGhlIFJlYWN0XG4gICAgICogcmVuZGVyIGxpZmVjeWNsZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKCFpbnN0YW5jZSB8fCAhaXNNb3VudGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0cmlnZ2VyQnVpbGQoKTtcbiAgICAgICAgcmVuZGVySW5zdGFuY2UoaW5zdGFuY2UsIHJlbmRlclN0YXRlLCBwcm9wcy5zdHlsZSwgZWxlbWVudC5wcm9qZWN0aW9uKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJpZ2dlckJ1aWxkKCkge1xuICAgICAgICBidWlsZChlbGVtZW50LCByZW5kZXJTdGF0ZSwgbGF0ZXN0VmFsdWVzLCBvcHRpb25zLCBwcm9wcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgbGlmZWN5Y2xlcy5ub3RpZnlVcGRhdGUobGF0ZXN0VmFsdWVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiaW5kVG9Nb3Rpb25WYWx1ZShrZXksIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJlbW92ZU9uQ2hhbmdlID0gdmFsdWUub25DaGFuZ2UoKGxhdGVzdFZhbHVlKSA9PiB7XG4gICAgICAgICAgICBsYXRlc3RWYWx1ZXNba2V5XSA9IGxhdGVzdFZhbHVlO1xuICAgICAgICAgICAgcHJvcHMub25VcGRhdGUgJiYgc3luYy51cGRhdGUodXBkYXRlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZW1vdmVPblJlbmRlclJlcXVlc3QgPSB2YWx1ZS5vblJlbmRlclJlcXVlc3QoZWxlbWVudC5zY2hlZHVsZVJlbmRlcik7XG4gICAgICAgIHZhbHVlU3Vic2NyaXB0aW9ucy5zZXQoa2V5LCAoKSA9PiB7XG4gICAgICAgICAgICByZW1vdmVPbkNoYW5nZSgpO1xuICAgICAgICAgICAgcmVtb3ZlT25SZW5kZXJSZXF1ZXN0KCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbnkgbW90aW9uIHZhbHVlcyB0aGF0IGFyZSBwcm92aWRlZCB0byB0aGUgZWxlbWVudCB3aGVuIGNyZWF0ZWRcbiAgICAgKiBhcmVuJ3QgeWV0IGJvdW5kIHRvIHRoZSBlbGVtZW50LCBhcyB0aGlzIHdvdWxkIHRlY2huaWNhbGx5IGJlIGltcHVyZS5cbiAgICAgKiBIb3dldmVyLCB3ZSBpdGVyYXRlIHRocm91Z2ggdGhlIG1vdGlvbiB2YWx1ZXMgYW5kIHNldCB0aGVtIHRvIHRoZVxuICAgICAqIGluaXRpYWwgdmFsdWVzIGZvciB0aGlzIGNvbXBvbmVudC5cbiAgICAgKlxuICAgICAqIFRPRE86IFRoaXMgaXMgaW1wdXJlIGFuZCB3ZSBzaG91bGQgbG9vayBhdCBjaGFuZ2luZyB0aGlzIHRvIHJ1biBvbiBtb3VudC5cbiAgICAgKiBEb2luZyBzbyB3aWxsIGJyZWFrIHNvbWUgdGVzdHMgYnV0IHRoaXMgaXNuJ3QgbmVjY2Vzc2FyaWx5IGEgYnJlYWtpbmcgY2hhbmdlLFxuICAgICAqIG1vcmUgYSByZWZsZWN0aW9uIG9mIHRoZSB0ZXN0LlxuICAgICAqL1xuICAgIGNvbnN0IHsgd2lsbENoYW5nZSwgLi4uaW5pdGlhbE1vdGlvblZhbHVlcyB9ID0gc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzKHByb3BzKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBpbml0aWFsTW90aW9uVmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gaW5pdGlhbE1vdGlvblZhbHVlc1trZXldO1xuICAgICAgICBpZiAobGF0ZXN0VmFsdWVzW2tleV0gIT09IHVuZGVmaW5lZCAmJiBpc01vdGlvblZhbHVlKHZhbHVlKSkge1xuICAgICAgICAgICAgdmFsdWUuc2V0KGxhdGVzdFZhbHVlc1trZXldLCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoaXNXaWxsQ2hhbmdlTW90aW9uVmFsdWUod2lsbENoYW5nZSkpIHtcbiAgICAgICAgICAgICAgICB3aWxsQ2hhbmdlLmFkZChrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERldGVybWluZSB3aGF0IHJvbGUgdGhpcyB2aXN1YWwgZWxlbWVudCBzaG91bGQgdGFrZSBpbiB0aGUgdmFyaWFudCB0cmVlLlxuICAgICAqL1xuICAgIGNvbnN0IGlzQ29udHJvbGxpbmdWYXJpYW50cyQxID0gaXNDb250cm9sbGluZ1ZhcmlhbnRzKHByb3BzKTtcbiAgICBjb25zdCBpc1ZhcmlhbnROb2RlJDEgPSBpc1ZhcmlhbnROb2RlKHByb3BzKTtcbiAgICBjb25zdCBlbGVtZW50ID0ge1xuICAgICAgICB0cmVlVHlwZSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgYSBtaXJyb3Igb2YgdGhlIGludGVybmFsIGluc3RhbmNlIHByb3AsIHdoaWNoIGtlZXBzXG4gICAgICAgICAqIFZpc3VhbEVsZW1lbnQgdHlwZS1jb21wYXRpYmxlIHdpdGggUmVhY3QncyBSZWZPYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICBjdXJyZW50OiBudWxsLFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlcHRoIG9mIHRoaXMgdmlzdWFsIGVsZW1lbnQgd2l0aGluIHRoZSB2aXN1YWwgZWxlbWVudCB0cmVlLlxuICAgICAgICAgKi9cbiAgICAgICAgZGVwdGg6IHBhcmVudCA/IHBhcmVudC5kZXB0aCArIDEgOiAwLFxuICAgICAgICBwYXJlbnQsXG4gICAgICAgIGNoaWxkcmVuOiBuZXcgU2V0KCksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgcHJlc2VuY2VJZCxcbiAgICAgICAgc2hvdWxkUmVkdWNlTW90aW9uOiBudWxsLFxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhpcyBjb21wb25lbnQgaXMgcGFydCBvZiB0aGUgdmFyaWFudCB0cmVlLCBpdCBzaG91bGQgdHJhY2tcbiAgICAgICAgICogYW55IGNoaWxkcmVuIHRoYXQgYXJlIGFsc28gcGFydCBvZiB0aGUgdHJlZS4gVGhpcyBpcyBlc3NlbnRpYWxseVxuICAgICAgICAgKiBhIHNoYWRvdyB0cmVlIHRvIHNpbXBsaWZ5IGxvZ2ljIGFyb3VuZCBob3cgdG8gc3RhZ2dlciBvdmVyIGNoaWxkcmVuLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyaWFudENoaWxkcmVuOiBpc1ZhcmlhbnROb2RlJDEgPyBuZXcgU2V0KCkgOiB1bmRlZmluZWQsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoaXMgaW5zdGFuY2UgaXMgdmlzaWJsZS4gVGhpcyBjYW4gYmUgY2hhbmdlZCBpbXBlcmF0aXZlbHlcbiAgICAgICAgICogYnkgdGhlIHByb2plY3Rpb24gdHJlZSwgaXMgYW5hbG9nb3VzIHRvIENTUydzIHZpc2liaWxpdHkgaW4gdGhhdFxuICAgICAgICAgKiBoaWRkZW4gZWxlbWVudHMgc2hvdWxkIHRha2UgdXAgbGF5b3V0LCBhbmQgbmVlZHMgZW5hY3RpbmcgYnkgdGhlIGNvbmZpZ3VyZWRcbiAgICAgICAgICogcmVuZGVyIGZ1bmN0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgaXNWaXNpYmxlOiB1bmRlZmluZWQsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3JtYWxseSwgaWYgYSBjb21wb25lbnQgaXMgY29udHJvbGxlZCBieSBhIHBhcmVudCdzIHZhcmlhbnRzLCBpdCBjYW5cbiAgICAgICAgICogcmVseSBvbiB0aGF0IGFuY2VzdG9yIHRvIHRyaWdnZXIgYW5pbWF0aW9ucyBmdXJ0aGVyIGRvd24gdGhlIHRyZWUuXG4gICAgICAgICAqIEhvd2V2ZXIsIGlmIGEgY29tcG9uZW50IGlzIGNyZWF0ZWQgYWZ0ZXIgaXRzIHBhcmVudCBpcyBtb3VudGVkLCB0aGUgcGFyZW50XG4gICAgICAgICAqIHdvbid0IHRyaWdnZXIgdGhhdCBtb3VudCBhbmltYXRpb24gc28gdGhlIGNoaWxkIG5lZWRzIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUT0RPOiBUaGlzIG1pZ2h0IGJlIGJldHRlciByZXBsYWNlZCB3aXRoIGEgbWV0aG9kIGlzUGFyZW50TW91bnRlZFxuICAgICAgICAgKi9cbiAgICAgICAgbWFudWFsbHlBbmltYXRlT25Nb3VudDogQm9vbGVhbihwYXJlbnQgPT09IG51bGwgfHwgcGFyZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJlbnQuaXNNb3VudGVkKCkpLFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBjYW4gYmUgc2V0IGJ5IEFuaW1hdGVQcmVzZW5jZSB0byBmb3JjZSBjb21wb25lbnRzIHRoYXQgbW91bnRcbiAgICAgICAgICogYXQgdGhlIHNhbWUgdGltZSBhcyBpdCB0byBtb3VudCBhcyBpZiB0aGV5IGhhdmUgaW5pdGlhbD17ZmFsc2V9IHNldC5cbiAgICAgICAgICovXG4gICAgICAgIGJsb2NrSW5pdGlhbEFuaW1hdGlvbixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERldGVybWluZSB3aGV0aGVyIHRoaXMgY29tcG9uZW50IGhhcyBtb3VudGVkIHlldC4gVGhpcyBpcyBtb3N0bHkgdXNlZFxuICAgICAgICAgKiBieSB2YXJpYW50IGNoaWxkcmVuIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZXkgbmVlZCB0byB0cmlnZ2VyIHRoZWlyXG4gICAgICAgICAqIG93biBhbmltYXRpb25zIG9uIG1vdW50LlxuICAgICAgICAgKi9cbiAgICAgICAgaXNNb3VudGVkOiAoKSA9PiBCb29sZWFuKGluc3RhbmNlKSxcbiAgICAgICAgbW91bnQobmV3SW5zdGFuY2UpIHtcbiAgICAgICAgICAgIGlzTW91bnRlZCA9IHRydWU7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IGVsZW1lbnQuY3VycmVudCA9IG5ld0luc3RhbmNlO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQucHJvamVjdGlvbikge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQucHJvamVjdGlvbi5tb3VudChuZXdJbnN0YW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNWYXJpYW50Tm9kZSQxICYmIHBhcmVudCAmJiAhaXNDb250cm9sbGluZ1ZhcmlhbnRzJDEpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVGcm9tVmFyaWFudFRyZWUgPSBwYXJlbnQgPT09IG51bGwgfHwgcGFyZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJlbnQuYWRkVmFyaWFudENoaWxkKGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWVzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IGJpbmRUb01vdGlvblZhbHVlKGtleSwgdmFsdWUpKTtcbiAgICAgICAgICAgIGlmICghaGFzUmVkdWNlZE1vdGlvbkxpc3RlbmVyLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBpbml0UHJlZmVyc1JlZHVjZWRNb3Rpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsZW1lbnQuc2hvdWxkUmVkdWNlTW90aW9uID1cbiAgICAgICAgICAgICAgICByZWR1Y2VkTW90aW9uQ29uZmlnID09PSBcIm5ldmVyXCJcbiAgICAgICAgICAgICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgICAgICAgICAgICA6IHJlZHVjZWRNb3Rpb25Db25maWcgPT09IFwiYWx3YXlzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBwcmVmZXJzUmVkdWNlZE1vdGlvbi5jdXJyZW50O1xuICAgICAgICAgICAgcGFyZW50ID09PSBudWxsIHx8IHBhcmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50LmNoaWxkcmVuLmFkZChlbGVtZW50KTtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0UHJvcHMocHJvcHMpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIHVubW91bnQoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSBlbGVtZW50LnByb2plY3Rpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS51bm1vdW50KCk7XG4gICAgICAgICAgICBjYW5jZWxTeW5jLnVwZGF0ZSh1cGRhdGUpO1xuICAgICAgICAgICAgY2FuY2VsU3luYy5yZW5kZXIocmVuZGVyKTtcbiAgICAgICAgICAgIHZhbHVlU3Vic2NyaXB0aW9ucy5mb3JFYWNoKChyZW1vdmUpID0+IHJlbW92ZSgpKTtcbiAgICAgICAgICAgIHJlbW92ZUZyb21WYXJpYW50VHJlZSA9PT0gbnVsbCB8fCByZW1vdmVGcm9tVmFyaWFudFRyZWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlbW92ZUZyb21WYXJpYW50VHJlZSgpO1xuICAgICAgICAgICAgcGFyZW50ID09PSBudWxsIHx8IHBhcmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50LmNoaWxkcmVuLmRlbGV0ZShlbGVtZW50KTtcbiAgICAgICAgICAgIGxpZmVjeWNsZXMuY2xlYXJBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIGluc3RhbmNlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaXNNb3VudGVkID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGxvYWRGZWF0dXJlcyhyZW5kZXJlZFByb3BzLCBpc1N0cmljdCwgcHJlbG9hZGVkRmVhdHVyZXMsIHByb2plY3Rpb25JZCwgUHJvamVjdGlvbk5vZGVDb25zdHJ1Y3RvciwgaW5pdGlhbExheW91dEdyb3VwQ29uZmlnKSB7XG4gICAgICAgICAgICBjb25zdCBmZWF0dXJlcyA9IFtdO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB3ZSdyZSBpbiBkZXZlbG9wbWVudCBtb2RlLCBjaGVjayB0byBtYWtlIHN1cmUgd2UncmUgbm90IHJlbmRlcmluZyBhIG1vdGlvbiBjb21wb25lbnRcbiAgICAgICAgICAgICAqIGFzIGEgY2hpbGQgb2YgTGF6eU1vdGlvbiwgYXMgdGhpcyB3aWxsIGJyZWFrIHRoZSBmaWxlLXNpemUgYmVuZWZpdHMgb2YgdXNpbmcgaXQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChlbnYgIT09IFwicHJvZHVjdGlvblwiICYmIHByZWxvYWRlZEZlYXR1cmVzICYmIGlzU3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgaW52YXJpYW50KGZhbHNlLCBcIllvdSBoYXZlIHJlbmRlcmVkIGEgYG1vdGlvbmAgY29tcG9uZW50IHdpdGhpbiBhIGBMYXp5TW90aW9uYCBjb21wb25lbnQuIFRoaXMgd2lsbCBicmVhayB0cmVlIHNoYWtpbmcuIEltcG9ydCBhbmQgcmVuZGVyIGEgYG1gIGNvbXBvbmVudCBpbnN0ZWFkLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtRmVhdHVyZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBmZWF0dXJlTmFtZXNbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgeyBpc0VuYWJsZWQsIENvbXBvbmVudCB9ID0gZmVhdHVyZURlZmluaXRpb25zW25hbWVdO1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEl0IG1pZ2h0IGJlIHBvc3NpYmxlIGluIHRoZSBmdXR1cmUgdG8gdXNlIHRoaXMgbW9tZW50IHRvXG4gICAgICAgICAgICAgICAgICogZHluYW1pY2FsbHkgcmVxdWVzdCBmdW5jdGlvbmFsaXR5LiBJbiBpbml0aWFsIHRlc3RzIHRoaXNcbiAgICAgICAgICAgICAgICAgKiB3YXMgcHJvZHVjaW5nIGEgbG90IG9mIGR1cGxpY2F0aW9uIGFtb25nc3QgYnVuZGxlcy5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAoaXNFbmFibGVkKHByb3BzKSAmJiBDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZXMucHVzaChjcmVhdGVFbGVtZW50KENvbXBvbmVudCwge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucmVuZGVyZWRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQucHJvamVjdGlvbiAmJiBQcm9qZWN0aW9uTm9kZUNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5wcm9qZWN0aW9uID0gbmV3IFByb2plY3Rpb25Ob2RlQ29uc3RydWN0b3IocHJvamVjdGlvbklkLCBlbGVtZW50LmdldExhdGVzdFZhbHVlcygpLCBwYXJlbnQgJiYgcGFyZW50LnByb2plY3Rpb24pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dCwgZHJhZywgZHJhZ0NvbnN0cmFpbnRzLCBsYXlvdXRTY3JvbGwsIH0gPSByZW5kZXJlZFByb3BzO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQucHJvamVjdGlvbi5zZXRPcHRpb25zKHtcbiAgICAgICAgICAgICAgICAgICAgbGF5b3V0SWQsXG4gICAgICAgICAgICAgICAgICAgIGxheW91dCxcbiAgICAgICAgICAgICAgICAgICAgYWx3YXlzTWVhc3VyZUxheW91dDogQm9vbGVhbihkcmFnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKGRyYWdDb25zdHJhaW50cyAmJiBpc1JlZk9iamVjdChkcmFnQ29uc3RyYWludHMpKSxcbiAgICAgICAgICAgICAgICAgICAgdmlzdWFsRWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVSZW5kZXI6ICgpID0+IGVsZW1lbnQuc2NoZWR1bGVSZW5kZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFRPRE86IFVwZGF0ZSBvcHRpb25zIGluIGFuIGVmZmVjdC4gVGhpcyBjb3VsZCBiZSB0cmlja3kgYXMgaXQnbGwgYmUgdG9vIGxhdGVcbiAgICAgICAgICAgICAgICAgICAgICogdG8gdXBkYXRlIGJ5IHRoZSB0aW1lIGxheW91dCBhbmltYXRpb25zIHJ1bi5cbiAgICAgICAgICAgICAgICAgICAgICogV2UgYWxzbyBuZWVkIHRvIGZpeCB0aGlzIHNhZmVUb1JlbW92ZSBieSBsaW5raW5nIGl0IHVwIHRvIHRoZSBvbmUgcmV0dXJuZWQgYnkgdXNlUHJlc2VuY2UsXG4gICAgICAgICAgICAgICAgICAgICAqIGVuc3VyaW5nIGl0IGdldHMgY2FsbGVkIGlmIHRoZXJlJ3Mgbm8gcG90ZW50aWFsIGxheW91dCBhbmltYXRpb25zLlxuICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uVHlwZTogdHlwZW9mIGxheW91dCA9PT0gXCJzdHJpbmdcIiA/IGxheW91dCA6IFwiYm90aFwiLFxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsUHJvbW90aW9uQ29uZmlnOiBpbml0aWFsTGF5b3V0R3JvdXBDb25maWcsXG4gICAgICAgICAgICAgICAgICAgIGxheW91dFNjcm9sbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmZWF0dXJlcztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZCBhIGNoaWxkIHZpc3VhbCBlbGVtZW50IHRvIG91ciBzZXQgb2YgY2hpbGRyZW4uXG4gICAgICAgICAqL1xuICAgICAgICBhZGRWYXJpYW50Q2hpbGQoY2hpbGQpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IGNsb3Nlc3RWYXJpYW50Tm9kZSA9IGVsZW1lbnQuZ2V0Q2xvc2VzdFZhcmlhbnROb2RlKCk7XG4gICAgICAgICAgICBpZiAoY2xvc2VzdFZhcmlhbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgKF9hID0gY2xvc2VzdFZhcmlhbnROb2RlLnZhcmlhbnRDaGlsZHJlbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFkZChjaGlsZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IGNsb3Nlc3RWYXJpYW50Tm9kZS52YXJpYW50Q2hpbGRyZW4uZGVsZXRlKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc29ydE5vZGVQb3NpdGlvbihvdGhlcikge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0aGVzZSBub2RlcyBhcmVuJ3QgZXZlbiBvZiB0aGUgc2FtZSB0eXBlIHdlIGNhbid0IGNvbXBhcmUgdGhlaXIgZGVwdGguXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICghc29ydE5vZGVQb3NpdGlvbiB8fCB0cmVlVHlwZSAhPT0gb3RoZXIudHJlZVR5cGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICByZXR1cm4gc29ydE5vZGVQb3NpdGlvbihlbGVtZW50LmdldEluc3RhbmNlKCksIG90aGVyLmdldEluc3RhbmNlKCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgY2xvc2VzdCB2YXJpYW50IG5vZGUgaW4gdGhlIHRyZWUgc3RhcnRpbmcgZnJvbVxuICAgICAgICAgKiB0aGlzIHZpc3VhbCBlbGVtZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2xvc2VzdFZhcmlhbnROb2RlOiAoKSA9PiBpc1ZhcmlhbnROb2RlJDEgPyBlbGVtZW50IDogcGFyZW50ID09PSBudWxsIHx8IHBhcmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50LmdldENsb3Nlc3RWYXJpYW50Tm9kZSgpLFxuICAgICAgICAvKipcbiAgICAgICAgICogRXhwb3NlIHRoZSBsYXRlc3QgbGF5b3V0SWQgcHJvcC5cbiAgICAgICAgICovXG4gICAgICAgIGdldExheW91dElkOiAoKSA9PiBwcm9wcy5sYXlvdXRJZCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgaW5zdGFuY2UuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRJbnN0YW5jZTogKCkgPT4gaW5zdGFuY2UsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQvc2V0IHRoZSBsYXRlc3Qgc3RhdGljIHZhbHVlcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldFN0YXRpY1ZhbHVlOiAoa2V5KSA9PiBsYXRlc3RWYWx1ZXNba2V5XSxcbiAgICAgICAgc2V0U3RhdGljVmFsdWU6IChrZXksIHZhbHVlKSA9PiAobGF0ZXN0VmFsdWVzW2tleV0gPSB2YWx1ZSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBsYXRlc3QgbW90aW9uIHZhbHVlIHN0YXRlLiBDdXJyZW50bHkgb25seSB1c2VkIHRvIHRha2VcbiAgICAgICAgICogYSBzbmFwc2hvdCBvZiB0aGUgdmlzdWFsIGVsZW1lbnQgLSBwZXJoYXBzIHRoaXMgY2FuIHJldHVybiB0aGUgd2hvbGVcbiAgICAgICAgICogdmlzdWFsIHN0YXRlXG4gICAgICAgICAqL1xuICAgICAgICBnZXRMYXRlc3RWYWx1ZXM6ICgpID0+IGxhdGVzdFZhbHVlcyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgdmlzaWJsaXR5IG9mIHRoZSB2aXN1YWwgZWxlbWVudC4gSWYgaXQncyBjaGFuZ2VkLCBzY2hlZHVsZVxuICAgICAgICAgKiBhIHJlbmRlciB0byByZWZsZWN0IHRoZXNlIGNoYW5nZXMuXG4gICAgICAgICAqL1xuICAgICAgICBzZXRWaXNpYmlsaXR5KHZpc2liaWxpdHkpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50LmlzVmlzaWJsZSA9PT0gdmlzaWJpbGl0eSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBlbGVtZW50LmlzVmlzaWJsZSA9IHZpc2liaWxpdHk7XG4gICAgICAgICAgICBlbGVtZW50LnNjaGVkdWxlUmVuZGVyKCk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYWtlIGEgdGFyZ2V0IGFuaW1hdGFibGUgYnkgUG9wbW90aW9uLiBGb3IgaW5zdGFuY2UsIGlmIHdlJ3JlXG4gICAgICAgICAqIHRyeWluZyB0byBhbmltYXRlIHdpZHRoIGZyb20gMTAwcHggdG8gMTAwdncgd2UgbmVlZCB0byBtZWFzdXJlIDEwMHZ3XG4gICAgICAgICAqIGluIHBpeGVscyB0byBkZXRlcm1pbmUgd2hhdCB3ZSByZWFsbHkgbmVlZCB0byBhbmltYXRlIHRvLiBUaGlzIGlzIGFsc29cbiAgICAgICAgICogcGx1Z2dhYmxlIHRvIHN1cHBvcnQgRnJhbWVyJ3MgY3VzdG9tIHZhbHVlIHR5cGVzIGxpa2UgQ29sb3IsXG4gICAgICAgICAqIGFuZCBDU1MgdmFyaWFibGVzLlxuICAgICAgICAgKi9cbiAgICAgICAgbWFrZVRhcmdldEFuaW1hdGFibGUodGFyZ2V0LCBjYW5NdXRhdGUgPSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZVRhcmdldEFuaW1hdGFibGUoZWxlbWVudCwgdGFyZ2V0LCBwcm9wcywgY2FuTXV0YXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1lYXN1cmUgdGhlIGN1cnJlbnQgdmlld3BvcnQgYm94IHdpdGggb3Igd2l0aG91dCB0cmFuc2Zvcm1zLlxuICAgICAgICAgKiBPbmx5IG1lYXN1cmVzIGF4aXMtYWxpZ25lZCBib3hlcywgcm90YXRlIGFuZCBza2V3IG11c3QgYmUgbWFudWFsbHlcbiAgICAgICAgICogcmVtb3ZlZCB3aXRoIGEgcmUtcmVuZGVyIHRvIHdvcmsuXG4gICAgICAgICAqL1xuICAgICAgICBtZWFzdXJlVmlld3BvcnRCb3goKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVhc3VyZVZpZXdwb3J0Qm94KGluc3RhbmNlLCBwcm9wcyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIE1vdGlvbiB2YWx1ZXMgPT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgYSBtb3Rpb24gdmFsdWUgYW5kIGJpbmQgaXQgdG8gdGhpcyB2aXN1YWwgZWxlbWVudC5cbiAgICAgICAgICovXG4gICAgICAgIGFkZFZhbHVlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBleGlzdGluZyB2YWx1ZSBpZiBpdCBleGlzdHNcbiAgICAgICAgICAgIGlmIChlbGVtZW50Lmhhc1ZhbHVlKGtleSkpXG4gICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVWYWx1ZShrZXkpO1xuICAgICAgICAgICAgdmFsdWVzLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIGxhdGVzdFZhbHVlc1trZXldID0gdmFsdWUuZ2V0KCk7XG4gICAgICAgICAgICBiaW5kVG9Nb3Rpb25WYWx1ZShrZXksIHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZSBhIG1vdGlvbiB2YWx1ZSBhbmQgdW5iaW5kIGFueSBhY3RpdmUgc3Vic2NyaXB0aW9ucy5cbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZVZhbHVlKGtleSkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdmFsdWVzLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgKF9hID0gdmFsdWVTdWJzY3JpcHRpb25zLmdldChrZXkpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EoKTtcbiAgICAgICAgICAgIHZhbHVlU3Vic2NyaXB0aW9ucy5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgIGRlbGV0ZSBsYXRlc3RWYWx1ZXNba2V5XTtcbiAgICAgICAgICAgIHJlbW92ZVZhbHVlRnJvbVJlbmRlclN0YXRlKGtleSwgcmVuZGVyU3RhdGUpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQ2hlY2sgd2hldGhlciB3ZSBoYXZlIGEgbW90aW9uIHZhbHVlIGZvciB0aGlzIGtleVxuICAgICAgICAgKi9cbiAgICAgICAgaGFzVmFsdWU6IChrZXkpID0+IHZhbHVlcy5oYXMoa2V5KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBhIG1vdGlvbiB2YWx1ZSBmb3IgdGhpcyBrZXkuIElmIGNhbGxlZCB3aXRoIGEgZGVmYXVsdFxuICAgICAgICAgKiB2YWx1ZSwgd2UnbGwgY3JlYXRlIG9uZSBpZiBub25lIGV4aXN0cy5cbiAgICAgICAgICovXG4gICAgICAgIGdldFZhbHVlKGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSB2YWx1ZXMuZ2V0KGtleSk7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiBkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gbW90aW9uVmFsdWUoZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmFkZFZhbHVlKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogSXRlcmF0ZSBvdmVyIG91ciBtb3Rpb24gdmFsdWVzLlxuICAgICAgICAgKi9cbiAgICAgICAgZm9yRWFjaFZhbHVlOiAoY2FsbGJhY2spID0+IHZhbHVlcy5mb3JFYWNoKGNhbGxiYWNrKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHdlJ3JlIHRyeWluZyB0byBhbmltYXRlIHRvIGEgcHJldmlvdXNseSB1bmVuY291bnRlcmVkIHZhbHVlLFxuICAgICAgICAgKiB3ZSBuZWVkIHRvIGNoZWNrIGZvciBpdCBpbiBvdXIgc3RhdGUgYW5kIGFzIGEgbGFzdCByZXNvcnQgcmVhZCBpdFxuICAgICAgICAgKiBkaXJlY3RseSBmcm9tIHRoZSBpbnN0YW5jZSAod2hpY2ggbWlnaHQgaGF2ZSBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMpLlxuICAgICAgICAgKi9cbiAgICAgICAgcmVhZFZhbHVlOiAoa2V5KSA9PiBsYXRlc3RWYWx1ZXNba2V5XSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IGxhdGVzdFZhbHVlc1trZXldXG4gICAgICAgICAgICA6IHJlYWRWYWx1ZUZyb21JbnN0YW5jZShpbnN0YW5jZSwga2V5LCBvcHRpb25zKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgYmFzZSB0YXJnZXQgdG8gbGF0ZXIgYW5pbWF0ZSBiYWNrIHRvLiBUaGlzIGlzIGN1cnJlbnRseVxuICAgICAgICAgKiBvbmx5IGh5ZHJhdGVkIG9uIGNyZWF0aW9uIGFuZCB3aGVuIHdlIGZpcnN0IHJlYWQgYSB2YWx1ZS5cbiAgICAgICAgICovXG4gICAgICAgIHNldEJhc2VUYXJnZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgYmFzZVRhcmdldFtrZXldID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaW5kIHRoZSBiYXNlIHRhcmdldCBmb3IgYSB2YWx1ZSB0aGF0cyBiZWVuIHJlbW92ZWQgZnJvbSBhbGwgYW5pbWF0aW9uXG4gICAgICAgICAqIHByb3BzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0QmFzZVRhcmdldChrZXkpIHtcbiAgICAgICAgICAgIGlmIChnZXRCYXNlVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZ2V0QmFzZVRhcmdldChwcm9wcywga2V5KTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ICE9PSB1bmRlZmluZWQgJiYgIWlzTW90aW9uVmFsdWUodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBiYXNlVGFyZ2V0W2tleV07XG4gICAgICAgIH0sXG4gICAgICAgIC8vIExpZmVjeWxlcyA9PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgLi4ubGlmZWN5Y2xlcyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1aWxkIHRoZSByZW5kZXJlciBzdGF0ZSBiYXNlZCBvbiB0aGUgbGF0ZXN0IHZpc3VhbCBzdGF0ZS5cbiAgICAgICAgICovXG4gICAgICAgIGJ1aWxkKCkge1xuICAgICAgICAgICAgdHJpZ2dlckJ1aWxkKCk7XG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyU3RhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2hlZHVsZSBhIHJlbmRlciBvbiB0aGUgbmV4dCBhbmltYXRpb24gZnJhbWUuXG4gICAgICAgICAqL1xuICAgICAgICBzY2hlZHVsZVJlbmRlcigpIHtcbiAgICAgICAgICAgIHN5bmMucmVuZGVyKHJlbmRlciwgZmFsc2UsIHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogU3luY2hyb25vdXNseSBmaXJlIHJlbmRlci4gSXQncyBwcmVmZXJlZCB0aGF0IHdlIGJhdGNoIHJlbmRlcnMgYnV0XG4gICAgICAgICAqIGluIG1hbnkgY2lyY3Vtc3RhbmNlcywgbGlrZSBsYXlvdXQgbWVhc3VyZW1lbnQsIHdlIG5lZWQgdG8gcnVuIHRoaXNcbiAgICAgICAgICogc3luY2hyb25vdXNseS4gSG93ZXZlciBpbiB0aG9zZSBpbnN0YW5jZXMgb3RoZXIgbWVhc3VyZXMgc2hvdWxkIGJlIHRha2VuXG4gICAgICAgICAqIHRvIGJhdGNoIHJlYWRzL3dyaXRlcy5cbiAgICAgICAgICovXG4gICAgICAgIHN5bmNSZW5kZXI6IHJlbmRlcixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSB0aGUgcHJvdmlkZWQgcHJvcHMuIEVuc3VyZSBhbnkgbmV3bHktYWRkZWQgbW90aW9uIHZhbHVlcyBhcmVcbiAgICAgICAgICogYWRkZWQgdG8gb3VyIG1hcCwgb2xkIG9uZXMgcmVtb3ZlZCwgYW5kIGxpc3RlbmVycyB1cGRhdGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0UHJvcHMobmV3UHJvcHMpIHtcbiAgICAgICAgICAgIGlmIChuZXdQcm9wcy50cmFuc2Zvcm1UZW1wbGF0ZSB8fCBwcm9wcy50cmFuc2Zvcm1UZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2NoZWR1bGVSZW5kZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb3BzID0gbmV3UHJvcHM7XG4gICAgICAgICAgICBsaWZlY3ljbGVzLnVwZGF0ZVByb3BMaXN0ZW5lcnMobmV3UHJvcHMpO1xuICAgICAgICAgICAgcHJldk1vdGlvblZhbHVlcyA9IHVwZGF0ZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyhlbGVtZW50LCBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMocHJvcHMpLCBwcmV2TW90aW9uVmFsdWVzKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0UHJvcHM6ICgpID0+IHByb3BzLFxuICAgICAgICAvLyBWYXJpYW50cyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIHZhcmlhbnQgZGVmaW5pdGlvbiB3aXRoIGEgZ2l2ZW4gbmFtZS5cbiAgICAgICAgICovXG4gICAgICAgIGdldFZhcmlhbnQ6IChuYW1lKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IHByb3BzLnZhcmlhbnRzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbbmFtZV07IH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBkZWZpbmVkIGRlZmF1bHQgdHJhbnNpdGlvbiBvbiB0aGlzIGNvbXBvbmVudC5cbiAgICAgICAgICovXG4gICAgICAgIGdldERlZmF1bHRUcmFuc2l0aW9uOiAoKSA9PiBwcm9wcy50cmFuc2l0aW9uLFxuICAgICAgICBnZXRUcmFuc2Zvcm1QYWdlUG9pbnQ6ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBwcm9wcy50cmFuc2Zvcm1QYWdlUG9pbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGJ5IGNoaWxkIHZhcmlhbnQgbm9kZXMgdG8gZ2V0IHRoZSBjbG9zZXN0IGFuY2VzdG9yIHZhcmlhbnQgcHJvcHMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRWYXJpYW50Q29udGV4dChzdGFydEF0UGFyZW50ID0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmIChzdGFydEF0UGFyZW50KVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnQgPT09IG51bGwgfHwgcGFyZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJlbnQuZ2V0VmFyaWFudENvbnRleHQoKTtcbiAgICAgICAgICAgIGlmICghaXNDb250cm9sbGluZ1ZhcmlhbnRzJDEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gKHBhcmVudCA9PT0gbnVsbCB8fCBwYXJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudC5nZXRWYXJpYW50Q29udGV4dCgpKSB8fCB7fTtcbiAgICAgICAgICAgICAgICBpZiAocHJvcHMuaW5pdGlhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuaW5pdGlhbCA9IHByb3BzLmluaXRpYWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IHt9O1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1WYXJpYW50UHJvcHM7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB2YXJpYW50UHJvcHNbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvcCA9IHByb3BzW25hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChpc1ZhcmlhbnRMYWJlbChwcm9wKSB8fCBwcm9wID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0W25hbWVdID0gcHJvcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIHJldHVybiBlbGVtZW50O1xufTtcbmNvbnN0IHZhcmlhbnRQcm9wcyA9IFtcImluaXRpYWxcIiwgLi4udmFyaWFudFByaW9yaXR5T3JkZXJdO1xuY29uc3QgbnVtVmFyaWFudFByb3BzID0gdmFyaWFudFByb3BzLmxlbmd0aDtcblxuZXhwb3J0IHsgdmlzdWFsRWxlbWVudCB9O1xuIiwiaW1wb3J0IHsgaXNCcm93c2VyIH0gZnJvbSAnLi4vaXMtYnJvd3Nlci5tanMnO1xuaW1wb3J0IHsgaGFzUmVkdWNlZE1vdGlvbkxpc3RlbmVyLCBwcmVmZXJzUmVkdWNlZE1vdGlvbiB9IGZyb20gJy4vc3RhdGUubWpzJztcblxuZnVuY3Rpb24gaW5pdFByZWZlcnNSZWR1Y2VkTW90aW9uKCkge1xuICAgIGhhc1JlZHVjZWRNb3Rpb25MaXN0ZW5lci5jdXJyZW50ID0gdHJ1ZTtcbiAgICBpZiAoIWlzQnJvd3NlcilcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYSkge1xuICAgICAgICBjb25zdCBtb3Rpb25NZWRpYVF1ZXJ5ID0gd2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1yZWR1Y2VkLW1vdGlvbilcIik7XG4gICAgICAgIGNvbnN0IHNldFJlZHVjZWRNb3Rpb25QcmVmZXJlbmNlcyA9ICgpID0+IChwcmVmZXJzUmVkdWNlZE1vdGlvbi5jdXJyZW50ID0gbW90aW9uTWVkaWFRdWVyeS5tYXRjaGVzKTtcbiAgICAgICAgbW90aW9uTWVkaWFRdWVyeS5hZGRMaXN0ZW5lcihzZXRSZWR1Y2VkTW90aW9uUHJlZmVyZW5jZXMpO1xuICAgICAgICBzZXRSZWR1Y2VkTW90aW9uUHJlZmVyZW5jZXMoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHByZWZlcnNSZWR1Y2VkTW90aW9uLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IGluaXRQcmVmZXJzUmVkdWNlZE1vdGlvbiB9O1xuIiwiaW1wb3J0IHsgaXNXaWxsQ2hhbmdlTW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi92YWx1ZS91c2Utd2lsbC1jaGFuZ2UvaXMubWpzJztcbmltcG9ydCB7IHdhcm5PbmNlIH0gZnJvbSAnLi4vLi4vdXRpbHMvd2Fybi1vbmNlLm1qcyc7XG5pbXBvcnQgeyBtb3Rpb25WYWx1ZSB9IGZyb20gJy4uLy4uL3ZhbHVlL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBpc01vdGlvblZhbHVlIH0gZnJvbSAnLi4vLi4vdmFsdWUvdXRpbHMvaXMtbW90aW9uLXZhbHVlLm1qcyc7XG5cbmZ1bmN0aW9uIHVwZGF0ZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyhlbGVtZW50LCBuZXh0LCBwcmV2KSB7XG4gICAgY29uc3QgeyB3aWxsQ2hhbmdlIH0gPSBuZXh0O1xuICAgIGZvciAoY29uc3Qga2V5IGluIG5leHQpIHtcbiAgICAgICAgY29uc3QgbmV4dFZhbHVlID0gbmV4dFtrZXldO1xuICAgICAgICBjb25zdCBwcmV2VmFsdWUgPSBwcmV2W2tleV07XG4gICAgICAgIGlmIChpc01vdGlvblZhbHVlKG5leHRWYWx1ZSkpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhpcyBpcyBhIG1vdGlvbiB2YWx1ZSBmb3VuZCBpbiBwcm9wcyBvciBzdHlsZSwgd2Ugd2FudCB0byBhZGQgaXRcbiAgICAgICAgICAgICAqIHRvIG91ciB2aXN1YWwgZWxlbWVudCdzIG1vdGlvbiB2YWx1ZSBtYXAuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGVsZW1lbnQuYWRkVmFsdWUoa2V5LCBuZXh0VmFsdWUpO1xuICAgICAgICAgICAgaWYgKGlzV2lsbENoYW5nZU1vdGlvblZhbHVlKHdpbGxDaGFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgd2lsbENoYW5nZS5hZGQoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2hlY2sgdGhlIHZlcnNpb24gb2YgdGhlIGluY29taW5nIG1vdGlvbiB2YWx1ZSB3aXRoIHRoaXMgdmVyc2lvblxuICAgICAgICAgICAgICogYW5kIHdhcm4gYWdhaW5zdCBtaXNtYXRjaGVzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgICAgICAgICAgICAgIHdhcm5PbmNlKG5leHRWYWx1ZS52ZXJzaW9uID09PSBcIjcuMy4yXCIsIGBBdHRlbXB0aW5nIHRvIG1peCBGcmFtZXIgTW90aW9uIHZlcnNpb25zICR7bmV4dFZhbHVlLnZlcnNpb259IHdpdGggNy4zLjIgbWF5IG5vdCB3b3JrIGFzIGV4cGVjdGVkLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTW90aW9uVmFsdWUocHJldlZhbHVlKSkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB3ZSdyZSBzd2FwcGluZyBmcm9tIGEgbW90aW9uIHZhbHVlIHRvIGEgc3RhdGljIHZhbHVlLFxuICAgICAgICAgICAgICogY3JlYXRlIGEgbmV3IG1vdGlvbiB2YWx1ZSBmcm9tIHRoYXRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZWxlbWVudC5hZGRWYWx1ZShrZXksIG1vdGlvblZhbHVlKG5leHRWYWx1ZSkpO1xuICAgICAgICAgICAgaWYgKGlzV2lsbENoYW5nZU1vdGlvblZhbHVlKHdpbGxDaGFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgd2lsbENoYW5nZS5yZW1vdmUoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcmV2VmFsdWUgIT09IG5leHRWYWx1ZSkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0aGlzIGlzIGEgZmxhdCB2YWx1ZSB0aGF0IGhhcyBjaGFuZ2VkLCB1cGRhdGUgdGhlIG1vdGlvbiB2YWx1ZVxuICAgICAgICAgICAgICogb3IgY3JlYXRlIG9uZSBpZiBpdCBkb2Vzbid0IGV4aXN0LiBXZSBvbmx5IHdhbnQgdG8gZG8gdGhpcyBpZiB3ZSdyZVxuICAgICAgICAgICAgICogbm90IGhhbmRsaW5nIHRoZSB2YWx1ZSB3aXRoIG91ciBhbmltYXRpb24gc3RhdGUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChlbGVtZW50Lmhhc1ZhbHVlKGtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ1ZhbHVlID0gZWxlbWVudC5nZXRWYWx1ZShrZXkpO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IE9ubHkgdXBkYXRlIHZhbHVlcyB0aGF0IGFyZW4ndCBiZWluZyBhbmltYXRlZCBvciBldmVuIGxvb2tlZCBhdFxuICAgICAgICAgICAgICAgICFleGlzdGluZ1ZhbHVlLmhhc0FuaW1hdGVkICYmIGV4aXN0aW5nVmFsdWUuc2V0KG5leHRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXRlc3RWYWx1ZSA9IGVsZW1lbnQuZ2V0U3RhdGljVmFsdWUoa2V5KTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmFkZFZhbHVlKGtleSwgbW90aW9uVmFsdWUobGF0ZXN0VmFsdWUgIT09IHVuZGVmaW5lZCA/IGxhdGVzdFZhbHVlIDogbmV4dFZhbHVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gSGFuZGxlIHJlbW92ZWQgdmFsdWVzXG4gICAgZm9yIChjb25zdCBrZXkgaW4gcHJldikge1xuICAgICAgICBpZiAobmV4dFtrZXldID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZVZhbHVlKGtleSk7XG4gICAgfVxuICAgIHJldHVybiBuZXh0O1xufVxuXG5leHBvcnQgeyB1cGRhdGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMgfTtcbiIsImltcG9ydCB7IGludmFyaWFudCB9IGZyb20gJ2hleS1saXN0ZW4nO1xuXG5mdW5jdGlvbiBpc0NTU1ZhcmlhYmxlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiB2YWx1ZS5zdGFydHNXaXRoKFwidmFyKC0tXCIpO1xufVxuLyoqXG4gKiBQYXJzZSBGcmFtZXIncyBzcGVjaWFsIENTUyB2YXJpYWJsZSBmb3JtYXQgaW50byBhIENTUyB0b2tlbiBhbmQgYSBmYWxsYmFjay5cbiAqXG4gKiBgYGBcbiAqIGB2YXIoLS1mb28sICNmZmYpYCA9PiBbYC0tZm9vYCwgJyNmZmYnXVxuICogYGBgXG4gKlxuICogQHBhcmFtIGN1cnJlbnRcbiAqL1xuY29uc3QgY3NzVmFyaWFibGVSZWdleCA9IC92YXJcXCgoLS1bYS16QS1aMC05LV9dKyksPyA/KFthLXpBLVowLTkgKCklIy4sLV0rKT9cXCkvO1xuZnVuY3Rpb24gcGFyc2VDU1NWYXJpYWJsZShjdXJyZW50KSB7XG4gICAgY29uc3QgbWF0Y2ggPSBjc3NWYXJpYWJsZVJlZ2V4LmV4ZWMoY3VycmVudCk7XG4gICAgaWYgKCFtYXRjaClcbiAgICAgICAgcmV0dXJuIFssXTtcbiAgICBjb25zdCBbLCB0b2tlbiwgZmFsbGJhY2tdID0gbWF0Y2g7XG4gICAgcmV0dXJuIFt0b2tlbiwgZmFsbGJhY2tdO1xufVxuY29uc3QgbWF4RGVwdGggPSA0O1xuZnVuY3Rpb24gZ2V0VmFyaWFibGVWYWx1ZShjdXJyZW50LCBlbGVtZW50LCBkZXB0aCA9IDEpIHtcbiAgICBpbnZhcmlhbnQoZGVwdGggPD0gbWF4RGVwdGgsIGBNYXggQ1NTIHZhcmlhYmxlIGZhbGxiYWNrIGRlcHRoIGRldGVjdGVkIGluIHByb3BlcnR5IFwiJHtjdXJyZW50fVwiLiBUaGlzIG1heSBpbmRpY2F0ZSBhIGNpcmN1bGFyIGZhbGxiYWNrIGRlcGVuZGVuY3kuYCk7XG4gICAgY29uc3QgW3Rva2VuLCBmYWxsYmFja10gPSBwYXJzZUNTU1ZhcmlhYmxlKGN1cnJlbnQpO1xuICAgIC8vIE5vIENTUyB2YXJpYWJsZSBkZXRlY3RlZFxuICAgIGlmICghdG9rZW4pXG4gICAgICAgIHJldHVybjtcbiAgICAvLyBBdHRlbXB0IHRvIHJlYWQgdGhpcyBDU1MgdmFyaWFibGUgb2ZmIHRoZSBlbGVtZW50XG4gICAgY29uc3QgcmVzb2x2ZWQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKHRva2VuKTtcbiAgICBpZiAocmVzb2x2ZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVkLnRyaW0oKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNDU1NWYXJpYWJsZShmYWxsYmFjaykpIHtcbiAgICAgICAgLy8gVGhlIGZhbGxiYWNrIG1pZ2h0IGl0c2VsZiBiZSBhIENTUyB2YXJpYWJsZSwgaW4gd2hpY2ggY2FzZSB3ZSBhdHRlbXB0IHRvIHJlc29sdmUgaXQgdG9vLlxuICAgICAgICByZXR1cm4gZ2V0VmFyaWFibGVWYWx1ZShmYWxsYmFjaywgZWxlbWVudCwgZGVwdGggKyAxKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxsYmFjaztcbiAgICB9XG59XG4vKipcbiAqIFJlc29sdmUgQ1NTIHZhcmlhYmxlcyBmcm9tXG4gKlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVDU1NWYXJpYWJsZXModmlzdWFsRWxlbWVudCwgeyAuLi50YXJnZXQgfSwgdHJhbnNpdGlvbkVuZCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSB2aXN1YWxFbGVtZW50LmdldEluc3RhbmNlKCk7XG4gICAgaWYgKCEoZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQpKVxuICAgICAgICByZXR1cm4geyB0YXJnZXQsIHRyYW5zaXRpb25FbmQgfTtcbiAgICAvLyBJZiBgdHJhbnNpdGlvbkVuZGAgaXNuJ3QgYHVuZGVmaW5lZGAsIGNsb25lIGl0LiBXZSBjb3VsZCBjbG9uZSBgdGFyZ2V0YCBhbmQgYHRyYW5zaXRpb25FbmRgXG4gICAgLy8gb25seSBpZiB0aGV5IGNoYW5nZSBidXQgSSB0aGluayB0aGlzIHJlYWRzIGNsZWFyZXIgYW5kIHRoaXMgaXNuJ3QgYSBwZXJmb3JtYW5jZS1jcml0aWNhbCBwYXRoLlxuICAgIGlmICh0cmFuc2l0aW9uRW5kKSB7XG4gICAgICAgIHRyYW5zaXRpb25FbmQgPSB7IC4uLnRyYW5zaXRpb25FbmQgfTtcbiAgICB9XG4gICAgLy8gR28gdGhyb3VnaCBleGlzdGluZyBgTW90aW9uVmFsdWVgcyBhbmQgZW5zdXJlIGFueSBleGlzdGluZyBDU1MgdmFyaWFibGVzIGFyZSByZXNvbHZlZFxuICAgIHZpc3VhbEVsZW1lbnQuZm9yRWFjaFZhbHVlKCh2YWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gdmFsdWUuZ2V0KCk7XG4gICAgICAgIGlmICghaXNDU1NWYXJpYWJsZShjdXJyZW50KSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWQgPSBnZXRWYXJpYWJsZVZhbHVlKGN1cnJlbnQsIGVsZW1lbnQpO1xuICAgICAgICBpZiAocmVzb2x2ZWQpXG4gICAgICAgICAgICB2YWx1ZS5zZXQocmVzb2x2ZWQpO1xuICAgIH0pO1xuICAgIC8vIEN5Y2xlIHRocm91Z2ggZXZlcnkgdGFyZ2V0IHByb3BlcnR5IGFuZCByZXNvbHZlIENTUyB2YXJpYWJsZXMuIEN1cnJlbnRseVxuICAgIC8vIHdlIG9ubHkgcmVhZCBzaW5nbGUtdmFyIHByb3BlcnRpZXMgbGlrZSBgdmFyKC0tZm9vKWAsIG5vdCBgY2FsYyh2YXIoLS1mb28pICsgMjBweClgXG4gICAgZm9yIChjb25zdCBrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0YXJnZXRba2V5XTtcbiAgICAgICAgaWYgKCFpc0NTU1ZhcmlhYmxlKGN1cnJlbnQpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IHJlc29sdmVkID0gZ2V0VmFyaWFibGVWYWx1ZShjdXJyZW50LCBlbGVtZW50KTtcbiAgICAgICAgaWYgKCFyZXNvbHZlZClcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAvLyBDbG9uZSB0YXJnZXQgaWYgaXQgaGFzbid0IGFscmVhZHkgYmVlblxuICAgICAgICB0YXJnZXRba2V5XSA9IHJlc29sdmVkO1xuICAgICAgICAvLyBJZiB0aGUgdXNlciBoYXNuJ3QgYWxyZWFkeSBzZXQgdGhpcyBrZXkgb24gYHRyYW5zaXRpb25FbmRgLCBzZXQgaXQgdG8gdGhlIHVucmVzb2x2ZWRcbiAgICAgICAgLy8gQ1NTIHZhcmlhYmxlLiBUaGlzIHdpbGwgZW5zdXJlIHRoYXQgYWZ0ZXIgdGhlIGFuaW1hdGlvbiB0aGUgY29tcG9uZW50IHdpbGwgcmVmbGVjdFxuICAgICAgICAvLyBjaGFuZ2VzIGluIHRoZSB2YWx1ZSBvZiB0aGUgQ1NTIHZhcmlhYmxlLlxuICAgICAgICBpZiAodHJhbnNpdGlvbkVuZCAmJiB0cmFuc2l0aW9uRW5kW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdHJhbnNpdGlvbkVuZFtrZXldID0gY3VycmVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyB0YXJnZXQsIHRyYW5zaXRpb25FbmQgfTtcbn1cblxuZXhwb3J0IHsgY3NzVmFyaWFibGVSZWdleCwgcGFyc2VDU1NWYXJpYWJsZSwgcmVzb2x2ZUNTU1ZhcmlhYmxlcyB9O1xuIiwiaW1wb3J0IHsgcHgsIG51bWJlciB9IGZyb20gJ3N0eWxlLXZhbHVlLXR5cGVzJztcbmltcG9ydCB7IGlzS2V5ZnJhbWVzVGFyZ2V0IH0gZnJvbSAnLi4vLi4vLi4vYW5pbWF0aW9uL3V0aWxzL2lzLWtleWZyYW1lcy10YXJnZXQubWpzJztcbmltcG9ydCB7IGludmFyaWFudCB9IGZyb20gJ2hleS1saXN0ZW4nO1xuaW1wb3J0IHsgdHJhbnNmb3JtUHJvcE9yZGVyIH0gZnJvbSAnLi4vLi4vaHRtbC91dGlscy90cmFuc2Zvcm0ubWpzJztcbmltcG9ydCB7IGZpbmREaW1lbnNpb25WYWx1ZVR5cGUgfSBmcm9tICcuLi92YWx1ZS10eXBlcy9kaW1lbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBpc0Jyb3dzZXIgfSBmcm9tICcuLi8uLi8uLi91dGlscy9pcy1icm93c2VyLm1qcyc7XG5cbmNvbnN0IHBvc2l0aW9uYWxLZXlzID0gbmV3IFNldChbXG4gICAgXCJ3aWR0aFwiLFxuICAgIFwiaGVpZ2h0XCIsXG4gICAgXCJ0b3BcIixcbiAgICBcImxlZnRcIixcbiAgICBcInJpZ2h0XCIsXG4gICAgXCJib3R0b21cIixcbiAgICBcInhcIixcbiAgICBcInlcIixcbl0pO1xuY29uc3QgaXNQb3NpdGlvbmFsS2V5ID0gKGtleSkgPT4gcG9zaXRpb25hbEtleXMuaGFzKGtleSk7XG5jb25zdCBoYXNQb3NpdGlvbmFsS2V5ID0gKHRhcmdldCkgPT4ge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0YXJnZXQpLnNvbWUoaXNQb3NpdGlvbmFsS2V5KTtcbn07XG5jb25zdCBzZXRBbmRSZXNldFZlbG9jaXR5ID0gKHZhbHVlLCB0bykgPT4ge1xuICAgIC8vIExvb2tzIG9kZCBidXQgc2V0dGluZyBpdCB0d2ljZSBkb2Vzbid0IHJlbmRlciwgaXQnbGwganVzdFxuICAgIC8vIHNldCBib3RoIHByZXYgYW5kIGN1cnJlbnQgdG8gdGhlIGxhdGVzdCB2YWx1ZVxuICAgIHZhbHVlLnNldCh0bywgZmFsc2UpO1xuICAgIHZhbHVlLnNldCh0byk7XG59O1xuY29uc3QgaXNOdW1PclB4VHlwZSA9ICh2KSA9PiB2ID09PSBudW1iZXIgfHwgdiA9PT0gcHg7XG52YXIgQm91bmRpbmdCb3hEaW1lbnNpb247XG4oZnVuY3Rpb24gKEJvdW5kaW5nQm94RGltZW5zaW9uKSB7XG4gICAgQm91bmRpbmdCb3hEaW1lbnNpb25bXCJ3aWR0aFwiXSA9IFwid2lkdGhcIjtcbiAgICBCb3VuZGluZ0JveERpbWVuc2lvbltcImhlaWdodFwiXSA9IFwiaGVpZ2h0XCI7XG4gICAgQm91bmRpbmdCb3hEaW1lbnNpb25bXCJsZWZ0XCJdID0gXCJsZWZ0XCI7XG4gICAgQm91bmRpbmdCb3hEaW1lbnNpb25bXCJyaWdodFwiXSA9IFwicmlnaHRcIjtcbiAgICBCb3VuZGluZ0JveERpbWVuc2lvbltcInRvcFwiXSA9IFwidG9wXCI7XG4gICAgQm91bmRpbmdCb3hEaW1lbnNpb25bXCJib3R0b21cIl0gPSBcImJvdHRvbVwiO1xufSkoQm91bmRpbmdCb3hEaW1lbnNpb24gfHwgKEJvdW5kaW5nQm94RGltZW5zaW9uID0ge30pKTtcbmNvbnN0IGdldFBvc0Zyb21NYXRyaXggPSAobWF0cml4LCBwb3MpID0+IHBhcnNlRmxvYXQobWF0cml4LnNwbGl0KFwiLCBcIilbcG9zXSk7XG5jb25zdCBnZXRUcmFuc2xhdGVGcm9tTWF0cml4ID0gKHBvczIsIHBvczMpID0+IChfYmJveCwgeyB0cmFuc2Zvcm0gfSkgPT4ge1xuICAgIGlmICh0cmFuc2Zvcm0gPT09IFwibm9uZVwiIHx8ICF0cmFuc2Zvcm0pXG4gICAgICAgIHJldHVybiAwO1xuICAgIGNvbnN0IG1hdHJpeDNkID0gdHJhbnNmb3JtLm1hdGNoKC9ebWF0cml4M2RcXCgoLispXFwpJC8pO1xuICAgIGlmIChtYXRyaXgzZCkge1xuICAgICAgICByZXR1cm4gZ2V0UG9zRnJvbU1hdHJpeChtYXRyaXgzZFsxXSwgcG9zMyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBtYXRyaXggPSB0cmFuc2Zvcm0ubWF0Y2goL15tYXRyaXhcXCgoLispXFwpJC8pO1xuICAgICAgICBpZiAobWF0cml4KSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0UG9zRnJvbU1hdHJpeChtYXRyaXhbMV0sIHBvczIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgdHJhbnNmb3JtS2V5cyA9IG5ldyBTZXQoW1wieFwiLCBcInlcIiwgXCJ6XCJdKTtcbmNvbnN0IG5vblRyYW5zbGF0aW9uYWxUcmFuc2Zvcm1LZXlzID0gdHJhbnNmb3JtUHJvcE9yZGVyLmZpbHRlcigoa2V5KSA9PiAhdHJhbnNmb3JtS2V5cy5oYXMoa2V5KSk7XG5mdW5jdGlvbiByZW1vdmVOb25UcmFuc2xhdGlvbmFsVHJhbnNmb3JtKHZpc3VhbEVsZW1lbnQpIHtcbiAgICBjb25zdCByZW1vdmVkVHJhbnNmb3JtcyA9IFtdO1xuICAgIG5vblRyYW5zbGF0aW9uYWxUcmFuc2Zvcm1LZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHZpc3VhbEVsZW1lbnQuZ2V0VmFsdWUoa2V5KTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlbW92ZWRUcmFuc2Zvcm1zLnB1c2goW2tleSwgdmFsdWUuZ2V0KCldKTtcbiAgICAgICAgICAgIHZhbHVlLnNldChrZXkuc3RhcnRzV2l0aChcInNjYWxlXCIpID8gMSA6IDApO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8gQXBwbHkgY2hhbmdlcyB0byBlbGVtZW50IGJlZm9yZSBtZWFzdXJlbWVudFxuICAgIGlmIChyZW1vdmVkVHJhbnNmb3Jtcy5sZW5ndGgpXG4gICAgICAgIHZpc3VhbEVsZW1lbnQuc3luY1JlbmRlcigpO1xuICAgIHJldHVybiByZW1vdmVkVHJhbnNmb3Jtcztcbn1cbmNvbnN0IHBvc2l0aW9uYWxWYWx1ZXMgPSB7XG4gICAgLy8gRGltZW5zaW9uc1xuICAgIHdpZHRoOiAoeyB4IH0sIHsgcGFkZGluZ0xlZnQgPSBcIjBcIiwgcGFkZGluZ1JpZ2h0ID0gXCIwXCIgfSkgPT4geC5tYXggLSB4Lm1pbiAtIHBhcnNlRmxvYXQocGFkZGluZ0xlZnQpIC0gcGFyc2VGbG9hdChwYWRkaW5nUmlnaHQpLFxuICAgIGhlaWdodDogKHsgeSB9LCB7IHBhZGRpbmdUb3AgPSBcIjBcIiwgcGFkZGluZ0JvdHRvbSA9IFwiMFwiIH0pID0+IHkubWF4IC0geS5taW4gLSBwYXJzZUZsb2F0KHBhZGRpbmdUb3ApIC0gcGFyc2VGbG9hdChwYWRkaW5nQm90dG9tKSxcbiAgICB0b3A6IChfYmJveCwgeyB0b3AgfSkgPT4gcGFyc2VGbG9hdCh0b3ApLFxuICAgIGxlZnQ6IChfYmJveCwgeyBsZWZ0IH0pID0+IHBhcnNlRmxvYXQobGVmdCksXG4gICAgYm90dG9tOiAoeyB5IH0sIHsgdG9wIH0pID0+IHBhcnNlRmxvYXQodG9wKSArICh5Lm1heCAtIHkubWluKSxcbiAgICByaWdodDogKHsgeCB9LCB7IGxlZnQgfSkgPT4gcGFyc2VGbG9hdChsZWZ0KSArICh4Lm1heCAtIHgubWluKSxcbiAgICAvLyBUcmFuc2Zvcm1cbiAgICB4OiBnZXRUcmFuc2xhdGVGcm9tTWF0cml4KDQsIDEzKSxcbiAgICB5OiBnZXRUcmFuc2xhdGVGcm9tTWF0cml4KDUsIDE0KSxcbn07XG5jb25zdCBjb252ZXJ0Q2hhbmdlZFZhbHVlVHlwZXMgPSAodGFyZ2V0LCB2aXN1YWxFbGVtZW50LCBjaGFuZ2VkS2V5cykgPT4ge1xuICAgIGNvbnN0IG9yaWdpbkJib3ggPSB2aXN1YWxFbGVtZW50Lm1lYXN1cmVWaWV3cG9ydEJveCgpO1xuICAgIGNvbnN0IGVsZW1lbnQgPSB2aXN1YWxFbGVtZW50LmdldEluc3RhbmNlKCk7XG4gICAgY29uc3QgZWxlbWVudENvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgIGNvbnN0IHsgZGlzcGxheSB9ID0gZWxlbWVudENvbXB1dGVkU3R5bGU7XG4gICAgY29uc3Qgb3JpZ2luID0ge307XG4gICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgY3VycmVudGx5IHNldCB0byBkaXNwbGF5OiBcIm5vbmVcIiwgbWFrZSBpdCB2aXNpYmxlIGJlZm9yZVxuICAgIC8vIG1lYXN1cmluZyB0aGUgdGFyZ2V0IGJvdW5kaW5nIGJveFxuICAgIGlmIChkaXNwbGF5ID09PSBcIm5vbmVcIikge1xuICAgICAgICB2aXN1YWxFbGVtZW50LnNldFN0YXRpY1ZhbHVlKFwiZGlzcGxheVwiLCB0YXJnZXQuZGlzcGxheSB8fCBcImJsb2NrXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWNvcmQgb3JpZ2lucyBiZWZvcmUgd2UgcmVuZGVyIGFuZCB1cGRhdGUgc3R5bGVzXG4gICAgICovXG4gICAgY2hhbmdlZEtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIG9yaWdpbltrZXldID0gcG9zaXRpb25hbFZhbHVlc1trZXldKG9yaWdpbkJib3gsIGVsZW1lbnRDb21wdXRlZFN0eWxlKTtcbiAgICB9KTtcbiAgICAvLyBBcHBseSB0aGUgbGF0ZXN0IHZhbHVlcyAoYXMgc2V0IGluIGNoZWNrQW5kQ29udmVydENoYW5nZWRWYWx1ZVR5cGVzKVxuICAgIHZpc3VhbEVsZW1lbnQuc3luY1JlbmRlcigpO1xuICAgIGNvbnN0IHRhcmdldEJib3ggPSB2aXN1YWxFbGVtZW50Lm1lYXN1cmVWaWV3cG9ydEJveCgpO1xuICAgIGNoYW5nZWRLZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAvLyBSZXN0b3JlIHN0eWxlcyB0byB0aGVpciAqKmNhbGN1bGF0ZWQgY29tcHV0ZWQgc3R5bGUqKiwgbm90IHRoZWlyIGFjdHVhbFxuICAgICAgICAvLyBvcmlnaW5hbGx5IHNldCBzdHlsZS4gVGhpcyBhbGxvd3MgdXMgdG8gYW5pbWF0ZSBiZXR3ZWVuIGVxdWl2YWxlbnQgcGl4ZWwgdW5pdHMuXG4gICAgICAgIGNvbnN0IHZhbHVlID0gdmlzdWFsRWxlbWVudC5nZXRWYWx1ZShrZXkpO1xuICAgICAgICBzZXRBbmRSZXNldFZlbG9jaXR5KHZhbHVlLCBvcmlnaW5ba2V5XSk7XG4gICAgICAgIHRhcmdldFtrZXldID0gcG9zaXRpb25hbFZhbHVlc1trZXldKHRhcmdldEJib3gsIGVsZW1lbnRDb21wdXRlZFN0eWxlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGFyZ2V0O1xufTtcbmNvbnN0IGNoZWNrQW5kQ29udmVydENoYW5nZWRWYWx1ZVR5cGVzID0gKHZpc3VhbEVsZW1lbnQsIHRhcmdldCwgb3JpZ2luID0ge30sIHRyYW5zaXRpb25FbmQgPSB7fSkgPT4ge1xuICAgIHRhcmdldCA9IHsgLi4udGFyZ2V0IH07XG4gICAgdHJhbnNpdGlvbkVuZCA9IHsgLi4udHJhbnNpdGlvbkVuZCB9O1xuICAgIGNvbnN0IHRhcmdldFBvc2l0aW9uYWxLZXlzID0gT2JqZWN0LmtleXModGFyZ2V0KS5maWx0ZXIoaXNQb3NpdGlvbmFsS2V5KTtcbiAgICAvLyBXZSB3YW50IHRvIHJlbW92ZSBhbnkgdHJhbnNmb3JtIHZhbHVlcyB0aGF0IGNvdWxkIGFmZmVjdCB0aGUgZWxlbWVudCdzIGJvdW5kaW5nIGJveCBiZWZvcmVcbiAgICAvLyBpdCdzIG1lYXN1cmVkLiBXZSdsbCByZWFwcGx5IHRoZXNlIGxhdGVyLlxuICAgIGxldCByZW1vdmVkVHJhbnNmb3JtVmFsdWVzID0gW107XG4gICAgbGV0IGhhc0F0dGVtcHRlZFRvUmVtb3ZlVHJhbnNmb3JtVmFsdWVzID0gZmFsc2U7XG4gICAgY29uc3QgY2hhbmdlZFZhbHVlVHlwZUtleXMgPSBbXTtcbiAgICB0YXJnZXRQb3NpdGlvbmFsS2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB2aXN1YWxFbGVtZW50LmdldFZhbHVlKGtleSk7XG4gICAgICAgIGlmICghdmlzdWFsRWxlbWVudC5oYXNWYWx1ZShrZXkpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgZnJvbSA9IG9yaWdpbltrZXldO1xuICAgICAgICBsZXQgZnJvbVR5cGUgPSBmaW5kRGltZW5zaW9uVmFsdWVUeXBlKGZyb20pO1xuICAgICAgICBjb25zdCB0byA9IHRhcmdldFtrZXldO1xuICAgICAgICBsZXQgdG9UeXBlO1xuICAgICAgICAvLyBUT0RPOiBUaGUgY3VycmVudCBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIGJhc2ljYWxseSB0aHJvd3MgYW4gZXJyb3JcbiAgICAgICAgLy8gaWYgeW91IHRyeSBhbmQgZG8gdmFsdWUgY29udmVyc2lvbiB2aWEga2V5ZnJhbWVzLiBUaGVyZSdzIHByb2JhYmx5XG4gICAgICAgIC8vIGEgd2F5IG9mIGRvaW5nIHRoaXMgYnV0IHRoZSBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMgd291bGQgbmVlZCBncmVhdGVyIHNjcnV0aW55LFxuICAgICAgICAvLyBhcyBpdCdkIGJlIGRvaW5nIG11bHRpcGxlIHJlc2l6ZS1yZW1lYXN1cmUgb3BlcmF0aW9ucy5cbiAgICAgICAgaWYgKGlzS2V5ZnJhbWVzVGFyZ2V0KHRvKSkge1xuICAgICAgICAgICAgY29uc3QgbnVtS2V5ZnJhbWVzID0gdG8ubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgZnJvbUluZGV4ID0gdG9bMF0gPT09IG51bGwgPyAxIDogMDtcbiAgICAgICAgICAgIGZyb20gPSB0b1tmcm9tSW5kZXhdO1xuICAgICAgICAgICAgZnJvbVR5cGUgPSBmaW5kRGltZW5zaW9uVmFsdWVUeXBlKGZyb20pO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGZyb21JbmRleDsgaSA8IG51bUtleWZyYW1lczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0b1R5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9UeXBlID0gZmluZERpbWVuc2lvblZhbHVlVHlwZSh0b1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIGludmFyaWFudCh0b1R5cGUgPT09IGZyb21UeXBlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoaXNOdW1PclB4VHlwZShmcm9tVHlwZSkgJiYgaXNOdW1PclB4VHlwZSh0b1R5cGUpKSwgXCJLZXlmcmFtZXMgbXVzdCBiZSBvZiB0aGUgc2FtZSBkaW1lbnNpb24gYXMgdGhlIGN1cnJlbnQgdmFsdWVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpbnZhcmlhbnQoZmluZERpbWVuc2lvblZhbHVlVHlwZSh0b1tpXSkgPT09IHRvVHlwZSwgXCJBbGwga2V5ZnJhbWVzIG11c3QgYmUgb2YgdGhlIHNhbWUgdHlwZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0b1R5cGUgPSBmaW5kRGltZW5zaW9uVmFsdWVUeXBlKHRvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJvbVR5cGUgIT09IHRvVHlwZSkge1xuICAgICAgICAgICAgLy8gSWYgdGhleSdyZSBib3RoIGp1c3QgbnVtYmVyIG9yIHB4LCBjb252ZXJ0IHRoZW0gYm90aCB0byBudW1iZXJzIHJhdGhlciB0aGFuXG4gICAgICAgICAgICAvLyByZWx5aW5nIG9uIHJlc2l6ZS9yZW1lYXN1cmUgdG8gY29udmVydCAod2hpY2ggaXMgd2FzdGVmdWwgaW4gdGhpcyBzaXR1YXRpb24pXG4gICAgICAgICAgICBpZiAoaXNOdW1PclB4VHlwZShmcm9tVHlwZSkgJiYgaXNOdW1PclB4VHlwZSh0b1R5cGUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IHZhbHVlLmdldCgpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY3VycmVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5zZXQocGFyc2VGbG9hdChjdXJyZW50KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBwYXJzZUZsb2F0KHRvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0bykgJiYgdG9UeXBlID09PSBweCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHRvLm1hcChwYXJzZUZsb2F0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgoZnJvbVR5cGUgPT09IG51bGwgfHwgZnJvbVR5cGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZyb21UeXBlLnRyYW5zZm9ybSkgJiZcbiAgICAgICAgICAgICAgICAodG9UeXBlID09PSBudWxsIHx8IHRvVHlwZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdG9UeXBlLnRyYW5zZm9ybSkgJiZcbiAgICAgICAgICAgICAgICAoZnJvbSA9PT0gMCB8fCB0byA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBvbmUgb3IgdGhlIG90aGVyIHZhbHVlIGlzIDAsIGl0J3Mgc2FmZSB0byBjb2VyY2UgaXQgdG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gdHlwZSBvZiB0aGUgb3RoZXIgd2l0aG91dCBtZWFzdXJlbWVudFxuICAgICAgICAgICAgICAgIGlmIChmcm9tID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLnNldCh0b1R5cGUudHJhbnNmb3JtKGZyb20pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gZnJvbVR5cGUudHJhbnNmb3JtKHRvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSdyZSBnb2luZyB0byBkbyB2YWx1ZSBjb252ZXJzaW9uIHZpYSBET00gbWVhc3VyZW1lbnRzLCB3ZSBmaXJzdFxuICAgICAgICAgICAgICAgIC8vIG5lZWQgdG8gcmVtb3ZlIG5vbi1wb3NpdGlvbmFsIHRyYW5zZm9ybSB2YWx1ZXMgdGhhdCBjb3VsZCBhZmZlY3QgdGhlIGJib3ggbWVhc3VyZW1lbnRzLlxuICAgICAgICAgICAgICAgIGlmICghaGFzQXR0ZW1wdGVkVG9SZW1vdmVUcmFuc2Zvcm1WYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZFRyYW5zZm9ybVZhbHVlcyA9XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVOb25UcmFuc2xhdGlvbmFsVHJhbnNmb3JtKHZpc3VhbEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICBoYXNBdHRlbXB0ZWRUb1JlbW92ZVRyYW5zZm9ybVZhbHVlcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNoYW5nZWRWYWx1ZVR5cGVLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uRW5kW2tleV0gPVxuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uRW5kW2tleV0gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0cmFuc2l0aW9uRW5kW2tleV1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogdGFyZ2V0W2tleV07XG4gICAgICAgICAgICAgICAgc2V0QW5kUmVzZXRWZWxvY2l0eSh2YWx1ZSwgdG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGNoYW5nZWRWYWx1ZVR5cGVLZXlzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBzY3JvbGxZID0gY2hhbmdlZFZhbHVlVHlwZUtleXMuaW5kZXhPZihcImhlaWdodFwiKSA+PSAwXG4gICAgICAgICAgICA/IHdpbmRvdy5wYWdlWU9mZnNldFxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICBjb25zdCBjb252ZXJ0ZWRUYXJnZXQgPSBjb252ZXJ0Q2hhbmdlZFZhbHVlVHlwZXModGFyZ2V0LCB2aXN1YWxFbGVtZW50LCBjaGFuZ2VkVmFsdWVUeXBlS2V5cyk7XG4gICAgICAgIC8vIElmIHdlIHJlbW92ZWQgdHJhbnNmb3JtIHZhbHVlcywgcmVhcHBseSB0aGVtIGJlZm9yZSB0aGUgbmV4dCByZW5kZXJcbiAgICAgICAgaWYgKHJlbW92ZWRUcmFuc2Zvcm1WYWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZW1vdmVkVHJhbnNmb3JtVmFsdWVzLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQuZ2V0VmFsdWUoa2V5KS5zZXQodmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVhcHBseSBvcmlnaW5hbCB2YWx1ZXNcbiAgICAgICAgdmlzdWFsRWxlbWVudC5zeW5jUmVuZGVyKCk7XG4gICAgICAgIC8vIFJlc3RvcmUgc2Nyb2xsIHBvc2l0aW9uXG4gICAgICAgIGlmIChpc0Jyb3dzZXIgJiYgc2Nyb2xsWSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKHsgdG9wOiBzY3JvbGxZIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHRhcmdldDogY29udmVydGVkVGFyZ2V0LCB0cmFuc2l0aW9uRW5kIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4geyB0YXJnZXQsIHRyYW5zaXRpb25FbmQgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBDb252ZXJ0IHZhbHVlIHR5cGVzIGZvciB4L3kvd2lkdGgvaGVpZ2h0L3RvcC9sZWZ0L2JvdHRvbS9yaWdodFxuICpcbiAqIEFsbG93cyBhbmltYXRpb24gYmV0d2VlbiBgJ2F1dG8nYCAtPiBgJzEwMCUnYCBvciBgMGAgLT4gYCdjYWxjKDUwJSAtIDEwdncpJ2BcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gdW5pdENvbnZlcnNpb24odmlzdWFsRWxlbWVudCwgdGFyZ2V0LCBvcmlnaW4sIHRyYW5zaXRpb25FbmQpIHtcbiAgICByZXR1cm4gaGFzUG9zaXRpb25hbEtleSh0YXJnZXQpXG4gICAgICAgID8gY2hlY2tBbmRDb252ZXJ0Q2hhbmdlZFZhbHVlVHlwZXModmlzdWFsRWxlbWVudCwgdGFyZ2V0LCBvcmlnaW4sIHRyYW5zaXRpb25FbmQpXG4gICAgICAgIDogeyB0YXJnZXQsIHRyYW5zaXRpb25FbmQgfTtcbn1cblxuZXhwb3J0IHsgQm91bmRpbmdCb3hEaW1lbnNpb24sIHBvc2l0aW9uYWxWYWx1ZXMsIHVuaXRDb252ZXJzaW9uIH07XG4iLCJpbXBvcnQgeyByZXNvbHZlQ1NTVmFyaWFibGVzIH0gZnJvbSAnLi9jc3MtdmFyaWFibGVzLWNvbnZlcnNpb24ubWpzJztcbmltcG9ydCB7IHVuaXRDb252ZXJzaW9uIH0gZnJvbSAnLi91bml0LWNvbnZlcnNpb24ubWpzJztcblxuLyoqXG4gKiBQYXJzZSBhIERPTSB2YXJpYW50IHRvIG1ha2UgaXQgYW5pbWF0YWJsZS4gVGhpcyBpbnZvbHZlcyByZXNvbHZpbmcgQ1NTIHZhcmlhYmxlc1xuICogYW5kIGVuc3VyaW5nIGFuaW1hdGlvbnMgbGlrZSBcIjIwJVwiID0+IFwiY2FsYyg1MHZ3KVwiIGFyZSBwZXJmb3JtZWQgaW4gcGl4ZWxzLlxuICovXG5jb25zdCBwYXJzZURvbVZhcmlhbnQgPSAodmlzdWFsRWxlbWVudCwgdGFyZ2V0LCBvcmlnaW4sIHRyYW5zaXRpb25FbmQpID0+IHtcbiAgICBjb25zdCByZXNvbHZlZCA9IHJlc29sdmVDU1NWYXJpYWJsZXModmlzdWFsRWxlbWVudCwgdGFyZ2V0LCB0cmFuc2l0aW9uRW5kKTtcbiAgICB0YXJnZXQgPSByZXNvbHZlZC50YXJnZXQ7XG4gICAgdHJhbnNpdGlvbkVuZCA9IHJlc29sdmVkLnRyYW5zaXRpb25FbmQ7XG4gICAgcmV0dXJuIHVuaXRDb252ZXJzaW9uKHZpc3VhbEVsZW1lbnQsIHRhcmdldCwgb3JpZ2luLCB0cmFuc2l0aW9uRW5kKTtcbn07XG5cbmV4cG9ydCB7IHBhcnNlRG9tVmFyaWFudCB9O1xuIiwiaW1wb3J0IHsgdmlzdWFsRWxlbWVudCB9IGZyb20gJy4uL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBnZXRPcmlnaW4sIGNoZWNrVGFyZ2V0Rm9yTmV3VmFsdWVzIH0gZnJvbSAnLi4vdXRpbHMvc2V0dGVycy5tanMnO1xuaW1wb3J0IHsgYnVpbGRIVE1MU3R5bGVzIH0gZnJvbSAnLi91dGlscy9idWlsZC1zdHlsZXMubWpzJztcbmltcG9ydCB7IGlzQ1NTVmFyaWFibGUgfSBmcm9tICcuLi9kb20vdXRpbHMvaXMtY3NzLXZhcmlhYmxlLm1qcyc7XG5pbXBvcnQgeyBwYXJzZURvbVZhcmlhbnQgfSBmcm9tICcuLi9kb20vdXRpbHMvcGFyc2UtZG9tLXZhcmlhbnQubWpzJztcbmltcG9ydCB7IHRyYW5zZm9ybVByb3BzIH0gZnJvbSAnLi91dGlscy90cmFuc2Zvcm0ubWpzJztcbmltcG9ydCB7IHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyB9IGZyb20gJy4vdXRpbHMvc2NyYXBlLW1vdGlvbi12YWx1ZXMubWpzJztcbmltcG9ydCB7IHJlbmRlckhUTUwgfSBmcm9tICcuL3V0aWxzL3JlbmRlci5tanMnO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdFZhbHVlVHlwZSB9IGZyb20gJy4uL2RvbS92YWx1ZS10eXBlcy9kZWZhdWx0cy5tanMnO1xuaW1wb3J0IHsgbWVhc3VyZVZpZXdwb3J0Qm94IH0gZnJvbSAnLi4vLi4vcHJvamVjdGlvbi91dGlscy9tZWFzdXJlLm1qcyc7XG5cbmZ1bmN0aW9uIGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkge1xuICAgIHJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbn1cbmNvbnN0IGh0bWxDb25maWcgPSB7XG4gICAgdHJlZVR5cGU6IFwiZG9tXCIsXG4gICAgcmVhZFZhbHVlRnJvbUluc3RhbmNlKGRvbUVsZW1lbnQsIGtleSkge1xuICAgICAgICBpZiAodHJhbnNmb3JtUHJvcHMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRUeXBlID0gZ2V0RGVmYXVsdFZhbHVlVHlwZShrZXkpO1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRUeXBlID8gZGVmYXVsdFR5cGUuZGVmYXVsdCB8fCAwIDogMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGRvbUVsZW1lbnQpO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSAoaXNDU1NWYXJpYWJsZShrZXkpXG4gICAgICAgICAgICAgICAgPyBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoa2V5KVxuICAgICAgICAgICAgICAgIDogY29tcHV0ZWRTdHlsZVtrZXldKSB8fCAwO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlLnRyaW0oKSA6IHZhbHVlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzb3J0Tm9kZVBvc2l0aW9uKGEsIGIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIHJldHVybnMgYSBiaXRtYXNrLCBieSB1c2luZyB0aGUgYml0d2lzZSAmXG4gICAgICAgICAqIHdlJ3JlIHJldHVybmluZyB0cnVlIGlmIDIgaW4gdGhhdCBiaXRtYXNrIGlzIHNldCB0byB0cnVlLiAyIGlzIHNldFxuICAgICAgICAgKiB0byB0cnVlIGlmIGIgcHJlY2VlZHMgYS5cbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpICYgMiA/IDEgOiAtMTtcbiAgICB9LFxuICAgIGdldEJhc2VUYXJnZXQocHJvcHMsIGtleSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSBwcm9wcy5zdHlsZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW2tleV07XG4gICAgfSxcbiAgICBtZWFzdXJlVmlld3BvcnRCb3goZWxlbWVudCwgeyB0cmFuc2Zvcm1QYWdlUG9pbnQgfSkge1xuICAgICAgICByZXR1cm4gbWVhc3VyZVZpZXdwb3J0Qm94KGVsZW1lbnQsIHRyYW5zZm9ybVBhZ2VQb2ludCk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgdHJhbnNmb3JtIG9uIHRoZSBjdXJyZW50IEVsZW1lbnQuIFRoaXMgaXMgY2FsbGVkIGFzIHBhcnRcbiAgICAgKiBvZiBhIGJhdGNoZWQgcHJvY2VzcyBhY3Jvc3MgdGhlIGVudGlyZSBsYXlvdXQgdHJlZS4gVG8gcmVtb3ZlIHRoaXMgd3JpdGVcbiAgICAgKiBjeWNsZSBpdCdkIGJlIGludGVyZXN0aW5nIHRvIHNlZSBpZiBpdCdzIHBvc3NpYmxlIHRvIFwidW5kb1wiIGFsbCB0aGUgY3VycmVudFxuICAgICAqIGxheW91dCB0cmFuc2Zvcm1zIHVwIHRoZSB0cmVlIGluIHRoZSBzYW1lIHdheSB0aGlzLmdldEJvdW5kaW5nQm94V2l0aG91dFRyYW5zZm9ybXNcbiAgICAgKiB3b3Jrc1xuICAgICAqL1xuICAgIHJlc2V0VHJhbnNmb3JtKGVsZW1lbnQsIGRvbUVsZW1lbnQsIHByb3BzKSB7XG4gICAgICAgIGNvbnN0IHsgdHJhbnNmb3JtVGVtcGxhdGUgfSA9IHByb3BzO1xuICAgICAgICBkb21FbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVRlbXBsYXRlXG4gICAgICAgICAgICA/IHRyYW5zZm9ybVRlbXBsYXRlKHt9LCBcIlwiKVxuICAgICAgICAgICAgOiBcIm5vbmVcIjtcbiAgICAgICAgLy8gRW5zdXJlIHRoYXQgd2hhdGV2ZXIgaGFwcGVucyBuZXh0LCB3ZSByZXN0b3JlIG91ciB0cmFuc2Zvcm0gb24gdGhlIG5leHQgZnJhbWVcbiAgICAgICAgZWxlbWVudC5zY2hlZHVsZVJlbmRlcigpO1xuICAgIH0sXG4gICAgcmVzdG9yZVRyYW5zZm9ybShpbnN0YW5jZSwgbXV0YWJsZVN0YXRlKSB7XG4gICAgICAgIGluc3RhbmNlLnN0eWxlLnRyYW5zZm9ybSA9IG11dGFibGVTdGF0ZS5zdHlsZS50cmFuc2Zvcm07XG4gICAgfSxcbiAgICByZW1vdmVWYWx1ZUZyb21SZW5kZXJTdGF0ZShrZXksIHsgdmFycywgc3R5bGUgfSkge1xuICAgICAgICBkZWxldGUgdmFyc1trZXldO1xuICAgICAgICBkZWxldGUgc3R5bGVba2V5XTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEVuc3VyZSB0aGF0IEhUTUwgYW5kIEZyYW1lci1zcGVjaWZpYyB2YWx1ZSB0eXBlcyBsaWtlIGBweGAtPmAlYCBhbmQgYENvbG9yYFxuICAgICAqIGNhbiBiZSBhbmltYXRlZCBieSBNb3Rpb24uXG4gICAgICovXG4gICAgbWFrZVRhcmdldEFuaW1hdGFibGUoZWxlbWVudCwgeyB0cmFuc2l0aW9uLCB0cmFuc2l0aW9uRW5kLCAuLi50YXJnZXQgfSwgeyB0cmFuc2Zvcm1WYWx1ZXMgfSwgaXNNb3VudGVkID0gdHJ1ZSkge1xuICAgICAgICBsZXQgb3JpZ2luID0gZ2V0T3JpZ2luKHRhcmdldCwgdHJhbnNpdGlvbiB8fCB7fSwgZWxlbWVudCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBGcmFtZXIgaGFzIHByb3ZpZGVkIGEgZnVuY3Rpb24gdG8gY29udmVydCBgQ29sb3JgIGV0YyB2YWx1ZSB0eXBlcywgY29udmVydCB0aGVtXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodHJhbnNmb3JtVmFsdWVzKSB7XG4gICAgICAgICAgICBpZiAodHJhbnNpdGlvbkVuZClcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uRW5kID0gdHJhbnNmb3JtVmFsdWVzKHRyYW5zaXRpb25FbmQpO1xuICAgICAgICAgICAgaWYgKHRhcmdldClcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSB0cmFuc2Zvcm1WYWx1ZXModGFyZ2V0KTtcbiAgICAgICAgICAgIGlmIChvcmlnaW4pXG4gICAgICAgICAgICAgICAgb3JpZ2luID0gdHJhbnNmb3JtVmFsdWVzKG9yaWdpbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTW91bnRlZCkge1xuICAgICAgICAgICAgY2hlY2tUYXJnZXRGb3JOZXdWYWx1ZXMoZWxlbWVudCwgdGFyZ2V0LCBvcmlnaW4pO1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VEb21WYXJpYW50KGVsZW1lbnQsIHRhcmdldCwgb3JpZ2luLCB0cmFuc2l0aW9uRW5kKTtcbiAgICAgICAgICAgIHRyYW5zaXRpb25FbmQgPSBwYXJzZWQudHJhbnNpdGlvbkVuZDtcbiAgICAgICAgICAgIHRhcmdldCA9IHBhcnNlZC50YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRyYW5zaXRpb24sXG4gICAgICAgICAgICB0cmFuc2l0aW9uRW5kLFxuICAgICAgICAgICAgLi4udGFyZ2V0LFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzLFxuICAgIGJ1aWxkKGVsZW1lbnQsIHJlbmRlclN0YXRlLCBsYXRlc3RWYWx1ZXMsIG9wdGlvbnMsIHByb3BzKSB7XG4gICAgICAgIGlmIChlbGVtZW50LmlzVmlzaWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZW5kZXJTdGF0ZS5zdHlsZS52aXNpYmlsaXR5ID0gZWxlbWVudC5pc1Zpc2libGVcbiAgICAgICAgICAgICAgICA/IFwidmlzaWJsZVwiXG4gICAgICAgICAgICAgICAgOiBcImhpZGRlblwiO1xuICAgICAgICB9XG4gICAgICAgIGJ1aWxkSFRNTFN0eWxlcyhyZW5kZXJTdGF0ZSwgbGF0ZXN0VmFsdWVzLCBvcHRpb25zLCBwcm9wcy50cmFuc2Zvcm1UZW1wbGF0ZSk7XG4gICAgfSxcbiAgICByZW5kZXI6IHJlbmRlckhUTUwsXG59O1xuY29uc3QgaHRtbFZpc3VhbEVsZW1lbnQgPSB2aXN1YWxFbGVtZW50KGh0bWxDb25maWcpO1xuXG5leHBvcnQgeyBnZXRDb21wdXRlZFN0eWxlLCBodG1sQ29uZmlnLCBodG1sVmlzdWFsRWxlbWVudCB9O1xuIiwiLyoqXG4gKiBDaGVjayBpZiB2YWx1ZSBpcyBhIG51bWVyaWNhbCBzdHJpbmcsIGllIGEgc3RyaW5nIHRoYXQgaXMgcHVyZWx5IGEgbnVtYmVyIGVnIFwiMTAwXCIgb3IgXCItMTAwLjFcIlxuICovXG5jb25zdCBpc051bWVyaWNhbFN0cmluZyA9ICh2KSA9PiAvXlxcLT9cXGQqXFwuP1xcZCskLy50ZXN0KHYpO1xuXG5leHBvcnQgeyBpc051bWVyaWNhbFN0cmluZyB9O1xuIiwiLyoqXG4gKiBDaGVjayBpZiB0aGUgdmFsdWUgaXMgYSB6ZXJvIHZhbHVlIHN0cmluZyBsaWtlIFwiMHB4XCIgb3IgXCIwJVwiXG4gKi9cbmNvbnN0IGlzWmVyb1ZhbHVlU3RyaW5nID0gKHYpID0+IC9eMFteLlxcc10rJC8udGVzdCh2KTtcblxuZXhwb3J0IHsgaXNaZXJvVmFsdWVTdHJpbmcgfTtcbiIsImltcG9ydCB7IHZpc3VhbEVsZW1lbnQgfSBmcm9tICcuLi9pbmRleC5tanMnO1xuaW1wb3J0IHsgc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzIH0gZnJvbSAnLi91dGlscy9zY3JhcGUtbW90aW9uLXZhbHVlcy5tanMnO1xuaW1wb3J0IHsgaHRtbENvbmZpZyB9IGZyb20gJy4uL2h0bWwvdmlzdWFsLWVsZW1lbnQubWpzJztcbmltcG9ydCB7IGJ1aWxkU1ZHQXR0cnMgfSBmcm9tICcuL3V0aWxzL2J1aWxkLWF0dHJzLm1qcyc7XG5pbXBvcnQgeyBjYW1lbFRvRGFzaCB9IGZyb20gJy4uL2RvbS91dGlscy9jYW1lbC10by1kYXNoLm1qcyc7XG5pbXBvcnQgeyBjYW1lbENhc2VBdHRyaWJ1dGVzIH0gZnJvbSAnLi91dGlscy9jYW1lbC1jYXNlLWF0dHJzLm1qcyc7XG5pbXBvcnQgeyB0cmFuc2Zvcm1Qcm9wcyB9IGZyb20gJy4uL2h0bWwvdXRpbHMvdHJhbnNmb3JtLm1qcyc7XG5pbXBvcnQgeyByZW5kZXJTVkcgfSBmcm9tICcuL3V0aWxzL3JlbmRlci5tanMnO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdFZhbHVlVHlwZSB9IGZyb20gJy4uL2RvbS92YWx1ZS10eXBlcy9kZWZhdWx0cy5tanMnO1xuXG5jb25zdCBzdmdWaXN1YWxFbGVtZW50ID0gdmlzdWFsRWxlbWVudCh7XG4gICAgLi4uaHRtbENvbmZpZyxcbiAgICBnZXRCYXNlVGFyZ2V0KHByb3BzLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHByb3BzW2tleV07XG4gICAgfSxcbiAgICByZWFkVmFsdWVGcm9tSW5zdGFuY2UoZG9tRWxlbWVudCwga2V5KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRyYW5zZm9ybVByb3BzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gKChfYSA9IGdldERlZmF1bHRWYWx1ZVR5cGUoa2V5KSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlZmF1bHQpIHx8IDA7XG4gICAgICAgIH1cbiAgICAgICAga2V5ID0gIWNhbWVsQ2FzZUF0dHJpYnV0ZXMuaGFzKGtleSkgPyBjYW1lbFRvRGFzaChrZXkpIDoga2V5O1xuICAgICAgICByZXR1cm4gZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoa2V5KTtcbiAgICB9LFxuICAgIHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyxcbiAgICBidWlsZChfZWxlbWVudCwgcmVuZGVyU3RhdGUsIGxhdGVzdFZhbHVlcywgb3B0aW9ucywgcHJvcHMpIHtcbiAgICAgICAgYnVpbGRTVkdBdHRycyhyZW5kZXJTdGF0ZSwgbGF0ZXN0VmFsdWVzLCBvcHRpb25zLCBwcm9wcy50cmFuc2Zvcm1UZW1wbGF0ZSk7XG4gICAgfSxcbiAgICByZW5kZXI6IHJlbmRlclNWRyxcbn0pO1xuXG5leHBvcnQgeyBzdmdWaXN1YWxFbGVtZW50IH07XG4iLCJpbXBvcnQgeyBodG1sVmlzdWFsRWxlbWVudCB9IGZyb20gJy4uL2h0bWwvdmlzdWFsLWVsZW1lbnQubWpzJztcbmltcG9ydCB7IHN2Z1Zpc3VhbEVsZW1lbnQgfSBmcm9tICcuLi9zdmcvdmlzdWFsLWVsZW1lbnQubWpzJztcbmltcG9ydCB7IGlzU1ZHQ29tcG9uZW50IH0gZnJvbSAnLi91dGlscy9pcy1zdmctY29tcG9uZW50Lm1qcyc7XG5cbmNvbnN0IGNyZWF0ZURvbVZpc3VhbEVsZW1lbnQgPSAoQ29tcG9uZW50LCBvcHRpb25zKSA9PiB7XG4gICAgcmV0dXJuIGlzU1ZHQ29tcG9uZW50KENvbXBvbmVudClcbiAgICAgICAgPyBzdmdWaXN1YWxFbGVtZW50KG9wdGlvbnMsIHsgZW5hYmxlSGFyZHdhcmVBY2NlbGVyYXRpb246IGZhbHNlIH0pXG4gICAgICAgIDogaHRtbFZpc3VhbEVsZW1lbnQob3B0aW9ucywgeyBlbmFibGVIYXJkd2FyZUFjY2VsZXJhdGlvbjogdHJ1ZSB9KTtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZURvbVZpc3VhbEVsZW1lbnQgfTtcbiIsImltcG9ydCB7IHB4IH0gZnJvbSAnc3R5bGUtdmFsdWUtdHlwZXMnO1xuXG5mdW5jdGlvbiBwaXhlbHNUb1BlcmNlbnQocGl4ZWxzLCBheGlzKSB7XG4gICAgaWYgKGF4aXMubWF4ID09PSBheGlzLm1pbilcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgcmV0dXJuIChwaXhlbHMgLyAoYXhpcy5tYXggLSBheGlzLm1pbikpICogMTAwO1xufVxuLyoqXG4gKiBXZSBhbHdheXMgY29ycmVjdCBib3JkZXJSYWRpdXMgYXMgYSBwZXJjZW50YWdlIHJhdGhlciB0aGFuIHBpeGVscyB0byByZWR1Y2UgcGFpbnRzLlxuICogRm9yIGV4YW1wbGUsIGlmIHlvdSBhcmUgcHJvamVjdGluZyBhIGJveCB0aGF0IGlzIDEwMHB4IHdpZGUgd2l0aCBhIDEwcHggYm9yZGVyUmFkaXVzXG4gKiBpbnRvIGEgYm94IHRoYXQgaXMgMjAwcHggd2lkZSB3aXRoIGEgMjBweCBib3JkZXJSYWRpdXMsIHRoYXQgaXMgYWN0dWFsbHkgYSAxMCVcbiAqIGJvcmRlclJhZGl1cyBpbiBib3RoIHN0YXRlcy4gSWYgd2UgYW5pbWF0ZSBiZXR3ZWVuIHRoZSB0d28gaW4gcGl4ZWxzIHRoYXQgd2lsbCB0cmlnZ2VyXG4gKiBhIHBhaW50IGVhY2ggdGltZS4gSWYgd2UgYW5pbWF0ZSBiZXR3ZWVuIHRoZSB0d28gaW4gcGVyY2VudGFnZSB3ZSdsbCBhdm9pZCBhIHBhaW50LlxuICovXG5jb25zdCBjb3JyZWN0Qm9yZGVyUmFkaXVzID0ge1xuICAgIGNvcnJlY3Q6IChsYXRlc3QsIG5vZGUpID0+IHtcbiAgICAgICAgaWYgKCFub2RlLnRhcmdldClcbiAgICAgICAgICAgIHJldHVybiBsYXRlc3Q7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBsYXRlc3QgaXMgYSBzdHJpbmcsIGlmIGl0J3MgYSBwZXJjZW50YWdlIHdlIGNhbiByZXR1cm4gaW1tZWRpYXRlbHkgYXMgaXQnc1xuICAgICAgICAgKiBnb2luZyB0byBiZSBzdHJldGNoZWQgYXBwcm9wcmlhdGVseS4gT3RoZXJ3aXNlLCBpZiBpdCdzIGEgcGl4ZWwsIGNvbnZlcnQgaXQgdG8gYSBudW1iZXIuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodHlwZW9mIGxhdGVzdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgaWYgKHB4LnRlc3QobGF0ZXN0KSkge1xuICAgICAgICAgICAgICAgIGxhdGVzdCA9IHBhcnNlRmxvYXQobGF0ZXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBsYXRlc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGxhdGVzdCBpcyBhIG51bWJlciwgaXQncyBhIHBpeGVsIHZhbHVlLiBXZSB1c2UgdGhlIGN1cnJlbnQgdmlld3BvcnRCb3ggdG8gY2FsY3VsYXRlIHRoYXRcbiAgICAgICAgICogcGl4ZWwgdmFsdWUgYXMgYSBwZXJjZW50YWdlIG9mIGVhY2ggYXhpc1xuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgeCA9IHBpeGVsc1RvUGVyY2VudChsYXRlc3QsIG5vZGUudGFyZ2V0LngpO1xuICAgICAgICBjb25zdCB5ID0gcGl4ZWxzVG9QZXJjZW50KGxhdGVzdCwgbm9kZS50YXJnZXQueSk7XG4gICAgICAgIHJldHVybiBgJHt4fSUgJHt5fSVgO1xuICAgIH0sXG59O1xuXG5leHBvcnQgeyBjb3JyZWN0Qm9yZGVyUmFkaXVzLCBwaXhlbHNUb1BlcmNlbnQgfTtcbiIsImltcG9ydCB7IG1peCB9IGZyb20gJ3BvcG1vdGlvbic7XG5pbXBvcnQgeyBjb21wbGV4IH0gZnJvbSAnc3R5bGUtdmFsdWUtdHlwZXMnO1xuaW1wb3J0IHsgY3NzVmFyaWFibGVSZWdleCB9IGZyb20gJy4uLy4uL3JlbmRlci9kb20vdXRpbHMvY3NzLXZhcmlhYmxlcy1jb252ZXJzaW9uLm1qcyc7XG5cbmNvbnN0IHZhclRva2VuID0gXCJfJGNzc1wiO1xuY29uc3QgY29ycmVjdEJveFNoYWRvdyA9IHtcbiAgICBjb3JyZWN0OiAobGF0ZXN0LCB7IHRyZWVTY2FsZSwgcHJvamVjdGlvbkRlbHRhIH0pID0+IHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSBsYXRlc3Q7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXZSBuZWVkIHRvIGZpcnN0IHN0cmlwIGFuZCBzdG9yZSBDU1MgdmFyaWFibGVzIGZyb20gdGhlIHN0cmluZy5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGNvbnRhaW5zQ1NTVmFyaWFibGVzID0gbGF0ZXN0LmluY2x1ZGVzKFwidmFyKFwiKTtcbiAgICAgICAgY29uc3QgY3NzVmFyaWFibGVzID0gW107XG4gICAgICAgIGlmIChjb250YWluc0NTU1ZhcmlhYmxlcykge1xuICAgICAgICAgICAgbGF0ZXN0ID0gbGF0ZXN0LnJlcGxhY2UoY3NzVmFyaWFibGVSZWdleCwgKG1hdGNoKSA9PiB7XG4gICAgICAgICAgICAgICAgY3NzVmFyaWFibGVzLnB1c2gobWF0Y2gpO1xuICAgICAgICAgICAgICAgIHJldHVybiB2YXJUb2tlbjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNoYWRvdyA9IGNvbXBsZXgucGFyc2UobGF0ZXN0KTtcbiAgICAgICAgLy8gVE9ETzogRG9lc24ndCBzdXBwb3J0IG11bHRpcGxlIHNoYWRvd3NcbiAgICAgICAgaWYgKHNoYWRvdy5sZW5ndGggPiA1KVxuICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsO1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IGNvbXBsZXguY3JlYXRlVHJhbnNmb3JtZXIobGF0ZXN0KTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdHlwZW9mIHNoYWRvd1swXSAhPT0gXCJudW1iZXJcIiA/IDEgOiAwO1xuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIG92ZXJhbGwgY29udGV4dCBzY2FsZVxuICAgICAgICBjb25zdCB4U2NhbGUgPSBwcm9qZWN0aW9uRGVsdGEueC5zY2FsZSAqIHRyZWVTY2FsZS54O1xuICAgICAgICBjb25zdCB5U2NhbGUgPSBwcm9qZWN0aW9uRGVsdGEueS5zY2FsZSAqIHRyZWVTY2FsZS55O1xuICAgICAgICBzaGFkb3dbMCArIG9mZnNldF0gLz0geFNjYWxlO1xuICAgICAgICBzaGFkb3dbMSArIG9mZnNldF0gLz0geVNjYWxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWRlYWxseSB3ZSdkIGNvcnJlY3QgeCBhbmQgeSBzY2FsZXMgaW5kaXZpZHVhbGx5LCBidXQgYmVjYXVzZSBibHVyIGFuZFxuICAgICAgICAgKiBzcHJlYWQgYXBwbHkgdG8gYm90aCB3ZSBoYXZlIHRvIHRha2UgYSBzY2FsZSBhdmVyYWdlIGFuZCBhcHBseSB0aGF0IGluc3RlYWQuXG4gICAgICAgICAqIFdlIGNvdWxkIHBvdGVudGlhbGx5IGltcHJvdmUgdGhlIG91dGNvbWUgb2YgdGhpcyBieSBpbmNvcnBvcmF0aW5nIHRoZSByYXRpbyBiZXR3ZWVuXG4gICAgICAgICAqIHRoZSB0d28gc2NhbGVzLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgYXZlcmFnZVNjYWxlID0gbWl4KHhTY2FsZSwgeVNjYWxlLCAwLjUpO1xuICAgICAgICAvLyBCbHVyXG4gICAgICAgIGlmICh0eXBlb2Ygc2hhZG93WzIgKyBvZmZzZXRdID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgc2hhZG93WzIgKyBvZmZzZXRdIC89IGF2ZXJhZ2VTY2FsZTtcbiAgICAgICAgLy8gU3ByZWFkXG4gICAgICAgIGlmICh0eXBlb2Ygc2hhZG93WzMgKyBvZmZzZXRdID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgc2hhZG93WzMgKyBvZmZzZXRdIC89IGF2ZXJhZ2VTY2FsZTtcbiAgICAgICAgbGV0IG91dHB1dCA9IHRlbXBsYXRlKHNoYWRvdyk7XG4gICAgICAgIGlmIChjb250YWluc0NTU1ZhcmlhYmxlcykge1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0LnJlcGxhY2UodmFyVG9rZW4sICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjc3NWYXJpYWJsZSA9IGNzc1ZhcmlhYmxlc1tpXTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNzc1ZhcmlhYmxlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9LFxufTtcblxuZXhwb3J0IHsgY29ycmVjdEJveFNoYWRvdyB9O1xuIiwiaW1wb3J0IHN5bmMgZnJvbSAnZnJhbWVzeW5jJztcbmltcG9ydCBSZWFjdF9fZGVmYXVsdCwgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUHJlc2VuY2UgfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL0FuaW1hdGVQcmVzZW5jZS91c2UtcHJlc2VuY2UubWpzJztcbmltcG9ydCB7IExheW91dEdyb3VwQ29udGV4dCB9IGZyb20gJy4uLy4uLy4uL2NvbnRleHQvTGF5b3V0R3JvdXBDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyBTd2l0Y2hMYXlvdXRHcm91cENvbnRleHQgfSBmcm9tICcuLi8uLi8uLi9jb250ZXh0L1N3aXRjaExheW91dEdyb3VwQ29udGV4dC5tanMnO1xuaW1wb3J0IHsgZ2xvYmFsUHJvamVjdGlvblN0YXRlIH0gZnJvbSAnLi4vLi4vLi4vcHJvamVjdGlvbi9ub2RlL3N0YXRlLm1qcyc7XG5pbXBvcnQgeyBjb3JyZWN0Qm9yZGVyUmFkaXVzIH0gZnJvbSAnLi4vLi4vLi4vcHJvamVjdGlvbi9zdHlsZXMvc2NhbGUtYm9yZGVyLXJhZGl1cy5tanMnO1xuaW1wb3J0IHsgY29ycmVjdEJveFNoYWRvdyB9IGZyb20gJy4uLy4uLy4uL3Byb2plY3Rpb24vc3R5bGVzL3NjYWxlLWJveC1zaGFkb3cubWpzJztcbmltcG9ydCB7IGFkZFNjYWxlQ29ycmVjdG9yIH0gZnJvbSAnLi4vLi4vLi4vcHJvamVjdGlvbi9zdHlsZXMvc2NhbGUtY29ycmVjdGlvbi5tanMnO1xuXG5jbGFzcyBNZWFzdXJlTGF5b3V0V2l0aENvbnRleHQgZXh0ZW5kcyBSZWFjdF9fZGVmYXVsdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIFRoaXMgb25seSBtb3VudHMgcHJvamVjdGlvbiBub2RlcyBmb3IgY29tcG9uZW50cyB0aGF0XG4gICAgICogbmVlZCBtZWFzdXJpbmcsIHdlIG1pZ2h0IHdhbnQgdG8gZG8gaXQgZm9yIGFsbCBjb21wb25lbnRzXG4gICAgICogaW4gb3JkZXIgdG8gaW5jb3Jwb3JhdGUgdHJhbnNmb3Jtc1xuICAgICAqL1xuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBjb25zdCB7IHZpc3VhbEVsZW1lbnQsIGxheW91dEdyb3VwLCBzd2l0Y2hMYXlvdXRHcm91cCwgbGF5b3V0SWQgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGNvbnN0IHsgcHJvamVjdGlvbiB9ID0gdmlzdWFsRWxlbWVudDtcbiAgICAgICAgYWRkU2NhbGVDb3JyZWN0b3IoZGVmYXVsdFNjYWxlQ29ycmVjdG9ycyk7XG4gICAgICAgIGlmIChwcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAobGF5b3V0R3JvdXAuZ3JvdXApXG4gICAgICAgICAgICAgICAgbGF5b3V0R3JvdXAuZ3JvdXAuYWRkKHByb2plY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHN3aXRjaExheW91dEdyb3VwICYmIHN3aXRjaExheW91dEdyb3VwLnJlZ2lzdGVyICYmIGxheW91dElkKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoTGF5b3V0R3JvdXAucmVnaXN0ZXIocHJvamVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9qZWN0aW9uLnJvb3QuZGlkVXBkYXRlKCk7XG4gICAgICAgICAgICBwcm9qZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25Db21wbGV0ZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zYWZlVG9SZW1vdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcHJvamVjdGlvbi5zZXRPcHRpb25zKHtcbiAgICAgICAgICAgICAgICAuLi5wcm9qZWN0aW9uLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgb25FeGl0Q29tcGxldGU6ICgpID0+IHRoaXMuc2FmZVRvUmVtb3ZlKCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBnbG9iYWxQcm9qZWN0aW9uU3RhdGUuaGFzRXZlclVwZGF0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICAgICAgY29uc3QgeyBsYXlvdXREZXBlbmRlbmN5LCB2aXN1YWxFbGVtZW50LCBkcmFnLCBpc1ByZXNlbnQgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGNvbnN0IHByb2plY3Rpb24gPSB2aXN1YWxFbGVtZW50LnByb2plY3Rpb247XG4gICAgICAgIGlmICghcHJvamVjdGlvbilcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVE9ETzogV2UgdXNlIHRoaXMgZGF0YSBpbiByZWxlZ2F0ZSB0byBkZXRlcm1pbmUgd2hldGhlciB0b1xuICAgICAgICAgKiBwcm9tb3RlIGEgcHJldmlvdXMgZWxlbWVudC4gVGhlcmUncyBubyBndWFyYW50ZWUgaXRzIHByZXNlbmNlIGRhdGFcbiAgICAgICAgICogd2lsbCBoYXZlIHVwZGF0ZWQgYnkgdGhpcyBwb2ludCAtIGlmIGEgYnVnIGxpa2UgdGhpcyBhcmlzZXMgaXQgd2lsbFxuICAgICAgICAgKiBoYXZlIHRvIGJlIHRoYXQgd2UgbWFya0ZvclJlbGVnYXRpb24gYW5kIHRoZW4gZmluZCBhIG5ldyBsZWFkIHNvbWUgb3RoZXIgd2F5LFxuICAgICAgICAgKiBwZXJoYXBzIGluIGRpZFVwZGF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgcHJvamVjdGlvbi5pc1ByZXNlbnQgPSBpc1ByZXNlbnQ7XG4gICAgICAgIGlmIChkcmFnIHx8XG4gICAgICAgICAgICBwcmV2UHJvcHMubGF5b3V0RGVwZW5kZW5jeSAhPT0gbGF5b3V0RGVwZW5kZW5jeSB8fFxuICAgICAgICAgICAgbGF5b3V0RGVwZW5kZW5jeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwcm9qZWN0aW9uLndpbGxVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2FmZVRvUmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZXZQcm9wcy5pc1ByZXNlbnQgIT09IGlzUHJlc2VudCkge1xuICAgICAgICAgICAgaWYgKGlzUHJlc2VudCkge1xuICAgICAgICAgICAgICAgIHByb2plY3Rpb24ucHJvbW90ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXByb2plY3Rpb24ucmVsZWdhdGUoKSkge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIElmIHRoZXJlJ3MgYW5vdGhlciBzdGFjayBtZW1iZXIgdGFraW5nIG92ZXIgZnJvbSB0aGlzIG9uZSxcbiAgICAgICAgICAgICAgICAgKiBpdCdzIGluIGNoYXJnZSBvZiB0aGUgZXhpdCBhbmltYXRpb24gYW5kIHRoZXJlZm9yZSBzaG91bGRcbiAgICAgICAgICAgICAgICAgKiBiZSBpbiBjaGFyZ2Ugb2YgdGhlIHNhZmUgdG8gcmVtb3ZlLiBPdGhlcndpc2Ugd2UgY2FsbCBpdCBoZXJlLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHN5bmMucG9zdFJlbmRlcigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoKF9hID0gcHJvamVjdGlvbi5nZXRTdGFjaygpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWVtYmVycy5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNhZmVUb1JlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgICAgY29uc3QgeyBwcm9qZWN0aW9uIH0gPSB0aGlzLnByb3BzLnZpc3VhbEVsZW1lbnQ7XG4gICAgICAgIGlmIChwcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICBwcm9qZWN0aW9uLnJvb3QuZGlkVXBkYXRlKCk7XG4gICAgICAgICAgICBpZiAoIXByb2plY3Rpb24uY3VycmVudEFuaW1hdGlvbiAmJiBwcm9qZWN0aW9uLmlzTGVhZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zYWZlVG9SZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgY29uc3QgeyB2aXN1YWxFbGVtZW50LCBsYXlvdXRHcm91cCwgc3dpdGNoTGF5b3V0R3JvdXA6IHByb21vdGVDb250ZXh0LCB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgeyBwcm9qZWN0aW9uIH0gPSB2aXN1YWxFbGVtZW50O1xuICAgICAgICBpZiAocHJvamVjdGlvbikge1xuICAgICAgICAgICAgcHJvamVjdGlvbi5zY2hlZHVsZUNoZWNrQWZ0ZXJVbm1vdW50KCk7XG4gICAgICAgICAgICBpZiAobGF5b3V0R3JvdXAgPT09IG51bGwgfHwgbGF5b3V0R3JvdXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxheW91dEdyb3VwLmdyb3VwKVxuICAgICAgICAgICAgICAgIGxheW91dEdyb3VwLmdyb3VwLnJlbW92ZShwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIGlmIChwcm9tb3RlQ29udGV4dCA9PT0gbnVsbCB8fCBwcm9tb3RlQ29udGV4dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvbW90ZUNvbnRleHQuZGVyZWdpc3RlcilcbiAgICAgICAgICAgICAgICBwcm9tb3RlQ29udGV4dC5kZXJlZ2lzdGVyKHByb2plY3Rpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNhZmVUb1JlbW92ZSgpIHtcbiAgICAgICAgY29uc3QgeyBzYWZlVG9SZW1vdmUgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIHNhZmVUb1JlbW92ZSA9PT0gbnVsbCB8fCBzYWZlVG9SZW1vdmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNhZmVUb1JlbW92ZSgpO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbmZ1bmN0aW9uIE1lYXN1cmVMYXlvdXQocHJvcHMpIHtcbiAgICBjb25zdCBbaXNQcmVzZW50LCBzYWZlVG9SZW1vdmVdID0gdXNlUHJlc2VuY2UoKTtcbiAgICBjb25zdCBsYXlvdXRHcm91cCA9IHVzZUNvbnRleHQoTGF5b3V0R3JvdXBDb250ZXh0KTtcbiAgICByZXR1cm4gKFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTWVhc3VyZUxheW91dFdpdGhDb250ZXh0LCB7IC4uLnByb3BzLCBsYXlvdXRHcm91cDogbGF5b3V0R3JvdXAsIHN3aXRjaExheW91dEdyb3VwOiB1c2VDb250ZXh0KFN3aXRjaExheW91dEdyb3VwQ29udGV4dCksIGlzUHJlc2VudDogaXNQcmVzZW50LCBzYWZlVG9SZW1vdmU6IHNhZmVUb1JlbW92ZSB9KSk7XG59XG5jb25zdCBkZWZhdWx0U2NhbGVDb3JyZWN0b3JzID0ge1xuICAgIGJvcmRlclJhZGl1czoge1xuICAgICAgICAuLi5jb3JyZWN0Qm9yZGVyUmFkaXVzLFxuICAgICAgICBhcHBseVRvOiBbXG4gICAgICAgICAgICBcImJvcmRlclRvcExlZnRSYWRpdXNcIixcbiAgICAgICAgICAgIFwiYm9yZGVyVG9wUmlnaHRSYWRpdXNcIixcbiAgICAgICAgICAgIFwiYm9yZGVyQm90dG9tTGVmdFJhZGl1c1wiLFxuICAgICAgICAgICAgXCJib3JkZXJCb3R0b21SaWdodFJhZGl1c1wiLFxuICAgICAgICBdLFxuICAgIH0sXG4gICAgYm9yZGVyVG9wTGVmdFJhZGl1czogY29ycmVjdEJvcmRlclJhZGl1cyxcbiAgICBib3JkZXJUb3BSaWdodFJhZGl1czogY29ycmVjdEJvcmRlclJhZGl1cyxcbiAgICBib3JkZXJCb3R0b21MZWZ0UmFkaXVzOiBjb3JyZWN0Qm9yZGVyUmFkaXVzLFxuICAgIGJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzOiBjb3JyZWN0Qm9yZGVyUmFkaXVzLFxuICAgIGJveFNoYWRvdzogY29ycmVjdEJveFNoYWRvdyxcbn07XG5cbmV4cG9ydCB7IE1lYXN1cmVMYXlvdXQgfTtcbiIsImltcG9ydCB7IE1lYXN1cmVMYXlvdXQgfSBmcm9tICcuL01lYXN1cmVMYXlvdXQubWpzJztcblxuY29uc3QgbGF5b3V0RmVhdHVyZXMgPSB7XG4gICAgbWVhc3VyZUxheW91dDogTWVhc3VyZUxheW91dCxcbn07XG5cbmV4cG9ydCB7IGxheW91dEZlYXR1cmVzIH07XG4iLCJpbXBvcnQgeyBtaXgsIHByb2dyZXNzLCBjaXJjT3V0LCBsaW5lYXIgfSBmcm9tICdwb3Btb3Rpb24nO1xuaW1wb3J0IHsgcGVyY2VudCwgcHggfSBmcm9tICdzdHlsZS12YWx1ZS10eXBlcyc7XG5cbmNvbnN0IGJvcmRlcnMgPSBbXCJUb3BMZWZ0XCIsIFwiVG9wUmlnaHRcIiwgXCJCb3R0b21MZWZ0XCIsIFwiQm90dG9tUmlnaHRcIl07XG5jb25zdCBudW1Cb3JkZXJzID0gYm9yZGVycy5sZW5ndGg7XG5jb25zdCBhc051bWJlciA9ICh2YWx1ZSkgPT4gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gcGFyc2VGbG9hdCh2YWx1ZSkgOiB2YWx1ZTtcbmNvbnN0IGlzUHggPSAodmFsdWUpID0+IHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiB8fCBweC50ZXN0KHZhbHVlKTtcbmZ1bmN0aW9uIG1peFZhbHVlcyh0YXJnZXQsIGZvbGxvdywgbGVhZCwgcHJvZ3Jlc3MsIHNob3VsZENyb3NzZmFkZU9wYWNpdHksIGlzT25seU1lbWJlcikge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBpZiAoc2hvdWxkQ3Jvc3NmYWRlT3BhY2l0eSkge1xuICAgICAgICB0YXJnZXQub3BhY2l0eSA9IG1peCgwLCBcbiAgICAgICAgLy8gKGZvbGxvdz8ub3BhY2l0eSBhcyBudW1iZXIpID8/IDAsXG4gICAgICAgIC8vIFRPRE8gUmVpbnN0YXRlIHRoaXMgaWYgb25seSBjaGlsZFxuICAgICAgICAoX2EgPSBsZWFkLm9wYWNpdHkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDEsIGVhc2VDcm9zc2ZhZGVJbihwcm9ncmVzcykpO1xuICAgICAgICB0YXJnZXQub3BhY2l0eUV4aXQgPSBtaXgoKF9iID0gZm9sbG93Lm9wYWNpdHkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDEsIDAsIGVhc2VDcm9zc2ZhZGVPdXQocHJvZ3Jlc3MpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNPbmx5TWVtYmVyKSB7XG4gICAgICAgIHRhcmdldC5vcGFjaXR5ID0gbWl4KChfYyA9IGZvbGxvdy5vcGFjaXR5KSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAxLCAoX2QgPSBsZWFkLm9wYWNpdHkpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IDEsIHByb2dyZXNzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWl4IGJvcmRlciByYWRpdXNcbiAgICAgKi9cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUJvcmRlcnM7IGkrKykge1xuICAgICAgICBjb25zdCBib3JkZXJMYWJlbCA9IGBib3JkZXIke2JvcmRlcnNbaV19UmFkaXVzYDtcbiAgICAgICAgbGV0IGZvbGxvd1JhZGl1cyA9IGdldFJhZGl1cyhmb2xsb3csIGJvcmRlckxhYmVsKTtcbiAgICAgICAgbGV0IGxlYWRSYWRpdXMgPSBnZXRSYWRpdXMobGVhZCwgYm9yZGVyTGFiZWwpO1xuICAgICAgICBpZiAoZm9sbG93UmFkaXVzID09PSB1bmRlZmluZWQgJiYgbGVhZFJhZGl1cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGZvbGxvd1JhZGl1cyB8fCAoZm9sbG93UmFkaXVzID0gMCk7XG4gICAgICAgIGxlYWRSYWRpdXMgfHwgKGxlYWRSYWRpdXMgPSAwKTtcbiAgICAgICAgY29uc3QgY2FuTWl4ID0gZm9sbG93UmFkaXVzID09PSAwIHx8XG4gICAgICAgICAgICBsZWFkUmFkaXVzID09PSAwIHx8XG4gICAgICAgICAgICBpc1B4KGZvbGxvd1JhZGl1cykgPT09IGlzUHgobGVhZFJhZGl1cyk7XG4gICAgICAgIGlmIChjYW5NaXgpIHtcbiAgICAgICAgICAgIHRhcmdldFtib3JkZXJMYWJlbF0gPSBNYXRoLm1heChtaXgoYXNOdW1iZXIoZm9sbG93UmFkaXVzKSwgYXNOdW1iZXIobGVhZFJhZGl1cyksIHByb2dyZXNzKSwgMCk7XG4gICAgICAgICAgICBpZiAocGVyY2VudC50ZXN0KGxlYWRSYWRpdXMpIHx8IHBlcmNlbnQudGVzdChmb2xsb3dSYWRpdXMpKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2JvcmRlckxhYmVsXSArPSBcIiVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldFtib3JkZXJMYWJlbF0gPSBsZWFkUmFkaXVzO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1peCByb3RhdGlvblxuICAgICAqL1xuICAgIGlmIChmb2xsb3cucm90YXRlIHx8IGxlYWQucm90YXRlKSB7XG4gICAgICAgIHRhcmdldC5yb3RhdGUgPSBtaXgoZm9sbG93LnJvdGF0ZSB8fCAwLCBsZWFkLnJvdGF0ZSB8fCAwLCBwcm9ncmVzcyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0UmFkaXVzKHZhbHVlcywgcmFkaXVzTmFtZSkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKF9hID0gdmFsdWVzW3JhZGl1c05hbWVdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB2YWx1ZXMuYm9yZGVyUmFkaXVzO1xufVxuLy8gLyoqXG4vLyAgKiBXZSBvbmx5IHdhbnQgdG8gbWl4IHRoZSBiYWNrZ3JvdW5kIGNvbG9yIGlmIHRoZXJlJ3MgYSBmb2xsb3cgZWxlbWVudFxuLy8gICogdGhhdCB3ZSdyZSBub3QgY3Jvc3NmYWRpbmcgb3BhY2l0eSBiZXR3ZWVuLiBGb3IgaW5zdGFuY2Ugd2l0aCBzd2l0Y2hcbi8vICAqIEFuaW1hdGVTaGFyZWRMYXlvdXQgYW5pbWF0aW9ucywgdGhpcyBoZWxwcyB0aGUgaWxsdXNpb24gb2YgYSBjb250aW51b3VzXG4vLyAgKiBlbGVtZW50IGJlaW5nIGFuaW1hdGVkIGJ1dCBhbHNvIGN1dHMgZG93biBvbiB0aGUgbnVtYmVyIG9mIHBhaW50cyB0cmlnZ2VyZWRcbi8vICAqIGZvciBlbGVtZW50cyB3aGVyZSBvcGFjaXR5IGlzIGRvaW5nIHRoYXQgd29yayBmb3IgdXMuXG4vLyAgKi9cbi8vIGlmIChcbi8vICAgICAhaGFzRm9sbG93RWxlbWVudCAmJlxuLy8gICAgIGxhdGVzdExlYWRWYWx1ZXMuYmFja2dyb3VuZENvbG9yICYmXG4vLyAgICAgbGF0ZXN0Rm9sbG93VmFsdWVzLmJhY2tncm91bmRDb2xvclxuLy8gKSB7XG4vLyAgICAgLyoqXG4vLyAgICAgICogVGhpcyBpc24ndCBpZGVhbCBwZXJmb3JtYW5jZS13aXNlIGFzIG1peENvbG9yIGlzIGNyZWF0aW5nIGEgbmV3IGZ1bmN0aW9uIGV2ZXJ5IGZyYW1lLlxuLy8gICAgICAqIFdlIGNvdWxkIHByb2JhYmx5IGNyZWF0ZSBhIG1peGVyIHRoYXQgcnVucyBhdCB0aGUgc3RhcnQgb2YgdGhlIGFuaW1hdGlvbiBidXRcbi8vICAgICAgKiB0aGUgaWRlYSBiZWhpbmQgdGhlIGNyb3NzZmFkZXIgaXMgdGhhdCBpdCBydW5zIGR5bmFtaWNhbGx5IGJldHdlZW4gdHdvIHBvdGVudGlhbGx5XG4vLyAgICAgICogY2hhbmdpbmcgdGFyZ2V0cyAoaWUgb3BhY2l0eSBvciBib3JkZXJSYWRpdXMgbWF5IGJlIGFuaW1hdGluZyBpbmRlcGVuZGVudGx5IHZpYSB2YXJpYW50cylcbi8vICAgICAgKi9cbi8vICAgICBsZWFkU3RhdGUuYmFja2dyb3VuZENvbG9yID0gZm9sbG93U3RhdGUuYmFja2dyb3VuZENvbG9yID0gbWl4Q29sb3IoXG4vLyAgICAgICAgIGxhdGVzdEZvbGxvd1ZhbHVlcy5iYWNrZ3JvdW5kQ29sb3IgYXMgc3RyaW5nLFxuLy8gICAgICAgICBsYXRlc3RMZWFkVmFsdWVzLmJhY2tncm91bmRDb2xvciBhcyBzdHJpbmdcbi8vICAgICApKHApXG4vLyB9XG5jb25zdCBlYXNlQ3Jvc3NmYWRlSW4gPSBjb21wcmVzcygwLCAwLjUsIGNpcmNPdXQpO1xuY29uc3QgZWFzZUNyb3NzZmFkZU91dCA9IGNvbXByZXNzKDAuNSwgMC45NSwgbGluZWFyKTtcbmZ1bmN0aW9uIGNvbXByZXNzKG1pbiwgbWF4LCBlYXNpbmcpIHtcbiAgICByZXR1cm4gKHApID0+IHtcbiAgICAgICAgLy8gQ291bGQgcmVwbGFjZSBpZnMgd2l0aCBjbGFtcFxuICAgICAgICBpZiAocCA8IG1pbilcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBpZiAocCA+IG1heClcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICByZXR1cm4gZWFzaW5nKHByb2dyZXNzKG1pbiwgbWF4LCBwKSk7XG4gICAgfTtcbn1cblxuZXhwb3J0IHsgbWl4VmFsdWVzIH07XG4iLCIvKipcbiAqIFJlc2V0IGFuIGF4aXMgdG8gdGhlIHByb3ZpZGVkIG9yaWdpbiBib3guXG4gKlxuICogVGhpcyBpcyBhIG11dGF0aXZlIG9wZXJhdGlvbi5cbiAqL1xuZnVuY3Rpb24gY29weUF4aXNJbnRvKGF4aXMsIG9yaWdpbkF4aXMpIHtcbiAgICBheGlzLm1pbiA9IG9yaWdpbkF4aXMubWluO1xuICAgIGF4aXMubWF4ID0gb3JpZ2luQXhpcy5tYXg7XG59XG4vKipcbiAqIFJlc2V0IGEgYm94IHRvIHRoZSBwcm92aWRlZCBvcmlnaW4gYm94LlxuICpcbiAqIFRoaXMgaXMgYSBtdXRhdGl2ZSBvcGVyYXRpb24uXG4gKi9cbmZ1bmN0aW9uIGNvcHlCb3hJbnRvKGJveCwgb3JpZ2luQm94KSB7XG4gICAgY29weUF4aXNJbnRvKGJveC54LCBvcmlnaW5Cb3gueCk7XG4gICAgY29weUF4aXNJbnRvKGJveC55LCBvcmlnaW5Cb3gueSk7XG59XG5cbmV4cG9ydCB7IGNvcHlBeGlzSW50bywgY29weUJveEludG8gfTtcbiIsImltcG9ydCB7IG1peCB9IGZyb20gJ3BvcG1vdGlvbic7XG5pbXBvcnQgeyBwZXJjZW50IH0gZnJvbSAnc3R5bGUtdmFsdWUtdHlwZXMnO1xuaW1wb3J0IHsgc2NhbGVQb2ludCB9IGZyb20gJy4vZGVsdGEtYXBwbHkubWpzJztcblxuLyoqXG4gKiBSZW1vdmUgYSBkZWx0YSBmcm9tIGEgcG9pbnQuIFRoaXMgaXMgZXNzZW50aWFsbHkgdGhlIHN0ZXBzIG9mIGFwcGx5UG9pbnREZWx0YSBpbiByZXZlcnNlXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZVBvaW50RGVsdGEocG9pbnQsIHRyYW5zbGF0ZSwgc2NhbGUsIG9yaWdpblBvaW50LCBib3hTY2FsZSkge1xuICAgIHBvaW50IC09IHRyYW5zbGF0ZTtcbiAgICBwb2ludCA9IHNjYWxlUG9pbnQocG9pbnQsIDEgLyBzY2FsZSwgb3JpZ2luUG9pbnQpO1xuICAgIGlmIChib3hTY2FsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBvaW50ID0gc2NhbGVQb2ludChwb2ludCwgMSAvIGJveFNjYWxlLCBvcmlnaW5Qb2ludCk7XG4gICAgfVxuICAgIHJldHVybiBwb2ludDtcbn1cbi8qKlxuICogUmVtb3ZlIGEgZGVsdGEgZnJvbSBhbiBheGlzLiBUaGlzIGlzIGVzc2VudGlhbGx5IHRoZSBzdGVwcyBvZiBhcHBseUF4aXNEZWx0YSBpbiByZXZlcnNlXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUF4aXNEZWx0YShheGlzLCB0cmFuc2xhdGUgPSAwLCBzY2FsZSA9IDEsIG9yaWdpbiA9IDAuNSwgYm94U2NhbGUsIG9yaWdpbkF4aXMgPSBheGlzLCBzb3VyY2VBeGlzID0gYXhpcykge1xuICAgIGlmIChwZXJjZW50LnRlc3QodHJhbnNsYXRlKSkge1xuICAgICAgICB0cmFuc2xhdGUgPSBwYXJzZUZsb2F0KHRyYW5zbGF0ZSk7XG4gICAgICAgIGNvbnN0IHJlbGF0aXZlUHJvZ3Jlc3MgPSBtaXgoc291cmNlQXhpcy5taW4sIHNvdXJjZUF4aXMubWF4LCB0cmFuc2xhdGUgLyAxMDApO1xuICAgICAgICB0cmFuc2xhdGUgPSByZWxhdGl2ZVByb2dyZXNzIC0gc291cmNlQXhpcy5taW47XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdHJhbnNsYXRlICE9PSBcIm51bWJlclwiKVxuICAgICAgICByZXR1cm47XG4gICAgbGV0IG9yaWdpblBvaW50ID0gbWl4KG9yaWdpbkF4aXMubWluLCBvcmlnaW5BeGlzLm1heCwgb3JpZ2luKTtcbiAgICBpZiAoYXhpcyA9PT0gb3JpZ2luQXhpcylcbiAgICAgICAgb3JpZ2luUG9pbnQgLT0gdHJhbnNsYXRlO1xuICAgIGF4aXMubWluID0gcmVtb3ZlUG9pbnREZWx0YShheGlzLm1pbiwgdHJhbnNsYXRlLCBzY2FsZSwgb3JpZ2luUG9pbnQsIGJveFNjYWxlKTtcbiAgICBheGlzLm1heCA9IHJlbW92ZVBvaW50RGVsdGEoYXhpcy5tYXgsIHRyYW5zbGF0ZSwgc2NhbGUsIG9yaWdpblBvaW50LCBib3hTY2FsZSk7XG59XG4vKipcbiAqIFJlbW92ZSBhIHRyYW5zZm9ybXMgZnJvbSBhbiBheGlzLiBUaGlzIGlzIGVzc2VudGlhbGx5IHRoZSBzdGVwcyBvZiBhcHBseUF4aXNUcmFuc2Zvcm1zIGluIHJldmVyc2VcbiAqIGFuZCBhY3RzIGFzIGEgYnJpZGdlIGJldHdlZW4gbW90aW9uIHZhbHVlcyBhbmQgcmVtb3ZlQXhpc0RlbHRhXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUF4aXNUcmFuc2Zvcm1zKGF4aXMsIHRyYW5zZm9ybXMsIFtrZXksIHNjYWxlS2V5LCBvcmlnaW5LZXldLCBvcmlnaW4sIHNvdXJjZUF4aXMpIHtcbiAgICByZW1vdmVBeGlzRGVsdGEoYXhpcywgdHJhbnNmb3Jtc1trZXldLCB0cmFuc2Zvcm1zW3NjYWxlS2V5XSwgdHJhbnNmb3Jtc1tvcmlnaW5LZXldLCB0cmFuc2Zvcm1zLnNjYWxlLCBvcmlnaW4sIHNvdXJjZUF4aXMpO1xufVxuLyoqXG4gKiBUaGUgbmFtZXMgb2YgdGhlIG1vdGlvbiB2YWx1ZXMgd2Ugd2FudCB0byBhcHBseSBhcyB0cmFuc2xhdGlvbiwgc2NhbGUgYW5kIG9yaWdpbi5cbiAqL1xuY29uc3QgeEtleXMgPSBbXCJ4XCIsIFwic2NhbGVYXCIsIFwib3JpZ2luWFwiXTtcbmNvbnN0IHlLZXlzID0gW1wieVwiLCBcInNjYWxlWVwiLCBcIm9yaWdpbllcIl07XG4vKipcbiAqIFJlbW92ZSBhIHRyYW5zZm9ybXMgZnJvbSBhbiBib3guIFRoaXMgaXMgZXNzZW50aWFsbHkgdGhlIHN0ZXBzIG9mIGFwcGx5QXhpc0JveCBpbiByZXZlcnNlXG4gKiBhbmQgYWN0cyBhcyBhIGJyaWRnZSBiZXR3ZWVuIG1vdGlvbiB2YWx1ZXMgYW5kIHJlbW92ZUF4aXNEZWx0YVxuICovXG5mdW5jdGlvbiByZW1vdmVCb3hUcmFuc2Zvcm1zKGJveCwgdHJhbnNmb3Jtcywgb3JpZ2luQm94LCBzb3VyY2VCb3gpIHtcbiAgICByZW1vdmVBeGlzVHJhbnNmb3Jtcyhib3gueCwgdHJhbnNmb3JtcywgeEtleXMsIG9yaWdpbkJveCA9PT0gbnVsbCB8fCBvcmlnaW5Cb3ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9yaWdpbkJveC54LCBzb3VyY2VCb3ggPT09IG51bGwgfHwgc291cmNlQm94ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3VyY2VCb3gueCk7XG4gICAgcmVtb3ZlQXhpc1RyYW5zZm9ybXMoYm94LnksIHRyYW5zZm9ybXMsIHlLZXlzLCBvcmlnaW5Cb3ggPT09IG51bGwgfHwgb3JpZ2luQm94ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcmlnaW5Cb3gueSwgc291cmNlQm94ID09PSBudWxsIHx8IHNvdXJjZUJveCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc291cmNlQm94LnkpO1xufVxuXG5leHBvcnQgeyByZW1vdmVBeGlzRGVsdGEsIHJlbW92ZUF4aXNUcmFuc2Zvcm1zLCByZW1vdmVCb3hUcmFuc2Zvcm1zLCByZW1vdmVQb2ludERlbHRhIH07XG4iLCJpbXBvcnQgeyBkaXN0YW5jZSB9IGZyb20gJ3BvcG1vdGlvbic7XG5pbXBvcnQgeyBjYWxjTGVuZ3RoIH0gZnJvbSAnLi9kZWx0YS1jYWxjLm1qcyc7XG5cbmZ1bmN0aW9uIGlzQXhpc0RlbHRhWmVybyhkZWx0YSkge1xuICAgIHJldHVybiBkZWx0YS50cmFuc2xhdGUgPT09IDAgJiYgZGVsdGEuc2NhbGUgPT09IDE7XG59XG5mdW5jdGlvbiBpc0RlbHRhWmVybyhkZWx0YSkge1xuICAgIHJldHVybiBpc0F4aXNEZWx0YVplcm8oZGVsdGEueCkgJiYgaXNBeGlzRGVsdGFaZXJvKGRlbHRhLnkpO1xufVxuZnVuY3Rpb24gYm94RXF1YWxzKGEsIGIpIHtcbiAgICByZXR1cm4gKGEueC5taW4gPT09IGIueC5taW4gJiZcbiAgICAgICAgYS54Lm1heCA9PT0gYi54Lm1heCAmJlxuICAgICAgICBhLnkubWluID09PSBiLnkubWluICYmXG4gICAgICAgIGEueS5tYXggPT09IGIueS5tYXgpO1xufVxuZnVuY3Rpb24gYXNwZWN0UmF0aW8oYm94KSB7XG4gICAgcmV0dXJuIGNhbGNMZW5ndGgoYm94LngpIC8gY2FsY0xlbmd0aChib3gueSk7XG59XG5mdW5jdGlvbiBpc0Nsb3NlVG8oYSwgYiwgbWF4ID0gMC4wMSkge1xuICAgIHJldHVybiBkaXN0YW5jZShhLCBiKSA8PSBtYXg7XG59XG5cbmV4cG9ydCB7IGFzcGVjdFJhdGlvLCBib3hFcXVhbHMsIGlzQ2xvc2VUbywgaXNEZWx0YVplcm8gfTtcbiIsImltcG9ydCB7IGFkZFVuaXF1ZUl0ZW0sIHJlbW92ZUl0ZW0gfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5tanMnO1xuXG5jbGFzcyBOb2RlU3RhY2sge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1lbWJlcnMgPSBbXTtcbiAgICB9XG4gICAgYWRkKG5vZGUpIHtcbiAgICAgICAgYWRkVW5pcXVlSXRlbSh0aGlzLm1lbWJlcnMsIG5vZGUpO1xuICAgICAgICBub2RlLnNjaGVkdWxlUmVuZGVyKCk7XG4gICAgfVxuICAgIHJlbW92ZShub2RlKSB7XG4gICAgICAgIHJlbW92ZUl0ZW0odGhpcy5tZW1iZXJzLCBub2RlKTtcbiAgICAgICAgaWYgKG5vZGUgPT09IHRoaXMucHJldkxlYWQpIHtcbiAgICAgICAgICAgIHRoaXMucHJldkxlYWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUgPT09IHRoaXMubGVhZCkge1xuICAgICAgICAgICAgY29uc3QgcHJldkxlYWQgPSB0aGlzLm1lbWJlcnNbdGhpcy5tZW1iZXJzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgaWYgKHByZXZMZWFkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9tb3RlKHByZXZMZWFkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZWxlZ2F0ZShub2RlKSB7XG4gICAgICAgIGNvbnN0IGluZGV4T2ZOb2RlID0gdGhpcy5tZW1iZXJzLmZpbmRJbmRleCgobWVtYmVyKSA9PiBub2RlID09PSBtZW1iZXIpO1xuICAgICAgICBpZiAoaW5kZXhPZk5vZGUgPT09IDApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaW5kIHRoZSBuZXh0IHByb2plY3Rpb24gbm9kZSB0aGF0IGlzIHByZXNlbnRcbiAgICAgICAgICovXG4gICAgICAgIGxldCBwcmV2TGVhZDtcbiAgICAgICAgZm9yIChsZXQgaSA9IGluZGV4T2ZOb2RlOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY29uc3QgbWVtYmVyID0gdGhpcy5tZW1iZXJzW2ldO1xuICAgICAgICAgICAgaWYgKG1lbWJlci5pc1ByZXNlbnQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcHJldkxlYWQgPSBtZW1iZXI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZXZMZWFkKSB7XG4gICAgICAgICAgICB0aGlzLnByb21vdGUocHJldkxlYWQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJvbW90ZShub2RlLCBwcmVzZXJ2ZUZvbGxvd09wYWNpdHkpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBwcmV2TGVhZCA9IHRoaXMubGVhZDtcbiAgICAgICAgaWYgKG5vZGUgPT09IHByZXZMZWFkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnByZXZMZWFkID0gcHJldkxlYWQ7XG4gICAgICAgIHRoaXMubGVhZCA9IG5vZGU7XG4gICAgICAgIG5vZGUuc2hvdygpO1xuICAgICAgICBpZiAocHJldkxlYWQpIHtcbiAgICAgICAgICAgIHByZXZMZWFkLmluc3RhbmNlICYmIHByZXZMZWFkLnNjaGVkdWxlUmVuZGVyKCk7XG4gICAgICAgICAgICBub2RlLnNjaGVkdWxlUmVuZGVyKCk7XG4gICAgICAgICAgICBub2RlLnJlc3VtZUZyb20gPSBwcmV2TGVhZDtcbiAgICAgICAgICAgIGlmIChwcmVzZXJ2ZUZvbGxvd09wYWNpdHkpIHtcbiAgICAgICAgICAgICAgICBub2RlLnJlc3VtZUZyb20ucHJlc2VydmVPcGFjaXR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcmV2TGVhZC5zbmFwc2hvdCkge1xuICAgICAgICAgICAgICAgIG5vZGUuc25hcHNob3QgPSBwcmV2TGVhZC5zbmFwc2hvdDtcbiAgICAgICAgICAgICAgICBub2RlLnNuYXBzaG90LmxhdGVzdFZhbHVlcyA9XG4gICAgICAgICAgICAgICAgICAgIHByZXZMZWFkLmFuaW1hdGlvblZhbHVlcyB8fCBwcmV2TGVhZC5sYXRlc3RWYWx1ZXM7XG4gICAgICAgICAgICAgICAgbm9kZS5zbmFwc2hvdC5pc1NoYXJlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKF9hID0gbm9kZS5yb290KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaXNVcGRhdGluZykge1xuICAgICAgICAgICAgICAgIG5vZGUuaXNMYXlvdXREaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGNyb3NzZmFkZSB9ID0gbm9kZS5vcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNyb3NzZmFkZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBwcmV2TGVhZC5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRPRE86XG4gICAgICAgICAgICAgKiAgIC0gVGVzdCBib3JkZXIgcmFkaXVzIHdoZW4gcHJldmlvdXMgbm9kZSB3YXMgZGVsZXRlZFxuICAgICAgICAgICAgICogICAtIGJveFNoYWRvdyBtaXhpbmdcbiAgICAgICAgICAgICAqICAgLSBTaGFyZWQgYmV0d2VlbiBlbGVtZW50IEEgaW4gc2Nyb2xsZWQgY29udGFpbmVyIGFuZCBlbGVtZW50IEIgKHNjcm9sbCBzdGF5cyB0aGUgc2FtZSBvciBjaGFuZ2VzKVxuICAgICAgICAgICAgICogICAtIFNoYXJlZCBiZXR3ZWVuIGVsZW1lbnQgQSBpbiB0cmFuc2Zvcm1lZCBjb250YWluZXIgYW5kIGVsZW1lbnQgQiAodHJhbnNmb3JtIHN0YXlzIHRoZSBzYW1lIG9yIGNoYW5nZXMpXG4gICAgICAgICAgICAgKiAgIC0gU2hhcmVkIGJldHdlZW4gZWxlbWVudCBBIGluIHNjcm9sbGVkIHBhZ2UgYW5kIGVsZW1lbnQgQiAoc2Nyb2xsIHN0YXlzIHRoZSBzYW1lIG9yIGNoYW5nZXMpXG4gICAgICAgICAgICAgKiAtLS1cbiAgICAgICAgICAgICAqICAgLSBDcm9zc2ZhZGUgb3BhY2l0eSBvZiByb290IG5vZGVzXG4gICAgICAgICAgICAgKiAgIC0gbGF5b3V0SWQgY2hhbmdlcyBhZnRlciBhbmltYXRpb25cbiAgICAgICAgICAgICAqICAgLSBsYXlvdXRJZCBjaGFuZ2VzIG1pZCBhbmltYXRpb25cbiAgICAgICAgICAgICAqL1xuICAgICAgICB9XG4gICAgfVxuICAgIGV4aXRBbmltYXRpb25Db21wbGV0ZSgpIHtcbiAgICAgICAgdGhpcy5tZW1iZXJzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgICAgICAoX2IgPSAoX2EgPSBub2RlLm9wdGlvbnMpLm9uRXhpdENvbXBsZXRlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgICAgICAgICAoX2UgPSAoX2MgPSBub2RlLnJlc3VtaW5nRnJvbSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZCA9IF9jLm9wdGlvbnMpLm9uRXhpdENvbXBsZXRlKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuY2FsbChfZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzY2hlZHVsZVJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5tZW1iZXJzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgICAgIG5vZGUuaW5zdGFuY2UgJiYgbm9kZS5zY2hlZHVsZVJlbmRlcihmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhciBhbnkgbGVhZHMgdGhhdCBoYXZlIGJlZW4gcmVtb3ZlZCB0aGlzIHJlbmRlciB0byBwcmV2ZW50IHRoZW0gZnJvbSBiZWluZ1xuICAgICAqIHVzZWQgaW4gZnV0dXJlIGFuaW1hdGlvbnMgYW5kIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzXG4gICAgICovXG4gICAgcmVtb3ZlTGVhZFNuYXBzaG90KCkge1xuICAgICAgICBpZiAodGhpcy5sZWFkICYmIHRoaXMubGVhZC5zbmFwc2hvdCkge1xuICAgICAgICAgICAgdGhpcy5sZWFkLnNuYXBzaG90ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgeyBOb2RlU3RhY2sgfTtcbiIsImNvbnN0IGlkZW50aXR5UHJvamVjdGlvbiA9IFwidHJhbnNsYXRlM2QoMHB4LCAwcHgsIDApIHNjYWxlKDEsIDEpIHNjYWxlKDEsIDEpXCI7XG5mdW5jdGlvbiBidWlsZFByb2plY3Rpb25UcmFuc2Zvcm0oZGVsdGEsIHRyZWVTY2FsZSwgbGF0ZXN0VHJhbnNmb3JtKSB7XG4gICAgLyoqXG4gICAgICogVGhlIHRyYW5zbGF0aW9ucyB3ZSB1c2UgdG8gY2FsY3VsYXRlIGFyZSBhbHdheXMgcmVsYXRpdmUgdG8gdGhlIHZpZXdwb3J0IGNvb3JkaW5hdGUgc3BhY2UuXG4gICAgICogQnV0IHdoZW4gd2UgYXBwbHkgc2NhbGVzLCB3ZSBhbHNvIHNjYWxlIHRoZSBjb29yZGluYXRlIHNwYWNlIG9mIGFuIGVsZW1lbnQgYW5kIGl0cyBjaGlsZHJlbi5cbiAgICAgKiBGb3IgaW5zdGFuY2UgaWYgd2UgaGF2ZSBhIHRyZWVTY2FsZSAodGhlIGN1bG1pbmF0aW9uIG9mIGFsbCBwYXJlbnQgc2NhbGVzKSBvZiAwLjUgYW5kIHdlIG5lZWRcbiAgICAgKiB0byBtb3ZlIGFuIGVsZW1lbnQgMTAwIHBpeGVscywgd2UgYWN0dWFsbHkgbmVlZCB0byBtb3ZlIGl0IDIwMCBpbiB3aXRoaW4gdGhhdCBzY2FsZWQgc3BhY2UuXG4gICAgICovXG4gICAgY29uc3QgeFRyYW5zbGF0ZSA9IGRlbHRhLngudHJhbnNsYXRlIC8gdHJlZVNjYWxlLng7XG4gICAgY29uc3QgeVRyYW5zbGF0ZSA9IGRlbHRhLnkudHJhbnNsYXRlIC8gdHJlZVNjYWxlLnk7XG4gICAgbGV0IHRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke3hUcmFuc2xhdGV9cHgsICR7eVRyYW5zbGF0ZX1weCwgMCkgYDtcbiAgICAvKipcbiAgICAgKiBBcHBseSBzY2FsZSBjb3JyZWN0aW9uIGZvciB0aGUgdHJlZSB0cmFuc2Zvcm0uXG4gICAgICogVGhpcyB3aWxsIGFwcGx5IHNjYWxlIHRvIHRoZSBzY3JlZW4tb3JpZW50YXRlZCBheGVzLlxuICAgICAqL1xuICAgIHRyYW5zZm9ybSArPSBgc2NhbGUoJHsxIC8gdHJlZVNjYWxlLnh9LCAkezEgLyB0cmVlU2NhbGUueX0pIGA7XG4gICAgaWYgKGxhdGVzdFRyYW5zZm9ybSkge1xuICAgICAgICBjb25zdCB7IHJvdGF0ZSwgcm90YXRlWCwgcm90YXRlWSB9ID0gbGF0ZXN0VHJhbnNmb3JtO1xuICAgICAgICBpZiAocm90YXRlKVxuICAgICAgICAgICAgdHJhbnNmb3JtICs9IGByb3RhdGUoJHtyb3RhdGV9ZGVnKSBgO1xuICAgICAgICBpZiAocm90YXRlWClcbiAgICAgICAgICAgIHRyYW5zZm9ybSArPSBgcm90YXRlWCgke3JvdGF0ZVh9ZGVnKSBgO1xuICAgICAgICBpZiAocm90YXRlWSlcbiAgICAgICAgICAgIHRyYW5zZm9ybSArPSBgcm90YXRlWSgke3JvdGF0ZVl9ZGVnKSBgO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBseSBzY2FsZSB0byBtYXRjaCB0aGUgc2l6ZSBvZiB0aGUgZWxlbWVudCB0byB0aGUgc2l6ZSB3ZSB3YW50IGl0LlxuICAgICAqIFRoaXMgd2lsbCBhcHBseSBzY2FsZSB0byB0aGUgZWxlbWVudC1vcmllbnRhdGVkIGF4ZXMuXG4gICAgICovXG4gICAgY29uc3QgZWxlbWVudFNjYWxlWCA9IGRlbHRhLnguc2NhbGUgKiB0cmVlU2NhbGUueDtcbiAgICBjb25zdCBlbGVtZW50U2NhbGVZID0gZGVsdGEueS5zY2FsZSAqIHRyZWVTY2FsZS55O1xuICAgIHRyYW5zZm9ybSArPSBgc2NhbGUoJHtlbGVtZW50U2NhbGVYfSwgJHtlbGVtZW50U2NhbGVZfSlgO1xuICAgIHJldHVybiB0cmFuc2Zvcm0gPT09IGlkZW50aXR5UHJvamVjdGlvbiA/IFwibm9uZVwiIDogdHJhbnNmb3JtO1xufVxuXG5leHBvcnQgeyBidWlsZFByb2plY3Rpb25UcmFuc2Zvcm0sIGlkZW50aXR5UHJvamVjdGlvbiB9O1xuIiwiY29uc3QgY29tcGFyZUJ5RGVwdGggPSAoYSwgYikgPT4gYS5kZXB0aCAtIGIuZGVwdGg7XG5cbmV4cG9ydCB7IGNvbXBhcmVCeURlcHRoIH07XG4iLCJpbXBvcnQgeyBhZGRVbmlxdWVJdGVtLCByZW1vdmVJdGVtIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkubWpzJztcbmltcG9ydCB7IGNvbXBhcmVCeURlcHRoIH0gZnJvbSAnLi9jb21wYXJlLWJ5LWRlcHRoLm1qcyc7XG5cbmNsYXNzIEZsYXRUcmVlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICB0aGlzLmlzRGlydHkgPSBmYWxzZTtcbiAgICB9XG4gICAgYWRkKGNoaWxkKSB7XG4gICAgICAgIGFkZFVuaXF1ZUl0ZW0odGhpcy5jaGlsZHJlbiwgY2hpbGQpO1xuICAgICAgICB0aGlzLmlzRGlydHkgPSB0cnVlO1xuICAgIH1cbiAgICByZW1vdmUoY2hpbGQpIHtcbiAgICAgICAgcmVtb3ZlSXRlbSh0aGlzLmNoaWxkcmVuLCBjaGlsZCk7XG4gICAgICAgIHRoaXMuaXNEaXJ0eSA9IHRydWU7XG4gICAgfVxuICAgIGZvckVhY2goY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5pc0RpcnR5ICYmIHRoaXMuY2hpbGRyZW4uc29ydChjb21wYXJlQnlEZXB0aCk7XG4gICAgICAgIHRoaXMuaXNEaXJ0eSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goY2FsbGJhY2spO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgRmxhdFRyZWUgfTtcbiIsImltcG9ydCBzeW5jLCB7IGNhbmNlbFN5bmMsIGZsdXNoU3luYyB9IGZyb20gJ2ZyYW1lc3luYyc7XG5pbXBvcnQgeyBtaXggfSBmcm9tICdwb3Btb3Rpb24nO1xuaW1wb3J0IHsgYW5pbWF0ZSB9IGZyb20gJy4uLy4uL2FuaW1hdGlvbi9hbmltYXRlLm1qcyc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb25NYW5hZ2VyIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3Vic2NyaXB0aW9uLW1hbmFnZXIubWpzJztcbmltcG9ydCB7IG1peFZhbHVlcyB9IGZyb20gJy4uL2FuaW1hdGlvbi9taXgtdmFsdWVzLm1qcyc7XG5pbXBvcnQgeyBjb3B5Qm94SW50byB9IGZyb20gJy4uL2dlb21ldHJ5L2NvcHkubWpzJztcbmltcG9ydCB7IHRyYW5zbGF0ZUF4aXMsIHRyYW5zZm9ybUJveCwgYXBwbHlCb3hEZWx0YSwgYXBwbHlUcmVlRGVsdGFzIH0gZnJvbSAnLi4vZ2VvbWV0cnkvZGVsdGEtYXBwbHkubWpzJztcbmltcG9ydCB7IGNhbGNSZWxhdGl2ZVBvc2l0aW9uLCBjYWxjUmVsYXRpdmVCb3gsIGNhbGNCb3hEZWx0YSwgY2FsY0xlbmd0aCB9IGZyb20gJy4uL2dlb21ldHJ5L2RlbHRhLWNhbGMubWpzJztcbmltcG9ydCB7IHJlbW92ZUJveFRyYW5zZm9ybXMgfSBmcm9tICcuLi9nZW9tZXRyeS9kZWx0YS1yZW1vdmUubWpzJztcbmltcG9ydCB7IGNyZWF0ZUJveCwgY3JlYXRlRGVsdGEgfSBmcm9tICcuLi9nZW9tZXRyeS9tb2RlbHMubWpzJztcbmltcG9ydCB7IGdldFZhbHVlVHJhbnNpdGlvbiB9IGZyb20gJy4uLy4uL2FuaW1hdGlvbi91dGlscy90cmFuc2l0aW9ucy5tanMnO1xuaW1wb3J0IHsgYm94RXF1YWxzLCBpc0RlbHRhWmVybywgaXNDbG9zZVRvLCBhc3BlY3RSYXRpbyB9IGZyb20gJy4uL2dlb21ldHJ5L3V0aWxzLm1qcyc7XG5pbXBvcnQgeyBOb2RlU3RhY2sgfSBmcm9tICcuLi9zaGFyZWQvc3RhY2subWpzJztcbmltcG9ydCB7IHNjYWxlQ29ycmVjdG9ycyB9IGZyb20gJy4uL3N0eWxlcy9zY2FsZS1jb3JyZWN0aW9uLm1qcyc7XG5pbXBvcnQgeyBidWlsZFByb2plY3Rpb25UcmFuc2Zvcm0gfSBmcm9tICcuLi9zdHlsZXMvdHJhbnNmb3JtLm1qcyc7XG5pbXBvcnQgeyBlYWNoQXhpcyB9IGZyb20gJy4uL3V0aWxzL2VhY2gtYXhpcy5tanMnO1xuaW1wb3J0IHsgaGFzVHJhbnNmb3JtLCBoYXNTY2FsZSB9IGZyb20gJy4uL3V0aWxzL2hhcy10cmFuc2Zvcm0ubWpzJztcbmltcG9ydCB7IEZsYXRUcmVlIH0gZnJvbSAnLi4vLi4vcmVuZGVyL3V0aWxzL2ZsYXQtdHJlZS5tanMnO1xuaW1wb3J0IHsgcmVzb2x2ZU1vdGlvblZhbHVlIH0gZnJvbSAnLi4vLi4vdmFsdWUvdXRpbHMvcmVzb2x2ZS1tb3Rpb24tdmFsdWUubWpzJztcbmltcG9ydCB7IGdsb2JhbFByb2plY3Rpb25TdGF0ZSB9IGZyb20gJy4vc3RhdGUubWpzJztcblxuY29uc3QgdHJhbnNmb3JtQXhlcyA9IFtcIlwiLCBcIlhcIiwgXCJZXCIsIFwiWlwiXTtcbi8qKlxuICogV2UgdXNlIDEwMDAgYXMgdGhlIGFuaW1hdGlvbiB0YXJnZXQgYXMgMC0xMDAwIG1hcHMgYmV0dGVyIHRvIHBpeGVscyB0aGFuIDAtMVxuICogd2hpY2ggaGFzIGEgbm90aWNlYWJsZSBkaWZmZXJlbmNlIGluIHNwcmluZyBhbmltYXRpb25zXG4gKi9cbmNvbnN0IGFuaW1hdGlvblRhcmdldCA9IDEwMDA7XG5mdW5jdGlvbiBjcmVhdGVQcm9qZWN0aW9uTm9kZSh7IGF0dGFjaFJlc2l6ZUxpc3RlbmVyLCBkZWZhdWx0UGFyZW50LCBtZWFzdXJlU2Nyb2xsLCBjaGVja0lzU2Nyb2xsUm9vdCwgcmVzZXRUcmFuc2Zvcm0sIH0pIHtcbiAgICByZXR1cm4gY2xhc3MgUHJvamVjdGlvbk5vZGUge1xuICAgICAgICBjb25zdHJ1Y3RvcihpZCwgbGF0ZXN0VmFsdWVzID0ge30sIHBhcmVudCA9IGRlZmF1bHRQYXJlbnQgPT09IG51bGwgfHwgZGVmYXVsdFBhcmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVmYXVsdFBhcmVudCgpKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEEgU2V0IGNvbnRhaW5pbmcgYWxsIHRoaXMgY29tcG9uZW50J3MgY2hpbGRyZW4uIFRoaXMgaXMgdXNlZCB0byBpdGVyYXRlXG4gICAgICAgICAgICAgKiB0aHJvdWdoIHRoZSBjaGlsZHJlbi5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBUT0RPOiBUaGlzIGNvdWxkIGJlIGZhc3RlciB0byBpdGVyYXRlIGFzIGEgZmxhdCBhcnJheSBzdG9yZWQgb24gdGhlIHJvb3Qgbm9kZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbiA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogT3B0aW9ucyBmb3IgdGhlIG5vZGUuIFdlIHVzZSB0aGlzIHRvIGNvbmZpZ3VyZSB3aGF0IGtpbmQgb2YgbGF5b3V0IGFuaW1hdGlvbnNcbiAgICAgICAgICAgICAqIHdlIHNob3VsZCBwZXJmb3JtIChpZiBhbnkpLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2UgdXNlIHRoaXMgdG8gZGV0ZWN0IHdoZW4gaXRzIHNhZmUgdG8gc2h1dCBkb3duIHBhcnQgb2YgYSBwcm9qZWN0aW9uIHRyZWUuXG4gICAgICAgICAgICAgKiBXZSBoYXZlIHRvIGtlZXAgcHJvamVjdGluZyBjaGlsZHJlbiBmb3Igc2NhbGUgY29ycmVjdGlvbiBhbmQgcmVsYXRpdmUgcHJvamVjdGlvblxuICAgICAgICAgICAgICogdW50aWwgYWxsIHRoZWlyIHBhcmVudHMgc3RvcCBwZXJmb3JtaW5nIGxheW91dCBhbmltYXRpb25zLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmlzVHJlZUFuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0FuaW1hdGlvbkJsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRmxhZyB0byB0cnVlIGlmIHdlIHRoaW5rIHRoaXMgbGF5b3V0IGhhcyBiZWVuIGNoYW5nZWQuIFdlIGNhbid0IGFsd2F5cyBrbm93IHRoaXMsXG4gICAgICAgICAgICAgKiBjdXJyZW50bHkgd2Ugc2V0IGl0IHRvIHRydWUgZXZlcnkgdGltZSBhIGNvbXBvbmVudCByZW5kZXJzLCBvciBpZiBpdCBoYXMgYSBsYXlvdXREZXBlbmRlbmN5XG4gICAgICAgICAgICAgKiBpZiB0aGF0IGhhcyBjaGFuZ2VkIGJldHdlZW4gcmVuZGVycy4gQWRkaXRpb25hbGx5LCBjb21wb25lbnRzIGNhbiBiZSBncm91cGVkIGJ5IExheW91dEdyb3VwXG4gICAgICAgICAgICAgKiBhbmQgaWYgb25lIG5vZGUgaXMgZGlydGllZCwgdGhleSBhbGwgYXJlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmlzTGF5b3V0RGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQmxvY2sgbGF5b3V0IHVwZGF0ZXMgZm9yIGluc3RhbnQgbGF5b3V0IHRyYW5zaXRpb25zIHRocm91Z2hvdXQgdGhlIHRyZWUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMudXBkYXRlTWFudWFsbHlCbG9ja2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJsb2NrZWRCeVJlc2l6ZSA9IGZhbHNlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZXQgdG8gdHJ1ZSBiZXR3ZWVuIHRoZSBzdGFydCBvZiB0aGUgZmlyc3QgYHdpbGxVcGRhdGVgIGNhbGwgYW5kIHRoZSBlbmQgb2YgdGhlIGBkaWRVcGRhdGVgXG4gICAgICAgICAgICAgKiBjYWxsLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmlzVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhpcyBpcyBhbiBTVkcgZWxlbWVudCB3ZSBjdXJyZW50bHkgZGlzYWJsZSBwcm9qZWN0aW9uIHRyYW5zZm9ybXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5pc1NWRyA9IGZhbHNlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGbGFnIHRvIHRydWUgKGR1cmluZyBwcm9tb3Rpb24pIGlmIGEgbm9kZSBkb2luZyBhbiBpbnN0YW50IGxheW91dCB0cmFuc2l0aW9uIG5lZWRzIHRvIHJlc2V0XG4gICAgICAgICAgICAgKiBpdHMgcHJvamVjdGlvbiBzdHlsZXMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubmVlZHNSZXNldCA9IGZhbHNlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGbGFncyB3aGV0aGVyIHRoaXMgbm9kZSBzaG91bGQgaGF2ZSBpdHMgdHJhbnNmb3JtIHJlc2V0IHByaW9yIHRvIG1lYXN1cmluZy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5zaG91bGRSZXNldFRyYW5zZm9ybSA9IGZhbHNlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjYWxjdWxhdGVkIGNvbnRleHR1YWwvYWNjdW11bGF0ZWQvdHJlZSBzY2FsZS5cbiAgICAgICAgICAgICAqIFRoaXMgd2lsbCBiZSB1c2VkIHRvIHNjYWxlIGNhbGN1bGNhdGVkIHByb2plY3Rpb24gdHJhbnNmb3JtcywgYXMgdGhlc2UgYXJlXG4gICAgICAgICAgICAgKiBjYWxjdWxhdGVkIGluIHNjcmVlbi1zcGFjZSBidXQgbmVlZCB0byBiZSBzY2FsZWQgZm9yIGVsZW1lbnRzIHRvIGFjdHVhbGx5XG4gICAgICAgICAgICAgKiBtYWtlIGl0IHRvIHRoZWlyIGNhbGN1bGF0ZWQgZGVzdGluYXRpb25zLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIFRPRE86IExhenktaW5pdFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnRyZWVTY2FsZSA9IHsgeDogMSwgeTogMSB9O1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAvLyBOb3RlOiBDdXJyZW50bHkgb25seSBydW5uaW5nIG9uIHJvb3Qgbm9kZVxuICAgICAgICAgICAgdGhpcy5wb3RlbnRpYWxOb2RlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tVcGRhdGVGYWlsZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNVcGRhdGluZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhckFsbFNuYXBzaG90cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVByb2plY3Rpb24gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5mb3JFYWNoKHJlc29sdmVUYXJnZXREZWx0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5mb3JFYWNoKGNhbGNQcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmhhc1Byb2plY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc1Zpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Qcm9ncmVzcyA9IDA7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNoYXJlZCBsYXlvdXRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLy8gVE9ETyBPbmx5IHJ1bm5pbmcgb24gcm9vdCBub2RlXG4gICAgICAgICAgICB0aGlzLnNoYXJlZE5vZGVzID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICAgICAgdGhpcy5sYXRlc3RWYWx1ZXMgPSBsYXRlc3RWYWx1ZXM7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBwYXJlbnQgPyBwYXJlbnQucm9vdCB8fCBwYXJlbnQgOiB0aGlzO1xuICAgICAgICAgICAgdGhpcy5wYXRoID0gcGFyZW50ID8gWy4uLnBhcmVudC5wYXRoLCBwYXJlbnRdIDogW107XG4gICAgICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgICAgIHRoaXMuZGVwdGggPSBwYXJlbnQgPyBwYXJlbnQuZGVwdGggKyAxIDogMDtcbiAgICAgICAgICAgIGlkICYmIHRoaXMucm9vdC5yZWdpc3RlclBvdGVudGlhbE5vZGUoaWQsIHRoaXMpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhdGhbaV0uc2hvdWxkUmVzZXRUcmFuc2Zvcm0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucm9vdCA9PT0gdGhpcylcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGVzID0gbmV3IEZsYXRUcmVlKCk7XG4gICAgICAgIH1cbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZXZlbnRIYW5kbGVycy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMuc2V0KG5hbWUsIG5ldyBTdWJzY3JpcHRpb25NYW5hZ2VyKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRIYW5kbGVycy5nZXQobmFtZSkuYWRkKGhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICAgIG5vdGlmeUxpc3RlbmVycyhuYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgICAgICBjb25zdCBzdWJzY3JpcHRpb25NYW5hZ2VyID0gdGhpcy5ldmVudEhhbmRsZXJzLmdldChuYW1lKTtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbk1hbmFnZXIgPT09IG51bGwgfHwgc3Vic2NyaXB0aW9uTWFuYWdlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3Vic2NyaXB0aW9uTWFuYWdlci5ub3RpZnkoLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgaGFzTGlzdGVuZXJzKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50SGFuZGxlcnMuaGFzKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJlZ2lzdGVyUG90ZW50aWFsTm9kZShpZCwgbm9kZSkge1xuICAgICAgICAgICAgdGhpcy5wb3RlbnRpYWxOb2Rlcy5zZXQoaWQsIG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaWZlY3ljbGVzXG4gICAgICAgICAqL1xuICAgICAgICBtb3VudChpbnN0YW5jZSwgaXNMYXlvdXREaXJ0eSA9IGZhbHNlKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAodGhpcy5pbnN0YW5jZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmlzU1ZHID1cbiAgICAgICAgICAgICAgICBpbnN0YW5jZSBpbnN0YW5jZW9mIFNWR0VsZW1lbnQgJiYgaW5zdGFuY2UudGFnTmFtZSAhPT0gXCJzdmdcIjtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgICAgIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dCwgdmlzdWFsRWxlbWVudCB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgaWYgKHZpc3VhbEVsZW1lbnQgJiYgIXZpc3VhbEVsZW1lbnQuZ2V0SW5zdGFuY2UoKSkge1xuICAgICAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQubW91bnQoaW5zdGFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yb290Lm5vZGVzLmFkZCh0aGlzKTtcbiAgICAgICAgICAgIChfYSA9IHRoaXMucGFyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2hpbGRyZW4uYWRkKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5pZCAmJiB0aGlzLnJvb3QucG90ZW50aWFsTm9kZXMuZGVsZXRlKHRoaXMuaWQpO1xuICAgICAgICAgICAgaWYgKGlzTGF5b3V0RGlydHkgJiYgKGxheW91dCB8fCBsYXlvdXRJZCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzTGF5b3V0RGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGF0dGFjaFJlc2l6ZUxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgbGV0IHVuYmxvY2tUaW1lb3V0O1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc2l6ZVVuYmxvY2tVcGRhdGUgPSAoKSA9PiAodGhpcy5yb290LnVwZGF0ZUJsb2NrZWRCeVJlc2l6ZSA9IGZhbHNlKTtcbiAgICAgICAgICAgICAgICBhdHRhY2hSZXNpemVMaXN0ZW5lcihpbnN0YW5jZSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvb3QudXBkYXRlQmxvY2tlZEJ5UmVzaXplID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHVuYmxvY2tUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgdW5ibG9ja1RpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChyZXNpemVVbmJsb2NrVXBkYXRlLCAyNTApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2xvYmFsUHJvamVjdGlvblN0YXRlLmhhc0FuaW1hdGVkU2luY2VSZXNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbFByb2plY3Rpb25TdGF0ZS5oYXNBbmltYXRlZFNpbmNlUmVzaXplID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGVzLmZvckVhY2goZmluaXNoQW5pbWF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxheW91dElkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb290LnJlZ2lzdGVyU2hhcmVkTm9kZShsYXlvdXRJZCwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBPbmx5IHJlZ2lzdGVyIHRoZSBoYW5kbGVyIGlmIGl0IHJlcXVpcmVzIGxheW91dCBhbmltYXRpb25cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0ZSAhPT0gZmFsc2UgJiZcbiAgICAgICAgICAgICAgICB2aXN1YWxFbGVtZW50ICYmXG4gICAgICAgICAgICAgICAgKGxheW91dElkIHx8IGxheW91dCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJkaWRVcGRhdGVcIiwgKHsgZGVsdGEsIGhhc0xheW91dENoYW5nZWQsIGhhc1JlbGF0aXZlVGFyZ2V0Q2hhbmdlZCwgbGF5b3V0OiBuZXdMYXlvdXQsIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNUcmVlQW5pbWF0aW9uQmxvY2tlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVsYXRpdmVUYXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogQ2hlY2sgaGVyZSBpZiBhbiBhbmltYXRpb24gZXhpc3RzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxheW91dFRyYW5zaXRpb24gPSAoX2IgPSAoX2EgPSB0aGlzLm9wdGlvbnMudHJhbnNpdGlvbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdmlzdWFsRWxlbWVudC5nZXREZWZhdWx0VHJhbnNpdGlvbigpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBkZWZhdWx0TGF5b3V0VHJhbnNpdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBvbkxheW91dEFuaW1hdGlvblN0YXJ0LCBvbkxheW91dEFuaW1hdGlvbkNvbXBsZXRlLCB9ID0gdmlzdWFsRWxlbWVudC5nZXRQcm9wcygpO1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogVGhlIHRhcmdldCBsYXlvdXQgb2YgdGhlIGVsZW1lbnQgbWlnaHQgc3RheSB0aGUgc2FtZSxcbiAgICAgICAgICAgICAgICAgICAgICogYnV0IGl0cyBwb3NpdGlvbiByZWxhdGl2ZSB0byBpdHMgcGFyZW50IGhhcyBjaGFuZ2VkLlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0Q2hhbmdlZCA9ICF0aGlzLnRhcmdldExheW91dCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIWJveEVxdWFscyh0aGlzLnRhcmdldExheW91dCwgbmV3TGF5b3V0KSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzUmVsYXRpdmVUYXJnZXRDaGFuZ2VkO1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogSWYgdGhlIGxheW91dCBoYXNuJ3Qgc2VlbWVkIHRvIGhhdmUgY2hhbmdlZCwgaXQgbWlnaHQgYmUgdGhhdCB0aGVcbiAgICAgICAgICAgICAgICAgICAgICogZWxlbWVudCBpcyB2aXN1YWxseSBpbiB0aGUgc2FtZSBwbGFjZSBpbiB0aGUgZG9jdW1lbnQgYnV0IGl0cyBwb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICAgKiByZWxhdGl2ZSB0byBpdHMgcGFyZW50IGhhcyBpbmRlZWQgY2hhbmdlZC4gU28gaGVyZSB3ZSBjaGVjayBmb3IgdGhhdC5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc09ubHlSZWxhdGl2ZVRhcmdldENoYW5nZWQgPSAhaGFzTGF5b3V0Q2hhbmdlZCAmJiBoYXNSZWxhdGl2ZVRhcmdldENoYW5nZWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoKF9jID0gdGhpcy5yZXN1bWVGcm9tKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuaW5zdGFuY2UpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNPbmx5UmVsYXRpdmVUYXJnZXRDaGFuZ2VkIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoaGFzTGF5b3V0Q2hhbmdlZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0YXJnZXRDaGFuZ2VkIHx8ICF0aGlzLmN1cnJlbnRBbmltYXRpb24pKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzdW1lRnJvbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzdW1pbmdGcm9tID0gdGhpcy5yZXN1bWVGcm9tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzdW1pbmdGcm9tLnJlc3VtaW5nRnJvbSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QW5pbWF0aW9uT3JpZ2luKGRlbHRhLCBoYXNPbmx5UmVsYXRpdmVUYXJnZXRDaGFuZ2VkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbk9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZ2V0VmFsdWVUcmFuc2l0aW9uKGxheW91dFRyYW5zaXRpb24sIFwibGF5b3V0XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUGxheTogb25MYXlvdXRBbmltYXRpb25TdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiBvbkxheW91dEFuaW1hdGlvbkNvbXBsZXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2aXN1YWxFbGVtZW50LnNob3VsZFJlZHVjZU1vdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbk9wdGlvbnMuZGVsYXkgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbk9wdGlvbnMudHlwZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydEFuaW1hdGlvbihhbmltYXRpb25PcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogSWYgdGhlIGxheW91dCBoYXNuJ3QgY2hhbmdlZCBhbmQgd2UgaGF2ZSBhbiBhbmltYXRpb24gdGhhdCBoYXNuJ3Qgc3RhcnRlZCB5ZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBmaW5pc2ggaXQgaW1tZWRpYXRlbHkuIE90aGVyd2lzZSBpdCB3aWxsIGJlIGFuaW1hdGluZyBmcm9tIGEgbG9jYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIHRoYXQgd2FzIHByb2JhYmx5IG5ldmVyIGNvbW1pdGVkIHRvIHNjcmVlbiBhbmQgbG9vayBsaWtlIGEganVtcHkgYm94LlxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc0xheW91dENoYW5nZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblByb2dyZXNzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maW5pc2hBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMZWFkKCkgJiYgKChfZSA9IChfZCA9IHRoaXMub3B0aW9ucykub25FeGl0Q29tcGxldGUpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5jYWxsKF9kKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRMYXlvdXQgPSBuZXdMYXlvdXQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdW5tb3VudCgpIHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMubGF5b3V0SWQgJiYgdGhpcy53aWxsVXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLnJvb3Qubm9kZXMucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgKF9hID0gdGhpcy5nZXRTdGFjaygpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgKF9iID0gdGhpcy5wYXJlbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jaGlsZHJlbi5kZWxldGUodGhpcyk7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY2FuY2VsU3luYy5wcmVSZW5kZXIodGhpcy51cGRhdGVQcm9qZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBvbmx5IG9uIHRoZSByb290XG4gICAgICAgIGJsb2NrVXBkYXRlKCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVNYW51YWxseUJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHVuYmxvY2tVcGRhdGUoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU1hbnVhbGx5QmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlzVXBkYXRlQmxvY2tlZCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZU1hbnVhbGx5QmxvY2tlZCB8fCB0aGlzLnVwZGF0ZUJsb2NrZWRCeVJlc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBpc1RyZWVBbmltYXRpb25CbG9ja2VkKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLmlzQW5pbWF0aW9uQmxvY2tlZCB8fFxuICAgICAgICAgICAgICAgICgoX2EgPSB0aGlzLnBhcmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlzVHJlZUFuaW1hdGlvbkJsb2NrZWQoKSkgfHxcbiAgICAgICAgICAgICAgICBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm90ZTogY3VycmVudGx5IG9ubHkgcnVubmluZyBvbiByb290IG5vZGVcbiAgICAgICAgc3RhcnRVcGRhdGUoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1VwZGF0ZUJsb2NrZWQoKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmlzVXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgKF9hID0gdGhpcy5ub2RlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2gocmVzZXRSb3RhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgd2lsbFVwZGF0ZShzaG91bGROb3RpZnlMaXN0ZW5lcnMgPSB0cnVlKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgIGlmICh0aGlzLnJvb3QuaXNVcGRhdGVCbG9ja2VkKCkpIHtcbiAgICAgICAgICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLm9wdGlvbnMpLm9uRXhpdENvbXBsZXRlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgIXRoaXMucm9vdC5pc1VwZGF0aW5nICYmIHRoaXMucm9vdC5zdGFydFVwZGF0ZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNMYXlvdXREaXJ0eSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmlzTGF5b3V0RGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gdGhpcy5wYXRoW2ldO1xuICAgICAgICAgICAgICAgIG5vZGUuc2hvdWxkUmVzZXRUcmFuc2Zvcm0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRPRE86IENoZWNrIHdlIGhhdmVuJ3QgdXBkYXRlZCB0aGUgc2Nyb2xsXG4gICAgICAgICAgICAgICAgICogc2luY2UgdGhlIGxhc3QgZGlkVXBkYXRlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgbm9kZS51cGRhdGVTY3JvbGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dCB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgaWYgKGxheW91dElkID09PSB1bmRlZmluZWQgJiYgIWxheW91dClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1UZW1wbGF0ZSA9IChfYyA9IHRoaXMub3B0aW9ucy52aXN1YWxFbGVtZW50KSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZ2V0UHJvcHMoKS50cmFuc2Zvcm1UZW1wbGF0ZTtcbiAgICAgICAgICAgIHRoaXMucHJldlRyYW5zZm9ybVRlbXBsYXRlVmFsdWUgPSB0cmFuc2Zvcm1UZW1wbGF0ZSA9PT0gbnVsbCB8fCB0cmFuc2Zvcm1UZW1wbGF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdHJhbnNmb3JtVGVtcGxhdGUodGhpcy5sYXRlc3RWYWx1ZXMsIFwiXCIpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTbmFwc2hvdCgpO1xuICAgICAgICAgICAgc2hvdWxkTm90aWZ5TGlzdGVuZXJzICYmIHRoaXMubm90aWZ5TGlzdGVuZXJzKFwid2lsbFVwZGF0ZVwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3RlOiBDdXJyZW50bHkgb25seSBydW5uaW5nIG9uIHJvb3Qgbm9kZVxuICAgICAgICBkaWRVcGRhdGUoKSB7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVXYXNCbG9ja2VkID0gdGhpcy5pc1VwZGF0ZUJsb2NrZWQoKTtcbiAgICAgICAgICAgIC8vIFdoZW4gZG9pbmcgYW4gaW5zdGFudCB0cmFuc2l0aW9uLCB3ZSBza2lwIHRoZSBsYXlvdXQgdXBkYXRlLFxuICAgICAgICAgICAgLy8gYnV0IHNob3VsZCBzdGlsbCBjbGVhbiB1cCB0aGUgbWVhc3VyZW1lbnRzIHNvIHRoYXQgdGhlIG5leHRcbiAgICAgICAgICAgIC8vIHNuYXBzaG90IGNvdWxkIGJlIHRha2VuIGNvcnJlY3RseS5cbiAgICAgICAgICAgIGlmICh1cGRhdGVXYXNCbG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmJsb2NrVXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhckFsbFNuYXBzaG90cygpO1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZXMuZm9yRWFjaChjbGVhck1lYXN1cmVtZW50cyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzVXBkYXRpbmcpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5pc1VwZGF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNlYXJjaCBmb3IgYW5kIG1vdW50IG5ld2x5LWFkZGVkIHByb2plY3Rpb24gZWxlbWVudHMuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogVE9ETzogRXZlcnkgdGltZSBhIG5ldyBjb21wb25lbnQgaXMgcmVuZGVyZWQgd2UgY291bGQgc2VhcmNoIHVwIHRoZSB0cmVlIGZvclxuICAgICAgICAgICAgICogdGhlIGNsb3Nlc3QgbW91bnRlZCBub2RlIGFuZCBxdWVyeSBmcm9tIHRoZXJlIHJhdGhlciB0aGFuIGRvY3VtZW50LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAodGhpcy5wb3RlbnRpYWxOb2Rlcy5zaXplKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3RlbnRpYWxOb2Rlcy5mb3JFYWNoKG1vdW50Tm9kZUVhcmx5KTtcbiAgICAgICAgICAgICAgICB0aGlzLnBvdGVudGlhbE5vZGVzLmNsZWFyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdyaXRlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubm9kZXMuZm9yRWFjaChyZXNldFRyYW5zZm9ybVN0eWxlKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmVhZCA9PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLy8gVXBkYXRlIGxheW91dCBtZWFzdXJlbWVudHMgb2YgdXBkYXRlZCBjaGlsZHJlblxuICAgICAgICAgICAgdGhpcy5ub2Rlcy5mb3JFYWNoKHVwZGF0ZUxheW91dCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdyaXRlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC8vIE5vdGlmeSBsaXN0ZW5lcnMgdGhhdCB0aGUgbGF5b3V0IGlzIHVwZGF0ZWRcbiAgICAgICAgICAgIHRoaXMubm9kZXMuZm9yRWFjaChub3RpZnlMYXlvdXRVcGRhdGUpO1xuICAgICAgICAgICAgdGhpcy5jbGVhckFsbFNuYXBzaG90cygpO1xuICAgICAgICAgICAgLy8gRmx1c2ggYW55IHNjaGVkdWxlZCB1cGRhdGVzXG4gICAgICAgICAgICBmbHVzaFN5bmMudXBkYXRlKCk7XG4gICAgICAgICAgICBmbHVzaFN5bmMucHJlUmVuZGVyKCk7XG4gICAgICAgICAgICBmbHVzaFN5bmMucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJBbGxTbmFwc2hvdHMoKSB7XG4gICAgICAgICAgICB0aGlzLm5vZGVzLmZvckVhY2goY2xlYXJTbmFwc2hvdCk7XG4gICAgICAgICAgICB0aGlzLnNoYXJlZE5vZGVzLmZvckVhY2gocmVtb3ZlTGVhZFNuYXBzaG90cyk7XG4gICAgICAgIH1cbiAgICAgICAgc2NoZWR1bGVVcGRhdGVQcm9qZWN0aW9uKCkge1xuICAgICAgICAgICAgc3luYy5wcmVSZW5kZXIodGhpcy51cGRhdGVQcm9qZWN0aW9uLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2NoZWR1bGVDaGVja0FmdGVyVW5tb3VudCgpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhlIHVubW91bnRpbmcgbm9kZSBpcyBpbiBhIGxheW91dEdyb3VwIGFuZCBkaWQgdHJpZ2dlciBhIHdpbGxVcGRhdGUsXG4gICAgICAgICAgICAgKiB3ZSBtYW51YWxseSBjYWxsIGRpZFVwZGF0ZSB0byBnaXZlIGEgY2hhbmNlIHRvIHRoZSBzaWJsaW5ncyB0byBhbmltYXRlLlxuICAgICAgICAgICAgICogT3RoZXJ3aXNlLCBjbGVhbnVwIGFsbCBzbmFwc2hvdHMgdG8gcHJldmVudHMgZnV0dXJlIG5vZGVzIGZyb20gcmV1c2luZyB0aGVtLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBzeW5jLnBvc3RSZW5kZXIoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzTGF5b3V0RGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290LmRpZFVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290LmNoZWNrVXBkYXRlRmFpbGVkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBtZWFzdXJlbWVudHNcbiAgICAgICAgICovXG4gICAgICAgIHVwZGF0ZVNuYXBzaG90KCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc25hcHNob3QgfHwgIXRoaXMuaW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgbWVhc3VyZWQgPSB0aGlzLm1lYXN1cmUoKTtcbiAgICAgICAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMucmVtb3ZlVHJhbnNmb3JtKHRoaXMucmVtb3ZlRWxlbWVudFNjcm9sbChtZWFzdXJlZCkpO1xuICAgICAgICAgICAgcm91bmRCb3gobGF5b3V0KTtcbiAgICAgICAgICAgIHRoaXMuc25hcHNob3QgPSB7XG4gICAgICAgICAgICAgICAgbWVhc3VyZWQsXG4gICAgICAgICAgICAgICAgbGF5b3V0LFxuICAgICAgICAgICAgICAgIGxhdGVzdFZhbHVlczoge30sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUxheW91dCgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmICghdGhpcy5pbnN0YW5jZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyBUT0RPOiBJbmNvcnBvcmF0ZSBpbnRvIGEgZm9yd2FyZGVkIHNjcm9sbCBvZmZzZXRcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2Nyb2xsKCk7XG4gICAgICAgICAgICBpZiAoISh0aGlzLm9wdGlvbnMuYWx3YXlzTWVhc3VyZUxheW91dCAmJiB0aGlzLmlzTGVhZCgpKSAmJlxuICAgICAgICAgICAgICAgICF0aGlzLmlzTGF5b3V0RGlydHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdoZW4gYSBub2RlIGlzIG1vdW50ZWQsIGl0IHNpbXBseSByZXN1bWVzIGZyb20gdGhlIHByZXZMZWFkJ3NcbiAgICAgICAgICAgICAqIHNuYXBzaG90IGluc3RlYWQgb2YgdGFraW5nIGEgbmV3IG9uZSwgYnV0IHRoZSBhbmNlc3RvcnMgc2Nyb2xsXG4gICAgICAgICAgICAgKiBtaWdodCBoYXZlIHVwZGF0ZWQgd2hpbGUgdGhlIHByZXZMZWFkIGlzIHVubW91bnRlZC4gV2UgbmVlZCB0b1xuICAgICAgICAgICAgICogdXBkYXRlIHRoZSBzY3JvbGwgYWdhaW4gdG8gbWFrZSBzdXJlIHRoZSBsYXlvdXQgd2UgbWVhc3VyZSBpc1xuICAgICAgICAgICAgICogdXAgdG8gZGF0ZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHRoaXMucmVzdW1lRnJvbSAmJiAhdGhpcy5yZXN1bWVGcm9tLmluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMucGF0aFtpXTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS51cGRhdGVTY3JvbGwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtZWFzdXJlZCA9IHRoaXMubWVhc3VyZSgpO1xuICAgICAgICAgICAgcm91bmRCb3gobWVhc3VyZWQpO1xuICAgICAgICAgICAgY29uc3QgcHJldkxheW91dCA9IHRoaXMubGF5b3V0O1xuICAgICAgICAgICAgdGhpcy5sYXlvdXQgPSB7XG4gICAgICAgICAgICAgICAgbWVhc3VyZWQsXG4gICAgICAgICAgICAgICAgYWN0dWFsOiB0aGlzLnJlbW92ZUVsZW1lbnRTY3JvbGwobWVhc3VyZWQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMubGF5b3V0Q29ycmVjdGVkID0gY3JlYXRlQm94KCk7XG4gICAgICAgICAgICB0aGlzLmlzTGF5b3V0RGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucHJvamVjdGlvbkRlbHRhID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoXCJtZWFzdXJlXCIsIHRoaXMubGF5b3V0LmFjdHVhbCk7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLm9wdGlvbnMudmlzdWFsRWxlbWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm5vdGlmeUxheW91dE1lYXN1cmUodGhpcy5sYXlvdXQuYWN0dWFsLCBwcmV2TGF5b3V0ID09PSBudWxsIHx8IHByZXZMYXlvdXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByZXZMYXlvdXQuYWN0dWFsKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVTY3JvbGwoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxheW91dFNjcm9sbCAmJiB0aGlzLmluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1Njcm9sbFJvb3QgPSBjaGVja0lzU2Nyb2xsUm9vdCh0aGlzLmluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbCA9IG1lYXN1cmVTY3JvbGwodGhpcy5pbnN0YW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzZXRUcmFuc2Zvcm0oKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoIXJlc2V0VHJhbnNmb3JtKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IGlzUmVzZXRSZXF1ZXN0ZWQgPSB0aGlzLmlzTGF5b3V0RGlydHkgfHwgdGhpcy5zaG91bGRSZXNldFRyYW5zZm9ybTtcbiAgICAgICAgICAgIGNvbnN0IGhhc1Byb2plY3Rpb24gPSB0aGlzLnByb2plY3Rpb25EZWx0YSAmJiAhaXNEZWx0YVplcm8odGhpcy5wcm9qZWN0aW9uRGVsdGEpO1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtVGVtcGxhdGUgPSAoX2EgPSB0aGlzLm9wdGlvbnMudmlzdWFsRWxlbWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldFByb3BzKCkudHJhbnNmb3JtVGVtcGxhdGU7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1UZW1wbGF0ZVZhbHVlID0gdHJhbnNmb3JtVGVtcGxhdGUgPT09IG51bGwgfHwgdHJhbnNmb3JtVGVtcGxhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRyYW5zZm9ybVRlbXBsYXRlKHRoaXMubGF0ZXN0VmFsdWVzLCBcIlwiKTtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybVRlbXBsYXRlSGFzQ2hhbmdlZCA9IHRyYW5zZm9ybVRlbXBsYXRlVmFsdWUgIT09IHRoaXMucHJldlRyYW5zZm9ybVRlbXBsYXRlVmFsdWU7XG4gICAgICAgICAgICBpZiAoaXNSZXNldFJlcXVlc3RlZCAmJlxuICAgICAgICAgICAgICAgIChoYXNQcm9qZWN0aW9uIHx8XG4gICAgICAgICAgICAgICAgICAgIGhhc1RyYW5zZm9ybSh0aGlzLmxhdGVzdFZhbHVlcykgfHxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtVGVtcGxhdGVIYXNDaGFuZ2VkKSkge1xuICAgICAgICAgICAgICAgIHJlc2V0VHJhbnNmb3JtKHRoaXMuaW5zdGFuY2UsIHRyYW5zZm9ybVRlbXBsYXRlVmFsdWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvdWxkUmVzZXRUcmFuc2Zvcm0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlUmVuZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbWVhc3VyZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdmlzdWFsRWxlbWVudCB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgaWYgKCF2aXN1YWxFbGVtZW50KVxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVCb3goKTtcbiAgICAgICAgICAgIGNvbnN0IGJveCA9IHZpc3VhbEVsZW1lbnQubWVhc3VyZVZpZXdwb3J0Qm94KCk7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdmlld3BvcnQgc2Nyb2xsIHRvIGdpdmUgcGFnZS1yZWxhdGl2ZSBjb29yZGluYXRlc1xuICAgICAgICAgICAgY29uc3QgeyBzY3JvbGwgfSA9IHRoaXMucm9vdDtcbiAgICAgICAgICAgIGlmIChzY3JvbGwpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGVBeGlzKGJveC54LCBzY3JvbGwueCk7XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlQXhpcyhib3gueSwgc2Nyb2xsLnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGJveDtcbiAgICAgICAgfVxuICAgICAgICByZW1vdmVFbGVtZW50U2Nyb2xsKGJveCkge1xuICAgICAgICAgICAgY29uc3QgYm94V2l0aG91dFNjcm9sbCA9IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgY29weUJveEludG8oYm94V2l0aG91dFNjcm9sbCwgYm94KTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUGVyZm9ybWFuY2UgVE9ETzogS2VlcCBhIGN1bXVsYXRpdmUgc2Nyb2xsIG9mZnNldCBkb3duIHRoZSB0cmVlXG4gICAgICAgICAgICAgKiByYXRoZXIgdGhhbiBsb29wIGJhY2sgdXAgdGhlIHBhdGguXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMucGF0aFtpXTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNjcm9sbCwgb3B0aW9ucywgaXNTY3JvbGxSb290IH0gPSBub2RlO1xuICAgICAgICAgICAgICAgIGlmIChub2RlICE9PSB0aGlzLnJvb3QgJiYgc2Nyb2xsICYmIG9wdGlvbnMubGF5b3V0U2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBJZiB0aGlzIGlzIGEgbmV3IHNjcm9sbCByb290LCB3ZSB3YW50IHRvIHJlbW92ZSBhbGwgcHJldmlvdXMgc2Nyb2xsc1xuICAgICAgICAgICAgICAgICAgICAgKiBmcm9tIHRoZSB2aWV3cG9ydCBib3guXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTY3JvbGxSb290KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3B5Qm94SW50byhib3hXaXRob3V0U2Nyb2xsLCBib3gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBzY3JvbGw6IHJvb3RTY3JvbGwgfSA9IHRoaXMucm9vdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogVW5kbyB0aGUgYXBwbGljYXRpb24gb2YgcGFnZSBzY3JvbGwgdGhhdCB3YXMgb3JpZ2luYWxseSBhZGRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogdG8gdGhlIG1lYXN1cmVkIGJvdW5kaW5nIGJveC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvb3RTY3JvbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGVBeGlzKGJveFdpdGhvdXRTY3JvbGwueCwgLXJvb3RTY3JvbGwueCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlQXhpcyhib3hXaXRob3V0U2Nyb2xsLnksIC1yb290U2Nyb2xsLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZUF4aXMoYm94V2l0aG91dFNjcm9sbC54LCBzY3JvbGwueCk7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZUF4aXMoYm94V2l0aG91dFNjcm9sbC55LCBzY3JvbGwueSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGJveFdpdGhvdXRTY3JvbGw7XG4gICAgICAgIH1cbiAgICAgICAgYXBwbHlUcmFuc2Zvcm0oYm94LCB0cmFuc2Zvcm1Pbmx5ID0gZmFsc2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHdpdGhUcmFuc2Zvcm1zID0gY3JlYXRlQm94KCk7XG4gICAgICAgICAgICBjb3B5Qm94SW50byh3aXRoVHJhbnNmb3JtcywgYm94KTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMucGF0aFtpXTtcbiAgICAgICAgICAgICAgICBpZiAoIXRyYW5zZm9ybU9ubHkgJiZcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5vcHRpb25zLmxheW91dFNjcm9sbCAmJlxuICAgICAgICAgICAgICAgICAgICBub2RlLnNjcm9sbCAmJlxuICAgICAgICAgICAgICAgICAgICBub2RlICE9PSBub2RlLnJvb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtQm94KHdpdGhUcmFuc2Zvcm1zLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4OiAtbm9kZS5zY3JvbGwueCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IC1ub2RlLnNjcm9sbC55LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNUcmFuc2Zvcm0obm9kZS5sYXRlc3RWYWx1ZXMpKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1Cb3god2l0aFRyYW5zZm9ybXMsIG5vZGUubGF0ZXN0VmFsdWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNUcmFuc2Zvcm0odGhpcy5sYXRlc3RWYWx1ZXMpKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtQm94KHdpdGhUcmFuc2Zvcm1zLCB0aGlzLmxhdGVzdFZhbHVlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gd2l0aFRyYW5zZm9ybXM7XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlVHJhbnNmb3JtKGJveCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgYm94V2l0aG91dFRyYW5zZm9ybSA9IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgY29weUJveEludG8oYm94V2l0aG91dFRyYW5zZm9ybSwgYm94KTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMucGF0aFtpXTtcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGUuaW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmICghaGFzVHJhbnNmb3JtKG5vZGUubGF0ZXN0VmFsdWVzKSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgaGFzU2NhbGUobm9kZS5sYXRlc3RWYWx1ZXMpICYmIG5vZGUudXBkYXRlU25hcHNob3QoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VCb3ggPSBjcmVhdGVCb3goKTtcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlQm94ID0gbm9kZS5tZWFzdXJlKCk7XG4gICAgICAgICAgICAgICAgY29weUJveEludG8oc291cmNlQm94LCBub2RlQm94KTtcbiAgICAgICAgICAgICAgICByZW1vdmVCb3hUcmFuc2Zvcm1zKGJveFdpdGhvdXRUcmFuc2Zvcm0sIG5vZGUubGF0ZXN0VmFsdWVzLCAoX2EgPSBub2RlLnNuYXBzaG90KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGF5b3V0LCBzb3VyY2VCb3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhhc1RyYW5zZm9ybSh0aGlzLmxhdGVzdFZhbHVlcykpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVCb3hUcmFuc2Zvcm1zKGJveFdpdGhvdXRUcmFuc2Zvcm0sIHRoaXMubGF0ZXN0VmFsdWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBib3hXaXRob3V0VHJhbnNmb3JtO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0VGFyZ2V0RGVsdGEoZGVsdGEpIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0RGVsdGEgPSBkZWx0YTtcbiAgICAgICAgICAgIHRoaXMucm9vdC5zY2hlZHVsZVVwZGF0ZVByb2plY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBjcm9zc2ZhZGU6IG9wdGlvbnMuY3Jvc3NmYWRlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNyb3NzZmFkZSA6IHRydWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNsZWFyTWVhc3VyZW1lbnRzKCkge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmxheW91dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuc25hcHNob3QgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLnByZXZUcmFuc2Zvcm1UZW1wbGF0ZVZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy50YXJnZXREZWx0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5pc0xheW91dERpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyYW1lIGNhbGN1bGF0aW9uc1xuICAgICAgICAgKi9cbiAgICAgICAgcmVzb2x2ZVRhcmdldERlbHRhKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgeyBsYXlvdXQsIGxheW91dElkIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHdlIGhhdmUgbm8gbGF5b3V0LCB3ZSBjYW4ndCBwZXJmb3JtIHByb2plY3Rpb24sIHNvIGVhcmx5IHJldHVyblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoIXRoaXMubGF5b3V0IHx8ICEobGF5b3V0IHx8IGxheW91dElkKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHdlIGRvbid0IGhhdmUgYSB0YXJnZXREZWx0YSBidXQgZG8gaGF2ZSBhIGxheW91dCwgd2UgY2FuIGF0dGVtcHQgdG8gcmVzb2x2ZVxuICAgICAgICAgICAgICogYSByZWxhdGl2ZVBhcmVudC4gVGhpcyB3aWxsIGFsbG93IGEgY29tcG9uZW50IHRvIHBlcmZvcm0gc2NhbGUgY29ycmVjdGlvblxuICAgICAgICAgICAgICogZXZlbiBpZiBubyBhbmltYXRpb24gaGFzIHN0YXJ0ZWQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC8vIFRPRE8gSWYgdGhpcyBpcyB1bnN1Y2Nlc3NmdWwgdGhpcyBjdXJyZW50bHkgaGFwcGVucyBldmVyeSBmcmFtZVxuICAgICAgICAgICAgaWYgKCF0aGlzLnRhcmdldERlbHRhICYmICF0aGlzLnJlbGF0aXZlVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogVGhpcyBpcyBhIHNlbWktcmVwZXRpdGlvbiBvZiBmdXJ0aGVyIGRvd24gdGhpcyBmdW5jdGlvbiwgbWFrZSBEUllcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlUGFyZW50ID0gdGhpcy5nZXRDbG9zZXN0UHJvamVjdGluZ1BhcmVudCgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlbGF0aXZlUGFyZW50ICYmIHRoaXMucmVsYXRpdmVQYXJlbnQubGF5b3V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVsYXRpdmVUYXJnZXQgPSBjcmVhdGVCb3goKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZVRhcmdldE9yaWdpbiA9IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgICAgICAgICBjYWxjUmVsYXRpdmVQb3NpdGlvbih0aGlzLnJlbGF0aXZlVGFyZ2V0T3JpZ2luLCB0aGlzLmxheW91dC5hY3R1YWwsIHRoaXMucmVsYXRpdmVQYXJlbnQubGF5b3V0LmFjdHVhbCk7XG4gICAgICAgICAgICAgICAgICAgIGNvcHlCb3hJbnRvKHRoaXMucmVsYXRpdmVUYXJnZXQsIHRoaXMucmVsYXRpdmVUYXJnZXRPcmlnaW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgd2UgaGF2ZSBubyByZWxhdGl2ZSB0YXJnZXQgb3Igbm8gdGFyZ2V0IGRlbHRhIG91ciB0YXJnZXQgaXNuJ3QgdmFsaWRcbiAgICAgICAgICAgICAqIGZvciB0aGlzIGZyYW1lLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoIXRoaXMucmVsYXRpdmVUYXJnZXQgJiYgIXRoaXMudGFyZ2V0RGVsdGEpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBMYXp5LWluaXQgdGFyZ2V0IGRhdGEgc3RydWN0dXJlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICghdGhpcy50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0V2l0aFRyYW5zZm9ybXMgPSBjcmVhdGVCb3goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgd2UndmUgZ290IGEgcmVsYXRpdmUgYm94IGZvciB0aGlzIGNvbXBvbmVudCwgcmVzb2x2ZSBpdCBpbnRvIGEgdGFyZ2V0IHJlbGF0aXZlIHRvIHRoZSBwYXJlbnQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLnJlbGF0aXZlVGFyZ2V0ICYmXG4gICAgICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZVRhcmdldE9yaWdpbiAmJlxuICAgICAgICAgICAgICAgICgoX2EgPSB0aGlzLnJlbGF0aXZlUGFyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIGNhbGNSZWxhdGl2ZUJveCh0aGlzLnRhcmdldCwgdGhpcy5yZWxhdGl2ZVRhcmdldCwgdGhpcy5yZWxhdGl2ZVBhcmVudC50YXJnZXQpO1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIElmIHdlJ3ZlIG9ubHkgZ290IGEgdGFyZ2V0RGVsdGEsIHJlc29sdmUgaXQgaW50byBhIHRhcmdldFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy50YXJnZXREZWx0YSkge1xuICAgICAgICAgICAgICAgIGlmIChCb29sZWFuKHRoaXMucmVzdW1pbmdGcm9tKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBUaGlzIGlzIGNyZWF0aW5nIGEgbmV3IG9iamVjdCBldmVyeSBmcmFtZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMuYXBwbHlUcmFuc2Zvcm0odGhpcy5sYXlvdXQuYWN0dWFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvcHlCb3hJbnRvKHRoaXMudGFyZ2V0LCB0aGlzLmxheW91dC5hY3R1YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhcHBseUJveERlbHRhKHRoaXMudGFyZ2V0LCB0aGlzLnRhcmdldERlbHRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIElmIG5vIHRhcmdldCwgdXNlIG93biBsYXlvdXQgYXMgdGFyZ2V0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY29weUJveEludG8odGhpcy50YXJnZXQsIHRoaXMubGF5b3V0LmFjdHVhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHdlJ3ZlIGJlZW4gdG9sZCB0byBhdHRlbXB0IHRvIHJlc29sdmUgYSByZWxhdGl2ZSB0YXJnZXQsIGRvIHNvLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAodGhpcy5hdHRlbXB0VG9SZXNvbHZlUmVsYXRpdmVUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGVtcHRUb1Jlc29sdmVSZWxhdGl2ZVRhcmdldCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVsYXRpdmVQYXJlbnQgPSB0aGlzLmdldENsb3Nlc3RQcm9qZWN0aW5nUGFyZW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVsYXRpdmVQYXJlbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgQm9vbGVhbih0aGlzLnJlbGF0aXZlUGFyZW50LnJlc3VtaW5nRnJvbSkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBCb29sZWFuKHRoaXMucmVzdW1pbmdGcm9tKSAmJlxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5yZWxhdGl2ZVBhcmVudC5vcHRpb25zLmxheW91dFNjcm9sbCAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlUGFyZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlVGFyZ2V0ID0gY3JlYXRlQm94KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVsYXRpdmVUYXJnZXRPcmlnaW4gPSBjcmVhdGVCb3goKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsY1JlbGF0aXZlUG9zaXRpb24odGhpcy5yZWxhdGl2ZVRhcmdldE9yaWdpbiwgdGhpcy50YXJnZXQsIHRoaXMucmVsYXRpdmVQYXJlbnQudGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgY29weUJveEludG8odGhpcy5yZWxhdGl2ZVRhcmdldCwgdGhpcy5yZWxhdGl2ZVRhcmdldE9yaWdpbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGdldENsb3Nlc3RQcm9qZWN0aW5nUGFyZW50KCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCB8fCBoYXNUcmFuc2Zvcm0odGhpcy5wYXJlbnQubGF0ZXN0VmFsdWVzKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKCh0aGlzLnBhcmVudC5yZWxhdGl2ZVRhcmdldCB8fCB0aGlzLnBhcmVudC50YXJnZXREZWx0YSkgJiZcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5sYXlvdXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuZ2V0Q2xvc2VzdFByb2plY3RpbmdQYXJlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYWxjUHJvamVjdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IHsgbGF5b3V0LCBsYXlvdXRJZCB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0aGlzIHNlY3Rpb24gb2YgdGhlIHRyZWUgaXNuJ3QgYW5pbWF0aW5nIHdlIGNhblxuICAgICAgICAgICAgICogZGVsZXRlIG91ciB0YXJnZXQgc291cmNlcyBmb3IgdGhlIGZvbGxvd2luZyBmcmFtZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5pc1RyZWVBbmltYXRpbmcgPSBCb29sZWFuKCgoX2EgPSB0aGlzLnBhcmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlzVHJlZUFuaW1hdGluZykgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRBbmltYXRpb24gfHxcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdBbmltYXRpb24pO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzVHJlZUFuaW1hdGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0RGVsdGEgPSB0aGlzLnJlbGF0aXZlVGFyZ2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmxheW91dCB8fCAhKGxheW91dCB8fCBsYXlvdXRJZCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgbGVhZCA9IHRoaXMuZ2V0TGVhZCgpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZXNldCB0aGUgY29ycmVjdGVkIGJveCB3aXRoIHRoZSBsYXRlc3QgdmFsdWVzIGZyb20gYm94LCBhcyB3ZSdyZSB0aGVuIGdvaW5nXG4gICAgICAgICAgICAgKiB0byBwZXJmb3JtIG11dGF0aXZlIG9wZXJhdGlvbnMgb24gaXQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvcHlCb3hJbnRvKHRoaXMubGF5b3V0Q29ycmVjdGVkLCB0aGlzLmxheW91dC5hY3R1YWwpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBcHBseSBhbGwgdGhlIHBhcmVudCBkZWx0YXMgdG8gdGhpcyBib3ggdG8gcHJvZHVjZSB0aGUgY29ycmVjdGVkIGJveC4gVGhpc1xuICAgICAgICAgICAgICogaXMgdGhlIGxheW91dCBib3gsIGFzIGl0IHdpbGwgYXBwZWFyIG9uIHNjcmVlbiBhcyBhIHJlc3VsdCBvZiB0aGUgdHJhbnNmb3JtcyBvZiBpdHMgcGFyZW50cy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgYXBwbHlUcmVlRGVsdGFzKHRoaXMubGF5b3V0Q29ycmVjdGVkLCB0aGlzLnRyZWVTY2FsZSwgdGhpcy5wYXRoLCBCb29sZWFuKHRoaXMucmVzdW1pbmdGcm9tKSB8fCB0aGlzICE9PSBsZWFkKTtcbiAgICAgICAgICAgIGNvbnN0IHsgdGFyZ2V0IH0gPSBsZWFkO1xuICAgICAgICAgICAgaWYgKCF0YXJnZXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnByb2plY3Rpb25EZWx0YSkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvamVjdGlvbkRlbHRhID0gY3JlYXRlRGVsdGEoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2plY3Rpb25EZWx0YVdpdGhUcmFuc2Zvcm0gPSBjcmVhdGVEZWx0YSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcHJldlRyZWVTY2FsZVggPSB0aGlzLnRyZWVTY2FsZS54O1xuICAgICAgICAgICAgY29uc3QgcHJldlRyZWVTY2FsZVkgPSB0aGlzLnRyZWVTY2FsZS55O1xuICAgICAgICAgICAgY29uc3QgcHJldlByb2plY3Rpb25UcmFuc2Zvcm0gPSB0aGlzLnByb2plY3Rpb25UcmFuc2Zvcm07XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFVwZGF0ZSB0aGUgZGVsdGEgYmV0d2VlbiB0aGUgY29ycmVjdGVkIGJveCBhbmQgdGhlIHRhcmdldCBib3ggYmVmb3JlIHVzZXItc2V0IHRyYW5zZm9ybXMgd2VyZSBhcHBsaWVkLlxuICAgICAgICAgICAgICogVGhpcyB3aWxsIGFsbG93IHVzIHRvIGNhbGN1bGF0ZSB0aGUgY29ycmVjdGVkIGJvcmRlclJhZGl1cyBhbmQgYm94U2hhZG93IHRvIGNvbXBlbnNhdGVcbiAgICAgICAgICAgICAqIGZvciBvdXIgbGF5b3V0IHJlcHJvamVjdGlvbiwgYnV0IHN0aWxsIGFsbG93IHRoZW0gdG8gYmUgc2NhbGVkIGNvcnJlY3RseSBieSB0aGUgdXNlci5cbiAgICAgICAgICAgICAqIEl0IG1pZ2h0IGJlIHRoYXQgdG8gc2ltcGxpZnkgdGhpcyB3ZSBtYXkgd2FudCB0byBhY2NlcHQgdGhhdCB1c2VyLXNldCBzY2FsZSBpcyBhbHNvIGNvcnJlY3RlZFxuICAgICAgICAgICAgICogYW5kIHdlIHdvdWxkbid0IGhhdmUgdG8ga2VlcCBhbmQgY2FsYyBib3RoIGRlbHRhcywgT1Igd2UgY291bGQgc3VwcG9ydCBhIHVzZXIgc2V0dGluZ1xuICAgICAgICAgICAgICogdG8gYWxsb3cgcGVvcGxlIHRvIGNob29zZSB3aGV0aGVyIHRoZXNlIHN0eWxlcyBhcmUgY29ycmVjdGVkIGJhc2VkIG9uIGp1c3QgdGhlXG4gICAgICAgICAgICAgKiBsYXlvdXQgcmVwcm9qZWN0aW9uIG9yIHRoZSBmaW5hbCBib3VuZGluZyBib3guXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNhbGNCb3hEZWx0YSh0aGlzLnByb2plY3Rpb25EZWx0YSwgdGhpcy5sYXlvdXRDb3JyZWN0ZWQsIHRhcmdldCwgdGhpcy5sYXRlc3RWYWx1ZXMpO1xuICAgICAgICAgICAgdGhpcy5wcm9qZWN0aW9uVHJhbnNmb3JtID0gYnVpbGRQcm9qZWN0aW9uVHJhbnNmb3JtKHRoaXMucHJvamVjdGlvbkRlbHRhLCB0aGlzLnRyZWVTY2FsZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9qZWN0aW9uVHJhbnNmb3JtICE9PSBwcmV2UHJvamVjdGlvblRyYW5zZm9ybSB8fFxuICAgICAgICAgICAgICAgIHRoaXMudHJlZVNjYWxlLnggIT09IHByZXZUcmVlU2NhbGVYIHx8XG4gICAgICAgICAgICAgICAgdGhpcy50cmVlU2NhbGUueSAhPT0gcHJldlRyZWVTY2FsZVkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1Byb2plY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZVJlbmRlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKFwicHJvamVjdGlvblVwZGF0ZVwiLCB0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGhpZGUoKSB7XG4gICAgICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gVE9ETzogU2NoZWR1bGUgcmVuZGVyXG4gICAgICAgIH1cbiAgICAgICAgc2hvdygpIHtcbiAgICAgICAgICAgIHRoaXMuaXNWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIFRPRE86IFNjaGVkdWxlIHJlbmRlclxuICAgICAgICB9XG4gICAgICAgIHNjaGVkdWxlUmVuZGVyKG5vdGlmeUFsbCA9IHRydWUpIHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgKF9iID0gKF9hID0gdGhpcy5vcHRpb25zKS5zY2hlZHVsZVJlbmRlcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICAgICAgbm90aWZ5QWxsICYmICgoX2MgPSB0aGlzLmdldFN0YWNrKCkpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5zY2hlZHVsZVJlbmRlcigpKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc3VtaW5nRnJvbSAmJiAhdGhpcy5yZXN1bWluZ0Zyb20uaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VtaW5nRnJvbSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXRBbmltYXRpb25PcmlnaW4oZGVsdGEsIGhhc09ubHlSZWxhdGl2ZVRhcmdldENoYW5nZWQgPSBmYWxzZSkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSB0aGlzLnNuYXBzaG90O1xuICAgICAgICAgICAgY29uc3Qgc25hcHNob3RMYXRlc3RWYWx1ZXMgPSAoc25hcHNob3QgPT09IG51bGwgfHwgc25hcHNob3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNuYXBzaG90LmxhdGVzdFZhbHVlcykgfHwge307XG4gICAgICAgICAgICBjb25zdCBtaXhlZFZhbHVlcyA9IHsgLi4udGhpcy5sYXRlc3RWYWx1ZXMgfTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldERlbHRhID0gY3JlYXRlRGVsdGEoKTtcbiAgICAgICAgICAgIHRoaXMucmVsYXRpdmVUYXJnZXQgPSB0aGlzLnJlbGF0aXZlVGFyZ2V0T3JpZ2luID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5hdHRlbXB0VG9SZXNvbHZlUmVsYXRpdmVUYXJnZXQgPSAhaGFzT25seVJlbGF0aXZlVGFyZ2V0Q2hhbmdlZDtcbiAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlTGF5b3V0ID0gY3JlYXRlQm94KCk7XG4gICAgICAgICAgICBjb25zdCBpc1NoYXJlZExheW91dEFuaW1hdGlvbiA9IHNuYXBzaG90ID09PSBudWxsIHx8IHNuYXBzaG90ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzbmFwc2hvdC5pc1NoYXJlZDtcbiAgICAgICAgICAgIGNvbnN0IGlzT25seU1lbWJlciA9ICgoKF9hID0gdGhpcy5nZXRTdGFjaygpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWVtYmVycy5sZW5ndGgpIHx8IDApIDw9IDE7XG4gICAgICAgICAgICBjb25zdCBzaG91bGRDcm9zc2ZhZGVPcGFjaXR5ID0gQm9vbGVhbihpc1NoYXJlZExheW91dEFuaW1hdGlvbiAmJlxuICAgICAgICAgICAgICAgICFpc09ubHlNZW1iZXIgJiZcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuY3Jvc3NmYWRlID09PSB0cnVlICYmXG4gICAgICAgICAgICAgICAgIXRoaXMucGF0aC5zb21lKGhhc09wYWNpdHlDcm9zc2ZhZGUpKTtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uUHJvZ3Jlc3MgPSAwO1xuICAgICAgICAgICAgdGhpcy5taXhUYXJnZXREZWx0YSA9IChsYXRlc3QpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBsYXRlc3QgLyAxMDAwO1xuICAgICAgICAgICAgICAgIG1peEF4aXNEZWx0YSh0YXJnZXREZWx0YS54LCBkZWx0YS54LCBwcm9ncmVzcyk7XG4gICAgICAgICAgICAgICAgbWl4QXhpc0RlbHRhKHRhcmdldERlbHRhLnksIGRlbHRhLnksIHByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRhcmdldERlbHRhKHRhcmdldERlbHRhKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWxhdGl2ZVRhcmdldCAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlVGFyZ2V0T3JpZ2luICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGF5b3V0ICYmXG4gICAgICAgICAgICAgICAgICAgICgoX2EgPSB0aGlzLnJlbGF0aXZlUGFyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGF5b3V0KSkge1xuICAgICAgICAgICAgICAgICAgICBjYWxjUmVsYXRpdmVQb3NpdGlvbihyZWxhdGl2ZUxheW91dCwgdGhpcy5sYXlvdXQuYWN0dWFsLCB0aGlzLnJlbGF0aXZlUGFyZW50LmxheW91dC5hY3R1YWwpO1xuICAgICAgICAgICAgICAgICAgICBtaXhCb3godGhpcy5yZWxhdGl2ZVRhcmdldCwgdGhpcy5yZWxhdGl2ZVRhcmdldE9yaWdpbiwgcmVsYXRpdmVMYXlvdXQsIHByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzU2hhcmVkTGF5b3V0QW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uVmFsdWVzID0gbWl4ZWRWYWx1ZXM7XG4gICAgICAgICAgICAgICAgICAgIG1peFZhbHVlcyhtaXhlZFZhbHVlcywgc25hcHNob3RMYXRlc3RWYWx1ZXMsIHRoaXMubGF0ZXN0VmFsdWVzLCBwcm9ncmVzcywgc2hvdWxkQ3Jvc3NmYWRlT3BhY2l0eSwgaXNPbmx5TWVtYmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yb290LnNjaGVkdWxlVXBkYXRlUHJvamVjdGlvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVSZW5kZXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblByb2dyZXNzID0gcHJvZ3Jlc3M7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5taXhUYXJnZXREZWx0YSgwKTtcbiAgICAgICAgfVxuICAgICAgICBzdGFydEFuaW1hdGlvbihvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoXCJhbmltYXRpb25TdGFydFwiKTtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuY3VycmVudEFuaW1hdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN0b3AoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc3VtaW5nRnJvbSkge1xuICAgICAgICAgICAgICAgIChfYiA9IHRoaXMucmVzdW1pbmdGcm9tLmN1cnJlbnRBbmltYXRpb24pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nQW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2FuY2VsU3luYy51cGRhdGUodGhpcy5wZW5kaW5nQW5pbWF0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdBbmltYXRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFN0YXJ0IHRoZSBhbmltYXRpb24gaW4gdGhlIG5leHQgZnJhbWUgdG8gaGF2ZSBhIGZyYW1lIHdpdGggcHJvZ3Jlc3MgMCxcbiAgICAgICAgICAgICAqIHdoZXJlIHRoZSB0YXJnZXQgaXMgdGhlIHNhbWUgYXMgd2hlbiB0aGUgYW5pbWF0aW9uIHN0YXJ0ZWQsIHNvIHdlIGNhblxuICAgICAgICAgICAgICogY2FsY3VsYXRlIHRoZSByZWxhdGl2ZSBwb3NpdGlvbnMgY29ycmVjdGx5IGZvciBpbnN0YW50IHRyYW5zaXRpb25zLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdBbmltYXRpb24gPSBzeW5jLnVwZGF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZ2xvYmFsUHJvamVjdGlvblN0YXRlLmhhc0FuaW1hdGVkU2luY2VSZXNpemUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEFuaW1hdGlvbiA9IGFuaW1hdGUoMCwgYW5pbWF0aW9uVGFyZ2V0LCB7XG4gICAgICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAobGF0ZXN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1peFRhcmdldERlbHRhKGxhdGVzdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2EgPSBvcHRpb25zLm9uVXBkYXRlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChvcHRpb25zLCBsYXRlc3QpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2EgPSBvcHRpb25zLm9uQ29tcGxldGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlc3VtaW5nRnJvbSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3VtaW5nRnJvbS5jdXJyZW50QW5pbWF0aW9uID0gdGhpcy5jdXJyZW50QW5pbWF0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdBbmltYXRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb21wbGV0ZUFuaW1hdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc3VtaW5nRnJvbSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdW1pbmdGcm9tLmN1cnJlbnRBbmltYXRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bWluZ0Zyb20ucHJlc2VydmVPcGFjaXR5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKF9hID0gdGhpcy5nZXRTdGFjaygpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZXhpdEFuaW1hdGlvbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB0aGlzLnJlc3VtaW5nRnJvbSA9XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50QW5pbWF0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25WYWx1ZXMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoXCJhbmltYXRpb25Db21wbGV0ZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5pc2hBbmltYXRpb24oKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50QW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgKF9hID0gdGhpcy5taXhUYXJnZXREZWx0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcywgYW5pbWF0aW9uVGFyZ2V0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRBbmltYXRpb24uc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZUFuaW1hdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGFwcGx5VHJhbnNmb3Jtc1RvVGFyZ2V0KCkge1xuICAgICAgICAgICAgY29uc3QgbGVhZCA9IHRoaXMuZ2V0TGVhZCgpO1xuICAgICAgICAgICAgbGV0IHsgdGFyZ2V0V2l0aFRyYW5zZm9ybXMsIHRhcmdldCwgbGF5b3V0LCBsYXRlc3RWYWx1ZXMgfSA9IGxlYWQ7XG4gICAgICAgICAgICBpZiAoIXRhcmdldFdpdGhUcmFuc2Zvcm1zIHx8ICF0YXJnZXQgfHwgIWxheW91dClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHdlJ3JlIG9ubHkgYW5pbWF0aW5nIHBvc2l0aW9uLCBhbmQgdGhpcyBlbGVtZW50IGlzbid0IHRoZSBsZWFkIGVsZW1lbnQsXG4gICAgICAgICAgICAgKiB0aGVuIGluc3RlYWQgb2YgcHJvamVjdGluZyBpbnRvIHRoZSBsZWFkIGJveCB3ZSBpbnN0ZWFkIHdhbnQgdG8gY2FsY3VsYXRlXG4gICAgICAgICAgICAgKiBhIG5ldyB0YXJnZXQgdGhhdCBhbGlnbnMgdGhlIHR3byBib3hlcyBidXQgbWFpbnRhaW5zIHRoZSBsYXlvdXQgc2hhcGUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICh0aGlzICE9PSBsZWFkICYmXG4gICAgICAgICAgICAgICAgdGhpcy5sYXlvdXQgJiZcbiAgICAgICAgICAgICAgICBsYXlvdXQgJiZcbiAgICAgICAgICAgICAgICBzaG91bGRBbmltYXRlUG9zaXRpb25Pbmx5KHRoaXMub3B0aW9ucy5hbmltYXRpb25UeXBlLCB0aGlzLmxheW91dC5hY3R1YWwsIGxheW91dC5hY3R1YWwpKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGhpcy50YXJnZXQgfHwgY3JlYXRlQm94KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgeExlbmd0aCA9IGNhbGNMZW5ndGgodGhpcy5sYXlvdXQuYWN0dWFsLngpO1xuICAgICAgICAgICAgICAgIHRhcmdldC54Lm1pbiA9IGxlYWQudGFyZ2V0LngubWluO1xuICAgICAgICAgICAgICAgIHRhcmdldC54Lm1heCA9IHRhcmdldC54Lm1pbiArIHhMZW5ndGg7XG4gICAgICAgICAgICAgICAgY29uc3QgeUxlbmd0aCA9IGNhbGNMZW5ndGgodGhpcy5sYXlvdXQuYWN0dWFsLnkpO1xuICAgICAgICAgICAgICAgIHRhcmdldC55Lm1pbiA9IGxlYWQudGFyZ2V0LnkubWluO1xuICAgICAgICAgICAgICAgIHRhcmdldC55Lm1heCA9IHRhcmdldC55Lm1pbiArIHlMZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb3B5Qm94SW50byh0YXJnZXRXaXRoVHJhbnNmb3JtcywgdGFyZ2V0KTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQXBwbHkgdGhlIGxhdGVzdCB1c2VyLXNldCB0cmFuc2Zvcm1zIHRvIHRoZSB0YXJnZXRCb3ggdG8gcHJvZHVjZSB0aGUgdGFyZ2V0Qm94RmluYWwuXG4gICAgICAgICAgICAgKiBUaGlzIGlzIHRoZSBmaW5hbCBib3ggdGhhdCB3ZSB3aWxsIHRoZW4gcHJvamVjdCBpbnRvIGJ5IGNhbGN1bGF0aW5nIGEgdHJhbnNmb3JtIGRlbHRhIGFuZFxuICAgICAgICAgICAgICogYXBwbHlpbmcgaXQgdG8gdGhlIGNvcnJlY3RlZCBib3guXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRyYW5zZm9ybUJveCh0YXJnZXRXaXRoVHJhbnNmb3JtcywgbGF0ZXN0VmFsdWVzKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVXBkYXRlIHRoZSBkZWx0YSBiZXR3ZWVuIHRoZSBjb3JyZWN0ZWQgYm94IGFuZCB0aGUgZmluYWwgdGFyZ2V0IGJveCwgYWZ0ZXJcbiAgICAgICAgICAgICAqIHVzZXItc2V0IHRyYW5zZm9ybXMgYXJlIGFwcGxpZWQgdG8gaXQuIFRoaXMgd2lsbCBiZSB1c2VkIGJ5IHRoZSByZW5kZXJlciB0b1xuICAgICAgICAgICAgICogY3JlYXRlIGEgdHJhbnNmb3JtIHN0eWxlIHRoYXQgd2lsbCByZXByb2plY3QgdGhlIGVsZW1lbnQgZnJvbSBpdHMgYWN0dWFsIGxheW91dFxuICAgICAgICAgICAgICogaW50byB0aGUgZGVzaXJlZCBib3VuZGluZyBib3guXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNhbGNCb3hEZWx0YSh0aGlzLnByb2plY3Rpb25EZWx0YVdpdGhUcmFuc2Zvcm0sIHRoaXMubGF5b3V0Q29ycmVjdGVkLCB0YXJnZXRXaXRoVHJhbnNmb3JtcywgbGF0ZXN0VmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICByZWdpc3RlclNoYXJlZE5vZGUobGF5b3V0SWQsIG5vZGUpIHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnNoYXJlZE5vZGVzLmhhcyhsYXlvdXRJZCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYXJlZE5vZGVzLnNldChsYXlvdXRJZCwgbmV3IE5vZGVTdGFjaygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gdGhpcy5zaGFyZWROb2Rlcy5nZXQobGF5b3V0SWQpO1xuICAgICAgICAgICAgc3RhY2suYWRkKG5vZGUpO1xuICAgICAgICAgICAgbm9kZS5wcm9tb3RlKHtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAoX2EgPSBub2RlLm9wdGlvbnMuaW5pdGlhbFByb21vdGlvbkNvbmZpZykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRyYW5zaXRpb24sXG4gICAgICAgICAgICAgICAgcHJlc2VydmVGb2xsb3dPcGFjaXR5OiAoX2MgPSAoX2IgPSBub2RlLm9wdGlvbnMuaW5pdGlhbFByb21vdGlvbkNvbmZpZykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNob3VsZFByZXNlcnZlRm9sbG93T3BhY2l0eSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoX2IsIG5vZGUpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaXNMZWFkKCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSB0aGlzLmdldFN0YWNrKCk7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2sgPyBzdGFjay5sZWFkID09PSB0aGlzIDogdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBnZXRMZWFkKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgeyBsYXlvdXRJZCB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgcmV0dXJuIGxheW91dElkID8gKChfYSA9IHRoaXMuZ2V0U3RhY2soKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlYWQpIHx8IHRoaXMgOiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGdldFByZXZMZWFkKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgeyBsYXlvdXRJZCB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgcmV0dXJuIGxheW91dElkID8gKF9hID0gdGhpcy5nZXRTdGFjaygpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHJldkxlYWQgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0U3RhY2soKSB7XG4gICAgICAgICAgICBjb25zdCB7IGxheW91dElkIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgICAgICBpZiAobGF5b3V0SWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5zaGFyZWROb2Rlcy5nZXQobGF5b3V0SWQpO1xuICAgICAgICB9XG4gICAgICAgIHByb21vdGUoeyBuZWVkc1Jlc2V0LCB0cmFuc2l0aW9uLCBwcmVzZXJ2ZUZvbGxvd09wYWNpdHksIH0gPSB7fSkge1xuICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSB0aGlzLmdldFN0YWNrKCk7XG4gICAgICAgICAgICBpZiAoc3RhY2spXG4gICAgICAgICAgICAgICAgc3RhY2sucHJvbW90ZSh0aGlzLCBwcmVzZXJ2ZUZvbGxvd09wYWNpdHkpO1xuICAgICAgICAgICAgaWYgKG5lZWRzUmVzZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2plY3Rpb25EZWx0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB0aGlzLm5lZWRzUmVzZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRyYW5zaXRpb24pXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRPcHRpb25zKHsgdHJhbnNpdGlvbiB9KTtcbiAgICAgICAgfVxuICAgICAgICByZWxlZ2F0ZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gdGhpcy5nZXRTdGFjaygpO1xuICAgICAgICAgICAgaWYgKHN0YWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YWNrLnJlbGVnYXRlKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc2V0Um90YXRpb24oKSB7XG4gICAgICAgICAgICBjb25zdCB7IHZpc3VhbEVsZW1lbnQgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgICAgIGlmICghdmlzdWFsRWxlbWVudClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIGRldGVjdGVkIHJvdGF0aW9uIHZhbHVlcywgd2UgY2FuIGVhcmx5IHJldHVybiB3aXRob3V0IGEgZm9yY2VkIHJlbmRlci5cbiAgICAgICAgICAgIGxldCBoYXNSb3RhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIEtlZXAgYSByZWNvcmQgb2YgYWxsIHRoZSB2YWx1ZXMgd2UndmUgcmVzZXRcbiAgICAgICAgICAgIGNvbnN0IHJlc2V0VmFsdWVzID0ge307XG4gICAgICAgICAgICAvLyBDaGVjayB0aGUgcm90YXRlIHZhbHVlIG9mIGFsbCBheGVzIGFuZCByZXNldCB0byAwXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyYW5zZm9ybUF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBheGlzID0gdHJhbnNmb3JtQXhlc1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBcInJvdGF0ZVwiICsgYXhpcztcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIHJvdGF0aW9uIGRvZXNuJ3QgZXhpc3QgYXMgYSBtb3Rpb24gdmFsdWUsIHRoZW4gd2UgZG9uJ3RcbiAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIHJlc2V0IGl0XG4gICAgICAgICAgICAgICAgaWYgKCF2aXN1YWxFbGVtZW50LmdldFN0YXRpY1ZhbHVlKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhhc1JvdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gUmVjb3JkIHRoZSByb3RhdGlvbiBhbmQgdGhlbiB0ZW1wb3JhcmlseSBzZXQgaXQgdG8gMFxuICAgICAgICAgICAgICAgIHJlc2V0VmFsdWVzW2tleV0gPSB2aXN1YWxFbGVtZW50LmdldFN0YXRpY1ZhbHVlKGtleSk7XG4gICAgICAgICAgICAgICAgdmlzdWFsRWxlbWVudC5zZXRTdGF0aWNWYWx1ZShrZXksIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBubyByb3RhdGlvbiB2YWx1ZXMsIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55IG1vcmUuXG4gICAgICAgICAgICBpZiAoIWhhc1JvdGF0ZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyBGb3JjZSBhIHJlbmRlciBvZiB0aGlzIGVsZW1lbnQgdG8gYXBwbHkgdGhlIHRyYW5zZm9ybSB3aXRoIGFsbCByb3RhdGlvbnNcbiAgICAgICAgICAgIC8vIHNldCB0byAwLlxuICAgICAgICAgICAgdmlzdWFsRWxlbWVudCA9PT0gbnVsbCB8fCB2aXN1YWxFbGVtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2aXN1YWxFbGVtZW50LnN5bmNSZW5kZXIoKTtcbiAgICAgICAgICAgIC8vIFB1dCBiYWNrIGFsbCB0aGUgdmFsdWVzIHdlIHJlc2V0XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByZXNldFZhbHVlcykge1xuICAgICAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQuc2V0U3RhdGljVmFsdWUoa2V5LCByZXNldFZhbHVlc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNjaGVkdWxlIGEgcmVuZGVyIGZvciB0aGUgbmV4dCBmcmFtZS4gVGhpcyBlbnN1cmVzIHdlIHdvbid0IHZpc3VhbGx5XG4gICAgICAgICAgICAvLyBzZWUgdGhlIGVsZW1lbnQgd2l0aCB0aGUgcmVzZXQgcm90YXRlIHZhbHVlIGFwcGxpZWQuXG4gICAgICAgICAgICB2aXN1YWxFbGVtZW50LnNjaGVkdWxlUmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0UHJvamVjdGlvblN0eWxlcyhzdHlsZVByb3AgPSB7fSkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgICAgICAvLyBUT0RPOiBSZXR1cm4gbGlmZWN5Y2xlLXBlcnNpc3RlbnQgb2JqZWN0XG4gICAgICAgICAgICBjb25zdCBzdHlsZXMgPSB7fTtcbiAgICAgICAgICAgIGlmICghdGhpcy5pbnN0YW5jZSB8fCB0aGlzLmlzU1ZHKVxuICAgICAgICAgICAgICAgIHJldHVybiBzdHlsZXM7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmlzaWJpbGl0eTogXCJoaWRkZW5cIiB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3R5bGVzLnZpc2liaWxpdHkgPSBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtVGVtcGxhdGUgPSAoX2EgPSB0aGlzLm9wdGlvbnMudmlzdWFsRWxlbWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldFByb3BzKCkudHJhbnNmb3JtVGVtcGxhdGU7XG4gICAgICAgICAgICBpZiAodGhpcy5uZWVkc1Jlc2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZWVkc1Jlc2V0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc3R5bGVzLm9wYWNpdHkgPSBcIlwiO1xuICAgICAgICAgICAgICAgIHN0eWxlcy5wb2ludGVyRXZlbnRzID1cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZU1vdGlvblZhbHVlKHN0eWxlUHJvcC5wb2ludGVyRXZlbnRzKSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgIHN0eWxlcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1UZW1wbGF0ZVxuICAgICAgICAgICAgICAgICAgICA/IHRyYW5zZm9ybVRlbXBsYXRlKHRoaXMubGF0ZXN0VmFsdWVzLCBcIlwiKVxuICAgICAgICAgICAgICAgICAgICA6IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHlsZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsZWFkID0gdGhpcy5nZXRMZWFkKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMucHJvamVjdGlvbkRlbHRhIHx8ICF0aGlzLmxheW91dCB8fCAhbGVhZC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbXB0eVN0eWxlcyA9IHt9O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubGF5b3V0SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1wdHlTdHlsZXMub3BhY2l0eSA9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdFZhbHVlcy5vcGFjaXR5ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMubGF0ZXN0VmFsdWVzLm9wYWNpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDE7XG4gICAgICAgICAgICAgICAgICAgIGVtcHR5U3R5bGVzLnBvaW50ZXJFdmVudHMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZU1vdGlvblZhbHVlKHN0eWxlUHJvcC5wb2ludGVyRXZlbnRzKSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNQcm9qZWN0ZWQgJiYgIWhhc1RyYW5zZm9ybSh0aGlzLmxhdGVzdFZhbHVlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1wdHlTdHlsZXMudHJhbnNmb3JtID0gdHJhbnNmb3JtVGVtcGxhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdHJhbnNmb3JtVGVtcGxhdGUoe30sIFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc1Byb2plY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlTdHlsZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXNUb1JlbmRlciA9IGxlYWQuYW5pbWF0aW9uVmFsdWVzIHx8IGxlYWQubGF0ZXN0VmFsdWVzO1xuICAgICAgICAgICAgdGhpcy5hcHBseVRyYW5zZm9ybXNUb1RhcmdldCgpO1xuICAgICAgICAgICAgc3R5bGVzLnRyYW5zZm9ybSA9IGJ1aWxkUHJvamVjdGlvblRyYW5zZm9ybSh0aGlzLnByb2plY3Rpb25EZWx0YVdpdGhUcmFuc2Zvcm0sIHRoaXMudHJlZVNjYWxlLCB2YWx1ZXNUb1JlbmRlcik7XG4gICAgICAgICAgICBpZiAodHJhbnNmb3JtVGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICBzdHlsZXMudHJhbnNmb3JtID0gdHJhbnNmb3JtVGVtcGxhdGUodmFsdWVzVG9SZW5kZXIsIHN0eWxlcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLnByb2plY3Rpb25EZWx0YTtcbiAgICAgICAgICAgIHN0eWxlcy50cmFuc2Zvcm1PcmlnaW4gPSBgJHt4Lm9yaWdpbiAqIDEwMH0lICR7eS5vcmlnaW4gKiAxMDB9JSAwYDtcbiAgICAgICAgICAgIGlmIChsZWFkLmFuaW1hdGlvblZhbHVlcykge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIElmIHRoZSBsZWFkIGNvbXBvbmVudCBpcyBhbmltYXRpbmcsIGFzc2lnbiB0aGlzIGVpdGhlciB0aGUgZW50ZXJpbmcvbGVhdmluZ1xuICAgICAgICAgICAgICAgICAqIG9wYWNpdHlcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBzdHlsZXMub3BhY2l0eSA9XG4gICAgICAgICAgICAgICAgICAgIGxlYWQgPT09IHRoaXNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKF9jID0gKF9iID0gdmFsdWVzVG9SZW5kZXIub3BhY2l0eSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5sYXRlc3RWYWx1ZXMub3BhY2l0eSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogMVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnByZXNlcnZlT3BhY2l0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5sYXRlc3RWYWx1ZXMub3BhY2l0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdmFsdWVzVG9SZW5kZXIub3BhY2l0eUV4aXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBPciB3ZSdyZSBub3QgYW5pbWF0aW5nIGF0IGFsbCwgc2V0IHRoZSBsZWFkIGNvbXBvbmVudCB0byBpdHMgYWN0dWFsXG4gICAgICAgICAgICAgICAgICogb3BhY2l0eSBhbmQgb3RoZXIgY29tcG9uZW50cyB0byBoaWRkZW4uXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgc3R5bGVzLm9wYWNpdHkgPVxuICAgICAgICAgICAgICAgICAgICBsZWFkID09PSB0aGlzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHZhbHVlc1RvUmVuZGVyLm9wYWNpdHkgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdmFsdWVzVG9SZW5kZXIub3BhY2l0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiB2YWx1ZXNUb1JlbmRlci5vcGFjaXR5RXhpdCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB2YWx1ZXNUb1JlbmRlci5vcGFjaXR5RXhpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQXBwbHkgc2NhbGUgY29ycmVjdGlvblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzY2FsZUNvcnJlY3RvcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVzVG9SZW5kZXJba2V5XSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNvcnJlY3QsIGFwcGx5VG8gfSA9IHNjYWxlQ29ycmVjdG9yc1trZXldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvcnJlY3RlZCA9IGNvcnJlY3QodmFsdWVzVG9SZW5kZXJba2V5XSwgbGVhZCk7XG4gICAgICAgICAgICAgICAgaWYgKGFwcGx5VG8pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtID0gYXBwbHlUby5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlc1thcHBseVRvW2ldXSA9IGNvcnJlY3RlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzW2tleV0gPSBjb3JyZWN0ZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEaXNhYmxlIHBvaW50ZXIgZXZlbnRzIG9uIGZvbGxvdyBjb21wb25lbnRzLiBUaGlzIGlzIHRvIGVuc3VyZVxuICAgICAgICAgICAgICogdGhhdCBpZiBhIGZvbGxvdyBjb21wb25lbnQgY292ZXJzIGEgbGVhZCBjb21wb25lbnQgaXQgZG9lc24ndCBibG9ja1xuICAgICAgICAgICAgICogcG9pbnRlciBldmVudHMgb24gdGhlIGxlYWQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubGF5b3V0SWQpIHtcbiAgICAgICAgICAgICAgICBzdHlsZXMucG9pbnRlckV2ZW50cyA9XG4gICAgICAgICAgICAgICAgICAgIGxlYWQgPT09IHRoaXNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcmVzb2x2ZU1vdGlvblZhbHVlKHN0eWxlUHJvcC5wb2ludGVyRXZlbnRzKSB8fCBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwibm9uZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0eWxlcztcbiAgICAgICAgfVxuICAgICAgICBjbGVhclNuYXBzaG90KCkge1xuICAgICAgICAgICAgdGhpcy5yZXN1bWVGcm9tID0gdGhpcy5zbmFwc2hvdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBPbmx5IHJ1biBvbiByb290XG4gICAgICAgIHJlc2V0VHJlZSgpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdC5ub2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IG5vZGUuY3VycmVudEFuaW1hdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN0b3AoKTsgfSk7XG4gICAgICAgICAgICB0aGlzLnJvb3Qubm9kZXMuZm9yRWFjaChjbGVhck1lYXN1cmVtZW50cyk7XG4gICAgICAgICAgICB0aGlzLnJvb3Quc2hhcmVkTm9kZXMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiB1cGRhdGVMYXlvdXQobm9kZSkge1xuICAgIG5vZGUudXBkYXRlTGF5b3V0KCk7XG59XG5mdW5jdGlvbiBub3RpZnlMYXlvdXRVcGRhdGUobm9kZSkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNvbnN0IHNuYXBzaG90ID0gKChfYSA9IG5vZGUucmVzdW1lRnJvbSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNuYXBzaG90KSB8fCBub2RlLnNuYXBzaG90O1xuICAgIGlmIChub2RlLmlzTGVhZCgpICYmXG4gICAgICAgIG5vZGUubGF5b3V0ICYmXG4gICAgICAgIHNuYXBzaG90ICYmXG4gICAgICAgIG5vZGUuaGFzTGlzdGVuZXJzKFwiZGlkVXBkYXRlXCIpKSB7XG4gICAgICAgIGNvbnN0IHsgYWN0dWFsOiBsYXlvdXQsIG1lYXN1cmVkOiBtZWFzdXJlZExheW91dCB9ID0gbm9kZS5sYXlvdXQ7XG4gICAgICAgIGNvbnN0IHsgYW5pbWF0aW9uVHlwZSB9ID0gbm9kZS5vcHRpb25zO1xuICAgICAgICAvLyBUT0RPIE1heWJlIHdlIHdhbnQgdG8gYWxzbyByZXNpemUgdGhlIGxheW91dCBzbmFwc2hvdCBzbyB3ZSBkb24ndCB0cmlnZ2VyXG4gICAgICAgIC8vIGFuaW1hdGlvbnMgZm9yIGluc3RhbmNlIGlmIGxheW91dD1cInNpemVcIiBhbmQgYW4gZWxlbWVudCBoYXMgb25seSBjaGFuZ2VkIHBvc2l0aW9uXG4gICAgICAgIGlmIChhbmltYXRpb25UeXBlID09PSBcInNpemVcIikge1xuICAgICAgICAgICAgZWFjaEF4aXMoKGF4aXMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBheGlzU25hcHNob3QgPSBzbmFwc2hvdC5pc1NoYXJlZFxuICAgICAgICAgICAgICAgICAgICA/IHNuYXBzaG90Lm1lYXN1cmVkW2F4aXNdXG4gICAgICAgICAgICAgICAgICAgIDogc25hcHNob3QubGF5b3V0W2F4aXNdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGNhbGNMZW5ndGgoYXhpc1NuYXBzaG90KTtcbiAgICAgICAgICAgICAgICBheGlzU25hcHNob3QubWluID0gbGF5b3V0W2F4aXNdLm1pbjtcbiAgICAgICAgICAgICAgICBheGlzU25hcHNob3QubWF4ID0gYXhpc1NuYXBzaG90Lm1pbiArIGxlbmd0aDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNob3VsZEFuaW1hdGVQb3NpdGlvbk9ubHkoYW5pbWF0aW9uVHlwZSwgc25hcHNob3QubGF5b3V0LCBsYXlvdXQpKSB7XG4gICAgICAgICAgICBlYWNoQXhpcygoYXhpcykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF4aXNTbmFwc2hvdCA9IHNuYXBzaG90LmlzU2hhcmVkXG4gICAgICAgICAgICAgICAgICAgID8gc25hcHNob3QubWVhc3VyZWRbYXhpc11cbiAgICAgICAgICAgICAgICAgICAgOiBzbmFwc2hvdC5sYXlvdXRbYXhpc107XG4gICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gY2FsY0xlbmd0aChsYXlvdXRbYXhpc10pO1xuICAgICAgICAgICAgICAgIGF4aXNTbmFwc2hvdC5tYXggPSBheGlzU25hcHNob3QubWluICsgbGVuZ3RoO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGF5b3V0RGVsdGEgPSBjcmVhdGVEZWx0YSgpO1xuICAgICAgICBjYWxjQm94RGVsdGEobGF5b3V0RGVsdGEsIGxheW91dCwgc25hcHNob3QubGF5b3V0KTtcbiAgICAgICAgY29uc3QgdmlzdWFsRGVsdGEgPSBjcmVhdGVEZWx0YSgpO1xuICAgICAgICBpZiAoc25hcHNob3QuaXNTaGFyZWQpIHtcbiAgICAgICAgICAgIGNhbGNCb3hEZWx0YSh2aXN1YWxEZWx0YSwgbm9kZS5hcHBseVRyYW5zZm9ybShtZWFzdXJlZExheW91dCwgdHJ1ZSksIHNuYXBzaG90Lm1lYXN1cmVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNhbGNCb3hEZWx0YSh2aXN1YWxEZWx0YSwgbGF5b3V0LCBzbmFwc2hvdC5sYXlvdXQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhhc0xheW91dENoYW5nZWQgPSAhaXNEZWx0YVplcm8obGF5b3V0RGVsdGEpO1xuICAgICAgICBsZXQgaGFzUmVsYXRpdmVUYXJnZXRDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGlmICghbm9kZS5yZXN1bWVGcm9tKSB7XG4gICAgICAgICAgICBub2RlLnJlbGF0aXZlUGFyZW50ID0gbm9kZS5nZXRDbG9zZXN0UHJvamVjdGluZ1BhcmVudCgpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0aGUgcmVsYXRpdmVQYXJlbnQgaXMgaXRzZWxmIHJlc3VtaW5nIGZyb20gYSBkaWZmZXJlbnQgZWxlbWVudCB0aGVuXG4gICAgICAgICAgICAgKiB0aGUgcmVsYXRpdmUgc25hcHNob3QgaXMgbm90IHJlbGF2ZW50XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChub2RlLnJlbGF0aXZlUGFyZW50ICYmICFub2RlLnJlbGF0aXZlUGFyZW50LnJlc3VtZUZyb20pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNuYXBzaG90OiBwYXJlbnRTbmFwc2hvdCwgbGF5b3V0OiBwYXJlbnRMYXlvdXQgfSA9IG5vZGUucmVsYXRpdmVQYXJlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudFNuYXBzaG90ICYmIHBhcmVudExheW91dCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZVNuYXBzaG90ID0gY3JlYXRlQm94KCk7XG4gICAgICAgICAgICAgICAgICAgIGNhbGNSZWxhdGl2ZVBvc2l0aW9uKHJlbGF0aXZlU25hcHNob3QsIHNuYXBzaG90LmxheW91dCwgcGFyZW50U25hcHNob3QubGF5b3V0KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVMYXlvdXQgPSBjcmVhdGVCb3goKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsY1JlbGF0aXZlUG9zaXRpb24ocmVsYXRpdmVMYXlvdXQsIGxheW91dCwgcGFyZW50TGF5b3V0LmFjdHVhbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYm94RXF1YWxzKHJlbGF0aXZlU25hcHNob3QsIHJlbGF0aXZlTGF5b3V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzUmVsYXRpdmVUYXJnZXRDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBub2RlLm5vdGlmeUxpc3RlbmVycyhcImRpZFVwZGF0ZVwiLCB7XG4gICAgICAgICAgICBsYXlvdXQsXG4gICAgICAgICAgICBzbmFwc2hvdCxcbiAgICAgICAgICAgIGRlbHRhOiB2aXN1YWxEZWx0YSxcbiAgICAgICAgICAgIGxheW91dERlbHRhLFxuICAgICAgICAgICAgaGFzTGF5b3V0Q2hhbmdlZCxcbiAgICAgICAgICAgIGhhc1JlbGF0aXZlVGFyZ2V0Q2hhbmdlZCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUuaXNMZWFkKCkpIHtcbiAgICAgICAgKF9jID0gKF9iID0gbm9kZS5vcHRpb25zKS5vbkV4aXRDb21wbGV0ZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoX2IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhcmluZyB0cmFuc2l0aW9uXG4gICAgICogVE9ETzogSW52ZXN0aWdhdGUgd2h5IHRoaXMgdHJhbnNpdGlvbiBpcyBiZWluZyBwYXNzZWQgaW4gYXMge3R5cGU6IGZhbHNlIH0gZnJvbSBGcmFtZXJcbiAgICAgKiBhbmQgd2h5IHdlIG5lZWQgaXQgYXQgYWxsXG4gICAgICovXG4gICAgbm9kZS5vcHRpb25zLnRyYW5zaXRpb24gPSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBjbGVhclNuYXBzaG90KG5vZGUpIHtcbiAgICBub2RlLmNsZWFyU25hcHNob3QoKTtcbn1cbmZ1bmN0aW9uIGNsZWFyTWVhc3VyZW1lbnRzKG5vZGUpIHtcbiAgICBub2RlLmNsZWFyTWVhc3VyZW1lbnRzKCk7XG59XG5mdW5jdGlvbiByZXNldFRyYW5zZm9ybVN0eWxlKG5vZGUpIHtcbiAgICBjb25zdCB7IHZpc3VhbEVsZW1lbnQgfSA9IG5vZGUub3B0aW9ucztcbiAgICBpZiAodmlzdWFsRWxlbWVudCA9PT0gbnVsbCB8fCB2aXN1YWxFbGVtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2aXN1YWxFbGVtZW50LmdldFByb3BzKCkub25CZWZvcmVMYXlvdXRNZWFzdXJlKSB7XG4gICAgICAgIHZpc3VhbEVsZW1lbnQubm90aWZ5QmVmb3JlTGF5b3V0TWVhc3VyZSgpO1xuICAgIH1cbiAgICBub2RlLnJlc2V0VHJhbnNmb3JtKCk7XG59XG5mdW5jdGlvbiBmaW5pc2hBbmltYXRpb24obm9kZSkge1xuICAgIG5vZGUuZmluaXNoQW5pbWF0aW9uKCk7XG4gICAgbm9kZS50YXJnZXREZWx0YSA9IG5vZGUucmVsYXRpdmVUYXJnZXQgPSBub2RlLnRhcmdldCA9IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIHJlc29sdmVUYXJnZXREZWx0YShub2RlKSB7XG4gICAgbm9kZS5yZXNvbHZlVGFyZ2V0RGVsdGEoKTtcbn1cbmZ1bmN0aW9uIGNhbGNQcm9qZWN0aW9uKG5vZGUpIHtcbiAgICBub2RlLmNhbGNQcm9qZWN0aW9uKCk7XG59XG5mdW5jdGlvbiByZXNldFJvdGF0aW9uKG5vZGUpIHtcbiAgICBub2RlLnJlc2V0Um90YXRpb24oKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZUxlYWRTbmFwc2hvdHMoc3RhY2spIHtcbiAgICBzdGFjay5yZW1vdmVMZWFkU25hcHNob3QoKTtcbn1cbmZ1bmN0aW9uIG1peEF4aXNEZWx0YShvdXRwdXQsIGRlbHRhLCBwKSB7XG4gICAgb3V0cHV0LnRyYW5zbGF0ZSA9IG1peChkZWx0YS50cmFuc2xhdGUsIDAsIHApO1xuICAgIG91dHB1dC5zY2FsZSA9IG1peChkZWx0YS5zY2FsZSwgMSwgcCk7XG4gICAgb3V0cHV0Lm9yaWdpbiA9IGRlbHRhLm9yaWdpbjtcbiAgICBvdXRwdXQub3JpZ2luUG9pbnQgPSBkZWx0YS5vcmlnaW5Qb2ludDtcbn1cbmZ1bmN0aW9uIG1peEF4aXMob3V0cHV0LCBmcm9tLCB0bywgcCkge1xuICAgIG91dHB1dC5taW4gPSBtaXgoZnJvbS5taW4sIHRvLm1pbiwgcCk7XG4gICAgb3V0cHV0Lm1heCA9IG1peChmcm9tLm1heCwgdG8ubWF4LCBwKTtcbn1cbmZ1bmN0aW9uIG1peEJveChvdXRwdXQsIGZyb20sIHRvLCBwKSB7XG4gICAgbWl4QXhpcyhvdXRwdXQueCwgZnJvbS54LCB0by54LCBwKTtcbiAgICBtaXhBeGlzKG91dHB1dC55LCBmcm9tLnksIHRvLnksIHApO1xufVxuZnVuY3Rpb24gaGFzT3BhY2l0eUNyb3NzZmFkZShub2RlKSB7XG4gICAgcmV0dXJuIChub2RlLmFuaW1hdGlvblZhbHVlcyAmJiBub2RlLmFuaW1hdGlvblZhbHVlcy5vcGFjaXR5RXhpdCAhPT0gdW5kZWZpbmVkKTtcbn1cbmNvbnN0IGRlZmF1bHRMYXlvdXRUcmFuc2l0aW9uID0ge1xuICAgIGR1cmF0aW9uOiAwLjQ1LFxuICAgIGVhc2U6IFswLjQsIDAsIDAuMSwgMV0sXG59O1xuZnVuY3Rpb24gbW91bnROb2RlRWFybHkobm9kZSwgaWQpIHtcbiAgICAvKipcbiAgICAgKiBSYXRoZXIgdGhhbiBzZWFyY2hpbmcgdGhlIERPTSBmcm9tIGRvY3VtZW50IHdlIGNhbiBzZWFyY2ggdGhlXG4gICAgICogcGF0aCBmb3IgdGhlIGRlZXBlc3QgbW91bnRlZCBhbmNlc3RvciBhbmQgc2VhcmNoIGZyb20gdGhlcmVcbiAgICAgKi9cbiAgICBsZXQgc2VhcmNoTm9kZSA9IG5vZGUucm9vdDtcbiAgICBmb3IgKGxldCBpID0gbm9kZS5wYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmIChCb29sZWFuKG5vZGUucGF0aFtpXS5pbnN0YW5jZSkpIHtcbiAgICAgICAgICAgIHNlYXJjaE5vZGUgPSBub2RlLnBhdGhbaV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzZWFyY2hFbGVtZW50ID0gc2VhcmNoTm9kZSAmJiBzZWFyY2hOb2RlICE9PSBub2RlLnJvb3QgPyBzZWFyY2hOb2RlLmluc3RhbmNlIDogZG9jdW1lbnQ7XG4gICAgY29uc3QgZWxlbWVudCA9IHNlYXJjaEVsZW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvamVjdGlvbi1pZD1cIiR7aWR9XCJdYCk7XG4gICAgaWYgKGVsZW1lbnQpXG4gICAgICAgIG5vZGUubW91bnQoZWxlbWVudCwgdHJ1ZSk7XG59XG5mdW5jdGlvbiByb3VuZEF4aXMoYXhpcykge1xuICAgIGF4aXMubWluID0gTWF0aC5yb3VuZChheGlzLm1pbik7XG4gICAgYXhpcy5tYXggPSBNYXRoLnJvdW5kKGF4aXMubWF4KTtcbn1cbmZ1bmN0aW9uIHJvdW5kQm94KGJveCkge1xuICAgIHJvdW5kQXhpcyhib3gueCk7XG4gICAgcm91bmRBeGlzKGJveC55KTtcbn1cbmZ1bmN0aW9uIHNob3VsZEFuaW1hdGVQb3NpdGlvbk9ubHkoYW5pbWF0aW9uVHlwZSwgc25hcHNob3QsIGxheW91dCkge1xuICAgIHJldHVybiAoYW5pbWF0aW9uVHlwZSA9PT0gXCJwb3NpdGlvblwiIHx8XG4gICAgICAgIChhbmltYXRpb25UeXBlID09PSBcInByZXNlcnZlLWFzcGVjdFwiICYmXG4gICAgICAgICAgICAhaXNDbG9zZVRvKGFzcGVjdFJhdGlvKHNuYXBzaG90KSwgYXNwZWN0UmF0aW8obGF5b3V0KSkpKTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlUHJvamVjdGlvbk5vZGUsIG1peEF4aXMsIG1peEF4aXNEZWx0YSwgbWl4Qm94IH07XG4iLCJpbXBvcnQgeyBtb3Rpb25WYWx1ZSB9IGZyb20gJy4uL3ZhbHVlL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBpc01vdGlvblZhbHVlIH0gZnJvbSAnLi4vdmFsdWUvdXRpbHMvaXMtbW90aW9uLXZhbHVlLm1qcyc7XG5pbXBvcnQgeyBzdGFydEFuaW1hdGlvbiB9IGZyb20gJy4vdXRpbHMvdHJhbnNpdGlvbnMubWpzJztcblxuLyoqXG4gKiBBbmltYXRlIGEgc2luZ2xlIHZhbHVlIG9yIGEgYE1vdGlvblZhbHVlYC5cbiAqXG4gKiBUaGUgZmlyc3QgYXJndW1lbnQgaXMgZWl0aGVyIGEgYE1vdGlvblZhbHVlYCB0byBhbmltYXRlLCBvciBhbiBpbml0aWFsIGFuaW1hdGlvbiB2YWx1ZS5cbiAqXG4gKiBUaGUgc2Vjb25kIGlzIGVpdGhlciBhIHZhbHVlIHRvIGFuaW1hdGUgdG8sIG9yIGFuIGFycmF5IG9mIGtleWZyYW1lcyB0byBhbmltYXRlIHRocm91Z2guXG4gKlxuICogVGhlIHRoaXJkIGFyZ3VtZW50IGNhbiBiZSBlaXRoZXIgdHdlZW4gb3Igc3ByaW5nIG9wdGlvbnMsIGFuZCBvcHRpb25hbCBsaWZlY3ljbGUgbWV0aG9kczogYG9uVXBkYXRlYCwgYG9uUGxheWAsIGBvbkNvbXBsZXRlYCwgYG9uUmVwZWF0YCBhbmQgYG9uU3RvcGAuXG4gKlxuICogUmV0dXJucyBgQW5pbWF0aW9uUGxheWJhY2tDb250cm9sc2AsIGN1cnJlbnRseSBqdXN0IGEgYHN0b3BgIG1ldGhvZC5cbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBjb25zdCB4ID0gdXNlTW90aW9uVmFsdWUoMClcbiAqXG4gKiB1c2VFZmZlY3QoKCkgPT4ge1xuICogICBjb25zdCBjb250cm9scyA9IGFuaW1hdGUoeCwgMTAwLCB7XG4gKiAgICAgdHlwZTogXCJzcHJpbmdcIixcbiAqICAgICBzdGlmZm5lc3M6IDIwMDAsXG4gKiAgICAgb25Db21wbGV0ZTogdiA9PiB7fVxuICogICB9KVxuICpcbiAqICAgcmV0dXJuIGNvbnRyb2xzLnN0b3BcbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIGFuaW1hdGUoZnJvbSwgdG8sIHRyYW5zaXRpb24gPSB7fSkge1xuICAgIGNvbnN0IHZhbHVlID0gaXNNb3Rpb25WYWx1ZShmcm9tKSA/IGZyb20gOiBtb3Rpb25WYWx1ZShmcm9tKTtcbiAgICBzdGFydEFuaW1hdGlvbihcIlwiLCB2YWx1ZSwgdG8sIHRyYW5zaXRpb24pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0b3A6ICgpID0+IHZhbHVlLnN0b3AoKSxcbiAgICAgICAgaXNBbmltYXRpbmc6ICgpID0+IHZhbHVlLmlzQW5pbWF0aW5nKCksXG4gICAgfTtcbn1cblxuZXhwb3J0IHsgYW5pbWF0ZSB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlUHJvamVjdGlvbk5vZGUgfSBmcm9tICcuL2NyZWF0ZS1wcm9qZWN0aW9uLW5vZGUubWpzJztcbmltcG9ydCB7IGFkZERvbUV2ZW50IH0gZnJvbSAnLi4vLi4vZXZlbnRzL3VzZS1kb20tZXZlbnQubWpzJztcblxuY29uc3QgRG9jdW1lbnRQcm9qZWN0aW9uTm9kZSA9IGNyZWF0ZVByb2plY3Rpb25Ob2RlKHtcbiAgICBhdHRhY2hSZXNpemVMaXN0ZW5lcjogKHJlZiwgbm90aWZ5KSA9PiBhZGREb21FdmVudChyZWYsIFwicmVzaXplXCIsIG5vdGlmeSksXG4gICAgbWVhc3VyZVNjcm9sbDogKCkgPT4gKHtcbiAgICAgICAgeDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0LFxuICAgICAgICB5OiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wLFxuICAgIH0pLFxuICAgIGNoZWNrSXNTY3JvbGxSb290OiAoKSA9PiB0cnVlLFxufSk7XG5cbmV4cG9ydCB7IERvY3VtZW50UHJvamVjdGlvbk5vZGUgfTtcbiIsImltcG9ydCB7IGNyZWF0ZVByb2plY3Rpb25Ob2RlIH0gZnJvbSAnLi9jcmVhdGUtcHJvamVjdGlvbi1ub2RlLm1qcyc7XG5pbXBvcnQgeyBEb2N1bWVudFByb2plY3Rpb25Ob2RlIH0gZnJvbSAnLi9Eb2N1bWVudFByb2plY3Rpb25Ob2RlLm1qcyc7XG5cbmNvbnN0IHJvb3RQcm9qZWN0aW9uTm9kZSA9IHtcbiAgICBjdXJyZW50OiB1bmRlZmluZWQsXG59O1xuY29uc3QgSFRNTFByb2plY3Rpb25Ob2RlID0gY3JlYXRlUHJvamVjdGlvbk5vZGUoe1xuICAgIG1lYXN1cmVTY3JvbGw6IChpbnN0YW5jZSkgPT4gKHtcbiAgICAgICAgeDogaW5zdGFuY2Uuc2Nyb2xsTGVmdCxcbiAgICAgICAgeTogaW5zdGFuY2Uuc2Nyb2xsVG9wLFxuICAgIH0pLFxuICAgIGRlZmF1bHRQYXJlbnQ6ICgpID0+IHtcbiAgICAgICAgaWYgKCFyb290UHJvamVjdGlvbk5vZGUuY3VycmVudCkge1xuICAgICAgICAgICAgY29uc3QgZG9jdW1lbnROb2RlID0gbmV3IERvY3VtZW50UHJvamVjdGlvbk5vZGUoMCwge30pO1xuICAgICAgICAgICAgZG9jdW1lbnROb2RlLm1vdW50KHdpbmRvdyk7XG4gICAgICAgICAgICBkb2N1bWVudE5vZGUuc2V0T3B0aW9ucyh7IGxheW91dFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHJvb3RQcm9qZWN0aW9uTm9kZS5jdXJyZW50ID0gZG9jdW1lbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb290UHJvamVjdGlvbk5vZGUuY3VycmVudDtcbiAgICB9LFxuICAgIHJlc2V0VHJhbnNmb3JtOiAoaW5zdGFuY2UsIHZhbHVlKSA9PiB7XG4gICAgICAgIGluc3RhbmNlLnN0eWxlLnRyYW5zZm9ybSA9IHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IFwibm9uZVwiO1xuICAgIH0sXG4gICAgY2hlY2tJc1Njcm9sbFJvb3Q6IChpbnN0YW5jZSkgPT4gQm9vbGVhbih3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShpbnN0YW5jZSkucG9zaXRpb24gPT09IFwiZml4ZWRcIiksXG59KTtcblxuZXhwb3J0IHsgSFRNTFByb2plY3Rpb25Ob2RlLCByb290UHJvamVjdGlvbk5vZGUgfTtcbiIsImltcG9ydCB7IGNyZWF0ZU1vdGlvbkNvbXBvbmVudCB9IGZyb20gJy4uLy4uL21vdGlvbi9pbmRleC5tanMnO1xuaW1wb3J0IHsgY3JlYXRlTW90aW9uUHJveHkgfSBmcm9tICcuL21vdGlvbi1wcm94eS5tanMnO1xuaW1wb3J0IHsgY3JlYXRlRG9tTW90aW9uQ29uZmlnIH0gZnJvbSAnLi91dGlscy9jcmVhdGUtY29uZmlnLm1qcyc7XG5pbXBvcnQgeyBnZXN0dXJlQW5pbWF0aW9ucyB9IGZyb20gJy4uLy4uL21vdGlvbi9mZWF0dXJlcy9nZXN0dXJlcy5tanMnO1xuaW1wb3J0IHsgYW5pbWF0aW9ucyB9IGZyb20gJy4uLy4uL21vdGlvbi9mZWF0dXJlcy9hbmltYXRpb25zLm1qcyc7XG5pbXBvcnQgeyBkcmFnIH0gZnJvbSAnLi4vLi4vbW90aW9uL2ZlYXR1cmVzL2RyYWcubWpzJztcbmltcG9ydCB7IGNyZWF0ZURvbVZpc3VhbEVsZW1lbnQgfSBmcm9tICcuL2NyZWF0ZS12aXN1YWwtZWxlbWVudC5tanMnO1xuaW1wb3J0IHsgbGF5b3V0RmVhdHVyZXMgfSBmcm9tICcuLi8uLi9tb3Rpb24vZmVhdHVyZXMvbGF5b3V0L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBIVE1MUHJvamVjdGlvbk5vZGUgfSBmcm9tICcuLi8uLi9wcm9qZWN0aW9uL25vZGUvSFRNTFByb2plY3Rpb25Ob2RlLm1qcyc7XG5cbmNvbnN0IGZlYXR1cmVCdW5kbGUgPSB7XG4gICAgLi4uYW5pbWF0aW9ucyxcbiAgICAuLi5nZXN0dXJlQW5pbWF0aW9ucyxcbiAgICAuLi5kcmFnLFxuICAgIC4uLmxheW91dEZlYXR1cmVzLFxufTtcbi8qKlxuICogSFRNTCAmIFNWRyBjb21wb25lbnRzLCBvcHRpbWlzZWQgZm9yIHVzZSB3aXRoIGdlc3R1cmVzIGFuZCBhbmltYXRpb24uIFRoZXNlIGNhbiBiZSB1c2VkIGFzXG4gKiBkcm9wLWluIHJlcGxhY2VtZW50cyBmb3IgYW55IEhUTUwgJiBTVkcgY29tcG9uZW50LCBhbGwgQ1NTICYgU1ZHIHByb3BlcnRpZXMgYXJlIHN1cHBvcnRlZC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmNvbnN0IG1vdGlvbiA9IC8qQF9fUFVSRV9fKi8gY3JlYXRlTW90aW9uUHJveHkoKENvbXBvbmVudCwgY29uZmlnKSA9PiBjcmVhdGVEb21Nb3Rpb25Db25maWcoQ29tcG9uZW50LCBjb25maWcsIGZlYXR1cmVCdW5kbGUsIGNyZWF0ZURvbVZpc3VhbEVsZW1lbnQsIEhUTUxQcm9qZWN0aW9uTm9kZSkpO1xuLyoqXG4gKiBDcmVhdGUgYSBET00gYG1vdGlvbmAgY29tcG9uZW50IHdpdGggdGhlIHByb3ZpZGVkIHN0cmluZy4gVGhpcyBpcyBwcmltYXJpbHkgaW50ZW5kZWRcbiAqIGFzIGEgZnVsbCBhbHRlcm5hdGl2ZSB0byBgbW90aW9uYCBmb3IgY29uc3VtZXJzIHdobyBoYXZlIHRvIHN1cHBvcnQgZW52aXJvbm1lbnRzIHRoYXQgZG9uJ3RcbiAqIHN1cHBvcnQgYFByb3h5YC5cbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBpbXBvcnQgeyBjcmVhdGVEb21Nb3Rpb25Db21wb25lbnQgfSBmcm9tIFwiZnJhbWVyLW1vdGlvblwiXG4gKlxuICogY29uc3QgbW90aW9uID0ge1xuICogICBkaXY6IGNyZWF0ZURvbU1vdGlvbkNvbXBvbmVudCgnZGl2JylcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRG9tTW90aW9uQ29tcG9uZW50KGtleSkge1xuICAgIHJldHVybiBjcmVhdGVNb3Rpb25Db21wb25lbnQoY3JlYXRlRG9tTW90aW9uQ29uZmlnKGtleSwgeyBmb3J3YXJkTW90aW9uUHJvcHM6IGZhbHNlIH0sIGZlYXR1cmVCdW5kbGUsIGNyZWF0ZURvbVZpc3VhbEVsZW1lbnQsIEhUTUxQcm9qZWN0aW9uTm9kZSkpO1xufVxuXG5leHBvcnQgeyBjcmVhdGVEb21Nb3Rpb25Db21wb25lbnQsIG1vdGlvbiB9O1xuIiwiaW1wb3J0IHsgaXNTVkdDb21wb25lbnQgfSBmcm9tICcuL2lzLXN2Zy1jb21wb25lbnQubWpzJztcbmltcG9ydCB7IGNyZWF0ZVVzZVJlbmRlciB9IGZyb20gJy4uL3VzZS1yZW5kZXIubWpzJztcbmltcG9ydCB7IHN2Z01vdGlvbkNvbmZpZyB9IGZyb20gJy4uLy4uL3N2Zy9jb25maWctbW90aW9uLm1qcyc7XG5pbXBvcnQgeyBodG1sTW90aW9uQ29uZmlnIH0gZnJvbSAnLi4vLi4vaHRtbC9jb25maWctbW90aW9uLm1qcyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZURvbU1vdGlvbkNvbmZpZyhDb21wb25lbnQsIHsgZm9yd2FyZE1vdGlvblByb3BzID0gZmFsc2UgfSwgcHJlbG9hZGVkRmVhdHVyZXMsIGNyZWF0ZVZpc3VhbEVsZW1lbnQsIHByb2plY3Rpb25Ob2RlQ29uc3RydWN0b3IpIHtcbiAgICBjb25zdCBiYXNlQ29uZmlnID0gaXNTVkdDb21wb25lbnQoQ29tcG9uZW50KVxuICAgICAgICA/IHN2Z01vdGlvbkNvbmZpZ1xuICAgICAgICA6IGh0bWxNb3Rpb25Db25maWc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYmFzZUNvbmZpZyxcbiAgICAgICAgcHJlbG9hZGVkRmVhdHVyZXMsXG4gICAgICAgIHVzZVJlbmRlcjogY3JlYXRlVXNlUmVuZGVyKGZvcndhcmRNb3Rpb25Qcm9wcyksXG4gICAgICAgIGNyZWF0ZVZpc3VhbEVsZW1lbnQsXG4gICAgICAgIHByb2plY3Rpb25Ob2RlQ29uc3RydWN0b3IsXG4gICAgICAgIENvbXBvbmVudCxcbiAgICB9O1xufVxuXG5leHBvcnQgeyBjcmVhdGVEb21Nb3Rpb25Db25maWcgfTtcbiJdLCJuYW1lcyI6WyJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJpc05vZGUiLCJnIiwidG9TdHJpbmciLCJjYWxsIiwiZ2V0TWV0aG9kTmFtZSIsInByb3AiLCJ0eXBlIiwiaW5kZXhPZiIsInRvTG93ZXJDYXNlIiwiY29uY2F0Iiwic3Vic3RyIiwidG9VcHBlckNhc2UiLCJpc0RvbUVsZW1lbnQiLCJlbGVtZW50IiwiQm9vbGVhbiIsIm5vZGVUeXBlIiwib3duZXJEb2N1bWVudCIsImRlZmF1bHRWaWV3IiwiaXNJbnRlZ2VyIiwidmFsdWUiLCJpc05hTiIsInBhcnNlRmxvYXQiLCJpc0Zpbml0ZSIsIk1hdGgiLCJmbG9vciIsImlzVmltZW9VcmwiLCJ1cmwiLCJ0ZXN0IiwiaXNWaW1lb0VtYmVkIiwiZ2V0VmltZW9VcmwiLCJvRW1iZWRQYXJhbWV0ZXJzIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwiaWQiLCJpZE9yVXJsIiwiRXJyb3IiLCJyZXBsYWNlIiwiYXJyYXlJbmRleE9mU3VwcG9ydCIsIkFycmF5IiwicHJvdG90eXBlIiwicG9zdE1lc3NhZ2VTdXBwb3J0Iiwid2luZG93IiwicG9zdE1lc3NhZ2UiLCJjb21tb25qc0dsb2JhbCIsImdsb2JhbFRoaXMiLCJzZWxmIiwiV2Vha01hcCIsImhhc093blByb3BlcnR5IiwiaGFzRGVmaW5lIiwieCIsImUiLCJvYmplY3QiLCJuYW1lIiwidGhpcyIsImdlbklkIiwiY2hlY2tJbnN0YW5jZSIsIm1ldGhvZE5hbWUiLCJpc09iamVjdCIsInByZWZpeCIsInJhbmQiLCJyYW5kb20iLCJzdWJzdHJpbmciLCJlbnRyeSIsIl9pZCIsImZuIiwibW9kdWxlIiwibnBvX3NyYyIsImNvbnRleHQiLCJkZWZpbml0aW9uIiwiYnVpbHRJblByb3AiLCJjeWNsZSIsInNjaGVkdWxpbmdfcXVldWUiLCJUb1N0cmluZyIsInRpbWVyIiwic2V0SW1tZWRpYXRlIiwic2V0VGltZW91dCIsIm9iaiIsInZhbCIsImNvbmZpZyIsImVyciIsInNjaGVkdWxlIiwiYWRkIiwiZHJhaW4iLCJpc1RoZW5hYmxlIiwibyIsIl90aGVuIiwib190eXBlIiwidGhlbiIsIm5vdGlmeSIsImNoYWluIiwibm90aWZ5SXNvbGF0ZWQiLCJzdGF0ZSIsInN1Y2Nlc3MiLCJmYWlsdXJlIiwiY2IiLCJyZXQiLCJyZWplY3QiLCJtc2ciLCJwcm9taXNlIiwicmVzb2x2ZSIsInRyaWdnZXJlZCIsImRlZiIsImRlZl93cmFwcGVyIiwiTWFrZURlZldyYXBwZXIiLCJhcHBseSIsIml0ZXJhdGVQcm9taXNlcyIsImFyciIsInJlc29sdmVyIiwicmVqZWN0ZXIiLCJpZHgiLCJNYWtlRGVmIiwiUHJvbWlzZSIsImV4ZWN1dG9yIiwiX19OUE9fXyIsImNvbnN0cnVjdG9yIiwicHVzaCIsImZpcnN0IiwibGFzdCIsIml0ZW0iLCJJdGVtIiwibmV4dCIsImYiLCJQcm9taXNlUHJvdG90eXBlIiwibGVuIiwibXNncyIsImNvdW50IiwiZXhwb3J0cyIsImNhbGxiYWNrTWFwIiwic3RvcmVDYWxsYmFjayIsInBsYXllciIsImNhbGxiYWNrIiwicGxheWVyQ2FsbGJhY2tzIiwiZ2V0Iiwic2V0IiwiZ2V0Q2FsbGJhY2tzIiwicmVtb3ZlQ2FsbGJhY2siLCJpbmRleCIsInNwbGljZSIsInN3YXBDYWxsYmFja3MiLCJvbGRFbGVtZW50IiwibmV3RWxlbWVudCIsImRlbGV0ZSIsInBhcnNlTWVzc2FnZURhdGEiLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJjb25zb2xlIiwid2FybiIsIm1ldGhvZCIsInBhcmFtcyIsImNvbnRlbnRXaW5kb3ciLCJtZXNzYWdlIiwiaWVWZXJzaW9uIiwibmF2aWdhdG9yIiwidXNlckFnZW50Iiwic3RyaW5naWZ5Iiwib3JpZ2luIiwicHJvY2Vzc0RhdGEiLCJwYXJhbSIsImNhbGxiYWNrcyIsImV2ZW50IiwiZm9yRWFjaCIsInNoaWZ0Iiwic2hpZnRDYWxsYmFja3MiLCJnZXRPRW1iZWRQYXJhbWV0ZXJzIiwiZGVmYXVsdHMiLCJyZWR1Y2UiLCJnZXRBdHRyaWJ1dGUiLCJjcmVhdGVFbWJlZCIsIl9yZWYiLCJodG1sIiwicXVlcnlTZWxlY3RvciIsImRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIiwiZmlyc3RDaGlsZCIsInNldEF0dHJpYnV0ZSIsImdldE9FbWJlZERhdGEiLCJ2aWRlb1VybCIsImVuY29kZVVSSUNvbXBvbmVudCIsInhociIsIlhEb21haW5SZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwib25sb2FkIiwic3RhdHVzIiwianNvbiIsInJlc3BvbnNlVGV4dCIsImRvbWFpbl9zdGF0dXNfY29kZSIsIm9uZXJyb3IiLCJzZW5kIiwicGxheWVyTWFwIiwicmVhZHlNYXAiLCJzY3JlZW5mdWxsIiwiUGxheWVyIiwiX3RoaXMiLCJvcHRpb25zIiwialF1ZXJ5IiwiZ2V0RWxlbWVudEJ5SWQiLCJub2RlTmFtZSIsImlmcmFtZSIsImhhcyIsIl93aW5kb3ciLCJyZWFkeVByb21pc2UiLCJfb25NZXNzYWdlIiwic291cmNlIiwiaXNSZWFkeUV2ZW50IiwiaXNQaW5nUmVzcG9uc2UiLCJhZGRFdmVudExpc3RlbmVyIiwiX29yaWdpbmFsRWxlbWVudCIsImNhdGNoIiwiaXNFbmFibGVkIiwiZXhpdEZ1bGxzY3JlZW4iLCJleGl0IiwiZnVsbHNjcmVlbmNoYW5nZUhhbmRsZXIiLCJpc0Z1bGxzY3JlZW4iLCJyZWFkeSIsIm9uIiwicHJvdG9Qcm9wcyIsIl90aGlzMiIsImFyZ3MiLCJfdGhpczMiLCJfdGhpczQiLCJldmVudE5hbWUiLCJjYWxsTWV0aG9kIiwidGltZSIsImxhbmd1YWdlIiwia2luZCIsInJlcXVlc3QiLCJfdGhpczUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwib2ZmIiwiYXV0b3BhdXNlIiwiY2FtZXJhIiwiY29sb3IiLCJjdXJyZW50VGltZSIsImxvb3AiLCJtdXRlZCIsInBsYXliYWNrUmF0ZSIsInF1YWxpdHkiLCJ2b2x1bWUiLCJmbk1hcCIsImwiLCJldmVudE5hbWVNYXAiLCJmdWxsc2NyZWVuY2hhbmdlIiwiZnVsbHNjcmVlbmVycm9yIiwib25GdWxsU2NyZWVuRW50ZXJlZCIsInJldHVyblByb21pc2UiLCJkb2N1bWVudEVsZW1lbnQiLCJyZXF1ZXN0RnVsbHNjcmVlbiIsIm9uRnVsbFNjcmVlbkV4aXQiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZnVsbHNjcmVlbkVsZW1lbnQiLCJmdWxsc2NyZWVuRW5hYmxlZCIsImluaXRpYWxpemVTY3JlZW5mdWxsIiwicGFyZW50IiwiZWxlbWVudHMiLCJzbGljZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJoYW5kbGVFcnJvciIsImluaXRpYWxpemVFbWJlZHMiLCJWaW1lb1BsYXllclJlc2l6ZUVtYmVkc18iLCJvbk1lc3NhZ2UiLCJpZnJhbWVzIiwicGFyZW50RWxlbWVudCIsInN0eWxlIiwicGFkZGluZ0JvdHRvbSIsImJvdHRvbSIsInJlc2l6ZUVtYmVkcyIsIlZpbWVvU2VvTWV0YWRhdGFBcHBlbmRlZCIsImlzVmFsaWRNZXNzYWdlU291cmNlIiwic3JjIiwibG9jYXRpb24iLCJocmVmIiwiaW5pdEFwcGVuZFZpZGVvTWV0YWRhdGEiLCJfc2V0UHJvdG90eXBlT2YiLCJwIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJldmVudE5hbWVzIiwicGxheSIsInBhdXNlIiwiZW5kZWQiLCJ0aW1ldXBkYXRlIiwicHJvZ3Jlc3MiLCJzZWVrZWQiLCJ0ZXh0dHJhY2tjaGFuZ2UiLCJjdWVjaGFuZ2UiLCJjdWVwb2ludCIsInZvbHVtZWNoYW5nZSIsInBsYXliYWNrcmF0ZWNoYW5nZSIsImxvYWRlZCIsIlZpbWVvIiwiX1JlYWN0JENvbXBvbmVudCIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsInJlZkNvbnRhaW5lciIsImJpbmQiLCJSZWZlcmVuY2VFcnJvciIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJjcmVhdGUiLCJfcHJvdG8iLCJjb21wb25lbnREaWRNb3VudCIsImNyZWF0ZVBsYXllciIsImNvbXBvbmVudERpZFVwZGF0ZSIsInByZXZQcm9wcyIsImNoYW5nZXMiLCJrZXlzIiwiZmlsdGVyIiwidXBkYXRlUHJvcHMiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsImRlc3Ryb3kiLCJnZXRJbml0aWFsT3B0aW9ucyIsInZpZGVvIiwid2lkdGgiLCJoZWlnaHQiLCJhdXRvcGxheSIsImJ5bGluZSIsInNob3dCeWxpbmUiLCJjb250cm9scyIsInBvcnRyYWl0Iiwic2hvd1BvcnRyYWl0IiwidGl0bGUiLCJzaG93VGl0bGUiLCJiYWNrZ3JvdW5kIiwicmVzcG9uc2l2ZSIsImRudCIsInNwZWVkIiwia2V5Ym9hcmQiLCJwaXAiLCJwbGF5c2lubGluZSIsInBsYXlzSW5saW5lIiwidGV4dHRyYWNrIiwidGV4dFRyYWNrIiwidHJhbnNwYXJlbnQiLCJwcm9wTmFtZXMiLCJzZXRBdXRvcGF1c2UiLCJzZXRDb2xvciIsInNldExvb3AiLCJzZXRWb2x1bWUiLCJnZXRQYXVzZWQiLCJwYXVzZWQiLCJzdGFydCIsImxvYWRWaWRlbyIsInNldEN1cnJlbnRUaW1lIiwidW5sb2FkIiwiX3RoaXMkcHJvcHMiLCJjb250YWluZXIiLCJkbU5hbWUiLCJyZWFjdE5hbWUiLCJoYW5kbGVyIiwiX3RoaXMkcHJvcHMyIiwib25FcnJvciIsIm9uUmVhZHkiLCJyZW5kZXIiLCJfdGhpcyRwcm9wczMiLCJjbGFzc05hbWUiLCJyZWYiLCJkZWZhdWx0UHJvcHMiLCJoYXNPd24iLCJjbGFzc05hbWVzIiwiY2xhc3NlcyIsImFyZyIsImFyZ1R5cGUiLCJpc0FycmF5IiwiaW5uZXIiLCJqb2luIiwiZGVmYXVsdCIsIk1vdGlvbkNvbmZpZ0NvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwidHJhbnNmb3JtUGFnZVBvaW50IiwiaXNTdGF0aWMiLCJyZWR1Y2VkTW90aW9uIiwiTW90aW9uQ29udGV4dCIsImlzQnJvd3NlciIsInVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QiLCJ1c2VMYXlvdXRFZmZlY3QiLCJ1c2VFZmZlY3QiLCJMYXp5Q29udGV4dCIsInN0cmljdCIsImlzUmVmT2JqZWN0IiwiaXNWYXJpYW50TGFiZWwiLCJ2IiwiaXNBbmltYXRpb25Db250cm9scyIsInZhcmlhbnRQcm9wcyIsImlzQ29udHJvbGxpbmdWYXJpYW50cyIsImFuaW1hdGUiLCJzb21lIiwiaXNWYXJpYW50Tm9kZSIsInZhcmlhbnRzIiwidmFyaWFudExhYmVsc0FzRGVwZW5kZW5jeSIsImNyZWF0ZURlZmluaXRpb24iLCJmZWF0dXJlRGVmaW5pdGlvbnMiLCJtZWFzdXJlTGF5b3V0IiwiYW5pbWF0aW9uIiwiZHJhZyIsImZvY3VzIiwiaG92ZXIiLCJ0YXAiLCJwYW4iLCJpblZpZXciLCJ1c2VDb25zdGFudCIsImluaXQiLCJ1c2VSZWYiLCJjdXJyZW50IiwiZ2xvYmFsUHJvamVjdGlvblN0YXRlIiwiaGFzQW5pbWF0ZWRTaW5jZVJlc2l6ZSIsImhhc0V2ZXJVcGRhdGVkIiwiTGF5b3V0R3JvdXBDb250ZXh0IiwiVmlzdWFsRWxlbWVudEhhbmRsZXIiLCJnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSIsInZpc3VhbEVsZW1lbnQiLCJzZXRQcm9wcyIsImNoaWxkcmVuIiwiU3dpdGNoTGF5b3V0R3JvdXBDb250ZXh0IiwibW90aW9uQ29tcG9uZW50U3ltYm9sIiwiU3ltYm9sIiwiZm9yIiwicHJlbG9hZGVkRmVhdHVyZXMiLCJjcmVhdGVWaXN1YWxFbGVtZW50IiwicHJvamVjdGlvbk5vZGVDb25zdHJ1Y3RvciIsInVzZVJlbmRlciIsInVzZVZpc3VhbFN0YXRlIiwiQ29tcG9uZW50IiwiZmVhdHVyZXMiLCJsb2FkRmVhdHVyZXMiLCJGb3J3YXJkUmVmQ29tcG9uZW50IiwiZm9yd2FyZFJlZiIsImV4dGVybmFsUmVmIiwiY29uZmlnQW5kUHJvcHMiLCJ1c2VDb250ZXh0IiwibGF5b3V0SWQiLCJ1c2VMYXlvdXRJZCIsImluaXRpYWwiLCJpbmhlcml0IiwiZ2V0Q3VycmVudFRyZWVWYXJpYW50cyIsInVzZU1lbW8iLCJ1c2VDcmVhdGVNb3Rpb25Db250ZXh0IiwicHJvamVjdGlvbklkIiwidmlzdWFsU3RhdGUiLCJsYXp5Q29udGV4dCIsInByZXNlbmNlQ29udGV4dCIsInJlZHVjZWRNb3Rpb25Db25maWciLCJ2aXN1YWxFbGVtZW50UmVmIiwicmVuZGVyZXIiLCJwcmVzZW5jZUlkIiwiYmxvY2tJbml0aWFsQW5pbWF0aW9uIiwic3luY1JlbmRlciIsImFuaW1hdGlvblN0YXRlIiwiYW5pbWF0ZUNoYW5nZXMiLCJub3RpZnlVbm1vdW50IiwidXNlVmlzdWFsRWxlbWVudCIsImxhenlTdHJpY3RNb2RlIiwiaW5pdGlhbExheW91dEdyb3VwQ29uZmlnIiwiUHJvdmlkZXIiLCJ1c2VDYWxsYmFjayIsIm1vdW50IiwidW5tb3VudCIsInVzZU1vdGlvblJlZiIsImxheW91dEdyb3VwSWQiLCJjcmVhdGVNb3Rpb25Qcm94eSIsImNyZWF0ZUNvbmZpZyIsImN1c3RvbSIsImN1c3RvbU1vdGlvbkNvbXBvbmVudENvbmZpZyIsIlByb3h5IiwiY29tcG9uZW50Q2FjaGUiLCJNYXAiLCJfdGFyZ2V0IiwibG93ZXJjYXNlU1ZHRWxlbWVudHMiLCJpc1NWR0NvbXBvbmVudCIsImluY2x1ZGVzIiwic2NhbGVDb3JyZWN0b3JzIiwidHJhbnNmb3JtUHJvcE9yZGVyIiwidHJhbnNmb3JtUHJvcHMiLCJTZXQiLCJpc0ZvcmNlZE1vdGlvblZhbHVlIiwibGF5b3V0Iiwic3RhcnRzV2l0aCIsImlzTW90aW9uVmFsdWUiLCJnZXRWZWxvY2l0eSIsInRyYW5zbGF0ZUFsaWFzIiwieSIsInoiLCJ0cmFuc2Zvcm1QZXJzcGVjdGl2ZSIsInNvcnRUcmFuc2Zvcm1Qcm9wcyIsImEiLCJiIiwiaXNDU1NWYXJpYWJsZSIsImdldFZhbHVlQXNUeXBlIiwidHJhbnNmb3JtIiwiY2xhbXAiLCJtaW4iLCJtYXgiLCJzYW5pdGl6ZSIsIk51bWJlciIsInRvRml4ZWQiLCJmbG9hdFJlZ2V4IiwiY29sb3JSZWdleCIsInNpbmdsZUNvbG9yUmVnZXgiLCJpc1N0cmluZyIsImNyZWF0ZVVuaXRUeXBlIiwidW5pdCIsImVuZHNXaXRoIiwic3BsaXQiLCJkZWdyZWVzIiwicGVyY2VudCIsInB4IiwidmgiLCJ2dyIsInByb2dyZXNzUGVyY2VudGFnZSIsImFzc2lnbiIsIm51bWJlciIsImFscGhhIiwic2NhbGUiLCJyb3VuZCIsIm51bWJlclZhbHVlVHlwZXMiLCJib3JkZXJXaWR0aCIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyUmlnaHRXaWR0aCIsImJvcmRlckJvdHRvbVdpZHRoIiwiYm9yZGVyTGVmdFdpZHRoIiwiYm9yZGVyUmFkaXVzIiwicmFkaXVzIiwiYm9yZGVyVG9wTGVmdFJhZGl1cyIsImJvcmRlclRvcFJpZ2h0UmFkaXVzIiwiYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMiLCJib3JkZXJCb3R0b21MZWZ0UmFkaXVzIiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJzaXplIiwidG9wIiwicmlnaHQiLCJsZWZ0IiwicGFkZGluZyIsInBhZGRpbmdUb3AiLCJwYWRkaW5nUmlnaHQiLCJwYWRkaW5nTGVmdCIsIm1hcmdpbiIsIm1hcmdpblRvcCIsIm1hcmdpblJpZ2h0IiwibWFyZ2luQm90dG9tIiwibWFyZ2luTGVmdCIsInJvdGF0ZSIsInJvdGF0ZVgiLCJyb3RhdGVZIiwicm90YXRlWiIsInNjYWxlWCIsInNjYWxlWSIsInNjYWxlWiIsInNrZXciLCJza2V3WCIsInNrZXdZIiwiZGlzdGFuY2UiLCJ0cmFuc2xhdGVYIiwidHJhbnNsYXRlWSIsInRyYW5zbGF0ZVoiLCJwZXJzcGVjdGl2ZSIsIm9wYWNpdHkiLCJvcmlnaW5YIiwib3JpZ2luWSIsIm9yaWdpbloiLCJ6SW5kZXgiLCJmaWxsT3BhY2l0eSIsInN0cm9rZU9wYWNpdHkiLCJudW1PY3RhdmVzIiwiYnVpbGRIVE1MU3R5bGVzIiwibGF0ZXN0VmFsdWVzIiwidHJhbnNmb3JtVGVtcGxhdGUiLCJ2YXJzIiwidHJhbnNmb3JtS2V5cyIsInRyYW5zZm9ybU9yaWdpbiIsImhhc1RyYW5zZm9ybSIsImhhc1RyYW5zZm9ybU9yaWdpbiIsInRyYW5zZm9ybUlzTm9uZSIsInZhbHVlVHlwZSIsInZhbHVlQXNUeXBlIiwiZW5hYmxlSGFyZHdhcmVBY2NlbGVyYXRpb24iLCJhbGxvd1RyYW5zZm9ybU5vbmUiLCJ0cmFuc2Zvcm1Jc0RlZmF1bHQiLCJ0cmFuc2Zvcm1TdHJpbmciLCJzb3J0IiwidHJpbSIsImJ1aWxkVHJhbnNmb3JtIiwiY29weVJhd1ZhbHVlc09ubHkiLCJ1c2VIVE1MUHJvcHMiLCJodG1sUHJvcHMiLCJ1c2VJbml0aWFsTW90aW9uVmFsdWVzIiwidHJhbnNmb3JtVmFsdWVzIiwidXNlU3R5bGUiLCJkcmFnTGlzdGVuZXIiLCJkcmFnZ2FibGUiLCJ1c2VyU2VsZWN0IiwiV2Via2l0VXNlclNlbGVjdCIsIldlYmtpdFRvdWNoQ2FsbG91dCIsInRvdWNoQWN0aW9uIiwidmFsaWRNb3Rpb25Qcm9wcyIsImlzVmFsaWRNb3Rpb25Qcm9wIiwic2hvdWxkRm9yd2FyZCIsImlzVmFsaWRQcm9wIiwicmVxdWlyZSIsIl9hIiwiY2FsY09yaWdpbiIsIm9mZnNldCIsImRhc2hLZXlzIiwiYXJyYXkiLCJjYW1lbEtleXMiLCJidWlsZFNWR0F0dHJzIiwiYXR0clgiLCJhdHRyWSIsInBhdGhMZW5ndGgiLCJwYXRoU3BhY2luZyIsInBhdGhPZmZzZXQiLCJsYXRlc3QiLCJhdHRycyIsImRpbWVuc2lvbnMiLCJjYWxjU1ZHVHJhbnNmb3JtT3JpZ2luIiwic3BhY2luZyIsInVzZURhc2hDYXNlIiwiYnVpbGRTVkdQYXRoIiwidXNlU1ZHUHJvcHMiLCJ2aXN1YWxQcm9wcyIsInJhd1N0eWxlcyIsImNyZWF0ZVVzZVJlbmRlciIsImZvcndhcmRNb3Rpb25Qcm9wcyIsImZpbHRlcmVkUHJvcHMiLCJpc0RvbSIsImZpbHRlclByb3BzIiwiZWxlbWVudFByb3BzIiwiY2FtZWxUb0Rhc2giLCJzdHIiLCJyZW5kZXJIVE1MIiwic3R5bGVQcm9wIiwicHJvamVjdGlvbiIsImdldFByb2plY3Rpb25TdHlsZXMiLCJzZXRQcm9wZXJ0eSIsImNhbWVsQ2FzZUF0dHJpYnV0ZXMiLCJyZW5kZXJTVkciLCJyZW5kZXJTdGF0ZSIsIl9zdHlsZVByb3AiLCJzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMiLCJuZXdWYWx1ZXMiLCJyZXNvbHZlVmFyaWFudEZyb21Qcm9wcyIsImN1cnJlbnRWYWx1ZXMiLCJjdXJyZW50VmVsb2NpdHkiLCJpc0tleWZyYW1lc1RhcmdldCIsInJlc29sdmVGaW5hbFZhbHVlSW5LZXlmcmFtZXMiLCJyZXNvbHZlTW90aW9uVmFsdWUiLCJ1bndyYXBwZWRWYWx1ZSIsIm1peCIsInRvVmFsdWUiLCJtYWtlVXNlVmlzdWFsU3RhdGUiLCJtYWtlIiwiY3JlYXRlUmVuZGVyU3RhdGUiLCJvbk1vdW50IiwibWFrZUxhdGVzdFZhbHVlcyIsIm1ha2VTdGF0ZSIsInNjcmFwZU1vdGlvblZhbHVlcyIsInZhbHVlcyIsIm1vdGlvblZhbHVlcyIsImlzQ29udHJvbGxpbmdWYXJpYW50cyQxIiwiaXNWYXJpYW50Tm9kZSQxIiwiaXNJbml0aWFsQW5pbWF0aW9uQmxvY2tlZCIsInZhcmlhbnRUb1NldCIsInJlc29sdmVkIiwidHJhbnNpdGlvbkVuZCIsInRyYW5zaXRpb24iLCJ2YWx1ZVRhcmdldCIsInN2Z01vdGlvbkNvbmZpZyIsImdldEJCb3giLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJodG1sTW90aW9uQ29uZmlnIiwiQW5pbWF0aW9uVHlwZSIsImFkZERvbUV2ZW50IiwicGFzc2l2ZSIsInVzZURvbUV2ZW50IiwiaXNNb3VzZUV2ZW50IiwiUG9pbnRlckV2ZW50IiwicG9pbnRlclR5cGUiLCJNb3VzZUV2ZW50IiwiaXNUb3VjaEV2ZW50IiwidG91Y2hlcyIsImRlZmF1bHRQYWdlUG9pbnQiLCJwYWdlWCIsInBhZ2VZIiwicG9pbnRGcm9tVG91Y2giLCJwb2ludFR5cGUiLCJwb2ludCIsImNoYW5nZWRUb3VjaGVzIiwicG9pbnRGcm9tTW91c2UiLCJleHRyYWN0RXZlbnRJbmZvIiwid3JhcEhhbmRsZXIiLCJzaG91bGRGaWx0ZXJQcmltYXJ5UG9pbnRlciIsImxpc3RlbmVyIiwiZXZlbnRIYW5kbGVyIiwiYnV0dG9uIiwibW91c2VFdmVudE5hbWVzIiwicG9pbnRlcmRvd24iLCJwb2ludGVybW92ZSIsInBvaW50ZXJ1cCIsInBvaW50ZXJjYW5jZWwiLCJwb2ludGVyb3ZlciIsInBvaW50ZXJvdXQiLCJwb2ludGVyZW50ZXIiLCJwb2ludGVybGVhdmUiLCJ0b3VjaEV2ZW50TmFtZXMiLCJnZXRQb2ludGVyRXZlbnROYW1lIiwib25wb2ludGVyZG93biIsIm9udG91Y2hzdGFydCIsIm9ubW91c2Vkb3duIiwiYWRkUG9pbnRlckV2ZW50IiwidXNlUG9pbnRlckV2ZW50IiwiY3JlYXRlTG9jayIsImxvY2siLCJnbG9iYWxIb3Jpem9udGFsTG9jayIsImdsb2JhbFZlcnRpY2FsTG9jayIsImdldEdsb2JhbExvY2siLCJvcGVuSG9yaXpvbnRhbCIsIm9wZW5WZXJ0aWNhbCIsImlzRHJhZ0FjdGl2ZSIsIm9wZW5HZXN0dXJlTG9jayIsImNyZWF0ZUhvdmVyRXZlbnQiLCJpc0FjdGl2ZSIsImluZm8iLCJzZXRBY3RpdmUiLCJIb3ZlciIsImlzTm9kZU9yQ2hpbGQiLCJjaGlsZCIsInVzZVVubW91bnRFZmZlY3QiLCJjb21iaW5lRnVuY3Rpb25zIiwicGlwZSIsInRyYW5zZm9ybWVycyIsImVudiIsInByb2Nlc3MiLCJ3YXJuZWQiLCJvYnNlcnZlckNhbGxiYWNrcyIsIm9ic2VydmVycyIsImZpcmVPYnNlcnZlckNhbGxiYWNrIiwiZmlyZUFsbE9ic2VydmVyQ2FsbGJhY2tzIiwiZW50cmllcyIsInRocmVzaG9sZE5hbWVzIiwiYWxsIiwidXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJzaG91bGRPYnNlcnZlIiwicm9vdCIsInJvb3RNYXJnaW4iLCJhbW91bnQiLCJvbmNlIiwidGhyZXNob2xkIiwicm9vdEludGVyZXNlY3Rpb25PYnNlcnZlciIsImxvb2t1cFJvb3QiLCJyb290T2JzZXJ2ZXJzIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJpbml0SW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJvYnNlcnZlIiwidW5vYnNlcnZlIiwib2JzZXJ2ZUludGVyc2VjdGlvbiIsImdldEluc3RhbmNlIiwiaXNJbnRlcnNlY3RpbmciLCJpc0luVmlldyIsImhhc0VudGVyZWRWaWV3IiwiSW5WaWV3IiwiZ2V0UHJvcHMiLCJvblZpZXdwb3J0RW50ZXIiLCJvblZpZXdwb3J0TGVhdmUiLCJ1c2VNaXNzaW5nSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJmYWxsYmFjayIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1ha2VSZW5kZXJsZXNzQ29tcG9uZW50IiwiaG9vayIsImdlc3R1cmVBbmltYXRpb25zIiwid2hpbGVJblZpZXciLCJ2aWV3cG9ydCIsIm9uVGFwIiwib25UYXBTdGFydCIsIm9uVGFwQ2FuY2VsIiwid2hpbGVUYXAiLCJoYXNQcmVzc0xpc3RlbmVycyIsImlzUHJlc3NpbmciLCJjYW5jZWxQb2ludGVyRW5kTGlzdGVuZXJzIiwiZXZlbnRPcHRpb25zIiwib25Qb2ludGVyRG93biIsInJlbW92ZVBvaW50ZXJFbmRMaXN0ZW5lciIsImNoZWNrUG9pbnRlckVuZCIsIlRhcCIsIm9uUG9pbnRlclVwIiwib25Qb2ludGVyQ2FuY2VsIiwid2hpbGVGb2N1cyIsIkZvY3VzIiwib25Ib3ZlclN0YXJ0Iiwib25Ib3ZlckVuZCIsIndoaWxlSG92ZXIiLCJ1c2VQcmVzZW5jZSIsImlzUHJlc2VudCIsIm9uRXhpdENvbXBsZXRlIiwicmVnaXN0ZXIiLCJ1c2VJZCIsInNoYWxsb3dDb21wYXJlIiwicHJldiIsInByZXZMZW5ndGgiLCJfX3Jlc3QiLCJzIiwidCIsImdldE93blByb3BlcnR5U3ltYm9scyIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiY2FsY0FuZ3VsYXJGcmVxIiwidW5kYW1wZWRGcmVxIiwiZGFtcGluZ1JhdGlvIiwic3FydCIsImR1cmF0aW9uS2V5cyIsInBoeXNpY3NLZXlzIiwiaXNTcHJpbmdUeXBlIiwic3ByaW5nIiwiZnJvbSIsInRvIiwicmVzdFNwZWVkIiwicmVzdERlbHRhIiwiZG9uZSIsInN0aWZmbmVzcyIsImRhbXBpbmciLCJtYXNzIiwidmVsb2NpdHkiLCJkdXJhdGlvbiIsImlzUmVzb2x2ZWRGcm9tRHVyYXRpb24iLCJzcHJpbmdPcHRpb25zIiwiZGVyaXZlZCIsImJvdW5jZSIsImVudmVsb3BlIiwiZGVyaXZhdGl2ZSIsImV4cG9uZW50aWFsRGVjYXkiLCJkZWx0YSIsImV4cCIsImQiLCJwb3ciLCJpbml0aWFsR3Vlc3MiLCJyZXN1bHQiLCJhcHByb3hpbWF0ZVJvb3QiLCJmaW5kU3ByaW5nIiwiZ2V0U3ByaW5nT3B0aW9ucyIsInJlc29sdmVTcHJpbmciLCJ6ZXJvIiwicmVzb2x2ZVZlbG9jaXR5IiwiY3JlYXRlU3ByaW5nIiwiaW5pdGlhbFZlbG9jaXR5IiwiaW5pdGlhbERlbHRhIiwidW5kYW1wZWRBbmd1bGFyRnJlcSIsImFicyIsImFuZ3VsYXJGcmVxIiwic2luIiwiY29zIiwiZGFtcGVkQW5ndWxhckZyZXEiLCJmcmVxRm9yVCIsInNpbmgiLCJjb3NoIiwiaXNCZWxvd1ZlbG9jaXR5VGhyZXNob2xkIiwiaXNCZWxvd0Rpc3BsYWNlbWVudFRocmVzaG9sZCIsImZsaXBUYXJnZXQiLCJuZWVkc0ludGVycG9sYXRpb24iLCJfdCIsInRvRnJvbURpZmZlcmVuY2UiLCJpc0NvbG9yU3RyaW5nIiwidGVzdFByb3AiLCJzcGxpdENvbG9yIiwiYU5hbWUiLCJiTmFtZSIsImNOYW1lIiwiYyIsIm1hdGNoIiwiY2xhbXBSZ2JVbml0IiwicmdiVW5pdCIsInJnYmEiLCJyZWQiLCJncmVlbiIsImJsdWUiLCJhbHBoYSQxIiwiaGV4IiwiciIsInBhcnNlSW50IiwiaHNsYSIsImh1ZSIsInNhdHVyYXRpb24iLCJsaWdodG5lc3MiLCJodWVUb1JnYiIsInEiLCJoc2xhVG9SZ2JhIiwibWl4TGluZWFyQ29sb3IiLCJmcm9tRXhwbyIsInRvRXhwbyIsImNvbG9yVHlwZXMiLCJnZXRDb2xvclR5cGUiLCJmaW5kIiwibm90QW5pbWF0YWJsZSIsIm1peENvbG9yIiwiZnJvbUNvbG9yVHlwZSIsInRvQ29sb3JUeXBlIiwiZnJvbUNvbG9yIiwidG9Db2xvciIsImJsZW5kZWQiLCJjb2xvclRva2VuIiwibnVtYmVyVG9rZW4iLCJhbmFseXNlIiwibnVtQ29sb3JzIiwiY29sb3JzIiwibWFwIiwibnVtYmVycyIsInRva2VuaXNlZCIsImNyZWF0ZVRyYW5zZm9ybWVyIiwibnVtVmFsdWVzIiwib3V0cHV0IiwiY29udmVydE51bWJlcnNUb1plcm8iLCJjb21wbGV4IiwiX2IiLCJfYyIsIl9kIiwiZ2V0QW5pbWF0YWJsZU5vbmUiLCJwYXJzZWQiLCJ0cmFuc2Zvcm1lciIsImlzTnVtIiwiZ2V0TWl4ZXIiLCJtaXhDb21wbGV4IiwibWl4QXJyYXkiLCJibGVuZFZhbHVlIiwiZnJvbVRoaXMiLCJtaXhPYmplY3QiLCJudW1OdW1iZXJzIiwibnVtUkdCIiwibnVtSFNMIiwidGVtcGxhdGUiLCJvcmlnaW5TdGF0cyIsInRhcmdldFN0YXRzIiwibWl4TnVtYmVyIiwiaW50ZXJwb2xhdGUiLCJpbnB1dCIsImlzQ2xhbXAiLCJlYXNlIiwibWl4ZXIiLCJpbnB1dExlbmd0aCIsInJldmVyc2UiLCJtaXhlcnMiLCJjdXN0b21NaXhlciIsIm1peGVyRmFjdG9yeSIsIm51bU1peGVycyIsImVhc2luZ0Z1bmN0aW9uIiwiY3JlYXRlTWl4ZXJzIiwiaW50ZXJwb2xhdG9yIiwiZmFzdEludGVycG9sYXRlIiwibGFzdElucHV0SW5kZXgiLCJtaXhlckluZGV4IiwiZm91bmRNaXhlckluZGV4IiwicHJvZ3Jlc3NJblJhbmdlIiwic2xvd0ludGVycG9sYXRlIiwicmV2ZXJzZUVhc2luZyIsImVhc2luZyIsIm1pcnJvckVhc2luZyIsImNyZWF0ZUJhY2tJbiIsInBvd2VyIiwibGluZWFyIiwiZWFzZUluIiwiZWFzZU91dCIsImVhc2VJbk91dCIsImNpcmNJbiIsImFjb3MiLCJjaXJjT3V0IiwiY2lyY0luT3V0IiwiYmFja0luIiwiYmFja091dCIsImJhY2tJbk91dCIsImFudGljaXBhdGUiLCJiYWNrRWFzaW5nIiwiY3JlYXRlQW50aWNpcGF0ZSIsImJvdW5jZU91dCIsInAyIiwiYm91bmNlSW4iLCJkZWZhdWx0RWFzaW5nIiwia2V5ZnJhbWVzIiwidGltZXMiLCJjb252ZXJ0T2Zmc2V0VG9UaW1lcyIsIl92YWx1ZSIsImRlZmF1bHRPZmZzZXQiLCJjcmVhdGVJbnRlcnBvbGF0b3IiLCJ0eXBlcyIsInRpbWVDb25zdGFudCIsIm1vZGlmeVRhcmdldCIsImFtcGxpdHVkZSIsImlkZWFsIiwiZGVmYXVsdFRpbWVzdGVwIiwiZ2V0Q3VycmVudFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsIkRhdGUiLCJvbk5leHRGcmFtZSIsInVzZURlZmF1bHRFbGFwc2VkIiwicnVuTmV4dEZyYW1lIiwiaXNQcm9jZXNzaW5nIiwidGltZXN0YW1wIiwic3RlcHNPcmRlciIsInN0ZXBzIiwiYWNjIiwidG9SdW4iLCJ0b1J1bk5leHRGcmFtZSIsIm51bVRvUnVuIiwiZmx1c2hOZXh0RnJhbWUiLCJ0b0tlZXBBbGl2ZSIsIldlYWtTZXQiLCJzdGVwIiwia2VlcEFsaXZlIiwiaW1tZWRpYXRlIiwiYWRkVG9DdXJyZW50RnJhbWUiLCJidWZmZXIiLCJjYW5jZWwiLCJmcmFtZURhdGEiLCJjcmVhdGVSZW5kZXJTdGVwIiwic3luYyIsInN0YXJ0TG9vcCIsImNhbmNlbFN5bmMiLCJmbHVzaFN5bmMiLCJwcm9jZXNzU3RlcCIsInN0ZXBJZCIsInByb2Nlc3NGcmFtZSIsImdldEZyYW1lRGF0YSIsImxvb3BFbGFwc2VkIiwiZWxhcHNlZCIsImRlbGF5IiwiZnJhbWVzeW5jIiwidXBkYXRlIiwicGFzc1RpbWVzdGFtcCIsInN0b3AiLCJkcml2ZXIiLCJyZXBlYXQiLCJyZXBlYXRNYXgiLCJyZXBlYXRUeXBlIiwicmVwZWF0RGVsYXkiLCJvblBsYXkiLCJvblN0b3AiLCJvbkNvbXBsZXRlIiwib25SZXBlYXQiLCJvblVwZGF0ZSIsImRyaXZlckNvbnRyb2xzIiwiaW50ZXJwb2xhdGVGcm9tTnVtYmVyIiwicmVwZWF0Q291bnQiLCJjb21wdXRlZER1cmF0aW9uIiwiaXNDb21wbGV0ZSIsImlzRm9yd2FyZFBsYXliYWNrIiwiYW5pbWF0b3IiLCJkZXRlY3RBbmltYXRpb25Gcm9tT3B0aW9ucyIsImhhc1JlcGVhdERlbGF5RWxhcHNlZCIsInJldmVyc2VFbGFwc2VkIiwidmVsb2NpdHlQZXJTZWNvbmQiLCJmcmFtZUR1cmF0aW9uIiwic2Vjb25kc1RvTWlsbGlzZWNvbmRzIiwic2Vjb25kcyIsImExIiwiYTIiLCJjYWxjQmV6aWVyIiwiZ2V0U2xvcGUiLCJrU2FtcGxlU3RlcFNpemUiLCJjdWJpY0JlemllciIsIm1YMSIsIm1ZMSIsIm1YMiIsIm1ZMiIsInNhbXBsZVZhbHVlcyIsIkZsb2F0MzJBcnJheSIsImFYIiwiaW50ZXJ2YWxTdGFydCIsImN1cnJlbnRTYW1wbGUiLCJrU3BsaW5lVGFibGVTaXplIiwiZ3Vlc3NGb3JUIiwiaW5pdGlhbFNsb3BlIiwiYUd1ZXNzVCIsImN1cnJlbnRTbG9wZSIsIm5ld3RvblJhcGhzb25JdGVyYXRlIiwiYUEiLCJhQiIsImN1cnJlbnRYIiwiY3VycmVudFQiLCJiaW5hcnlTdWJkaXZpZGUiLCJnZXRURm9yWCIsImVhc2luZ0xvb2t1cCIsImJvdW5jZUluT3V0IiwiZWFzaW5nRGVmaW5pdGlvblRvRnVuY3Rpb24iLCJ4MSIsInkxIiwieDIiLCJ5MiIsImlzQW5pbWF0YWJsZSIsInVuZGVyRGFtcGVkU3ByaW5nIiwiY3JpdGljYWxseURhbXBlZFNwcmluZyIsImxpbmVhclR3ZWVuIiwiZGVmYXVsdFRyYW5zaXRpb25zIiwiYmFja2dyb3VuZENvbG9yIiwiZ2V0RGVmYXVsdFRyYW5zaXRpb24iLCJ2YWx1ZUtleSIsInRyYW5zaXRpb25GYWN0b3J5IiwibWF4RGVmYXVsdHMiLCJhcHBseURlZmF1bHRGaWx0ZXIiLCJkZWZhdWx0VmFsdWUiLCJmdW5jdGlvblJlZ2V4IiwiZnVuY3Rpb25zIiwiZGVmYXVsdFZhbHVlVHlwZXMiLCJvdXRsaW5lQ29sb3IiLCJmaWxsIiwic3Ryb2tlIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJUb3BDb2xvciIsImJvcmRlclJpZ2h0Q29sb3IiLCJib3JkZXJCb3R0b21Db2xvciIsImJvcmRlckxlZnRDb2xvciIsIldlYmtpdEZpbHRlciIsImdldERlZmF1bHRWYWx1ZVR5cGUiLCJkZWZhdWx0VmFsdWVUeXBlIiwibGVnYWN5UmVwZWF0V2FybmluZyIsImNvbnZlcnRUcmFuc2l0aW9uVG9BbmltYXRpb25PcHRpb25zIiwieW95byIsImZsaXAiLCJpc0Vhc2luZ0FycmF5IiwiZ2V0UG9wbW90aW9uQW5pbWF0aW9uT3B0aW9ucyIsImh5ZHJhdGVLZXlmcmFtZXMiLCJ3aGVuIiwiZGVsYXlDaGlsZHJlbiIsInN0YWdnZXJDaGlsZHJlbiIsInN0YWdnZXJEaXJlY3Rpb24iLCJpc1RyYW5zaXRpb25EZWZpbmVkIiwiaXNaZXJvIiwiZ2V0WmVyb1VuaXQiLCJwb3RlbnRpYWxVbml0VHlwZSIsImdldFZhbHVlVHJhbnNpdGlvbiIsInN0YXJ0QW5pbWF0aW9uIiwiZGVsYXlUaW1lciIsInZhbHVlVHJhbnNpdGlvbiIsImlzVGFyZ2V0QW5pbWF0YWJsZSIsImJvdW5jZVN0aWZmbmVzcyIsImJvdW5jZURhbXBpbmciLCJjdXJyZW50QW5pbWF0aW9uIiwiaXNPdXRPZkJvdW5kcyIsImJvdW5kYXJ5TmVhcmVzdCIsInN0YXJ0U3ByaW5nIiwiYm91bmRhcnkiLCJoZWFkaW5nIiwiY2hlY2tCb3VuZGFyeSIsImluZXJ0aWEiLCJmaW5hbFRhcmdldCIsImdldEFuaW1hdGlvbiIsImdldERlbGF5RnJvbVRyYW5zaXRpb24iLCJjbGVhclRpbWVvdXQiLCJhZGRVbmlxdWVJdGVtIiwicmVtb3ZlSXRlbSIsIlN1YnNjcmlwdGlvbk1hbmFnZXIiLCJzdWJzY3JpcHRpb25zIiwibnVtU3Vic2NyaXB0aW9ucyIsImdldFNpemUiLCJjbGVhciIsIk1vdGlvblZhbHVlIiwidmVyc2lvbiIsInRpbWVEZWx0YSIsImxhc3RVcGRhdGVkIiwidXBkYXRlU3Vic2NyaWJlcnMiLCJ2ZWxvY2l0eVVwZGF0ZVN1YnNjcmliZXJzIiwicmVuZGVyU3Vic2NyaWJlcnMiLCJjYW5UcmFja1ZlbG9jaXR5IiwidXBkYXRlQW5kTm90aWZ5Iiwic2NoZWR1bGVWZWxvY2l0eUNoZWNrIiwidmVsb2NpdHlDaGVjayIsImhhc0FuaW1hdGVkIiwib25DaGFuZ2UiLCJzdWJzY3JpcHRpb24iLCJjbGVhckxpc3RlbmVycyIsIm9uUmVuZGVyUmVxdWVzdCIsImF0dGFjaCIsInBhc3NpdmVFZmZlY3QiLCJnZXRQcmV2aW91cyIsInN0b3BBbmltYXRpb24iLCJjbGVhckFuaW1hdGlvbiIsImlzQW5pbWF0aW5nIiwibW90aW9uVmFsdWUiLCJ0ZXN0VmFsdWVUeXBlIiwiZGltZW5zaW9uVmFsdWVUeXBlcyIsImZpbmREaW1lbnNpb25WYWx1ZVR5cGUiLCJ2YWx1ZVR5cGVzIiwiZmluZFZhbHVlVHlwZSIsInJlc29sdmVWYXJpYW50IiwiZm9yRWFjaFZhbHVlIiwiZ2V0Q3VycmVudCIsInNldE1vdGlvblZhbHVlIiwiaGFzVmFsdWUiLCJnZXRWYWx1ZSIsImFkZFZhbHVlIiwiZ2V0T3JpZ2luRnJvbVRyYW5zaXRpb24iLCJpc1dpbGxDaGFuZ2VNb3Rpb25WYWx1ZSIsImFuaW1hdGVWYXJpYW50IiwidmFyaWFudCIsInRyYW5zaXRpb25PdmVycmlkZSIsImFuaW1hdGVUYXJnZXQiLCJnZXRDaGlsZEFuaW1hdGlvbnMiLCJ2YXJpYW50Q2hpbGRyZW4iLCJmb3J3YXJkRGVsYXkiLCJhbmltYXRpb25zIiwibWF4U3RhZ2dlckR1cmF0aW9uIiwiZ2VuZXJhdGVTdGFnZ2VyRHVyYXRpb24iLCJzb3J0QnlUcmVlT3JkZXIiLCJub3RpZnlBbmltYXRpb25Db21wbGV0ZSIsImFuaW1hdGVDaGlsZHJlbiIsIm1ha2VUYXJnZXRBbmltYXRhYmxlIiwid2lsbENoYW5nZSIsImFuaW1hdGlvblR5cGVTdGF0ZSIsImdldFN0YXRlIiwic2hvdWxkQmxvY2tBbmltYXRpb24iLCJzaG91bGRSZWR1Y2VNb3Rpb24iLCJyZW1vdmUiLCJzZXRUYXJnZXQiLCJzb3J0Tm9kZVBvc2l0aW9uIiwicHJvdGVjdGVkS2V5cyIsIm5lZWRzQW5pbWF0aW5nIiwic2hvdWxkQmxvY2siLCJ2YXJpYW50UHJpb3JpdHlPcmRlciIsIkFuaW1hdGUiLCJEcmFnIiwiRXhpdCIsInJldmVyc2VQcmlvcml0eU9yZGVyIiwibnVtQW5pbWF0aW9uVHlwZXMiLCJjcmVhdGVBbmltYXRpb25TdGF0ZSIsIm5vdGlmeUFuaW1hdGlvblN0YXJ0IiwicmVzb2x2ZWREZWZpbml0aW9uIiwiYW5pbWF0ZVZpc3VhbEVsZW1lbnQiLCJhbmltYXRlTGlzdCIsImNyZWF0ZVR5cGVTdGF0ZSIsImlzSW5pdGlhbFJlbmRlciIsImJ1aWxkUmVzb2x2ZWRUeXBlVmFsdWVzIiwiY2hhbmdlZEFjdGl2ZVR5cGUiLCJnZXRWYXJpYW50Q29udGV4dCIsInJlbW92ZWRLZXlzIiwiZW5jb3VudGVyZWRLZXlzIiwicmVtb3ZlZFZhcmlhbnRJbmRleCIsIkluZmluaXR5IiwidHlwZVN0YXRlIiwicHJvcElzVmFyaWFudCIsImFjdGl2ZURlbHRhIiwiaXNJbmhlcml0ZWQiLCJtYW51YWxseUFuaW1hdGVPbk1vdW50IiwicHJldlByb3AiLCJ2YXJpYW50RGlkQ2hhbmdlIiwic2hvdWxkQW5pbWF0ZVR5cGUiLCJkZWZpbml0aW9uTGlzdCIsInJlc29sdmVkVmFsdWVzIiwicHJldlJlc29sdmVkVmFsdWVzIiwiYWxsS2V5cyIsIm1hcmtUb0FuaW1hdGUiLCJmYWxsYmFja0FuaW1hdGlvbiIsImZhbGxiYWNrVGFyZ2V0IiwiZ2V0QmFzZVRhcmdldCIsInNob3VsZEFuaW1hdGUiLCJzZXRBbmltYXRlRnVuY3Rpb24iLCJtYWtlQW5pbWF0b3IiLCJzdWJzY3JpYmUiLCJzYWZlVG9SZW1vdmUiLCJpc1BvaW50IiwiaXNQb2ludDNEIiwiZGlzdGFuY2UxRCIsInhEZWx0YSIsInlEZWx0YSIsInpEZWx0YSIsIlBhblNlc3Npb24iLCJoYW5kbGVycyIsInN0YXJ0RXZlbnQiLCJsYXN0TW92ZUV2ZW50IiwibGFzdE1vdmVFdmVudEluZm8iLCJ1cGRhdGVQb2ludCIsImdldFBhbkluZm8iLCJoaXN0b3J5IiwiaXNQYW5TdGFydGVkIiwiaXNEaXN0YW5jZVBhc3RUaHJlc2hvbGQiLCJvblN0YXJ0Iiwib25Nb3ZlIiwiaGFuZGxlUG9pbnRlck1vdmUiLCJ0cmFuc2Zvcm1Qb2ludCIsImJ1dHRvbnMiLCJoYW5kbGVQb2ludGVyVXAiLCJlbmQiLCJvbkVuZCIsIm9uU2Vzc2lvbkVuZCIsInBhbkluZm8iLCJpbml0aWFsSW5mbyIsIm9uU2Vzc2lvblN0YXJ0IiwicmVtb3ZlTGlzdGVuZXJzIiwidXBkYXRlSGFuZGxlcnMiLCJzdWJ0cmFjdFBvaW50IiwibGFzdERldmljZVBvaW50Iiwic3RhcnREZXZpY2VQb2ludCIsInRpbWVzdGFtcGVkUG9pbnQiLCJsYXN0UG9pbnQiLCJjYWxjTGVuZ3RoIiwiYXhpcyIsImlzTmVhciIsIm1heERpc3RhbmNlIiwiY2FsY0F4aXNEZWx0YSIsIm9yaWdpblBvaW50IiwidHJhbnNsYXRlIiwiY2FsY0JveERlbHRhIiwiY2FsY1JlbGF0aXZlQXhpcyIsInJlbGF0aXZlIiwiY2FsY1JlbGF0aXZlQXhpc1Bvc2l0aW9uIiwiY2FsY1JlbGF0aXZlUG9zaXRpb24iLCJjYWxjUmVsYXRpdmVBeGlzQ29uc3RyYWludHMiLCJjYWxjVmlld3BvcnRBeGlzQ29uc3RyYWludHMiLCJsYXlvdXRBeGlzIiwiY29uc3RyYWludHNBeGlzIiwiZGVmYXVsdEVsYXN0aWMiLCJyZXNvbHZlQXhpc0VsYXN0aWMiLCJkcmFnRWxhc3RpYyIsIm1pbkxhYmVsIiwibWF4TGFiZWwiLCJyZXNvbHZlUG9pbnRFbGFzdGljIiwibGFiZWwiLCJlYWNoQXhpcyIsImNvbnZlcnRCb3VuZGluZ0JveFRvQm94IiwiaXNJZGVudGl0eVNjYWxlIiwiaGFzU2NhbGUiLCJoYXNUcmFuc2xhdGUiLCJzY2FsZVBvaW50IiwiYXBwbHlQb2ludERlbHRhIiwiYm94U2NhbGUiLCJhcHBseUF4aXNEZWx0YSIsImFwcGx5Qm94RGVsdGEiLCJib3giLCJ0cmFuc2xhdGVBeGlzIiwidHJhbnNmb3JtQXhpcyIsInRyYW5zZm9ybXMiLCJzY2FsZUtleSIsIm9yaWdpbktleSIsImF4aXNPcmlnaW4iLCJ4S2V5cyIsInlLZXlzIiwidHJhbnNmb3JtQm94IiwibWVhc3VyZVZpZXdwb3J0Qm94IiwidG9wTGVmdCIsImJvdHRvbVJpZ2h0IiwidHJhbnNmb3JtQm94UG9pbnRzIiwiZWxlbWVudERyYWdDb250cm9scyIsIlZpc3VhbEVsZW1lbnREcmFnQ29udHJvbHMiLCJvcGVuR2xvYmFsTG9jayIsImlzRHJhZ2dpbmciLCJjdXJyZW50RGlyZWN0aW9uIiwiY29uc3RyYWludHMiLCJoYXNNdXRhdGVkQ29uc3RyYWludHMiLCJlbGFzdGljIiwib3JpZ2luRXZlbnQiLCJzbmFwVG9DdXJzb3IiLCJwYW5TZXNzaW9uIiwiZHJhZ1Byb3BhZ2F0aW9uIiwib25EcmFnU3RhcnQiLCJyZXNvbHZlQ29uc3RyYWludHMiLCJpc0FuaW1hdGlvbkJsb2NrZWQiLCJnZXRBeGlzTW90aW9uVmFsdWUiLCJtZWFzdXJlZEF4aXMiLCJhY3R1YWwiLCJkcmFnRGlyZWN0aW9uTG9jayIsIm9uRGlyZWN0aW9uTG9jayIsIm9uRHJhZyIsImxvY2tUaHJlc2hvbGQiLCJkaXJlY3Rpb24iLCJnZXRDdXJyZW50RGlyZWN0aW9uIiwidXBkYXRlQXhpcyIsImdldFRyYW5zZm9ybVBhZ2VQb2ludCIsIm9uRHJhZ0VuZCIsIl9wb2ludCIsInNob3VsZERyYWciLCJheGlzVmFsdWUiLCJhcHBseUNvbnN0cmFpbnRzIiwiZHJhZ0NvbnN0cmFpbnRzIiwicHJldkNvbnN0cmFpbnRzIiwicmVzb2x2ZVJlZkNvbnN0cmFpbnRzIiwibGF5b3V0Qm94IiwiY2FsY1JlbGF0aXZlQ29uc3RyYWludHMiLCJyZXNvbHZlRHJhZ0VsYXN0aWMiLCJyZWxhdGl2ZUNvbnN0cmFpbnRzIiwicmViYXNlQXhpc0NvbnN0cmFpbnRzIiwib25NZWFzdXJlRHJhZ0NvbnN0cmFpbnRzIiwiY29uc3RyYWludHNFbGVtZW50IiwiY29uc3RyYWludHNCb3giLCJyb290UHJvamVjdGlvbk5vZGUiLCJ2aWV3cG9ydEJveCIsInNjcm9sbCIsIm1lYXN1cmVQYWdlQm94IiwibWVhc3VyZWRDb25zdHJhaW50cyIsImNhbGNWaWV3cG9ydENvbnN0cmFpbnRzIiwidXNlckNvbnN0cmFpbnRzIiwiY29udmVydEJveFRvQm91bmRpbmdCb3giLCJkcmFnTW9tZW50dW0iLCJkcmFnVHJhbnNpdGlvbiIsImRyYWdTbmFwVG9PcmlnaW4iLCJvbkRyYWdUcmFuc2l0aW9uRW5kIiwibW9tZW50dW1BbmltYXRpb25zIiwic3RhcnRBeGlzVmFsdWVBbmltYXRpb24iLCJkcmFnS2V5Iiwic2NhbGVQb3NpdGlvbldpdGhpbkNvbnN0cmFpbnRzIiwiYm94UHJvZ3Jlc3MiLCJzb3VyY2VMZW5ndGgiLCJ0YXJnZXRMZW5ndGgiLCJ1cGRhdGVTY3JvbGwiLCJ1cGRhdGVMYXlvdXQiLCJhZGRMaXN0ZW5lcnMiLCJzdG9wUG9pbnRlckxpc3RlbmVyIiwibWVhc3VyZURyYWdDb25zdHJhaW50cyIsInN0b3BNZWFzdXJlTGF5b3V0TGlzdGVuZXIiLCJzdG9wUmVzaXplTGlzdGVuZXIiLCJzdG9wTGF5b3V0VXBkYXRlTGlzdGVuZXIiLCJoYXNMYXlvdXRDaGFuZ2VkIiwib25QYW4iLCJvblBhblN0YXJ0Iiwib25QYW5FbmQiLCJvblBhblNlc3Npb25TdGFydCIsImhhc1BhbkV2ZW50cyIsImRyYWdDb250cm9scyIsImdyb3VwRHJhZ0NvbnRyb2xzIiwicHJlZmVyc1JlZHVjZWRNb3Rpb24iLCJoYXNSZWR1Y2VkTW90aW9uTGlzdGVuZXIiLCJuYW1lcyIsImZlYXR1cmVOYW1lcyIsIm51bUZlYXR1cmVzIiwidHJlZVR5cGUiLCJidWlsZCIsInJlbmRlckluc3RhbmNlIiwicmVhZFZhbHVlRnJvbUluc3RhbmNlIiwicmVtb3ZlVmFsdWVGcm9tUmVuZGVyU3RhdGUiLCJpc01vdW50ZWQiLCJsaWZlY3ljbGVzIiwibWFuYWdlcnMiLCJwcm9wU3Vic2NyaXB0aW9ucyIsImNsZWFyQWxsTGlzdGVuZXJzIiwibWFuYWdlciIsInVwZGF0ZVByb3BMaXN0ZW5lcnMiLCJwcm9wTGlzdGVuZXIiLCJjcmVhdGVMaWZlY3ljbGVzIiwidmFsdWVTdWJzY3JpcHRpb25zIiwicHJldk1vdGlvblZhbHVlcyIsImJhc2VUYXJnZXQiLCJyZW1vdmVGcm9tVmFyaWFudFRyZWUiLCJ0cmlnZ2VyQnVpbGQiLCJub3RpZnlVcGRhdGUiLCJiaW5kVG9Nb3Rpb25WYWx1ZSIsInJlbW92ZU9uQ2hhbmdlIiwibGF0ZXN0VmFsdWUiLCJyZW1vdmVPblJlbmRlclJlcXVlc3QiLCJzY2hlZHVsZVJlbmRlciIsImluaXRpYWxNb3Rpb25WYWx1ZXMiLCJkZXB0aCIsImlzVmlzaWJsZSIsIm5ld0luc3RhbmNlIiwiYWRkVmFyaWFudENoaWxkIiwibWF0Y2hNZWRpYSIsIm1vdGlvbk1lZGlhUXVlcnkiLCJzZXRSZWR1Y2VkTW90aW9uUHJlZmVyZW5jZXMiLCJtYXRjaGVzIiwiYWRkTGlzdGVuZXIiLCJpbml0UHJlZmVyc1JlZHVjZWRNb3Rpb24iLCJyZW5kZXJlZFByb3BzIiwiaXNTdHJpY3QiLCJQcm9qZWN0aW9uTm9kZUNvbnN0cnVjdG9yIiwiZ2V0TGF0ZXN0VmFsdWVzIiwibGF5b3V0U2Nyb2xsIiwic2V0T3B0aW9ucyIsImFsd2F5c01lYXN1cmVMYXlvdXQiLCJhbmltYXRpb25UeXBlIiwiaW5pdGlhbFByb21vdGlvbkNvbmZpZyIsImNsb3Nlc3RWYXJpYW50Tm9kZSIsImdldENsb3Nlc3RWYXJpYW50Tm9kZSIsIm90aGVyIiwiZ2V0TGF5b3V0SWQiLCJnZXRTdGF0aWNWYWx1ZSIsInNldFN0YXRpY1ZhbHVlIiwic2V0VmlzaWJpbGl0eSIsInZpc2liaWxpdHkiLCJjYW5NdXRhdGUiLCJyZW1vdmVWYWx1ZSIsInJlYWRWYWx1ZSIsInNldEJhc2VUYXJnZXQiLCJuZXdQcm9wcyIsIm5leHRWYWx1ZSIsInByZXZWYWx1ZSIsImV4aXN0aW5nVmFsdWUiLCJ1cGRhdGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMiLCJnZXRWYXJpYW50Iiwic3RhcnRBdFBhcmVudCIsIm51bVZhcmlhbnRQcm9wcyIsImNzc1ZhcmlhYmxlUmVnZXgiLCJnZXRWYXJpYWJsZVZhbHVlIiwidG9rZW4iLCJleGVjIiwicGFyc2VDU1NWYXJpYWJsZSIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwicG9zaXRpb25hbEtleXMiLCJpc1Bvc2l0aW9uYWxLZXkiLCJzZXRBbmRSZXNldFZlbG9jaXR5IiwiaXNOdW1PclB4VHlwZSIsIkJvdW5kaW5nQm94RGltZW5zaW9uIiwiZ2V0UG9zRnJvbU1hdHJpeCIsIm1hdHJpeCIsInBvcyIsImdldFRyYW5zbGF0ZUZyb21NYXRyaXgiLCJwb3MyIiwicG9zMyIsIl9iYm94IiwibWF0cml4M2QiLCJub25UcmFuc2xhdGlvbmFsVHJhbnNmb3JtS2V5cyIsInBvc2l0aW9uYWxWYWx1ZXMiLCJ1bml0Q29udmVyc2lvbiIsImhhc1Bvc2l0aW9uYWxLZXkiLCJ0YXJnZXRQb3NpdGlvbmFsS2V5cyIsInJlbW92ZWRUcmFuc2Zvcm1WYWx1ZXMiLCJoYXNBdHRlbXB0ZWRUb1JlbW92ZVRyYW5zZm9ybVZhbHVlcyIsImNoYW5nZWRWYWx1ZVR5cGVLZXlzIiwiZnJvbVR5cGUiLCJ0b1R5cGUiLCJudW1LZXlmcmFtZXMiLCJmcm9tSW5kZXgiLCJyZW1vdmVkVHJhbnNmb3JtcyIsInJlbW92ZU5vblRyYW5zbGF0aW9uYWxUcmFuc2Zvcm0iLCJzY3JvbGxZIiwicGFnZVlPZmZzZXQiLCJjb252ZXJ0ZWRUYXJnZXQiLCJjaGFuZ2VkS2V5cyIsIm9yaWdpbkJib3giLCJlbGVtZW50Q29tcHV0ZWRTdHlsZSIsImRpc3BsYXkiLCJ0YXJnZXRCYm94IiwiY29udmVydENoYW5nZWRWYWx1ZVR5cGVzIiwic2Nyb2xsVG8iLCJjaGVja0FuZENvbnZlcnRDaGFuZ2VkVmFsdWVUeXBlcyIsImh0bWxDb25maWciLCJkb21FbGVtZW50IiwiZGVmYXVsdFR5cGUiLCJjb21wdXRlZFN0eWxlIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJyZXNldFRyYW5zZm9ybSIsInJlc3RvcmVUcmFuc2Zvcm0iLCJtdXRhYmxlU3RhdGUiLCJ0cmFuc2l0aW9uT3JpZ2luIiwiZ2V0T3JpZ2luIiwibmV3VmFsdWVLZXlzIiwibnVtTmV3VmFsdWVzIiwidGFyZ2V0VmFsdWUiLCJjaGVja1RhcmdldEZvck5ld1ZhbHVlcyIsIkVsZW1lbnQiLCJyZXNvbHZlQ1NTVmFyaWFibGVzIiwicGFyc2VEb21WYXJpYW50IiwiaHRtbFZpc3VhbEVsZW1lbnQiLCJzdmdWaXN1YWxFbGVtZW50IiwiX2VsZW1lbnQiLCJwaXhlbHNUb1BlcmNlbnQiLCJwaXhlbHMiLCJjb3JyZWN0Qm9yZGVyUmFkaXVzIiwiY29ycmVjdCIsIm5vZGUiLCJ2YXJUb2tlbiIsImNvcnJlY3RCb3hTaGFkb3ciLCJ0cmVlU2NhbGUiLCJwcm9qZWN0aW9uRGVsdGEiLCJvcmlnaW5hbCIsImNvbnRhaW5zQ1NTVmFyaWFibGVzIiwiY3NzVmFyaWFibGVzIiwic2hhZG93IiwieFNjYWxlIiwieVNjYWxlIiwiYXZlcmFnZVNjYWxlIiwiY3NzVmFyaWFibGUiLCJNZWFzdXJlTGF5b3V0V2l0aENvbnRleHQiLCJsYXlvdXRHcm91cCIsInN3aXRjaExheW91dEdyb3VwIiwiY29ycmVjdG9ycyIsImRlZmF1bHRTY2FsZUNvcnJlY3RvcnMiLCJncm91cCIsImRpZFVwZGF0ZSIsImxheW91dERlcGVuZGVuY3kiLCJ3aWxsVXBkYXRlIiwicHJvbW90ZSIsInJlbGVnYXRlIiwiZ2V0U3RhY2siLCJtZW1iZXJzIiwiaXNMZWFkIiwicHJvbW90ZUNvbnRleHQiLCJzY2hlZHVsZUNoZWNrQWZ0ZXJVbm1vdW50IiwiZGVyZWdpc3RlciIsImFwcGx5VG8iLCJib3hTaGFkb3ciLCJsYXlvdXRGZWF0dXJlcyIsImJvcmRlcnMiLCJudW1Cb3JkZXJzIiwiYXNOdW1iZXIiLCJpc1B4IiwiZ2V0UmFkaXVzIiwicmFkaXVzTmFtZSIsImVhc2VDcm9zc2ZhZGVJbiIsImNvbXByZXNzIiwiZWFzZUNyb3NzZmFkZU91dCIsImNvcHlBeGlzSW50byIsIm9yaWdpbkF4aXMiLCJjb3B5Qm94SW50byIsIm9yaWdpbkJveCIsInJlbW92ZVBvaW50RGVsdGEiLCJyZW1vdmVBeGlzVHJhbnNmb3JtcyIsInNvdXJjZUF4aXMiLCJyZW1vdmVBeGlzRGVsdGEiLCJyZW1vdmVCb3hUcmFuc2Zvcm1zIiwic291cmNlQm94IiwiaXNBeGlzRGVsdGFaZXJvIiwiaXNEZWx0YVplcm8iLCJib3hFcXVhbHMiLCJhc3BlY3RSYXRpbyIsIk5vZGVTdGFjayIsInByZXZMZWFkIiwibGVhZCIsImluZGV4T2ZOb2RlIiwiZmluZEluZGV4IiwibWVtYmVyIiwicHJlc2VydmVGb2xsb3dPcGFjaXR5Iiwic2hvdyIsInJlc3VtZUZyb20iLCJwcmVzZXJ2ZU9wYWNpdHkiLCJzbmFwc2hvdCIsImFuaW1hdGlvblZhbHVlcyIsImlzU2hhcmVkIiwiaXNVcGRhdGluZyIsImlzTGF5b3V0RGlydHkiLCJjcm9zc2ZhZGUiLCJoaWRlIiwiZXhpdEFuaW1hdGlvbkNvbXBsZXRlIiwiX2UiLCJyZXN1bWluZ0Zyb20iLCJyZW1vdmVMZWFkU25hcHNob3QiLCJidWlsZFByb2plY3Rpb25UcmFuc2Zvcm0iLCJsYXRlc3RUcmFuc2Zvcm0iLCJjb21wYXJlQnlEZXB0aCIsIkZsYXRUcmVlIiwiaXNEaXJ0eSIsInRyYW5zZm9ybUF4ZXMiLCJjcmVhdGVQcm9qZWN0aW9uTm9kZSIsImF0dGFjaFJlc2l6ZUxpc3RlbmVyIiwiZGVmYXVsdFBhcmVudCIsIm1lYXN1cmVTY3JvbGwiLCJjaGVja0lzU2Nyb2xsUm9vdCIsImlzVHJlZUFuaW1hdGluZyIsInVwZGF0ZU1hbnVhbGx5QmxvY2tlZCIsInVwZGF0ZUJsb2NrZWRCeVJlc2l6ZSIsImlzU1ZHIiwibmVlZHNSZXNldCIsInNob3VsZFJlc2V0VHJhbnNmb3JtIiwiZXZlbnRIYW5kbGVycyIsInBvdGVudGlhbE5vZGVzIiwiY2hlY2tVcGRhdGVGYWlsZWQiLCJjbGVhckFsbFNuYXBzaG90cyIsInVwZGF0ZVByb2plY3Rpb24iLCJub2RlcyIsInJlc29sdmVUYXJnZXREZWx0YSIsImNhbGNQcm9qZWN0aW9uIiwiaGFzUHJvamVjdGVkIiwiYW5pbWF0aW9uUHJvZ3Jlc3MiLCJzaGFyZWROb2RlcyIsInBhdGgiLCJyZWdpc3RlclBvdGVudGlhbE5vZGUiLCJub3RpZnlMaXN0ZW5lcnMiLCJzdWJzY3JpcHRpb25NYW5hZ2VyIiwiaGFzTGlzdGVuZXJzIiwiU1ZHRWxlbWVudCIsInRhZ05hbWUiLCJ1bmJsb2NrVGltZW91dCIsInJlc2l6ZVVuYmxvY2tVcGRhdGUiLCJmaW5pc2hBbmltYXRpb24iLCJyZWdpc3RlclNoYXJlZE5vZGUiLCJoYXNSZWxhdGl2ZVRhcmdldENoYW5nZWQiLCJuZXdMYXlvdXQiLCJpc1RyZWVBbmltYXRpb25CbG9ja2VkIiwicmVsYXRpdmVUYXJnZXQiLCJsYXlvdXRUcmFuc2l0aW9uIiwiZGVmYXVsdExheW91dFRyYW5zaXRpb24iLCJvbkxheW91dEFuaW1hdGlvblN0YXJ0Iiwib25MYXlvdXRBbmltYXRpb25Db21wbGV0ZSIsInRhcmdldENoYW5nZWQiLCJ0YXJnZXRMYXlvdXQiLCJoYXNPbmx5UmVsYXRpdmVUYXJnZXRDaGFuZ2VkIiwic2V0QW5pbWF0aW9uT3JpZ2luIiwiYW5pbWF0aW9uT3B0aW9ucyIsInByZVJlbmRlciIsImJsb2NrVXBkYXRlIiwidW5ibG9ja1VwZGF0ZSIsImlzVXBkYXRlQmxvY2tlZCIsInN0YXJ0VXBkYXRlIiwicmVzZXRSb3RhdGlvbiIsInNob3VsZE5vdGlmeUxpc3RlbmVycyIsInByZXZUcmFuc2Zvcm1UZW1wbGF0ZVZhbHVlIiwidXBkYXRlU25hcHNob3QiLCJjbGVhck1lYXN1cmVtZW50cyIsIm1vdW50Tm9kZUVhcmx5IiwicmVzZXRUcmFuc2Zvcm1TdHlsZSIsIm5vdGlmeUxheW91dFVwZGF0ZSIsImNsZWFyU25hcHNob3QiLCJyZW1vdmVMZWFkU25hcHNob3RzIiwic2NoZWR1bGVVcGRhdGVQcm9qZWN0aW9uIiwibWVhc3VyZWQiLCJtZWFzdXJlIiwicmVtb3ZlVHJhbnNmb3JtIiwicmVtb3ZlRWxlbWVudFNjcm9sbCIsInJvdW5kQm94IiwicHJldkxheW91dCIsImxheW91dENvcnJlY3RlZCIsIm5vdGlmeUxheW91dE1lYXN1cmUiLCJpc1Njcm9sbFJvb3QiLCJpc1Jlc2V0UmVxdWVzdGVkIiwiaGFzUHJvamVjdGlvbiIsInRyYW5zZm9ybVRlbXBsYXRlVmFsdWUiLCJ0cmFuc2Zvcm1UZW1wbGF0ZUhhc0NoYW5nZWQiLCJib3hXaXRob3V0U2Nyb2xsIiwicm9vdFNjcm9sbCIsImFwcGx5VHJhbnNmb3JtIiwidHJhbnNmb3JtT25seSIsIndpdGhUcmFuc2Zvcm1zIiwiYm94V2l0aG91dFRyYW5zZm9ybSIsInNldFRhcmdldERlbHRhIiwidGFyZ2V0RGVsdGEiLCJyZWxhdGl2ZVBhcmVudCIsImdldENsb3Nlc3RQcm9qZWN0aW5nUGFyZW50IiwicmVsYXRpdmVUYXJnZXRPcmlnaW4iLCJ0YXJnZXRXaXRoVHJhbnNmb3JtcyIsImF0dGVtcHRUb1Jlc29sdmVSZWxhdGl2ZVRhcmdldCIsInBlbmRpbmdBbmltYXRpb24iLCJnZXRMZWFkIiwidHJlZVBhdGgiLCJpc1NoYXJlZFRyYW5zaXRpb24iLCJ0cmVlTGVuZ3RoIiwiYXBwbHlUcmVlRGVsdGFzIiwicHJvamVjdGlvbkRlbHRhV2l0aFRyYW5zZm9ybSIsInByZXZUcmVlU2NhbGVYIiwicHJldlRyZWVTY2FsZVkiLCJwcmV2UHJvamVjdGlvblRyYW5zZm9ybSIsInByb2plY3Rpb25UcmFuc2Zvcm0iLCJub3RpZnlBbGwiLCJzbmFwc2hvdExhdGVzdFZhbHVlcyIsIm1peGVkVmFsdWVzIiwicmVsYXRpdmVMYXlvdXQiLCJpc1NoYXJlZExheW91dEFuaW1hdGlvbiIsImlzT25seU1lbWJlciIsInNob3VsZENyb3NzZmFkZU9wYWNpdHkiLCJoYXNPcGFjaXR5Q3Jvc3NmYWRlIiwibWl4VGFyZ2V0RGVsdGEiLCJtaXhBeGlzRGVsdGEiLCJtaXhBeGlzIiwiZm9sbG93Iiwib3BhY2l0eUV4aXQiLCJib3JkZXJMYWJlbCIsImZvbGxvd1JhZGl1cyIsImxlYWRSYWRpdXMiLCJtaXhWYWx1ZXMiLCJjb21wbGV0ZUFuaW1hdGlvbiIsImFwcGx5VHJhbnNmb3Jtc1RvVGFyZ2V0Iiwic2hvdWxkQW5pbWF0ZVBvc2l0aW9uT25seSIsInhMZW5ndGgiLCJ5TGVuZ3RoIiwic2hvdWxkUHJlc2VydmVGb2xsb3dPcGFjaXR5Iiwic3RhY2siLCJnZXRQcmV2TGVhZCIsImhhc1JvdGF0ZSIsInJlc2V0VmFsdWVzIiwic3R5bGVzIiwicG9pbnRlckV2ZW50cyIsImVtcHR5U3R5bGVzIiwidmFsdWVzVG9SZW5kZXIiLCJjb3JyZWN0ZWQiLCJudW0iLCJyZXNldFRyZWUiLCJtZWFzdXJlZExheW91dCIsImF4aXNTbmFwc2hvdCIsImxheW91dERlbHRhIiwidmlzdWFsRGVsdGEiLCJwYXJlbnRTbmFwc2hvdCIsInBhcmVudExheW91dCIsInJlbGF0aXZlU25hcHNob3QiLCJvbkJlZm9yZUxheW91dE1lYXN1cmUiLCJub3RpZnlCZWZvcmVMYXlvdXRNZWFzdXJlIiwic2VhcmNoTm9kZSIsInJvdW5kQXhpcyIsImlzQ2xvc2VUbyIsIkRvY3VtZW50UHJvamVjdGlvbk5vZGUiLCJzY3JvbGxMZWZ0IiwiYm9keSIsInNjcm9sbFRvcCIsImRvY3VtZW50Tm9kZSIsInBvc2l0aW9uIiwiZmVhdHVyZUJ1bmRsZSIsIm1vdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=